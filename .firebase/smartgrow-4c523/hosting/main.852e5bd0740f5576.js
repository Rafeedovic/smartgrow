"use strict";(self.webpackChunksmartgrow=self.webpackChunksmartgrow||[]).push([[792],{4783:(Ue,ce,T)=>{T.d(ce,{BM:()=>he,Gt:()=>Y,bf:()=>Ce,e7:()=>ie,iB:()=>N,rx:()=>me,uP:()=>re});var f=T(7705),H=T(7935),S=T(1161);Ue=T.hmd(Ue);const G=["ngOnDestroy"],Y=(ye,We,Be,q={})=>new Proxy(ye,{get:(ae,K)=>Be.runOutsideAngular(()=>{var ue;if(ye[K])return!(null===(ue=q?.spy)||void 0===ue)&&ue.get&&q.spy.get(K,ye[K]),ye[K];if(G.indexOf(K)>-1)return()=>{};const ve=We.toPromise().then(Ae=>{const J=Ae&&Ae[K];return"function"==typeof J?J.bind(Ae):J&&J.then?J.then(Ke=>Be.run(()=>Ke)):Be.run(()=>J)});return new Proxy(()=>{},{get:(Ae,J)=>ve[J],apply:(Ae,J,Ke)=>ve.then(lt=>{var Dn;const qn=lt&&lt(...Ke);return!(null===(Dn=q?.spy)||void 0===Dn)&&Dn.apply&&q.spy.apply(K,Ke,qn),qn})})})}),ie=(ye,We)=>{We.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(q=>{Object.defineProperty(ye.prototype,q,Object.getOwnPropertyDescriptor(Be.prototype||Be,q))})})};class oe{constructor(We){return We}}const me=new f.nKC("angularfire2.app.options"),re=new f.nKC("angularfire2.app.name");function N(ye,We,Be){const ae="object"==typeof Be&&Be||{};ae.name=ae.name||"string"==typeof Be&&Be||"[DEFAULT]";const ue=H.A.apps.filter(ve=>ve&&ve.name===ae.name)[0]||We.runOutsideAngular(()=>H.A.initializeApp(ye,ae));try{JSON.stringify(ye)!==JSON.stringify(ue.options)&&k("error",`${ue.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(ue)}const k=(ye,...We)=>{(0,f.naY)()&&typeof console<"u"&&console[ye](...We)},j={provide:oe,useFactory:N,deps:[me,f.SKi,[new f.Xx1,re]]};let Ce=(()=>{class ye{constructor(Be){H.A.registerVersion("angularfire",S.xv.full,"core"),H.A.registerVersion("angularfire",S.xv.full,"app-compat"),H.A.registerVersion("angular",f.xvI.full,Be.toString())}static initializeApp(Be,q){return{ngModule:ye,providers:[{provide:me,useValue:Be},{provide:re,useValue:q}]}}}return ye.\u0275fac=function(Be){return new(Be||ye)(f.KVO(f.Agw))},ye.\u0275mod=f.$C({type:ye}),ye.\u0275inj=f.G2t({providers:[j]}),ye})();function he(ye,We,Be,q,ae){const[,K,ue]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===ye)||[];if(K)return function Te(ye,We){try{return ye.toString()===We.toString()}catch{return ye===We}}(ae,ue)||(be("error",`${We} was already initialized on the ${Be} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),be("warn",{is:ae,was:ue})),K;{const ve=q();return globalThis.\u0275AngularfireInstanceCache.push([ye,ve,ae]),ve}}const ge=!!Ue.hot,be=(ye,...We)=>{(0,f.naY)()&&typeof console<"u"&&console[ye](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Ue,ce,T)=>{T.d(ce,{xv:()=>Tr,U0:()=>Fc,u0:()=>Ds,CA:()=>Sr,lR:()=>Va});var f=T(7705),H=T(2214),S=T(467),G=T(7852),Y=T(1076),ie=T(1362),oe=T(8041);const me=(_,y)=>y.some(I=>_ instanceof I);let re,N;const Ce=new WeakMap,he=new WeakMap,Te=new WeakMap,ge=new WeakMap,be=new WeakMap;let Be={get(_,y,I){if(_ instanceof IDBTransaction){if("done"===y)return he.get(_);if("objectStoreNames"===y)return _.objectStoreNames||Te.get(_);if("store"===y)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return ue(_[y])},set:(_,y,I)=>(_[y]=I,!0),has:(_,y)=>_ instanceof IDBTransaction&&("done"===y||"store"===y)||y in _};function K(_){return"function"==typeof _?function ae(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...y){return _.apply(ve(this),y),ue(Ce.get(this))}:function(...y){return ue(_.apply(ve(this),y))}:function(y,...I){const A=_.call(ve(this),y,...I);return Te.set(A,y.sort?y.sort():[y]),ue(A)}}(_):(_ instanceof IDBTransaction&&function We(_){if(he.has(_))return;const y=new Promise((I,A)=>{const F=()=>{_.removeEventListener("complete",B),_.removeEventListener("error",te),_.removeEventListener("abort",te)},B=()=>{I(),F()},te=()=>{A(_.error||new DOMException("AbortError","AbortError")),F()};_.addEventListener("complete",B),_.addEventListener("error",te),_.addEventListener("abort",te)});he.set(_,y)}(_),me(_,function k(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,Be):_)}function ue(_){if(_ instanceof IDBRequest)return function ye(_){const y=new Promise((I,A)=>{const F=()=>{_.removeEventListener("success",B),_.removeEventListener("error",te)},B=()=>{I(ue(_.result)),F()},te=()=>{A(_.error),F()};_.addEventListener("success",B),_.addEventListener("error",te)});return y.then(I=>{I instanceof IDBCursor&&Ce.set(I,_)}).catch(()=>{}),be.set(y,_),y}(_);if(ge.has(_))return ge.get(_);const y=K(_);return y!==_&&(ge.set(_,y),be.set(y,_)),y}const ve=_=>be.get(_),Ke=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],Dn=new Map;function qn(_,y){if(!(_ instanceof IDBDatabase)||y in _||"string"!=typeof y)return;if(Dn.get(y))return Dn.get(y);const I=y.replace(/FromIndex$/,""),A=y!==I,F=lt.includes(I);if(!(I in(A?IDBIndex:IDBObjectStore).prototype)||!F&&!Ke.includes(I))return;const B=function(){var te=(0,S.A)(function*(Se,...De){const Le=this.transaction(Se,F?"readwrite":"readonly");let tt=Le.store;return A&&(tt=tt.index(De.shift())),(yield Promise.all([tt[I](...De),F&&Le.done]))[0]});return function(De){return te.apply(this,arguments)}}();return Dn.set(y,B),B}!function q(_){Be=_(Be)}(_=>({..._,get:(y,I,A)=>qn(y,I)||_.get(y,I,A),has:(y,I)=>!!qn(y,I)||_.has(y,I)}));const ai="@firebase/installations",en="0.6.4",is=1e4,li=`w:${en}`,Ni="FIS_v2",ui="https://firebaseinstallations.googleapis.com/v1",X=36e5,de=new Y.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ee(_){return _ instanceof Y.g&&_.code.includes("request-failed")}function Ve({projectId:_}){return`${ui}/projects/${_}/installations`}function st(_){return{token:_.token,requestStatus:2,expiresIn:Ht(_.expiresIn),creationTime:Date.now()}}function Nt(_,y){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,S.A)(function*(_,y){const A=(yield y.json()).error;return de.create("request-failed",{requestName:_,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})})).apply(this,arguments)}function xt({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function jn(_){return Je.apply(this,arguments)}function Je(){return(Je=(0,S.A)(function*(_){const y=yield _();return y.status>=500&&y.status<600?_():y})).apply(this,arguments)}function Ht(_){return Number(_.replace("s","000"))}function qt(){return(qt=(0,S.A)(function*({appConfig:_,heartbeatServiceProvider:y},{fid:I}){const A=Ve(_),F=xt(_),B=y.getImmediate({optional:!0});if(B){const Le=yield B.getHeartbeatsHeader();Le&&F.append("x-firebase-client",Le)}const Se={method:"POST",headers:F,body:JSON.stringify({fid:I,authVersion:Ni,appId:_.appId,sdkVersion:li})},De=yield jn(()=>fetch(A,Se));if(De.ok){const Le=yield De.json();return{fid:Le.fid||I,registrationStatus:2,refreshToken:Le.refreshToken,authToken:st(Le.authToken)}}throw yield Nt("Create Installation",De)})).apply(this,arguments)}function pr(_){return new Promise(y=>{setTimeout(y,_)})}const Eo=/^[cdef][\w-]{21}$/,$e="";function ut(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const I=function Xe(_){return function Oi(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return Eo.test(I)?I:$e}catch{return $e}}function Ot(_){return`${_.appName}!${_.appId}`}const jt=new Map;function Yn(_,y){const I=Ot(_);Us(I,y),function Fe(_,y){const I=function ot(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=_=>{Us(_.data.key,_.data.fid)}),Qn}();I&&I.postMessage({key:_,fid:y}),function ci(){0===jt.size&&Qn&&(Qn.close(),Qn=null)}()}(I,y)}function Us(_,y){const I=jt.get(_);if(I)for(const A of I)A(y)}let Qn=null;const Gr="firebase-installations-database",Bs=1,Hn="firebase-installations-store";let Pi=null;function Or(){return Pi||(Pi=function Ae(_,y,{blocked:I,upgrade:A,blocking:F,terminated:B}={}){const te=indexedDB.open(_,y),Se=ue(te);return A&&te.addEventListener("upgradeneeded",De=>{A(ue(te.result),De.oldVersion,De.newVersion,ue(te.transaction))}),I&&te.addEventListener("blocked",()=>I()),Se.then(De=>{B&&De.addEventListener("close",()=>B()),F&&De.addEventListener("versionchange",()=>F())}).catch(()=>{}),Se}(Gr,Bs,{upgrade:(_,y)=>{0===y&&_.createObjectStore(Hn)}})),Pi}function gn(_,y){return mn.apply(this,arguments)}function mn(){return(mn=(0,S.A)(function*(_,y){const I=Ot(_),F=(yield Or()).transaction(Hn,"readwrite"),B=F.objectStore(Hn),te=yield B.get(I);return yield B.put(y,I),yield F.done,(!te||te.fid!==y.fid)&&Yn(_,y.fid),y})).apply(this,arguments)}function di(_){return $t.apply(this,arguments)}function $t(){return($t=(0,S.A)(function*(_){const y=Ot(_),A=(yield Or()).transaction(Hn,"readwrite");yield A.objectStore(Hn).delete(y),yield A.done})).apply(this,arguments)}function Pr(_,y){return $n.apply(this,arguments)}function $n(){return($n=(0,S.A)(function*(_,y){const I=Ot(_),F=(yield Or()).transaction(Hn,"readwrite"),B=F.objectStore(Hn),te=yield B.get(I),Se=y(te);return void 0===Se?yield B.delete(I):yield B.put(Se,I),yield F.done,Se&&(!te||te.fid!==Se.fid)&&Yn(_,Se.fid),Se})).apply(this,arguments)}function P(_){return O.apply(this,arguments)}function O(){return O=(0,S.A)(function*(_){let y;const I=yield Pr(_.appConfig,A=>{const F=function V(_){return tn(_||{fid:ut(),registrationStatus:0})}(A),B=function le(_,y){if(0===y.registrationStatus){if(!navigator.onLine)return{installationEntry:y,registrationPromise:Promise.reject(de.create("app-offline"))};const I={fid:y.fid,registrationStatus:1,registrationTime:Date.now()},A=function Q(_,y){return Pe.apply(this,arguments)}(_,I);return{installationEntry:I,registrationPromise:A}}return 1===y.registrationStatus?{installationEntry:y,registrationPromise:Ge(_)}:{installationEntry:y}}(_,F);return y=B.registrationPromise,B.installationEntry});return I.fid===$e?{installationEntry:yield y}:{installationEntry:I,registrationPromise:y}}),O.apply(this,arguments)}function Pe(){return Pe=(0,S.A)(function*(_,y){try{const I=yield function pn(_,y){return qt.apply(this,arguments)}(_,y);return gn(_.appConfig,I)}catch(I){throw ee(I)&&409===I.customData.serverCode?yield di(_.appConfig):yield gn(_.appConfig,{fid:y.fid,registrationStatus:0}),I}}),Pe.apply(this,arguments)}function Ge(_){return mt.apply(this,arguments)}function mt(){return(mt=(0,S.A)(function*(_){let y=yield Ct(_.appConfig);for(;1===y.registrationStatus;)yield pr(100),y=yield Ct(_.appConfig);if(0===y.registrationStatus){const{installationEntry:I,registrationPromise:A}=yield P(_);return A||I}return y})).apply(this,arguments)}function Ct(_){return Pr(_,y=>{if(!y)throw de.create("installation-not-found");return tn(y)})}function tn(_){return function et(_){return 1===_.registrationStatus&&_.registrationTime+is<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function bn(){return(bn=(0,S.A)(function*({appConfig:_,heartbeatServiceProvider:y},I){const A=function Xn(_,{fid:y}){return`${Ve(_)}/${y}/authTokens:generate`}(_,I),F=function wt(_,{refreshToken:y}){const I=xt(_);return I.append("Authorization",function on(_){return`${Ni} ${_}`}(y)),I}(_,I),B=y.getImmediate({optional:!0});if(B){const Le=yield B.getHeartbeatsHeader();Le&&F.append("x-firebase-client",Le)}const Se={method:"POST",headers:F,body:JSON.stringify({installation:{sdkVersion:li,appId:_.appId}})},De=yield jn(()=>fetch(A,Se));if(De.ok)return st(yield De.json());throw yield Nt("Generate Auth Token",De)})).apply(this,arguments)}function fi(_){return Co.apply(this,arguments)}function Co(){return Co=(0,S.A)(function*(_,y=!1){let I;const A=yield Pr(_.appConfig,B=>{if(!Re(B))throw de.create("not-registered");const te=B.authToken;if(!y&&function vt(_){return 2===_.requestStatus&&!function nn(_){const y=Date.now();return y<_.creationTime||_.creationTime+_.expiresIn<y+X}(_)}(te))return B;if(1===te.requestStatus)return I=function se(_,y){return $.apply(this,arguments)}(_,y),B;{if(!navigator.onLine)throw de.create("app-offline");const Se=function Yt(_){const y={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:y})}(B);return I=function ke(_,y){return je.apply(this,arguments)}(_,Se),Se}});return I?yield I:A.authToken}),Co.apply(this,arguments)}function $(){return($=(0,S.A)(function*(_,y){let I=yield _e(_.appConfig);for(;1===I.authToken.requestStatus;)yield pr(100),I=yield _e(_.appConfig);const A=I.authToken;return 0===A.requestStatus?fi(_,y):A})).apply(this,arguments)}function _e(_){return Pr(_,y=>{if(!Re(y))throw de.create("not-registered");return function zr(_){return 1===_.requestStatus&&_.requestTime+is<Date.now()}(y.authToken)?Object.assign(Object.assign({},y),{authToken:{requestStatus:0}}):y})}function je(){return je=(0,S.A)(function*(_,y){try{const I=yield function ht(_,y){return bn.apply(this,arguments)}(_,y),A=Object.assign(Object.assign({},y),{authToken:I});return yield gn(_.appConfig,A),I}catch(I){if(!ee(I)||401!==I.customData.serverCode&&404!==I.customData.serverCode){const A=Object.assign(Object.assign({},y),{authToken:{requestStatus:0}});yield gn(_.appConfig,A)}else yield di(_.appConfig);throw I}}),je.apply(this,arguments)}function Re(_){return void 0!==_&&2===_.registrationStatus}function hi(){return(hi=(0,S.A)(function*(_){const y=_,{installationEntry:I,registrationPromise:A}=yield P(y);return A?A.catch(console.error):fi(y).catch(console.error),I.fid})).apply(this,arguments)}function ua(){return ua=(0,S.A)(function*(_,y=!1){const I=_;return yield function ca(_){return Cr.apply(this,arguments)}(I),(yield fi(I,y)).token}),ua.apply(this,arguments)}function Cr(){return(Cr=(0,S.A)(function*(_){const{registrationPromise:y}=yield P(_);y&&(yield y)})).apply(this,arguments)}function On(_){return de.create("missing-app-config-values",{valueName:_})}const lc="installations",Ah=_=>{const y=_.getProvider("app").getImmediate(),I=function fa(_){if(!_||!_.options)throw On("App Configuration");if(!_.name)throw On("App Name");const y=["projectId","apiKey","appId"];for(const I of y)if(!_.options[I])throw On(I);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(y);return{app:y,appConfig:I,heartbeatServiceProvider:(0,G._getProvider)(y,"heartbeat"),_delete:()=>Promise.resolve()}},os=_=>{const y=_.getProvider("app").getImmediate(),I=(0,G._getProvider)(y,lc).getImmediate();return{getId:()=>function Zn(_){return hi.apply(this,arguments)}(I),getToken:F=>function ml(_){return ua.apply(this,arguments)}(I,F)}};(function qd(){(0,G._registerComponent)(new ie.uA(lc,Ah,"PUBLIC")),(0,G._registerComponent)(new ie.uA("installations-internal",os,"PRIVATE"))})(),(0,G.registerVersion)(ai,en),(0,G.registerVersion)(ai,en,"esm2017");const ha="@firebase/remote-config",An=new Y.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(y,I,A,F){this.client=y,this.storage=I,this.storageCache=A,this.logger=F}isCachedDataFresh(y,I){if(!I)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const A=Date.now()-I,F=A<=y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${A}. Cache max age millis (minimumFetchIntervalMillis setting): ${y}. Is cache hit: ${F}.`),F}fetch(y){var I=this;return(0,S.A)(function*(){const[A,F]=yield Promise.all([I.storage.getLastSuccessfulFetchTimestampMillis(),I.storage.getLastSuccessfulFetchResponse()]);if(F&&I.isCachedDataFresh(y.cacheMaxAgeMillis,A))return F;y.eTag=F&&F.eTag;const B=yield I.client.fetch(y),te=[I.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===B.status&&te.push(I.storage.setLastSuccessfulFetchResponse(B)),yield Promise.all(te),B})()}}function rt(_=navigator){return _.languages&&_.languages[0]||_.language}class Mt{constructor(y,I,A,F,B,te){this.firebaseInstallations=y,this.sdkVersion=I,this.namespace=A,this.projectId=F,this.apiKey=B,this.appId=te}fetch(y){var I=this;return(0,S.A)(function*(){const[A,F]=yield Promise.all([I.firebaseInstallations.getId(),I.firebaseInstallations.getToken()]),te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${I.projectId}/namespaces/${I.namespace}:fetch?key=${I.apiKey}`,Se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":y.eTag||"*"},De={sdk_version:I.sdkVersion,app_instance_id:A,app_instance_id_token:F,app_id:I.appId,language_code:rt()},Le={method:"POST",headers:Se,body:JSON.stringify(De)},tt=fetch(te,Le),Qe=new Promise((ar,lr)=>{y.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",lr(Ua)})});let zn;try{yield Promise.race([tt,Qe]),zn=yield tt}catch(ar){let lr="fetch-client-network";throw"AbortError"===ar?.name&&(lr="fetch-timeout"),An.create(lr,{originalErrorMessage:ar?.message})}let Lt=zn.status;const Ii=zn.headers.get("ETag")||void 0;let hu,Pt;if(200===zn.status){let ar;try{ar=yield zn.json()}catch(lr){throw An.create("fetch-client-parse",{originalErrorMessage:lr?.message})}hu=ar.entries,Pt=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Pt?Lt=500:"NO_CHANGE"===Pt?Lt=304:("NO_TEMPLATE"===Pt||"EMPTY_CONFIG"===Pt)&&(hu={}),304!==Lt&&200!==Lt)throw An.create("fetch-status",{httpStatus:Lt});return{status:Lt,eTag:Ii,config:hu}})()}}class Wn{constructor(y,I){this.client=y,this.storage=I}fetch(y){var I=this;return(0,S.A)(function*(){const A=(yield I.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return I.attemptFetch(y,A)})()}attemptFetch(y,{throttleEndTimeMillis:I,backoffCount:A}){var F=this;return(0,S.A)(function*(){yield function gr(_,y){return new Promise((I,A)=>{const F=Math.max(y-Date.now(),0),B=setTimeout(I,F);_.addEventListener(()=>{clearTimeout(B),A(An.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(y.signal,I);try{const B=yield F.client.fetch(y);return yield F.storage.deleteThrottleMetadata(),B}catch(B){if(!function Hs(_){if(!(_ instanceof Y.g&&_.customData))return!1;const y=Number(_.customData.httpStatus);return 429===y||500===y||503===y||504===y}(B))throw B;const te={throttleEndTimeMillis:Date.now()+(0,Y.p9)(A),backoffCount:A+1};return yield F.storage.setThrottleMetadata(te),F.attemptFetch(y,te)}})()}}class Fi{constructor(y,I,A,F,B){this.app=y,this._client=I,this._storageCache=A,this._storage=F,this._logger=B,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xr(_,y){const I=_.target.error||void 0;return An.create(y,{originalErrorMessage:I&&I?.message})}const He="app_namespace_store";class an{constructor(y,I,A,F=function pi(){return new Promise((_,y)=>{try{const I=indexedDB.open("firebase_remote_config",1);I.onerror=A=>{y(xr(A,"storage-open"))},I.onsuccess=A=>{_(A.target.result)},I.onupgradeneeded=A=>{0===A.oldVersion&&A.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(I){y(An.create("storage-open",{originalErrorMessage:I?.message}))}})}()){this.appId=y,this.appName=I,this.namespace=A,this.openDbPromise=F}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(y){return this.set("last_fetch_status",y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(y){return this.set("last_successful_fetch_timestamp_millis",y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(y){return this.set("last_successful_fetch_response",y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(y){return this.set("active_config",y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(y){return this.set("active_config_etag",y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(y){return this.set("throttle_metadata",y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(y){var I=this;return(0,S.A)(function*(){const A=yield I.openDbPromise;return new Promise((F,B)=>{const Se=A.transaction([He],"readonly").objectStore(He),De=I.createCompositeKey(y);try{const Le=Se.get(De);Le.onerror=tt=>{B(xr(tt,"storage-get"))},Le.onsuccess=tt=>{const Qe=tt.target.result;F(Qe?Qe.value:void 0)}}catch(Le){B(An.create("storage-get",{originalErrorMessage:Le?.message}))}})})()}set(y,I){var A=this;return(0,S.A)(function*(){const F=yield A.openDbPromise;return new Promise((B,te)=>{const De=F.transaction([He],"readwrite").objectStore(He),Le=A.createCompositeKey(y);try{const tt=De.put({compositeKey:Le,value:I});tt.onerror=Qe=>{te(xr(Qe,"storage-set"))},tt.onsuccess=()=>{B()}}catch(tt){te(An.create("storage-set",{originalErrorMessage:tt?.message}))}})})()}delete(y){var I=this;return(0,S.A)(function*(){const A=yield I.openDbPromise;return new Promise((F,B)=>{const Se=A.transaction([He],"readwrite").objectStore(He),De=I.createCompositeKey(y);try{const Le=Se.delete(De);Le.onerror=tt=>{B(xr(tt,"storage-delete"))},Le.onsuccess=()=>{F()}}catch(Le){B(An.create("storage-delete",{originalErrorMessage:Le?.message}))}})})()}createCompositeKey(y){return[this.appId,this.appName,this.namespace,y].join()}}class $s{constructor(y){this.storage=y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var y=this;return(0,S.A)(function*(){const I=y.storage.getLastFetchStatus(),A=y.storage.getLastSuccessfulFetchTimestampMillis(),F=y.storage.getActiveConfig(),B=yield I;B&&(y.lastFetchStatus=B);const te=yield A;te&&(y.lastSuccessfulFetchTimestampMillis=te);const Se=yield F;Se&&(y.activeConfig=Se)})()}setLastFetchStatus(y){return this.lastFetchStatus=y,this.storage.setLastFetchStatus(y)}setLastSuccessfulFetchTimestampMillis(y){return this.lastSuccessfulFetchTimestampMillis=y,this.storage.setLastSuccessfulFetchTimestampMillis(y)}setActiveConfig(y){return this.activeConfig=y,this.storage.setActiveConfig(y)}}function cc(){return kr.apply(this,arguments)}function kr(){return(kr=(0,S.A)(function*(){if(!(0,Y.zW)())return!1;try{return yield(0,Y.eX)()}catch{return!1}})).apply(this,arguments)}!function er(){(0,G._registerComponent)(new ie.uA("remote-config",function _(y,{instanceIdentifier:I}){const A=y.getProvider("app").getImmediate(),F=y.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,Y.zW)())throw An.create("indexed-db-unavailable");const{projectId:B,apiKey:te,appId:Se}=A.options;if(!B)throw An.create("registration-project-id");if(!te)throw An.create("registration-api-key");if(!Se)throw An.create("registration-app-id");const De=new an(Se,A.name,I=I||"firebase"),Le=new $s(De),tt=new oe.Vy(ha);tt.logLevel=oe.$b.ERROR;const Qe=new Mt(F,G.SDK_VERSION,I,B,te,Se),zn=new Wn(Qe,De),Lt=new we(zn,De,Le,tt),Ii=new Fi(A,Lt,Le,De,tt);return function Tn(_){const y=(0,Y.Ku)(_);y._initializePromise||(y._initializePromise=y._storageCache.loadFromStorage().then(()=>{y._isInitializationComplete=!0}))}(Ii),Ii},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(ha,"0.4.4"),(0,G.registerVersion)(ha,"0.4.4","esm2017")}();const gi=(_,y)=>y.some(I=>_ instanceof I);let Li,Kr;const Do=new WeakMap,qr=new WeakMap,mr=new WeakMap,Pn=new WeakMap,mi=new WeakMap;let ya={get(_,y,I){if(_ instanceof IDBTransaction){if("done"===y)return qr.get(_);if("objectStoreNames"===y)return _.objectStoreNames||mr.get(_);if("store"===y)return I.objectStoreNames[1]?void 0:I.objectStore(I.objectStoreNames[0])}return kn(_[y])},set:(_,y,I)=>(_[y]=I,!0),has:(_,y)=>_ instanceof IDBTransaction&&("done"===y||"store"===y)||y in _};function Sl(_){return"function"==typeof _?function xn(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tl(){return Kr||(Kr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...y){return _.apply(ls(this),y),kn(Do.get(this))}:function(...y){return kn(_.apply(ls(this),y))}:function(y,...I){const A=_.call(ls(this),y,...I);return mr.set(A,y.sort?y.sort():[y]),kn(A)}}(_):(_ instanceof IDBTransaction&&function vn(_){if(qr.has(_))return;const y=new Promise((I,A)=>{const F=()=>{_.removeEventListener("complete",B),_.removeEventListener("error",te),_.removeEventListener("abort",te)},B=()=>{I(),F()},te=()=>{A(_.error||new DOMException("AbortError","AbortError")),F()};_.addEventListener("complete",B),_.addEventListener("error",te),_.addEventListener("abort",te)});qr.set(_,y)}(_),gi(_,function pt(){return Li||(Li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,ya):_)}function kn(_){if(_ instanceof IDBRequest)return function wo(_){const y=new Promise((I,A)=>{const F=()=>{_.removeEventListener("success",B),_.removeEventListener("error",te)},B=()=>{I(kn(_.result)),F()},te=()=>{A(_.error),F()};_.addEventListener("success",B),_.addEventListener("error",te)});return y.then(I=>{I instanceof IDBCursor&&Do.set(I,_)}).catch(()=>{}),mi.set(y,_),y}(_);if(Pn.has(_))return Pn.get(_);const y=Sl(_);return y!==_&&(Pn.set(_,y),mi.set(y,_)),y}const ls=_=>mi.get(_);function nr(_,y,{blocked:I,upgrade:A,blocking:F,terminated:B}={}){const te=indexedDB.open(_,y),Se=kn(te);return A&&te.addEventListener("upgradeneeded",De=>{A(kn(te.result),De.oldVersion,De.newVersion,kn(te.transaction))}),I&&te.addEventListener("blocked",()=>I()),Se.then(De=>{B&&De.addEventListener("close",()=>B()),F&&De.addEventListener("versionchange",()=>F())}).catch(()=>{}),Se}function Vi(_,{blocked:y}={}){const I=indexedDB.deleteDatabase(_);return y&&I.addEventListener("blocked",()=>y()),kn(I).then(()=>{})}const Ml=["get","getKey","getAll","getAllKeys","count"],Qd=["put","add","delete","clear"],Rl=new Map;function Nl(_,y){if(!(_ instanceof IDBDatabase)||y in _||"string"!=typeof y)return;if(Rl.get(y))return Rl.get(y);const I=y.replace(/FromIndex$/,""),A=y!==I,F=Qd.includes(I);if(!(I in(A?IDBIndex:IDBObjectStore).prototype)||!F&&!Ml.includes(I))return;const B=function(){var te=(0,S.A)(function*(Se,...De){const Le=this.transaction(Se,F?"readwrite":"readonly");let tt=Le.store;return A&&(tt=tt.index(De.shift())),(yield Promise.all([tt[I](...De),F&&Le.done]))[0]});return function(De){return te.apply(this,arguments)}}();return Rl.set(y,B),B}!function Gn(_){ya=_(ya)}(_=>({..._,get:(y,I,A)=>Nl(y,I)||_.get(y,I,A),has:(y,I)=>!!Nl(y,I)||_.has(y,I)}));const Ol="/firebase-messaging-sw.js",Pl="/firebase-cloud-messaging-push-scope",dc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Th="https://fcmregistrations.googleapis.com/v1",Vt="google.c.a.c_id",Sh="google.c.a.c_l",Xd="google.c.a.ts";var fc=function(_){return _.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked",_}(fc||{});function _i(_){const y=new Uint8Array(_);return btoa(String.fromCharCode(...y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xl(_){const I=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(I),F=new Uint8Array(A.length);for(let B=0;B<A.length;++B)F[B]=A.charCodeAt(B);return F}const Ea="fcm_token_details_db",kl=5,us="fcm_token_object_Store";function bo(){return bo=(0,S.A)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(B=>B.name).includes(Ea))return null;let y=null;return(yield nr(Ea,kl,{upgrade:(A=(0,S.A)(function*(F,B,te,Se){var De;if(B<2||!F.objectStoreNames.contains(us))return;const Le=Se.objectStore(us),tt=yield Le.index("fcmSenderId").get(_);if(yield Le.clear(),tt)if(2===B){const Qe=tt;if(!Qe.auth||!Qe.p256dh||!Qe.endpoint)return;y={token:Qe.fcmToken,createTime:null!==(De=Qe.createTime)&&void 0!==De?De:Date.now(),subscriptionOptions:{auth:Qe.auth,p256dh:Qe.p256dh,endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:"string"==typeof Qe.vapidKey?Qe.vapidKey:_i(Qe.vapidKey)}}}else if(3===B){const Qe=tt;y={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:_i(Qe.auth),p256dh:_i(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:_i(Qe.vapidKey)}}}else if(4===B){const Qe=tt;y={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:_i(Qe.auth),p256dh:_i(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:_i(Qe.vapidKey)}}}}),function(B,te,Se,De){return A.apply(this,arguments)})})).close(),yield Vi(Ea),yield Vi("fcm_vapid_details_db"),yield Vi("undefined"),function Mh(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:y}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof y.auth&&y.auth.length>0&&"string"==typeof y.p256dh&&y.p256dh.length>0&&"string"==typeof y.endpoint&&y.endpoint.length>0&&"string"==typeof y.swScope&&y.swScope.length>0&&"string"==typeof y.vapidKey&&y.vapidKey.length>0}(y)?y:null;var A}),bo.apply(this,arguments)}const vi="firebase-messaging-database",Yr=1,br="firebase-messaging-store";let hc=null;function rn(){return hc||(hc=nr(vi,Yr,{upgrade:(_,y)=>{0===y&&_.createObjectStore(br)}})),hc}function Ws(_){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,S.A)(function*(_){const y=Gs(_),A=yield(yield rn()).transaction(br).objectStore(br).get(y);if(A)return A;{const F=yield function Wg(_){return bo.apply(this,arguments)}(_.appConfig.senderId);if(F)return yield Fl(_,F),F}}),Sn.apply(this,arguments)}function Fl(_,y){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,S.A)(function*(_,y){const I=Gs(_),F=(yield rn()).transaction(br,"readwrite");return yield F.objectStore(br).put(y,I),yield F.done,y})).apply(this,arguments)}function To(){return(To=(0,S.A)(function*(_){const y=Gs(_),A=(yield rn()).transaction(br,"readwrite");yield A.objectStore(br).delete(y),yield A.done})).apply(this,arguments)}function Gs({appConfig:_}){return _.appId}const yn=new Y.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ca(_,y){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,S.A)(function*(_,y){const I=yield Ia(_),A=Rh(y),F={method:"POST",headers:I,body:JSON.stringify(A)};let B;try{B=yield(yield fetch(yi(_.appConfig),F)).json()}catch(te){throw yn.create("token-subscribe-failed",{errorInfo:te?.toString()})}if(B.error)throw yn.create("token-subscribe-failed",{errorInfo:B.error.message});if(!B.token)throw yn.create("token-subscribe-no-token");return B.token})).apply(this,arguments)}function Ul(){return(Ul=(0,S.A)(function*(_,y){const I=yield Ia(_),A=Rh(y.subscriptionOptions),F={method:"PATCH",headers:I,body:JSON.stringify(A)};let B;try{B=yield(yield fetch(`${yi(_.appConfig)}/${y.token}`,F)).json()}catch(te){throw yn.create("token-update-failed",{errorInfo:te?.toString()})}if(B.error)throw yn.create("token-update-failed",{errorInfo:B.error.message});if(!B.token)throw yn.create("token-update-no-token");return B.token})).apply(this,arguments)}function zs(_,y){return cs.apply(this,arguments)}function cs(){return(cs=(0,S.A)(function*(_,y){const A={method:"DELETE",headers:yield Ia(_)};try{const B=yield(yield fetch(`${yi(_.appConfig)}/${y}`,A)).json();if(B.error)throw yn.create("token-unsubscribe-failed",{errorInfo:B.error.message})}catch(F){throw yn.create("token-unsubscribe-failed",{errorInfo:F?.toString()})}})).apply(this,arguments)}function yi({projectId:_}){return`${Th}/projects/${_}/registrations`}function Ia(_){return Da.apply(this,arguments)}function Da(){return(Da=(0,S.A)(function*({appConfig:_,installations:y}){const I=yield y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${I}`})})).apply(this,arguments)}function Rh({p256dh:_,auth:y,endpoint:I,vapidKey:A}){const F={web:{endpoint:I,auth:y,p256dh:_}};return A!==dc&&(F.web.applicationPubKey=A),F}const ef=6048e5;function wa(){return wa=(0,S.A)(function*(_){const y=yield function Aa(_,y){return gc.apply(this,arguments)}(_.swRegistration,_.vapidKey),I={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:y.endpoint,auth:_i(y.getKey("auth")),p256dh:_i(y.getKey("p256dh"))},A=yield Ws(_.firebaseDependencies);if(A){if(function mc(_,y){return y.vapidKey===_.vapidKey&&y.endpoint===_.endpoint&&y.auth===_.auth&&y.p256dh===_.p256dh}(A.subscriptionOptions,I))return Date.now()>=A.createTime+ef?function jl(_,y){return ba.apply(this,arguments)}(_,{token:A.token,createTime:Date.now(),subscriptionOptions:I}):A.token;try{yield zs(_.firebaseDependencies,A.token)}catch(F){console.warn(F)}return Hl(_.firebaseDependencies,I)}return Hl(_.firebaseDependencies,I)}),wa.apply(this,arguments)}function Bl(){return Bl=(0,S.A)(function*(_){const y=yield Ws(_.firebaseDependencies);y&&(yield zs(_.firebaseDependencies,y.token),yield function pc(_){return To.apply(this,arguments)}(_.firebaseDependencies));const I=yield _.swRegistration.pushManager.getSubscription();return!I||I.unsubscribe()}),Bl.apply(this,arguments)}function ba(){return ba=(0,S.A)(function*(_,y){try{const I=yield function Vl(_,y){return Ul.apply(this,arguments)}(_.firebaseDependencies,y),A=Object.assign(Object.assign({},y),{token:I,createTime:Date.now()});return yield Fl(_.firebaseDependencies,A),I}catch(I){throw yield function Oh(_){return Bl.apply(this,arguments)}(_),I}}),ba.apply(this,arguments)}function Hl(_,y){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,S.A)(function*(_,y){const A={token:yield Ca(_,y),createTime:Date.now(),subscriptionOptions:y};return yield Fl(_,A),A.token})).apply(this,arguments)}function gc(){return(gc=(0,S.A)(function*(_,y){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xl(y)})})).apply(this,arguments)}function So(_){const y={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function Mo(_,y){if(!y.notification)return;_.notification={};const I=y.notification.title;I&&(_.notification.title=I);const A=y.notification.body;A&&(_.notification.body=A);const F=y.notification.image;F&&(_.notification.image=F);const B=y.notification.icon;B&&(_.notification.icon=B)}(y,_),function tf(_,y){y.data&&(_.data=y.data)}(y,_),function $l(_,y){var I,A,F,B,te;if(!(y.fcmOptions||null!==(I=y.notification)&&void 0!==I&&I.click_action))return;_.fcmOptions={};const Se=null!==(F=null===(A=y.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==F?F:null===(B=y.notification)||void 0===B?void 0:B.click_action;Se&&(_.fcmOptions.link=Se);const De=null===(te=y.fcmOptions)||void 0===te?void 0:te.analytics_label;De&&(_.fcmOptions.analyticsLabel=De)}(y,_),y}function _c(_,y){const I=[];for(let A=0;A<_.length;A++)I.push(_.charAt(A)),A<y.length&&I.push(y.charAt(A));return I.join("")}function Ta(_){return yn.create("missing-app-config-values",{valueName:_})}_c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xh{constructor(y,I,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const F=function vc(_){if(!_||!_.options)throw Ta("App Configuration Object");if(!_.name)throw Ta("App Name");const y=["projectId","apiKey","appId","messagingSenderId"],{options:I}=_;for(const A of y)if(!I[A])throw Ta(A);return{appName:_.name,projectId:I.projectId,apiKey:I.apiKey,appId:I.appId,senderId:I.messagingSenderId}}(y);this.firebaseDependencies={app:y,appConfig:F,installations:I,analyticsProvider:A}}_delete(){return Promise.resolve()}}function qs(){return(qs=(0,S.A)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(Ol,{scope:Pl}),_.swRegistration.update().catch(()=>{})}catch(y){throw yn.create("failed-service-worker-registration",{browserErrorMessage:y?.message})}})).apply(this,arguments)}function ds(){return(ds=(0,S.A)(function*(_,y){if(!y&&!_.swRegistration&&(yield function yc(_){return qs.apply(this,arguments)}(_)),y||!_.swRegistration){if(!(y instanceof ServiceWorkerRegistration))throw yn.create("invalid-sw-registration");_.swRegistration=y}})).apply(this,arguments)}function fs(){return(fs=(0,S.A)(function*(_,y){y?_.vapidKey=y:_.vapidKey||(_.vapidKey=dc)})).apply(this,arguments)}function Gl(){return Gl=(0,S.A)(function*(_,y){if(!navigator)throw yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw yn.create("permission-blocked");return yield function Ei(_,y){return fs.apply(this,arguments)}(_,y?.vapidKey),yield function Ec(_,y){return ds.apply(this,arguments)}(_,y?.serviceWorkerRegistration),function Nh(_){return wa.apply(this,arguments)}(_)}),Gl.apply(this,arguments)}function Cc(){return(Cc=(0,S.A)(function*(_,y,I){const A=function Qr(_){switch(_){case fc.NOTIFICATION_CLICKED:return"notification_open";case fc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(y);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:I[Vt],message_name:I[Sh],message_time:I[Xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hs(){return hs=(0,S.A)(function*(_,y){const I=y.data;if(!I.isFirebaseMessaging)return;_.onMessageHandler&&I.messageType===fc.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(So(I)):_.onMessageHandler.next(So(I)));const A=I.data;(function Ph(_){return"object"==typeof _&&!!_&&Vt in _})(A)&&"1"===A["google.c.a.e"]&&(yield function zl(_,y,I){return Cc.apply(this,arguments)}(_,I.messageType,A))}),hs.apply(this,arguments)}const At="@firebase/messaging",ps=_=>{const y=new xh(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",I=>function Ic(_,y){return hs.apply(this,arguments)}(y,I)),y},rr=_=>{const y=_.getProvider("messaging").getImmediate();return{getToken:A=>function Wl(_,y){return Gl.apply(this,arguments)}(y,A)}};function Kl(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,S.A)(function*(){try{yield(0,Y.eX)()}catch{return!1}return typeof window<"u"&&(0,Y.zW)()&&(0,Y.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dc(){(0,G._registerComponent)(new ie.uA("messaging",ps,"PUBLIC")),(0,G._registerComponent)(new ie.uA("messaging-internal",rr,"PRIVATE")),(0,G.registerVersion)(At,"0.12.4"),(0,G.registerVersion)(At,"0.12.4","esm2017")}();const kt="analytics",rf="firebase_id",Yl="origin",Ye=6e4,Ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ql="https://www.googletagmanager.com/gtag/js",En=new oe.Vy("@firebase/analytics"),Fn=new Y.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Xs(_){if(!_.startsWith(Ql)){const y=Fn.create("invalid-gtag-resource",{gtagURL:_});return En.warn(y.message),""}return _}function Ui(_){return Promise.all(_.map(y=>y.catch(I=>I)))}function Ro(){return(Ro=(0,S.A)(function*(_,y,I,A,F,B){const te=A[F];try{if(te)yield y[te];else{const De=(yield Ui(I)).find(Le=>Le.measurementId===F);De&&(yield y[De.appId])}}catch(Se){En.error(Se)}_("config",F,B)})).apply(this,arguments)}function it(){return(it=(0,S.A)(function*(_,y,I,A,F){try{let B=[];if(F&&F.send_to){let te=F.send_to;Array.isArray(te)||(te=[te]);const Se=yield Ui(I);for(const De of te){const Le=Se.find(Qe=>Qe.measurementId===De),tt=Le&&y[Le.appId];if(!tt){B=[];break}B.push(tt)}}0===B.length&&(B=Object.values(y)),yield Promise.all(B),_("event",A,F||{})}catch(B){En.error(B)}})).apply(this,arguments)}const Jl=30,tu=new class ir{constructor(y={},I=1e3){this.throttleMetadata=y,this.intervalMillis=I}getThrottleMetadata(y){return this.throttleMetadata[y]}setThrottleMetadata(y,I){this.throttleMetadata[y]=I}deleteThrottleMetadata(y){delete this.throttleMetadata[y]}};function nu(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function sf(){return(sf=(0,S.A)(function*(_){var y;const{appId:I,apiKey:A}=_,F={method:"GET",headers:nu(A)},B=Ma.replace("{app-id}",I),te=yield fetch(B,F);if(200!==te.status&&304!==te.status){let Se="";try{const De=yield te.json();null!==(y=De.error)&&void 0!==y&&y.message&&(Se=De.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:te.status,responseMessage:Se})}return te.json()})).apply(this,arguments)}function un(){return(un=(0,S.A)(function*(_,y=tu,I){const{appId:A,apiKey:F,measurementId:B}=_.options;if(!A)throw Fn.create("no-app-id");if(!F){if(B)return{measurementId:B,appId:A};throw Fn.create("no-api-key")}const te=y.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new lf;return setTimeout((0,S.A)(function*(){Se.abort()}),void 0!==I?I:Ye),Ci({appId:A,apiKey:F,measurementId:B},te,Se,y)})).apply(this,arguments)}function Ci(_,y,I){return ru.apply(this,arguments)}function ru(){return ru=(0,S.A)(function*(_,{throttleEndTimeMillis:y,backoffCount:I},A,F=tu){var B;const{appId:te,measurementId:Se}=_;try{yield function No(_,y){return new Promise((I,A)=>{const F=Math.max(y-Date.now(),0),B=setTimeout(I,F);_.addEventListener(()=>{clearTimeout(B),A(Fn.create("fetch-throttle",{throttleEndTimeMillis:y}))})})}(A,y)}catch(De){if(Se)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${De?.message}]`),{appId:te,measurementId:Se};throw De}try{const De=yield function Lh(_){return sf.apply(this,arguments)}(_);return F.deleteThrottleMetadata(te),De}catch(De){const Le=De;if(!function Zr(_){if(!(_ instanceof Y.g&&_.customData))return!1;const y=Number(_.customData.httpStatus);return 429===y||500===y||503===y||504===y}(Le)){if(F.deleteThrottleMetadata(te),Se)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Le?.message}]`),{appId:te,measurementId:Se};throw De}const tt=503===Number(null===(B=Le?.customData)||void 0===B?void 0:B.httpStatus)?(0,Y.p9)(I,F.intervalMillis,Jl):(0,Y.p9)(I,F.intervalMillis),Qe={throttleEndTimeMillis:Date.now()+tt,backoffCount:I+1};return F.setThrottleMetadata(te,Qe),En.debug(`Calling attemptFetch again in ${tt} millis`),Ci(_,Qe,A,F)}}),ru.apply(this,arguments)}class lf{constructor(){this.listeners=[]}addEventListener(y){this.listeners.push(y)}abort(){this.listeners.forEach(y=>y())}}let Oo,or;function Ac(){return(Ac=(0,S.A)(function*(_,y,I,A,F){if(F&&F.global)_("event",I,A);else{const B=yield y;_("event",I,Object.assign(Object.assign({},A),{send_to:B}))}})).apply(this,arguments)}function Mn(){return(Mn=(0,S.A)(function*(){if(!(0,Y.zW)())return En.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eX)()}catch(_){return En.warn(Fn.create("indexeddb-unavailable",{errorInfo:_?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tt(){return Tt=(0,S.A)(function*(_,y,I,A,F,B,te){var Se;const De=function af(_){return un.apply(this,arguments)}(_);De.then(Lt=>{I[Lt.measurementId]=Lt.appId,_.options.measurementId&&Lt.measurementId!==_.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Lt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Lt=>En.error(Lt)),y.push(De);const Le=function iu(){return Mn.apply(this,arguments)}().then(Lt=>{if(Lt)return A.getId()}),[tt,Qe]=yield Promise.all([De,Le]);(function ln(_){const y=window.document.getElementsByTagName("script");for(const I of Object.values(y))if(I.src&&I.src.includes(Ql)&&I.src.includes(_))return I;return null})(B)||function Na(_,y){const I=function Ra(_,y){let I;return window.trustedTypes&&(I=window.trustedTypes.createPolicy(_,y)),I}("firebase-js-sdk-policy",{createScriptURL:Xs}),A=document.createElement("script"),F=`${Ql}?l=${_}&id=${y}`;A.src=I?I?.createScriptURL(F):F,A.async=!0,document.head.appendChild(A)}(B,tt.measurementId),or&&(F("consent","default",or),function Js(_){or=_}(void 0)),F("js",new Date);const zn=null!==(Se=te?.config)&&void 0!==Se?Se:{};return zn[Yl]="firebase",zn.update=!0,null!=Qe&&(zn[rf]=Qe),F("config",tt.measurementId,zn),Oo&&(F("set",Oo),function xo(_){Oo=_}(void 0)),tt.measurementId}),Tt.apply(this,arguments)}class Fr{constructor(y){this.app=y}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},Sc=[];const Mc={};let vs,Dt,eo="dataLayer",su=!1;function Es(_,y,I){!function Pa(){const _=[];if((0,Y.sr)()&&_.push("This is a browser extension environment."),(0,Y.dM)()||_.push("Cookies are not available."),_.length>0){const y=_.map((A,F)=>`(${F+1}) ${A}`).join(" "),I=Fn.create("invalid-analytics-context",{errorInfo:y});En.warn(I.message)}}();const A=_.options.appId;if(!A)throw Fn.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw Fn.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[A])throw Fn.create("already-exists",{id:A});if(!su){!function Fh(_){let y=[];Array.isArray(window[_])?y=window[_]:window[_]=y}(eo);const{wrappedGtag:B,gtagCore:te}=function bc(_,y,I,A,F){let B=function(...te){window[A].push(arguments)};return window[F]&&"function"==typeof window[F]&&(B=window[F]),window[F]=function Zl(_,y,I,A){function B(){return B=(0,S.A)(function*(te,...Se){try{if("event"===te){const[De,Le]=Se;yield function fe(_,y,I,A,F){return it.apply(this,arguments)}(_,y,I,De,Le)}else if("config"===te){const[De,Le]=Se;yield function Xl(_,y,I,A,F,B){return Ro.apply(this,arguments)}(_,y,I,A,De,Le)}else if("consent"===te){const[De]=Se;_("consent","update",De)}else if("get"===te){const[De,Le,tt]=Se;_("get",De,Le,tt)}else if("set"===te){const[De]=Se;_("set",De)}else _(te,...Se)}catch(De){En.error(De)}}),B.apply(this,arguments)}return function F(te){return B.apply(this,arguments)}}(B,_,y,I),{gtagCore:B,wrappedGtag:window[F]}}(Ze,Sc,Mc,eo,"gtag");Dt=B,vs=te,su=!0}return Ze[A]=function Jr(_,y,I,A,F,B,te){return Tt.apply(this,arguments)}(_,Sc,Mc,y,vs,eo,I),new Fr(_)}function Bi(){return ou.apply(this,arguments)}function ou(){return(ou=(0,S.A)(function*(){if((0,Y.sr)()||!(0,Y.dM)()||!(0,Y.zW)())return!1;try{return yield(0,Y.eX)()}catch{return!1}})).apply(this,arguments)}const au="@firebase/analytics";!function zt(){(0,G._registerComponent)(new ie.uA(kt,(y,{options:I})=>Es(y.getProvider("app").getImmediate(),y.getProvider("installations-internal").getImmediate(),I),"PUBLIC")),(0,G._registerComponent)(new ie.uA("analytics-internal",function _(y){try{const I=y.getProvider(kt).getImmediate();return{logEvent:(A,F,B)=>function Ln(_,y,I,A){_=(0,Y.Ku)(_),function Vh(_,y,I,A,F){return Ac.apply(this,arguments)}(Dt,Ze[_.app.options.appId],y,I,A).catch(F=>En.error(F))}(I,A,F,B)}}catch(I){throw Fn.create("interop-component-reg-failed",{reason:I})}},"PRIVATE")),(0,G.registerVersion)(au,"0.10.0"),(0,G.registerVersion)(au,"0.10.0","esm2017")}();var Wi=T(6780),Vr=T(9687);const lu=new class sn extends Vr.q{}(class ko extends Wi.R{constructor(y,I){super(y,I),this.scheduler=y,this.work=I}schedule(y,I=0){return I>0?super.schedule(y,I):(this.delay=I,this.state=y,this.scheduler.flush(this),this)}execute(y,I){return I>0||this.closed?super.execute(y,I):this._execute(y,I)}requestAsyncId(y,I,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(y,I,A):(y.flush(this),0)}});var ka=T(3236),Gi=T(8141),Vn=T(6745),dn=T(941);const Tr=new f.RxE("7.6.1"),to="__angularfire_symbol__analyticsIsSupportedValue",zi="__angularfire_symbol__analyticsIsSupported",Ki="__angularfire_symbol__remoteConfigIsSupportedValue",no="__angularfire_symbol__remoteConfigIsSupported",Fa="__angularfire_symbol__messagingIsSupportedValue",Is="__angularfire_symbol__messagingIsSupported";function Va(_,y,I){if(y){if(1===y.length)return y[0];const B=y.filter(te=>te.app===I);if(1===B.length)return B[0]}return I.container.getProvider(_).getImmediate({optional:!0})}globalThis[zi]||(globalThis[zi]=Bi().then(_=>globalThis[to]=_).catch(()=>globalThis[to]=!1)),globalThis[Is]||(globalThis[Is]=Kl().then(_=>globalThis[Fa]=_).catch(()=>globalThis[Fa]=!1)),globalThis[no]||(globalThis[no]=cc().then(_=>globalThis[Ki]=_).catch(()=>globalThis[Ki]=!1));const Sr=(_,y)=>{const I=y?[y]:(0,H.Dk)(),A=[];return I.forEach(F=>{F.container.getProvider(_).instances.forEach(te=>{A.includes(te)||A.push(te)})}),A};function qi(){}class uu{constructor(y,I=lu){this.zone=y,this.delegate=I}now(){return this.delegate.now()}schedule(y,I,A){const F=this.zone;return this.delegate.schedule(function(te){F.runGuarded(()=>{y.apply(this,[te])})},I,A)}}class Ur{constructor(y){this.zone=y,this.task=null}call(y,I){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qi,{},qi,qi)),I.pipe((0,Gi.M)({next:A,complete:A,error:A})).subscribe(y).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ds=(()=>{class _{constructor(I){this.ngZone=I,this.outsideAngular=I.runOutsideAngular(()=>new uu(Zone.current)),this.insideAngular=I.run(()=>new uu(Zone.current,ka.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(I){return new(I||_)(f.KVO(f.SKi))},_.\u0275prov=f.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function Yi(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function Fc(_){return Yi(),function du(_){return function(I){return(I=I.lift(new Ur(_.ngZone))).pipe((0,Vn._)(_.outsideAngular),(0,dn.Q)(_.insideAngular))}}(Yi())(_)}},1076:(Ue,ce,T)=>{T.d(ce,{$L:()=>Ve,$g:()=>is,A4:()=>k,Am:()=>Eo,As:()=>st,Bd:()=>Ke,Cv:()=>wt,FA:()=>Z,Fy:()=>ue,HN:()=>ci,Hk:()=>S,I9:()=>$e,Im:()=>on,K3:()=>ie,KA:()=>me,Ku:()=>$n,Ll:()=>J,OE:()=>Bs,T9:()=>q,Uj:()=>re,XA:()=>ae,ZQ:()=>ve,bD:()=>qt,cY:()=>K,dI:()=>Fe,dM:()=>X,eX:()=>ui,g:()=>W,gR:()=>Je,gz:()=>Xe,hp:()=>ut,jZ:()=>Ae,kH:()=>pn,kj:()=>Gr,lT:()=>ai,lV:()=>Dn,oD:()=>ot,od:()=>Us,p9:()=>di,qc:()=>jn,sr:()=>lt,tD:()=>Ot,u:()=>N,vA:()=>H,yw:()=>Ht,zW:()=>Ni,zw:()=>j});const f={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},H=function(P,O){if(!P)throw S(O)},S=function(P){return new Error("Firebase Database ("+f.SDK_VERSION+") INTERNAL ASSERT FAILED: "+P)},G=function(P){const O=[];let V=0;for(let le=0;le<P.length;le++){let Q=P.charCodeAt(le);Q<128?O[V++]=Q:Q<2048?(O[V++]=Q>>6|192,O[V++]=63&Q|128):55296==(64512&Q)&&le+1<P.length&&56320==(64512&P.charCodeAt(le+1))?(Q=65536+((1023&Q)<<10)+(1023&P.charCodeAt(++le)),O[V++]=Q>>18|240,O[V++]=Q>>12&63|128,O[V++]=Q>>6&63|128,O[V++]=63&Q|128):(O[V++]=Q>>12|224,O[V++]=Q>>6&63|128,O[V++]=63&Q|128)}return O},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,O){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Q=0;Q<P.length;Q+=3){const Pe=P[Q],Ge=Q+1<P.length,mt=Ge?P[Q+1]:0,Ct=Q+2<P.length,tn=Ct?P[Q+2]:0;let bn=(15&mt)<<2|tn>>6,Xn=63&tn;Ct||(Xn=64,Ge||(bn=64)),le.push(V[Pe>>2],V[(3&Pe)<<4|mt>>4],V[bn],V[Xn])}return le.join("")},encodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(P):this.encodeByteArray(G(P),O)},decodeString(P,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(P):function(P){const O=[];let V=0,le=0;for(;V<P.length;){const Q=P[V++];if(Q<128)O[le++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Pe=P[V++];O[le++]=String.fromCharCode((31&Q)<<6|63&Pe)}else if(Q>239&&Q<365){const Ct=((7&Q)<<18|(63&P[V++])<<12|(63&P[V++])<<6|63&P[V++])-65536;O[le++]=String.fromCharCode(55296+(Ct>>10)),O[le++]=String.fromCharCode(56320+(1023&Ct))}else{const Pe=P[V++],Ge=P[V++];O[le++]=String.fromCharCode((15&Q)<<12|(63&Pe)<<6|63&Ge)}}return O.join("")}(this.decodeStringToByteArray(P,O))},decodeStringToByteArray(P,O){this.init_();const V=O?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Q=0;Q<P.length;){const Pe=V[P.charAt(Q++)],mt=Q<P.length?V[P.charAt(Q)]:0;++Q;const tn=Q<P.length?V[P.charAt(Q)]:64;++Q;const ht=Q<P.length?V[P.charAt(Q)]:64;if(++Q,null==Pe||null==mt||null==tn||null==ht)throw new oe;le.push(Pe<<2|mt>>4),64!==tn&&(le.push(mt<<4&240|tn>>2),64!==ht&&le.push(tn<<6&192|ht))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(P){const O=G(P);return ie.encodeByteArray(O,!0)},re=function(P){return me(P).replace(/\./g,"")},N=function(P){try{return ie.decodeString(P,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function k(P){return j(void 0,P)}function j(P,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return O}for(const V in O)!O.hasOwnProperty(V)||!Ce(V)||(P[V]=j(P[V],O[V]));return P}function Ce(P){return"__proto__"!==P}const ye=()=>{try{return function he(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=P&&N(P[1]);return O&&JSON.parse(O)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},q=()=>{var P;return null===(P=ye())||void 0===P?void 0:P.config},ae=P=>{var O;return null===(O=ye())||void 0===O?void 0:O[`_${P}`]};class K{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,V)=>{this.resolve=O,this.reject=V})}wrapCallback(O){return(V,le)=>{V?this.reject(V):this.resolve(le),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(V):O(V,le))}}}function ue(P,O){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=O||"demo-project",Q=P.iat||0,Pe=P.sub||P.user_id;if(!Pe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Q,exp:Q+3600,auth_time:Q,sub:Pe,user_id:Pe,firebase:{sign_in_provider:"custom",identities:{}}},P);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(Ge)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function J(){var P;const O=null===(P=ye())||void 0===P?void 0:P.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function lt(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Dn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ai(){const P=ve();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function is(){return!0===f.NODE_CLIENT||!0===f.NODE_ADMIN}function Ni(){try{return"object"==typeof indexedDB}catch{return!1}}function ui(){return new Promise((P,O)=>{try{let V=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(le);Q.onsuccess=()=>{Q.result.close(),V||self.indexedDB.deleteDatabase(le),P(!0)},Q.onupgradeneeded=()=>{V=!1},Q.onerror=()=>{var Pe;O((null===(Pe=Q.error)||void 0===Pe?void 0:Pe.message)||"")}}catch(V){O(V)}})}function X(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class W extends Error{constructor(O,V,le){super(V),this.code=O,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,W.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z.prototype.create)}}class Z{constructor(O,V,le){this.service=O,this.serviceName=V,this.errors=le}create(O,...V){const le=V[0]||{},Q=`${this.service}/${O}`,Pe=this.errors[O],Ge=Pe?function de(P,O){return P.replace(ee,(V,le)=>{const Q=O[le];return null!=Q?String(Q):`<${le}?>`})}(Pe,le):"Error";return new W(Q,`${this.serviceName}: ${Ge} (${Q}).`,le)}}const ee=/\{\$([^}]+)}/g;function Ve(P){return JSON.parse(P)}function st(P){return JSON.stringify(P)}const Nt=function(P){let O={},V={},le={},Q="";try{const Pe=P.split(".");O=Ve(N(Pe[0])||""),V=Ve(N(Pe[1])||""),Q=Pe[2],le=V.d||{},delete V.d}catch{}return{header:O,claims:V,data:le,signature:Q}},wt=function(P){const V=Nt(P).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},jn=function(P){const O=Nt(P).claims;return"object"==typeof O&&!0===O.admin};function Je(P,O){return Object.prototype.hasOwnProperty.call(P,O)}function Ht(P,O){if(Object.prototype.hasOwnProperty.call(P,O))return P[O]}function on(P){for(const O in P)if(Object.prototype.hasOwnProperty.call(P,O))return!1;return!0}function pn(P,O,V){const le={};for(const Q in P)Object.prototype.hasOwnProperty.call(P,Q)&&(le[Q]=O.call(V,P[Q],Q,P));return le}function qt(P,O){if(P===O)return!0;const V=Object.keys(P),le=Object.keys(O);for(const Q of V){if(!le.includes(Q))return!1;const Pe=P[Q],Ge=O[Q];if(pr(Pe)&&pr(Ge)){if(!qt(Pe,Ge))return!1}else if(Pe!==Ge)return!1}for(const Q of le)if(!V.includes(Q))return!1;return!0}function pr(P){return null!==P&&"object"==typeof P}function Eo(P){const O=[];for(const[V,le]of Object.entries(P))Array.isArray(le)?le.forEach(Q=>{O.push(encodeURIComponent(V)+"="+encodeURIComponent(Q))}):O.push(encodeURIComponent(V)+"="+encodeURIComponent(le));return O.length?"&"+O.join("&"):""}function $e(P){const O={};return P.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Q,Pe]=le.split("=");O[decodeURIComponent(Q)]=decodeURIComponent(Pe)}}),O}function ut(P){const O=P.indexOf("?");if(!O)return"";const V=P.indexOf("#",O);return P.substring(O,V>0?V:void 0)}class Xe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let O=1;O<this.blockSize;++O)this.pad_[O]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(O,V){V||(V=0);const le=this.W_;if("string"==typeof O)for(let ht=0;ht<16;ht++)le[ht]=O.charCodeAt(V)<<24|O.charCodeAt(V+1)<<16|O.charCodeAt(V+2)<<8|O.charCodeAt(V+3),V+=4;else for(let ht=0;ht<16;ht++)le[ht]=O[V]<<24|O[V+1]<<16|O[V+2]<<8|O[V+3],V+=4;for(let ht=16;ht<80;ht++){const bn=le[ht-3]^le[ht-8]^le[ht-14]^le[ht-16];le[ht]=4294967295&(bn<<1|bn>>>31)}let tn,et,Q=this.chain_[0],Pe=this.chain_[1],Ge=this.chain_[2],mt=this.chain_[3],Ct=this.chain_[4];for(let ht=0;ht<80;ht++){ht<40?ht<20?(tn=mt^Pe&(Ge^mt),et=1518500249):(tn=Pe^Ge^mt,et=1859775393):ht<60?(tn=Pe&Ge|mt&(Pe|Ge),et=2400959708):(tn=Pe^Ge^mt,et=3395469782);const bn=(Q<<5|Q>>>27)+tn+Ct+et+le[ht]&4294967295;Ct=mt,mt=Ge,Ge=4294967295&(Pe<<30|Pe>>>2),Pe=Q,Q=bn}this.chain_[0]=this.chain_[0]+Q&4294967295,this.chain_[1]=this.chain_[1]+Pe&4294967295,this.chain_[2]=this.chain_[2]+Ge&4294967295,this.chain_[3]=this.chain_[3]+mt&4294967295,this.chain_[4]=this.chain_[4]+Ct&4294967295}update(O,V){if(null==O)return;void 0===V&&(V=O.length);const le=V-this.blockSize;let Q=0;const Pe=this.buf_;let Ge=this.inbuf_;for(;Q<V;){if(0===Ge)for(;Q<=le;)this.compress_(O,Q),Q+=this.blockSize;if("string"==typeof O){for(;Q<V;)if(Pe[Ge]=O.charCodeAt(Q),++Ge,++Q,Ge===this.blockSize){this.compress_(Pe),Ge=0;break}}else for(;Q<V;)if(Pe[Ge]=O[Q],++Ge,++Q,Ge===this.blockSize){this.compress_(Pe),Ge=0;break}}this.inbuf_=Ge,this.total_+=V}digest(){const O=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Q=this.blockSize-1;Q>=56;Q--)this.buf_[Q]=255&V,V/=256;this.compress_(this.buf_);let le=0;for(let Q=0;Q<5;Q++)for(let Pe=24;Pe>=0;Pe-=8)O[le]=this.chain_[Q]>>Pe&255,++le;return O}}function Ot(P,O){const V=new jt(P,O);return V.subscribe.bind(V)}class jt{constructor(O,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{O(this)}).catch(le=>{this.error(le)})}next(O){this.forEachObserver(V=>{V.next(O)})}error(O){this.forEachObserver(V=>{V.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,V,le){let Q;if(void 0===O&&void 0===V&&void 0===le)throw new Error("Missing Observer.");Q=function bt(P,O){if("object"!=typeof P||null===P)return!1;for(const V of O)if(V in P&&"function"==typeof P[V])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:V,complete:le},void 0===Q.next&&(Q.next=wn),void 0===Q.error&&(Q.error=wn),void 0===Q.complete&&(Q.complete=wn);const Pe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch{}}),this.observers.push(Q),Pe}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,O)}sendOne(O,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{V(this.observers[O])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wn(){}const Us=function(P,O,V,le){let Q;if(le<O?Q="at least "+O:le>V&&(Q=0===V?"none":"no more than "+V),Q)throw new Error(P+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+Q+".")};function Fe(P,O){return`${P} failed: ${O} argument `}function ot(P,O,V,le){if((!le||V)&&"function"!=typeof V)throw new Error(Fe(P,O)+"must be a valid function.")}function ci(P,O,V,le){if((!le||V)&&("object"!=typeof V||null===V))throw new Error(Fe(P,O)+"must be a valid context object.")}const Gr=function(P){const O=[];let V=0;for(let le=0;le<P.length;le++){let Q=P.charCodeAt(le);if(Q>=55296&&Q<=56319){const Pe=Q-55296;le++,H(le<P.length,"Surrogate pair missing trail surrogate."),Q=65536+(Pe<<10)+(P.charCodeAt(le)-56320)}Q<128?O[V++]=Q:Q<2048?(O[V++]=Q>>6|192,O[V++]=63&Q|128):Q<65536?(O[V++]=Q>>12|224,O[V++]=Q>>6&63|128,O[V++]=63&Q|128):(O[V++]=Q>>18|240,O[V++]=Q>>12&63|128,O[V++]=Q>>6&63|128,O[V++]=63&Q|128)}return O},Bs=function(P){let O=0;for(let V=0;V<P.length;V++){const le=P.charCodeAt(V);le<128?O++:le<2048?O+=2:le>=55296&&le<=56319?(O+=4,V++):O+=3}return O},Pi=1e3,Or=2,gn=144e5,mn=.5;function di(P,O=Pi,V=Or){const le=O*Math.pow(V,P),Q=Math.round(mn*le*(Math.random()-.5)*2);return Math.min(gn,le+Q)}function $n(P){return P&&P._delegate?P._delegate:P}},3322:(Ue,ce,T)=>{var f=T(7705);let H=null;function S(){return H}class Y{}const ie=new f.nKC("DocumentToken");let oe=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return(0,f.WQX)(re)},providedIn:"platform"})}}return e})();const me=new f.nKC("Location Initialized");let re=(()=>{class e extends oe{constructor(){super(),this._doc=(0,f.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(t){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,a){this._history.pushState(t,i,a)}replaceState(t,i,a){this._history.replaceState(t,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function N(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function k(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function j(e){return e&&"?"!==e[0]?"?"+e:e}let Ce=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return(0,f.WQX)(Te)},providedIn:"root"})}}return e})();const he=new f.nKC("appBaseHref");let Te=(()=>{class e extends Ce{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,f.WQX)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return N(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+j(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${i}${a}`:i}pushState(t,i,a,u){const d=this.prepareExternalUrl(a+j(u));this._platformLocation.pushState(t,i,d)}replaceState(t,i,a,u){const d=this.prepareExternalUrl(a+j(u));this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(oe),f.KVO(he,8))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ge=(()=>{class e extends Ce{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=N(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,a,u){let d=this.prepareExternalUrl(a+j(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,i,d)}replaceState(t,i,a,u){let d=this.prepareExternalUrl(a+j(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(oe),f.KVO(he,8))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})(),be=(()=>{class e{constructor(t){this._subject=new f.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function q(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(k(Be(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+j(i))}normalize(t){return e.stripTrailingSlash(function We(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",a=null){this._locationStrategy.pushState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+j(i)),a)}replaceState(t,i="",a=null){this._locationStrategy.replaceState(a,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+j(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(a=>a(t,i))}subscribe(t,i,a){return this._subject.subscribe({next:t,error:i,complete:a})}static{this.normalizeQueryParams=j}static{this.joinWithSlash=N}static{this.stripTrailingSlash=k}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(Ce))}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return function ye(){return new be((0,f.KVO)(Ce))}()},providedIn:"root"})}}return e})();function Be(e){return e.replace(/\/index.html$/,"")}var ve=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(ve||{}),Ae=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ae||{}),J=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(J||{}),Ke=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ke||{});function ui(e,n){return Je((0,f.H5H)(e)[f.KH2.DateFormat],n)}function X(e,n){return Je((0,f.H5H)(e)[f.KH2.TimeFormat],n)}function ne(e,n){return Je((0,f.H5H)(e)[f.KH2.DateTimeFormat],n)}function W(e,n){const t=(0,f.H5H)(e),i=t[f.KH2.NumberSymbols][n];if(typeof i>"u"){if(n===Ke.CurrencyDecimal)return t[f.KH2.NumberSymbols][Ke.Decimal];if(n===Ke.CurrencyGroup)return t[f.KH2.NumberSymbols][Ke.Group]}return i}function Oe(e){if(!e[f.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[f.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Je(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Ht(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const pr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oi={},Eo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $e=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}($e||{}),ut=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ut||{}),Xe=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Xe||{});function Ot(e,n,t,i){let a=function O(e){if(le(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[a,u=1,d=1]=e.split("-").map(g=>+g);return jt(a,u-1,d)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(pr))return function V(e){const n=new Date(0);let t=0,i=0;const a=e[8]?n.setUTCFullYear:n.setFullYear,u=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),a.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const d=Number(e[4]||0)-t,g=Number(e[5]||0)-i,v=Number(e[6]||0),E=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return u.call(n,d,g,v,E),n}(i)}const n=new Date(e);if(!le(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Yn(t,n)||n;let g,d=[];for(;n;){if(g=Eo.exec(n),!g){d.push(n);break}{d=d.concat(g.slice(1));const w=d.pop();if(!w)break;n=w}}let v=a.getTimezoneOffset();i&&(v=Pr(i,v),a=function P(e,n,t){const i=t?-1:1,a=e.getTimezoneOffset();return function $n(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,i*(Pr(n,a)-a))}(a,i,!0));let E="";return d.forEach(w=>{const b=function $t(e){if(di[e])return di[e];let n;switch(e){case"G":case"GG":case"GGG":n=ot(Xe.Eras,Ae.Abbreviated);break;case"GGGG":n=ot(Xe.Eras,Ae.Wide);break;case"GGGGG":n=ot(Xe.Eras,Ae.Narrow);break;case"y":n=Fe(ut.FullYear,1,0,!1,!0);break;case"yy":n=Fe(ut.FullYear,2,0,!0,!0);break;case"yyy":n=Fe(ut.FullYear,3,0,!1,!0);break;case"yyyy":n=Fe(ut.FullYear,4,0,!1,!0);break;case"Y":n=mn(1);break;case"YY":n=mn(2,!0);break;case"YYY":n=mn(3);break;case"YYYY":n=mn(4);break;case"M":case"L":n=Fe(ut.Month,1,1);break;case"MM":case"LL":n=Fe(ut.Month,2,1);break;case"MMM":n=ot(Xe.Months,Ae.Abbreviated);break;case"MMMM":n=ot(Xe.Months,Ae.Wide);break;case"MMMMM":n=ot(Xe.Months,Ae.Narrow);break;case"LLL":n=ot(Xe.Months,Ae.Abbreviated,ve.Standalone);break;case"LLLL":n=ot(Xe.Months,Ae.Wide,ve.Standalone);break;case"LLLLL":n=ot(Xe.Months,Ae.Narrow,ve.Standalone);break;case"w":n=gn(1);break;case"ww":n=gn(2);break;case"W":n=gn(1,!0);break;case"d":n=Fe(ut.Date,1);break;case"dd":n=Fe(ut.Date,2);break;case"c":case"cc":n=Fe(ut.Day,1);break;case"ccc":n=ot(Xe.Days,Ae.Abbreviated,ve.Standalone);break;case"cccc":n=ot(Xe.Days,Ae.Wide,ve.Standalone);break;case"ccccc":n=ot(Xe.Days,Ae.Narrow,ve.Standalone);break;case"cccccc":n=ot(Xe.Days,Ae.Short,ve.Standalone);break;case"E":case"EE":case"EEE":n=ot(Xe.Days,Ae.Abbreviated);break;case"EEEE":n=ot(Xe.Days,Ae.Wide);break;case"EEEEE":n=ot(Xe.Days,Ae.Narrow);break;case"EEEEEE":n=ot(Xe.Days,Ae.Short);break;case"a":case"aa":case"aaa":n=ot(Xe.DayPeriods,Ae.Abbreviated);break;case"aaaa":n=ot(Xe.DayPeriods,Ae.Wide);break;case"aaaaa":n=ot(Xe.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":n=ot(Xe.DayPeriods,Ae.Abbreviated,ve.Standalone,!0);break;case"bbbb":n=ot(Xe.DayPeriods,Ae.Wide,ve.Standalone,!0);break;case"bbbbb":n=ot(Xe.DayPeriods,Ae.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":n=ot(Xe.DayPeriods,Ae.Abbreviated,ve.Format,!0);break;case"BBBB":n=ot(Xe.DayPeriods,Ae.Wide,ve.Format,!0);break;case"BBBBB":n=ot(Xe.DayPeriods,Ae.Narrow,ve.Format,!0);break;case"h":n=Fe(ut.Hours,1,-12);break;case"hh":n=Fe(ut.Hours,2,-12);break;case"H":n=Fe(ut.Hours,1);break;case"HH":n=Fe(ut.Hours,2);break;case"m":n=Fe(ut.Minutes,1);break;case"mm":n=Fe(ut.Minutes,2);break;case"s":n=Fe(ut.Seconds,1);break;case"ss":n=Fe(ut.Seconds,2);break;case"S":n=Fe(ut.FractionalSeconds,1);break;case"SS":n=Fe(ut.FractionalSeconds,2);break;case"SSS":n=Fe(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Gr($e.Short);break;case"ZZZZZ":n=Gr($e.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Gr($e.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Gr($e.Long);break;default:return null}return di[e]=n,n}(w);E+=b?b(a,t,v):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function jt(e,n,t){const i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function Yn(e,n){const t=function Dn(e){return(0,f.H5H)(e)[f.KH2.LocaleId]}(e);if(Oi[t]=Oi[t]||{},Oi[t][n])return Oi[t][n];let i="";switch(n){case"shortDate":i=ui(e,J.Short);break;case"mediumDate":i=ui(e,J.Medium);break;case"longDate":i=ui(e,J.Long);break;case"fullDate":i=ui(e,J.Full);break;case"shortTime":i=X(e,J.Short);break;case"mediumTime":i=X(e,J.Medium);break;case"longTime":i=X(e,J.Long);break;case"fullTime":i=X(e,J.Full);break;case"short":const a=Yn(e,"shortTime"),u=Yn(e,"shortDate");i=bt(ne(e,J.Short),[a,u]);break;case"medium":const d=Yn(e,"mediumTime"),g=Yn(e,"mediumDate");i=bt(ne(e,J.Medium),[d,g]);break;case"long":const v=Yn(e,"longTime"),E=Yn(e,"longDate");i=bt(ne(e,J.Long),[v,E]);break;case"full":const w=Yn(e,"fullTime"),b=Yn(e,"fullDate");i=bt(ne(e,J.Full),[w,b])}return i&&(Oi[t][n]=i),i}function bt(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return null!=n&&i in n?n[i]:t})),e}function wn(e,n,t="-",i,a){let u="";(e<0||a&&e<=0)&&(a?e=1-e:(e=-e,u=t));let d=String(e);for(;d.length<n;)d="0"+d;return i&&(d=d.slice(d.length-n)),u+d}function Fe(e,n,t=0,i=!1,a=!1){return function(u,d){let g=function Qn(e,n){switch(e){case ut.FullYear:return n.getFullYear();case ut.Month:return n.getMonth();case ut.Date:return n.getDate();case ut.Hours:return n.getHours();case ut.Minutes:return n.getMinutes();case ut.Seconds:return n.getSeconds();case ut.FractionalSeconds:return n.getMilliseconds();case ut.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,u);if((t>0||g>-t)&&(g+=t),e===ut.Hours)0===g&&-12===t&&(g=12);else if(e===ut.FractionalSeconds)return function Us(e,n){return wn(e,3).substring(0,n)}(g,n);const v=W(d,Ke.MinusSign);return wn(g,n,v,i,a)}}function ot(e,n,t=ve.Format,i=!1){return function(a,u){return function ci(e,n,t,i,a,u){switch(t){case Xe.Months:return function en(e,n,t){const i=(0,f.H5H)(e),u=Je([i[f.KH2.MonthsFormat],i[f.KH2.MonthsStandalone]],n);return Je(u,t)}(n,a,i)[e.getMonth()];case Xe.Days:return function ai(e,n,t){const i=(0,f.H5H)(e),u=Je([i[f.KH2.DaysFormat],i[f.KH2.DaysStandalone]],n);return Je(u,t)}(n,a,i)[e.getDay()];case Xe.DayPeriods:const d=e.getHours(),g=e.getMinutes();if(u){const E=function xt(e){const n=(0,f.H5H)(e);return Oe(n),(n[f.KH2.ExtraData][2]||[]).map(i=>"string"==typeof i?Ht(i):[Ht(i[0]),Ht(i[1])])}(n),w=function wt(e,n,t){const i=(0,f.H5H)(e);Oe(i);const u=Je([i[f.KH2.ExtraData][0],i[f.KH2.ExtraData][1]],n)||[];return Je(u,t)||[]}(n,a,i),b=E.findIndex(R=>{if(Array.isArray(R)){const[z,L]=R,Ee=d>=z.hours&&g>=z.minutes,Me=d<L.hours||d===L.hours&&g<L.minutes;if(z.hours<L.hours){if(Ee&&Me)return!0}else if(Ee||Me)return!0}else if(R.hours===d&&R.minutes===g)return!0;return!1});if(-1!==b)return w[b]}return function qn(e,n,t){const i=(0,f.H5H)(e),u=Je([i[f.KH2.DayPeriodsFormat],i[f.KH2.DayPeriodsStandalone]],n);return Je(u,t)}(n,a,i)[d<12?0:1];case Xe.Eras:return function is(e,n){return Je((0,f.H5H)(e)[f.KH2.Eras],n)}(n,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(a,u,e,n,t,i)}}function Gr(e){return function(n,t,i){const a=-1*i,u=W(t,Ke.MinusSign),d=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case $e.Short:return(a>=0?"+":"")+wn(d,2,u)+wn(Math.abs(a%60),2,u);case $e.ShortGMT:return"GMT"+(a>=0?"+":"")+wn(d,1,u);case $e.Long:return"GMT"+(a>=0?"+":"")+wn(d,2,u)+":"+wn(Math.abs(a%60),2,u);case $e.Extended:return 0===i?"Z":(a>=0?"+":"")+wn(d,2,u)+":"+wn(Math.abs(a%60),2,u);default:throw new Error(`Unknown zone width "${e}"`)}}}const Bs=0,Hn=4;function Or(e){return jt(e.getFullYear(),e.getMonth(),e.getDate()+(Hn-e.getDay()))}function gn(e,n=!1){return function(t,i){let a;if(n){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();a=1+Math.floor((d+u)/7)}else{const u=Or(t),d=function Pi(e){const n=jt(e,Bs,1).getDay();return jt(e,0,1+(n<=Hn?Hn:Hn+7)-n)}(u.getFullYear()),g=u.getTime()-d.getTime();a=1+Math.round(g/6048e5)}return wn(a,e,W(i,Ke.MinusSign))}}function mn(e,n=!1){return function(t,i){return wn(Or(t).getFullYear(),e,W(i,Ke.MinusSign),n)}}const di={};function Pr(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function le(e){return e instanceof Date&&!isNaN(e.valueOf())}let Io=(()=>{class e{constructor(t,i){this._viewContainer=t,this._context=new zd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Kd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Kd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(f.c1b),f.rXU(f.C4Q))}}static{this.\u0275dir=f.FsC({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class zd{constructor(){this.$implicit=null,this.ngIf=null}}function Kd(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,f.Tbb)(n)}'.`)}const dt=new f.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Tn=new f.nKC("DATE_PIPE_DEFAULT_OPTIONS");let _n=(()=>{class e{constructor(t,i,a){this.locale=t,this.defaultTimezone=i,this.defaultOptions=a}transform(t,i,a,u){if(null==t||""===t||t!=t)return null;try{return Ot(t,i??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,a??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw function Ir(e,n){return new f.wOt(2100,!1)}()}}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(f.xe9,16),f.rXU(dt,24),f.rXU(Tn,24))}}static{this.\u0275pipe=f.EJ8({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),ki=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({})}}return e})();function va(e){return"server"===e}let er=(()=>{class e{static{this.\u0275prov=(0,f.jDH)({token:e,providedIn:"root",factory:()=>new tr((0,f.KVO)(ie),window)})}}return e})();class tr{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function wr(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const d=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(d)return d}a=i.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),i=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class mc extends Y{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class So extends mc{static makeCurrent(){!function G(e){H||(H=e)}(new So)}onAndCancel(n,t,i){return n.addEventListener(t,i),()=>{n.removeEventListener(t,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function tf(){return Mo=Mo||document.querySelector("base"),Mo?Mo.getAttribute("href"):null}();return null==t?null:function Ph(e){$l=$l||document.createElement("a"),$l.setAttribute("href",e);const n=$l.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Zn(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const i=t.indexOf("="),[a,u]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(a.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let $l,Mo=null,vc=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();const Ta=new f.nKC("EventManagerPlugins");let xh=(()=>{class e{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,a){return this._findPluginFor(i).addEventListener(t,i,a)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(u=>u.supports(t)),!i)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(t,i),i}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(Ta),f.KVO(f.SKi))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();class yc{constructor(n){this._doc=n}}const qs="ng-app-id";let Ec=(()=>{class e{constructor(t,i,a,u={}){this.doc=t,this.appId=i,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=va(u),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(a=>a.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${qs}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(t,i){const a=this.styleRef;if(a.has(t)){const u=a.get(t);return u.usage+=i,u.usage}return a.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const a=this.styleNodesInDOM,u=a?.get(i);if(u?.parentNode===t)return a.delete(i),u.removeAttribute(qs),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(qs,this.appId),d}}addStyleToHost(t,i){const a=this.getStyleElement(t,i);t.appendChild(a);const u=this.styleRef,d=u.get(i)?.elements;d?d.push(a):u.set(i,{elements:[a],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(ie),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();const ds={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ei=/%COMP%/g,Cc=new f.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function hs(e,n){return n.map(t=>t.replace(Ei,e))}let At=(()=>{class e{constructor(t,i,a,u,d,g,v,E=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=g,this.ngZone=v,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=va(g),this.defaultRenderer=new Ys(t,d,v,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===f.gXe.ShadowDom&&(i={...i,encapsulation:f.gXe.Emulated});const a=this.getOrCreateRenderer(t,i);return a instanceof _r?a.applyToHost(t):a instanceof Xr&&a.applyStyles(),a}getOrCreateRenderer(t,i){const a=this.rendererByCompId;let u=a.get(i.id);if(!u){const d=this.doc,g=this.ngZone,v=this.eventManager,E=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,b=this.platformIsServer;switch(i.encapsulation){case f.gXe.Emulated:u=new _r(v,E,i,this.appId,w,d,g,b);break;case f.gXe.ShadowDom:return new Kl(v,E,t,i,d,g,this.nonce,b);default:u=new Xr(v,E,i,w,d,g,b)}a.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(xh),f.KVO(Ec),f.KVO(f.sZ2),f.KVO(Cc),f.KVO(ie),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();class Ys{constructor(n,t,i,a){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(ds[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Dc(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(Dc(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new f.wOt(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,a){if(a){t=a+":"+t;const u=ds[a];u?n.setAttributeNS(u,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){const a=ds[i];a?n.removeAttributeNS(a,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,a){a&(f.czy.DashCase|f.czy.Important)?n.style.setProperty(t,i,a&f.czy.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&f.czy.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n[t]=i}setValue(n,t){n.nodeValue=t}listen(n,t,i){if("string"==typeof n&&!(n=S().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(i))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Dc(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Kl extends Ys{constructor(n,t,i,a,u,d,g,v){super(n,u,d,v),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=hs(a.id,a.styles);for(const w of E){const b=document.createElement("style");g&&b.setAttribute("nonce",g),b.textContent=w,this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xr extends Ys{constructor(n,t,i,a,u,d,g,v){super(n,u,d,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a,this.styles=v?hs(v,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _r extends Xr{constructor(n,t,i,a,u,d,g,v){const E=a+"-"+i.id;super(n,t,i,u,d,g,v,E),this.contentAttr=function Qr(e){return"_ngcontent-%COMP%".replace(Ei,e)}(E),this.hostAttr=function Ic(e){return"_nghost-%COMP%".replace(Ei,e)}(E)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}}let Qs=(()=>{class e extends yc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,a){return t.addEventListener(i,a,!1),()=>this.removeEventListener(t,i,a)}removeEventListener(t,i,a){return t.removeEventListener(i,a)}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(ie))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();const nf=["alt","control","meta","shift"],gs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ms={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Sa=(()=>{class e extends yc{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,a){const u=e.parseEventName(i),d=e.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const i=t.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=e._normalizeKey(i.pop());let d="",g=i.indexOf("code");if(g>-1&&(i.splice(g,1),d="code."),nf.forEach(E=>{const w=i.indexOf(E);w>-1&&(i.splice(w,1),d+=E+".")}),d+=u,0!=i.length||0===u.length)return null;const v={};return v.domEventName=a,v.fullKey=d,v}static matchEventFullKeyCode(t,i){let a=gs[t.key]||t.key,u="";return i.indexOf("code.")>-1&&(a=t.code,u="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),nf.forEach(d=>{d!==a&&(0,ms[d])(t)&&(u+=d+".")}),u+=a,u===i)}static eventCallback(t,i,a){return u=>{e.matchEventFullKeyCode(u,t)&&a.runGuarded(()=>i(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(ie))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();const En=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:"browser"},{provide:f.PLl,useValue:function Yl(){So.makeCurrent()},multi:!0},{provide:ie,useFactory:function Ma(){return(0,f.TL$)(document),document},deps:[]}]),wc=new f.nKC(""),Fn=[{provide:f.e01,useClass:class _c{addToWindow(n){f.JZv.getAngularTestability=(i,a=!0)=>{const u=n.findTestabilityInTree(i,a);if(null==u)throw new f.wOt(5103,!1);return u},f.JZv.getAllAngularTestabilities=()=>n.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>n.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(i=>{const a=f.JZv.getAllAngularTestabilities();let u=a.length,d=!1;const g=function(v){d=d||v,u--,0==u&&i(d)};a.forEach(v=>{v.whenStable(g)})})}findTestabilityInTree(n,t,i){return null==t?null:n.getTestability(t)??(i?S().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Xs=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function Ye(){return new f.zcH},deps:[]},{provide:Ta,useClass:Qs,multi:!0,deps:[ie,f.SKi,f.Agw]},{provide:Ta,useClass:Sa,multi:!0,deps:[ie]},At,Ec,xh,{provide:f._9s,useExisting:At},{provide:class kr{},useClass:vc,deps:[]},[]];let Ui=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:f.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(wc,12))}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({providers:[...Xs,...Fn],imports:[ki,f.Hbi]})}}return e})(),Ro=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(ie))}}static{this.\u0275prov=f.jDH({token:e,factory:function(i){let a=null;return a=i?new i:function Xl(){return new Ro((0,f.KVO)(ie))}(),a},providedIn:"root"})}}return e})();typeof window<"u"&&window;var sr=T(1985),_s=T(8071),cn=T(8455),ze=T(7673),or=T(4412);const{isArray:Js}=Array,{getPrototypeOf:xo,prototype:iu,keys:Mn}=Object;function Jr(e){if(1===e.length){const n=e[0];if(Js(n))return{args:n,keys:null};if(function Tt(e){return e&&"object"==typeof e&&xo(e)===iu}(n)){const t=Mn(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}var Fr=T(3669),Ze=T(6354);const{isArray:Sc}=Array;function eo(e){return(0,Ze.T)(n=>function Mc(e,n){return Sc(n)?e(...n):e(n)}(e,n))}var ei=T(3794);function vs(e,n){return e.reduce((t,i,a)=>(t[i]=n[a],t),{})}var Dt=T(4360),su=T(5225);function ys(...e){const n=(0,ei.lI)(e),t=(0,ei.ms)(e),{args:i,keys:a}=Jr(e);if(0===i.length)return(0,cn.H)([],n);const u=new sr.c(function Pa(e,n,t=Fr.D){return i=>{Es(n,()=>{const{length:a}=e,u=new Array(a);let d=a,g=a;for(let v=0;v<a;v++)Es(n,()=>{const E=(0,cn.H)(e[v],n);let w=!1;E.subscribe((0,Dt._)(i,b=>{u[v]=b,w||(w=!0,g--),g||i.next(t(u.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,n,a?d=>vs(a,d):Fr.D));return t?u.pipe(eo(t)):u}function Es(e,n,t){e?(0,su.N)(t,e,n):n()}const Cs=(0,T(1853).L)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var Bi=T(6365);function Lr(...e){return function ou(){return(0,Bi.U)(1)}()((0,cn.H)(e,(0,ei.lI)(e)))}var ji=T(8750);function xa(e){return new sr.c(n=>{(0,ji.Tg)(e()).subscribe(n)})}var cf=T(1203);function Hi(e,n){const t=(0,_s.T)(e)?e:()=>e,i=a=>a.error(t());return new sr.c(n?a=>n.schedule(i,0,a):i)}var $i=T(983),Nc=T(8359),Ln=T(9974);function Oc(){return(0,Ln.N)((e,n)=>{let t=null;e._refCount++;const i=(0,Dt._)(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const a=e._connection,u=t;t=null,a&&(!u||a===u)&&a.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}class au extends sr.c{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.S)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Nc.yU;const t=this.getSubject();n.add(this.source.subscribe((0,Dt._)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Nc.yU.EMPTY)}return n}refCount(){return Oc()(this)}}var Ar=T(1413),zt=T(5558);function Wi(e){return e<=0?()=>$i.w:(0,Ln.N)((n,t)=>{let i=0;n.subscribe((0,Dt._)(t,a=>{++i<=e&&(t.next(a),e<=i&&t.complete())}))})}function Vr(e,n){return(0,Ln.N)((t,i)=>{let a=0;t.subscribe((0,Dt._)(i,u=>e.call(n,u,a++)&&i.next(u)))})}var sn=T(1397);function lu(e){return(0,Ln.N)((n,t)=>{let i=!1;n.subscribe((0,Dt._)(t,a=>{i=!0,t.next(a)},()=>{i||t.next(e),t.complete()}))})}function Pc(e=ka){return(0,Ln.N)((n,t)=>{let i=!1;n.subscribe((0,Dt._)(t,a=>{i=!0,t.next(a)},()=>i?t.complete():t.error(e())))})}function ka(){return new Cs}function Gi(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Vr((a,u)=>e(a,u,i)):Fr.D,Wi(1),t?lu(n):Pc(()=>new Cs))}function Vn(e,n){return(0,_s.T)(n)?(0,sn.Z)(e,n,1):(0,sn.Z)(e,1)}var dn=T(8141);function Tr(e){return(0,Ln.N)((n,t)=>{let u,i=null,a=!1;i=n.subscribe((0,Dt._)(t,void 0,void 0,d=>{u=(0,ji.Tg)(e(d,Tr(e)(n))),i?(i.unsubscribe(),i=null,u.subscribe(t)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(t))})}function zi(e,n){return(0,Ln.N)(function to(e,n,t,i,a){return(u,d)=>{let g=t,v=n,E=0;u.subscribe((0,Dt._)(d,w=>{const b=E++;v=g?e(v,w,b):(g=!0,w),i&&d.next(v)},a&&(()=>{g&&d.next(v),d.complete()})))}}(e,n,arguments.length>=2,!0))}function Ki(e){return e<=0?()=>$i.w:(0,Ln.N)((n,t)=>{let i=[];n.subscribe((0,Dt._)(t,a=>{i.push(a),e<i.length&&i.shift()},()=>{for(const a of i)t.next(a);t.complete()},void 0,()=>{i=null}))})}function Is(e){return(0,Ln.N)((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}var Fo=T(5343);const nt="primary",La=Symbol("RouteTitle");class Va{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sr(e){return new Va(e)}function qi(e,n,t){const i=t.path.split("/");if(i.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||i.length<e.length))return null;const a={};for(let u=0;u<i.length;u++){const d=i[u],g=e[u];if(d.startsWith(":"))a[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:e.slice(0,i.length),posParams:a}}function Ur(e,n){const t=e?Object.keys(e):void 0,i=n?Object.keys(n):void 0;if(!t||!i||t.length!=i.length)return!1;let a;for(let u=0;u<t.length;u++)if(a=t[u],!Ds(e[a],n[a]))return!1;return!0}function Ds(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),i=[...n].sort();return t.every((a,u)=>i[u]===a)}return e===n}function Yi(e){return e.length>0?e[e.length-1]:null}function Ft(e){return function Zs(e){return!!e&&(e instanceof sr.c||(0,_s.T)(e.lift)&&(0,_s.T)(e.subscribe))}(e)?e:(0,f.jNT)(e)?(0,cn.H)(Promise.resolve(e)):(0,ze.of)(e)}const ws={exact:function du(e,n,t){if(!te(e.segments,n.segments)||!y(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!du(e.children[i],n.children[i],t))return!1;return!0},subset:ro},kc={exact:function Fc(e,n){return Ur(e,n)},subset:function fu(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Ds(e[t],n[t]))},ignored:()=>!0};function cu(e,n,t){return ws[t.paths](e.root,n.root,t.matrixParams)&&kc[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function ro(e,n,t){return _(e,n,n.segments,t)}function _(e,n,t,i){if(e.segments.length>t.length){const a=e.segments.slice(0,t.length);return!(!te(a,t)||n.hasChildren()||!y(a,t,i))}if(e.segments.length===t.length){if(!te(e.segments,t)||!y(e.segments,t,i))return!1;for(const a in n.children)if(!e.children[a]||!ro(e.children[a],n.children[a],i))return!1;return!0}{const a=t.slice(0,e.segments.length),u=t.slice(e.segments.length);return!!(te(e.segments,a)&&y(e.segments,a,i)&&e.children[nt])&&_(e.children[nt],n,u,i)}}function y(e,n,t){return n.every((i,a)=>kc[t](e[a].parameters,i.parameters))}class I{constructor(n=new A([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sr(this.queryParams)),this._queryParamMap}toString(){return tt.serialize(this)}}class A{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class F{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sr(this.parameters)),this._parameterMap}toString(){return Ua(this)}}function te(e,n){return e.length===n.length&&e.every((t,i)=>t.path===n[i].path)}let De=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return new Le},providedIn:"root"})}}return e})();class Le{parse(n){const t=new df(n);return new I(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${zn(n.root,!0)}`,i=function Ba(e){const n=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(a=>`${Ii(t)}=${Ii(a)}`).join("&"):`${Ii(t)}=${Ii(i)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${i}${"string"==typeof n.fragment?`#${function hu(e){return encodeURI(e)}(n.fragment)}`:""}`}}const tt=new Le;function Qe(e){return e.segments.map(n=>Ua(n)).join("/")}function zn(e,n){if(!e.hasChildren())return Qe(e);if(n){const t=e.children[nt]?zn(e.children[nt],!1):"",i=[];return Object.entries(e.children).forEach(([a,u])=>{a!==nt&&i.push(`${a}:${zn(u,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Se(e,n){let t=[];return Object.entries(e.children).forEach(([i,a])=>{i===nt&&(t=t.concat(n(a,i)))}),Object.entries(e.children).forEach(([i,a])=>{i!==nt&&(t=t.concat(n(a,i)))}),t}(e,(i,a)=>a===nt?[zn(e.children[nt],!1)]:[`${a}:${zn(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[nt]?`${Qe(e)}/${t[0]}`:`${Qe(e)}/(${t.join("//")})`}}function Lt(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ii(e){return Lt(e).replace(/%3B/gi,";")}function Pt(e){return Lt(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ar(e){return decodeURIComponent(e)}function lr(e){return ar(e.replace(/\+/g,"%20"))}function Ua(e){return`${Pt(e.path)}${function Mr(e){return Object.keys(e).map(n=>`;${Pt(n)}=${Pt(e[n])}`).join("")}(e.parameters)}`}const Gg=/^[^\/()?;#]+/;function io(e){const n=e.match(Gg);return n?n[0]:""}const ja=/^[^\/()?;=#]+/,zg=/^[^=?&#]+/,fy=/^[^&#]+/;class df{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new A([],{}):new A([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[nt]=new A(n,t)),i}parseSegment(){const n=io(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new f.wOt(4009,!1);return this.capture(n),new F(ar(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function Lc(e){const n=e.match(ja);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const a=io(this.remaining);a&&(i=a,this.capture(i))}n[ar(t)]=ar(i)}parseQueryParam(n){const t=function Bh(e){const n=e.match(zg);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const d=function Br(e){const n=e.match(fy);return n?n[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const a=lr(t),u=lr(i);if(n.hasOwnProperty(a)){let d=n[a];Array.isArray(d)||(d=[d],n[a]=d),d.push(u)}else n[a]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=io(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new f.wOt(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=nt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[nt]:new A([],d),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new f.wOt(4011,!1)}}function Lo(e){return e.segments.length>0?new A([],{[nt]:e}):e}function Kg(e){const n={};for(const i of Object.keys(e.children)){const u=Kg(e.children[i]);if(i===nt&&0===u.segments.length&&u.hasChildren())for(const[d,g]of Object.entries(u.children))n[d]=g;else(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function ff(e){if(1===e.numberOfChildren&&e.children[nt]){const n=e.children[nt];return new A(e.segments.concat(n.segments),n.children)}return e}(new A(e.segments,n))}function Vo(e){return e instanceof I}function so(e){let n;const a=Lo(function t(u){const d={};for(const v of u.children){const E=t(v);d[v.outlet]=E}const g=new A(u.url,d);return u===e&&(n=g),g}(e.root));return n??a}function jh(e,n,t,i){let a=e;for(;a.parent;)a=a.parent;if(0===n.length)return pu(a,a,a,t,i);const u=function Uc(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Hh(!0,0,e);let n=0,t=!1;const i=e.reduce((a,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([v,E])=>{g[v]="string"==typeof E?E.split("/"):E}),[...a,{outlets:g}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===d?(u.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?t=!0:".."===g?n++:""!=g&&a.push(g))}),a):[...a,u]},[]);return new Hh(t,n,i)}(n);if(u.toRoot())return pu(a,a,new A([],{}),t,i);const d=function Bc(e,n,t){if(e.isAbsolute)return new Ha(n,!0,0);if(!t)return new Ha(n,!1,NaN);if(null===t.parent)return new Ha(t,!0,0);const i=Vc(e.commands[0])?0:1;return function qg(e,n,t){let i=e,a=n,u=t;for(;u>a;){if(u-=a,i=i.parent,!i)throw new f.wOt(4005,!1);a=i.segments.length}return new Ha(i,!1,a-u)}(t,t.segments.length-1+i,e.numberOfDoubleDots)}(u,a,e),g=d.processChildren?oo(d.segmentGroup,d.index,u.commands):Hc(d.segmentGroup,d.index,u.commands);return pu(a,d.segmentGroup,g,t,i)}function Vc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Uo(e){return"object"==typeof e&&null!=e&&e.outlets}function pu(e,n,t,i,a){let d,u={};i&&Object.entries(i).forEach(([v,E])=>{u[v]=Array.isArray(E)?E.map(w=>`${w}`):`${E}`}),d=e===n?t:Bo(e,n,t);const g=Lo(Kg(d));return new I(g,u,a)}function Bo(e,n,t){const i={};return Object.entries(e.children).forEach(([a,u])=>{i[a]=u===n?t:Bo(u,n,t)}),new A(e.segments,i)}class Hh{constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&Vc(i[0]))throw new f.wOt(4003,!1);const a=i.find(Uo);if(a&&a!==Yi(i))throw new f.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ha{constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}}function Hc(e,n,t){if(e||(e=new A([],{})),0===e.segments.length&&e.hasChildren())return oo(e,n,t);const i=function $h(e,n,t){let i=0,a=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(i>=t.length)return u;const d=e.segments[a],g=t[i];if(Uo(g))break;const v=`${g}`,E=i<t.length-1?t[i+1]:null;if(a>0&&void 0===v)break;if(v&&E&&"object"==typeof E&&void 0===E.outlets){if(!lo(v,E,d))return u;i+=2}else{if(!lo(v,{},d))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(e,n,t),a=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const u=new A(e.segments.slice(0,i.pathIndex),{});return u.children[nt]=new A(e.segments.slice(i.pathIndex),e.children),oo(u,0,a)}return i.match&&0===a.length?new A(e.segments,{}):i.match&&!e.hasChildren()?hf(e,n,t):i.match?oo(e,0,a):hf(e,n,t)}function oo(e,n,t){if(0===t.length)return new A(e.segments,{});{const i=function jc(e){return Uo(e[0])?e[0].outlets:{[nt]:e}}(t),a={};if(Object.keys(i).some(u=>u!==nt)&&e.children[nt]&&1===e.numberOfChildren&&0===e.children[nt].segments.length){const u=oo(e.children[nt],n,t);return new A(e.segments,u.children)}return Object.entries(i).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(a[u]=Hc(e.children[u],n,d))}),Object.entries(e.children).forEach(([u,d])=>{void 0===i[u]&&(a[u]=d)}),new A(e.segments,a)}}function hf(e,n,t){const i=e.segments.slice(0,n);let a=0;for(;a<t.length;){const u=t[a];if(Uo(u)){const v=Yg(u.outlets);return new A(i,v)}if(0===a&&Vc(t[0])){i.push(new F(e.segments[n].path,ao(t[0]))),a++;continue}const d=Uo(u)?u.outlets[nt]:`${u}`,g=a<t.length-1?t[a+1]:null;d&&g&&Vc(g)?(i.push(new F(d,ao(g))),a+=2):(i.push(new F(d,{})),a++)}return new A(i,{})}function Yg(e){const n={};return Object.entries(e).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[t]=hf(new A([],{}),0,i))}),n}function ao(e){const n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function lo(e,n,t){return e==t.path&&Ur(n,t.parameters)}const gu="imperative";class bs{constructor(n,t){this.id=n,this.url=t}}class jo extends bs{constructor(n,t,i="imperative",a=null){super(n,t),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qi extends bs{constructor(n,t,i){super(n,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $c extends bs{constructor(n,t,i,a){super(n,t),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $a extends bs{constructor(n,t,i,a){super(n,t),this.reason=i,this.code=a,this.type=16}}class Ho extends bs{constructor(n,t,i,a){super(n,t),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wh extends bs{constructor(n,t,i,a){super(n,t),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wc extends bs{constructor(n,t,i,a){super(n,t),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gh extends bs{constructor(n,t,i,a,u){super(n,t),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zh extends bs{constructor(n,t,i,a){super(n,t),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends bs{constructor(n,t,i,a){super(n,t),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class py{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qh{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gy{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gc{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xg{constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yh{}class _u{constructor(n){this.url=n}}class Zg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wa,this.attachRef=null}}let Wa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const a=this.getOrCreateContext(t);a.outlet=i,this.contexts.set(t,a)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Zg,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class pf{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=gf(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){const t=gf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=mf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return mf(n,this._root).map(t=>t.value)}}function gf(e,n){if(e===n.value)return n;for(const t of n.children){const i=gf(e,t);if(i)return i}return null}function mf(e,n){if(e===n.value)return[n];for(const t of n.children){const i=mf(e,t);if(i.length)return i.unshift(n),i}return[]}class Rr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function As(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class vr extends pf{constructor(n,t){super(n),this.snapshot=t,za(this,n)}toString(){return this.snapshot.toString()}}function $o(e,n){const t=function _f(e,n){const d=new Wo([],{},{},"",{},nt,n,null,{});return new Ga("",new Rr(d,[]))}(0,n),i=new or.t([new F("",{})]),a=new or.t({}),u=new or.t({}),d=new or.t({}),g=new or.t(""),v=new Di(i,a,d,g,u,nt,n,t.root);return v.snapshot=t.root,new vr(new Rr(v,[]),t)}class Di{constructor(n,t,i,a,u,d,g,v){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=u,this.outlet=d,this.component=g,this._futureSnapshot=v,this.title=this.dataSubject?.pipe((0,Ze.T)(E=>E[La]))??(0,ze.of)(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=a,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.T)(n=>Sr(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.T)(n=>Sr(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vu(e,n="emptyOnly"){const t=e.pathFromRoot;let i=0;if("always"!==n)for(i=t.length-1;i>=1;){const a=t[i],u=t[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function zc(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Wo{get title(){return this.data?.[La]}constructor(n,t,i,a,u,d,g,v,E){this.url=n,this.params=t,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=d,this.component=g,this.routeConfig=v,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ga extends pf{constructor(n,t){super(t),this.url=n,za(this,t)}toString(){return Ts(this._root)}}function za(e,n){n.value._routerState=e,n.children.forEach(t=>za(e,t))}function Ts(e){const n=e.children.length>0?` { ${e.children.map(Ts).join(", ")} } `:"";return`${e.value}${n}`}function Kc(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ur(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ur(n.params,t.params)||e.paramsSubject.next(t.params),function uu(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ur(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ur(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function vf(e,n){const t=Ur(e.params,n.params)&&function B(e,n){return te(e,n)&&e.every((t,i)=>Ur(t.parameters,n[i].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||vf(e.parent,n.parent))}let yf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new f.bkB,this.deactivateEvents=new f.bkB,this.attachEvents=new f.bkB,this.detachEvents=new f.bkB,this.parentContexts=(0,f.WQX)(Wa),this.location=(0,f.WQX)(f.c1b),this.changeDetector=(0,f.WQX)(f.gRc),this.environmentInjector=(0,f.WQX)(f.uvJ),this.inputBinder=(0,f.WQX)(yu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:a}=t.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new f.wOt(4013,!1);this._activatedRoute=t;const a=this.location,d=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,v=new Ef(t,g,a.injector);this.activated=a.createComponent(d,{index:a.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=f.FsC({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.OA$]})}}return e})();class Ef{constructor(n,t,i){this.route=n,this.childContexts=t,this.parent=i}get(n,t){return n===Di?this.route:n===Wa?this.childContexts:this.parent.get(n,t)}}const yu=new f.nKC("");let yr=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,a=ys([i.queryParams,i.params,i.data]).pipe((0,zt.n)(([u,d,g],v)=>(g={...u,...d,...g},0===v?(0,ze.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const d=(0,f.HJs)(i.component);if(d)for(const{templateName:g}of d.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,a)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();function uo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=n.value;const a=function Jg(e,n,t){return n.children.map(i=>{for(const a of t.children)if(e.shouldReuseRoute(i.value,a.value.snapshot))return uo(e,i,a);return uo(e,i)})}(e,n,t);return new Rr(i,a)}{if(e.shouldAttach(n.value)){const u=e.retrieve(n.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=n.value,d.children=n.children.map(g=>uo(e,g)),d}}const i=function Ss(e){return new Di(new or.t(e.url),new or.t(e.params),new or.t(e.queryParams),new or.t(e.fragment),new or.t(e.data),e.outlet,e.component,e)}(n.value),a=n.children.map(u=>uo(e,u));return new Rr(i,a)}}const Cn="ngNavigationCancelingError";function Eu(e,n){const{redirectTo:t,navigationBehaviorOptions:i}=Vo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,a=qc(!1,0,n);return a.url=t,a.navigationBehaviorOptions=i,a}function qc(e,n,t){const i=new Error("NavigationCancelingError: "+(e||""));return i[Cn]=!0,i.cancellationCode=n,t&&(i.url=t),i}function Rn(e){return e&&e[Cn]}let Ka=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=f.VBU({type:e,selectors:[["ng-component"]],standalone:!0,features:[f.aNF],decls:1,vars:0,template:function(i,a){1&i&&f.nrm(0,"router-outlet")},dependencies:[yf],encapsulation:2})}}return e})();function x(e){const n=e.children&&e.children.map(x),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=Ka),t}function U(e){return e.outlet||nt}function Ie(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Xt{constructor(n,t,i,a,u){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=u}activate(n){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Kc(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){const a=As(t);n.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,a[d],i),delete a[d]}),Object.values(a).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,t,i){const a=n.value,u=t?t.value:null;if(a===u)if(a.component){const d=i.getContext(a.outlet);d&&this.deactivateChildRoutes(n,t,d.children)}else this.deactivateChildRoutes(n,t,i);else u&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const i=t.getContext(n.value.outlet),a=i&&n.value.component?i.children:t,u=As(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],a);if(i&&i.outlet){const d=i.outlet.detach(),g=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:d,route:n,contexts:g})}}deactivateRouteAndOutlet(n,t){const i=t.getContext(n.value.outlet),a=i&&n.value.component?i.children:t,u=As(n);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){const a=As(t);n.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new Gc(u.value.snapshot))}),n.children.length&&this.forwardEvent(new mu(n.value.snapshot))}activateRoutes(n,t,i){const a=n.value,u=t?t.value:null;if(Kc(a),a===u)if(a.component){const d=i.getOrCreateContext(a.outlet);this.activateChildRoutes(n,t,d.children)}else this.activateChildRoutes(n,t,i);else if(a.component){const d=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Kc(g.route.value),this.activateChildRoutes(n,null,d.children)}else{const g=Ie(a.snapshot);d.attachRef=null,d.route=a,d.injector=g,d.outlet&&d.outlet.activateWith(a,d.injector),this.activateChildRoutes(n,null,d.children)}}else this.activateChildRoutes(n,null,i)}}class jr{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class co{constructor(n,t){this.component=n,this.route=t}}function Df(e,n,t){const i=e._root;return Go(i,n?n._root:null,t,[i.value])}function Xi(e,n){const t=Symbol(),i=n.get(e,t);return i===t?"function"!=typeof e||(0,f.LfX)(e)?n.get(e):e:i}function Go(e,n,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=As(n);return e.children.forEach(d=>{(function Cu(e,n,t,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,d=n?n.value:null,g=t?t.getContext(e.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const v=function Iu(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!te(e.url,n.url);case"pathParamsOrQueryParamsChange":return!te(e.url,n.url)||!Ur(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vf(e,n)||!Ur(e.queryParams,n.queryParams);default:return!vf(e,n)}}(d,u,u.routeConfig.runGuardsAndResolvers);v?a.canActivateChecks.push(new jr(i)):(u.data=d.data,u._resolvedData=d._resolvedData),Go(e,n,u.component?g?g.children:null:t,i,a),v&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new co(g.outlet.component,d))}else d&&qa(n,g,a),a.canActivateChecks.push(new jr(i)),Go(e,null,u.component?g?g.children:null:t,i,a)})(d,u[d.value.outlet],t,i.concat([d.value]),a),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,g])=>qa(g,t.getContext(d),a)),a}function qa(e,n,t){const i=As(e),a=e.value;Object.entries(i).forEach(([u,d])=>{qa(d,a.component?n?n.children.getContext(u):null:n,t)}),t.canDeactivateChecks.push(new co(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}function zo(e){return"function"==typeof e}function yy(e){return e instanceof Cs||"EmptyError"===e?.name}const Jh=Symbol("INITIAL_VALUE");function Ya(){return(0,zt.n)(e=>ys(e.map(n=>n.pipe(Wi(1),function ko(...e){const n=(0,ei.lI)(e);return(0,Ln.N)((t,i)=>{(n?Lr(e,t,n):Lr(e,t)).subscribe(i)})}(Jh)))).pipe((0,Ze.T)(n=>{for(const t of n)if(!0!==t){if(t===Jh)return Jh;if(!1===t||t instanceof I)return t}return!0}),Vr(n=>n!==Jh),Wi(1)))}function im(e){return(0,cf.F)((0,dn.M)(n=>{if(Vo(n))throw Eu(0,n)}),(0,Ze.T)(n=>!0===n))}class Yc{constructor(n){this.segmentGroup=n||null}}class sm{constructor(n){this.urlTree=n}}function Ko(e){return Hi(new Yc(e))}function Qc(e){return Hi(new sm(e))}class tp{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new f.wOt(4002,!1)}lineralizeSegments(n,t){let i=[],a=t.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,ze.of)(i);if(a.numberOfChildren>1||!a.children[nt])return Hi(new f.wOt(4e3,!1));a=a.children[nt]}}applyRedirectCommands(n,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,i)}applyRedirectCreateUrlTree(n,t,i,a){const u=this.createSegmentGroup(n,t.root,i,a);return new I(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const i={};return Object.entries(n).forEach(([a,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);i[a]=t[g]}else i[a]=u}),i}createSegmentGroup(n,t,i,a){const u=this.createSegments(n,t.segments,i,a);let d={};return Object.entries(t.children).forEach(([g,v])=>{d[g]=this.createSegmentGroup(n,v,i,a)}),new A(u,d)}createSegments(n,t,i,a){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,a):this.findOrReturn(u,i))}findPosParam(n,t,i){const a=i[t.path.substring(1)];if(!a)throw new f.wOt(4001,!1);return a}findOrReturn(n,t){let i=0;for(const a of t){if(a.path===n.path)return t.splice(i),a;i++}return n}}const np={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function am(e,n,t,i,a){const u=wu(e,n,t);return u.matched?(i=function Qh(e,n){return e.providers&&!e._injector&&(e._injector=(0,f.Ol2)(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,i),function wy(e,n,t,i){const a=n.canMatch;if(!a||0===a.length)return(0,ze.of)(!0);const u=a.map(d=>{const g=Xi(d,e);return Ft(function Zh(e){return e&&zo(e.canMatch)}(g)?g.canMatch(n,t):e.runInContext(()=>g(n,t)))});return(0,ze.of)(u).pipe(Ya(),im())}(i,n,t).pipe((0,Ze.T)(d=>!0===d?u:{...np}))):(0,ze.of)(u)}function wu(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...np}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(n.matcher||qi)(t,e,n);if(!a)return{...np};const u={};Object.entries(a.posParams??{}).forEach(([g,v])=>{u[g]=v.path});const d=a.consumed.length>0?{...u,...a.consumed[a.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:d,positionalParamSegments:a.posParams??{}}}function Ay(e,n,t,i){return t.length>0&&function xD(e,n,t){return t.some(i=>bf(e,n,i)&&U(i)!==nt)}(e,t,i)?{segmentGroup:new A(n,PD(i,new A(t,e.children))),slicedSegments:[]}:0===t.length&&function kD(e,n,t){return t.some(i=>bf(e,n,i))}(e,t,i)?{segmentGroup:new A(e.segments,Ty(e,0,t,i,e.children)),slicedSegments:t}:{segmentGroup:new A(e.segments,e.children),slicedSegments:t}}function Ty(e,n,t,i,a){const u={};for(const d of i)if(bf(e,t,d)&&!a[U(d)]){const g=new A([],{});u[U(d)]=g}return{...a,...u}}function PD(e,n){const t={};t[nt]=n;for(const i of e)if(""===i.path&&U(i)!==nt){const a=new A([],{});t[U(i)]=a}return t}function bf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class Xc{constructor(n,t,i,a,u,d,g){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=a,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new tp(this.urlSerializer,this.urlTree)}noMatchError(n){return new f.wOt(4002,!1)}recognize(){const n=Ay(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,nt).pipe(Tr(t=>{if(t instanceof sm)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Yc?this.noMatchError(t):t}),(0,Ze.T)(t=>{const i=new Wo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),a=new Rr(i,t),u=new Ga("",a),d=function hy(e,n,t=null,i=null){return jh(so(e),n,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,nt).pipe(Tr(i=>{throw i instanceof Yc?this.noMatchError(i):i}))}inheritParamsAndData(n){const t=n.value,i=vu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,t,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,t,i):this.processSegment(n,t,i,i.segments,a,!0)}processChildren(n,t,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,cn.H)(a).pipe(Vn(u=>{const d=i.children[u],g=function pe(e,n){const t=e.filter(i=>U(i)===n);return t.push(...e.filter(i=>U(i)!==n)),t}(t,u);return this.processSegmentGroup(n,g,d,u)}),zi((u,d)=>(u.push(...d),u)),lu(null),function no(e,n){const t=arguments.length>=2;return i=>i.pipe(e?Vr((a,u)=>e(a,u,i)):Fr.D,Ki(1),t?lu(n):Pc(()=>new Cs))}(),(0,sn.Z)(u=>{if(null===u)return Ko(i);const d=VD(u);return function FD(e){e.sort((n,t)=>n.value.outlet===nt?-1:t.value.outlet===nt?1:n.value.outlet.localeCompare(t.value.outlet))}(d),(0,ze.of)(d)}))}processSegment(n,t,i,a,u,d){return(0,cn.H)(t).pipe(Vn(g=>this.processSegmentAgainstRoute(g._injector??n,t,g,i,a,u,d).pipe(Tr(v=>{if(v instanceof Yc)return(0,ze.of)(null);throw v}))),Gi(g=>!!g),Tr(g=>{if(yy(g))return function rp(e,n,t){return 0===n.length&&!e.children[t]}(i,a,u)?(0,ze.of)([]):Ko(i);throw g}))}processSegmentAgainstRoute(n,t,i,a,u,d,g){return function Sy(e,n,t,i){return!!(U(e)===i||i!==nt&&bf(n,t,e))&&("**"===e.path||wu(n,e,t).matched)}(i,a,u,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,a,i,u,d,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,a,t,i,u,d):Ko(a):Ko(a)}expandSegmentAgainstRouteUsingRedirect(n,t,i,a,u,d){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,a,d):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,a,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,i,a){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Qc(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,sn.Z)(d=>{const g=new A(d,{});return this.processSegment(n,t,g,d,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,i,a,u,d){const{matched:g,consumedSegments:v,remainingSegments:E,positionalParamSegments:w}=wu(t,a,u);if(!g)return Ko(t);const b=this.applyRedirects.applyRedirectCommands(v,a.redirectTo,w);return a.redirectTo.startsWith("/")?Qc(b):this.applyRedirects.lineralizeSegments(a,b).pipe((0,sn.Z)(R=>this.processSegment(n,i,t,R.concat(E),d,!1)))}matchSegmentAgainstRoute(n,t,i,a,u,d){let g;if("**"===i.path){const v=a.length>0?Yi(a).parameters:{},E=new Wo(a,v,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ip(i),U(i),i.component??i._loadedComponent??null,i,My(i));g=(0,ze.of)({snapshot:E,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=am(t,i,a,n).pipe((0,Ze.T)(({matched:v,consumedSegments:E,remainingSegments:w,parameters:b})=>v?{snapshot:new Wo(E,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ip(i),U(i),i.component??i._loadedComponent??null,i,My(i)),consumedSegments:E,remainingSegments:w}:null));return g.pipe((0,zt.n)(v=>null===v?Ko(t):this.getChildConfig(n=i._injector??n,i,a).pipe((0,zt.n)(({routes:E})=>{const w=i._loadedInjector??n,{snapshot:b,consumedSegments:R,remainingSegments:z}=v,{segmentGroup:L,slicedSegments:Ee}=Ay(t,R,z,E);if(0===Ee.length&&L.hasChildren())return this.processChildren(w,E,L).pipe((0,Ze.T)(qe=>null===qe?null:[new Rr(b,qe)]));if(0===E.length&&0===Ee.length)return(0,ze.of)([new Rr(b,[])]);const Me=U(i)===u;return this.processSegment(w,E,L,Ee,Me?nt:u,!0).pipe((0,Ze.T)(qe=>[new Rr(b,qe)]))}))))}getChildConfig(n,t,i){return t.children?(0,ze.of)({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?(0,ze.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dy(e,n,t,i){const a=n.canLoad;if(void 0===a||0===a.length)return(0,ze.of)(!0);const u=a.map(d=>{const g=Xi(d,e);return Ft(function tm(e){return e&&zo(e.canLoad)}(g)?g.canLoad(n,t):e.runInContext(()=>g(n,t)))});return(0,ze.of)(u).pipe(Ya(),im())}(n,t,i).pipe((0,sn.Z)(a=>a?this.configLoader.loadChildren(n,t).pipe((0,dn.M)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function om(e){return Hi(qc(!1,3))}())):(0,ze.of)({routes:[],injector:n})}}function LD(e){const n=e.value.routeConfig;return n&&""===n.path}function VD(e){const n=[],t=new Set;for(const i of e){if(!LD(i)){n.push(i);continue}const a=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),t.add(a)):n.push(i)}for(const i of t){const a=VD(i.children);n.push(new Rr(i.value,a))}return n.filter(i=>!t.has(i))}function ip(e){return e.data||{}}function My(e){return e.resolve||{}}function cm(e){return"string"==typeof e.title||null===e.title}function dm(e){return(0,zt.n)(n=>{const t=e(n);return t?(0,cn.H)(t).pipe((0,Ze.T)(()=>n)):(0,ze.of)(n)})}const Jc=new f.nKC("ROUTES");let fm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,f.WQX)(f.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ze.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Ft(t.loadComponent()).pipe((0,Ze.T)(qo),(0,dn.M)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Is(()=>{this.componentLoaders.delete(t)})),a=new au(i,()=>new Ar.B).pipe(Oc());return this.componentLoaders.set(t,a),a}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ze.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function UD(e,n,t,i){return Ft(e.loadChildren()).pipe((0,Ze.T)(qo),(0,sn.Z)(a=>a instanceof f.Co$||Array.isArray(a)?(0,ze.of)(a):(0,cn.H)(n.compileModuleAsync(a))),(0,Ze.T)(a=>{i&&i(e);let u,d,g=!1;return Array.isArray(a)?(d=a,!0):(u=a.create(t).injector,d=u.get(Jc,[],{optional:!0,self:!0}).flat()),{routes:d.map(x),injector:u}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(Is(()=>{this.childrenLoaders.delete(i)})),d=new au(u,()=>new Ar.B).pipe(Oc());return this.childrenLoaders.set(i,d),d}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qo(e){return function BD(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Qa=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ar.B,this.transitionAbortSubject=new Ar.B,this.configLoader=(0,f.WQX)(fm),this.environmentInjector=(0,f.WQX)(f.uvJ),this.urlSerializer=(0,f.WQX)(De),this.rootContexts=(0,f.WQX)(Wa),this.inputBindingEnabled=null!==(0,f.WQX)(yu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new qh(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new py(a))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,a){return this.transitions=new or.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gu,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vr(u=>0!==u.id),(0,Ze.T)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,zt.n)(u=>{this.currentTransition=u;let d=!1,g=!1;return(0,ze.of)(u).pipe((0,dn.M)(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zt.n)(v=>{const E=v.currentBrowserUrl.toString(),w=!t.navigated||v.extractedUrl.toString()!==E||E!==v.currentUrlTree.toString();if(!w&&"reload"!==(v.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const R="";return this.events.next(new $a(v.id,this.urlSerializer.serialize(v.rawUrl),R,0)),v.resolve(null),$i.w}if(t.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,ze.of)(v).pipe((0,zt.n)(R=>{const z=this.transitions?.getValue();return this.events.next(new jo(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),z!==this.transitions?.getValue()?$i.w:Promise.resolve(R)}),function Zc(e,n,t,i,a,u){return(0,sn.Z)(d=>function lm(e,n,t,i,a,u,d="emptyOnly"){return new Xc(e,n,t,i,a,d,u).recognize()}(e,n,t,i,d.extractedUrl,a,u).pipe((0,Ze.T)(({state:g,tree:v})=>({...d,targetSnapshot:g,urlAfterRedirects:v}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,dn.M)(R=>{u.targetSnapshot=R.targetSnapshot,u.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const z=new Wh(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(z)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:R,extractedUrl:z,source:L,restoredState:Ee,extras:Me}=v,qe=new jo(R,this.urlSerializer.serialize(z),L,Ee);this.events.next(qe);const _t=$o(0,this.rootComponentType).snapshot;return this.currentTransition=u={...v,targetSnapshot:_t,urlAfterRedirects:z,extras:{...Me,skipLocationChange:!1,replaceUrl:!1}},(0,ze.of)(u)}{const R="";return this.events.next(new $a(v.id,this.urlSerializer.serialize(v.extractedUrl),R,1)),v.resolve(null),$i.w}}),(0,dn.M)(v=>{const E=new Wc(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(E)}),(0,Ze.T)(v=>(this.currentTransition=u={...v,guards:Df(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},u)),function Ey(e,n){return(0,sn.Z)(t=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,ze.of)({...t,guardsResult:!0}):function Du(e,n,t,i){return(0,cn.H)(e).pipe((0,sn.Z)(a=>function OD(e,n,t,i,a){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ze.of)(!0);const d=u.map(g=>{const v=Ie(n)??a,E=Xi(g,v);return Ft(function _y(e){return e&&zo(e.canDeactivate)}(E)?E.canDeactivate(e,n,t,i):v.runInContext(()=>E(e,n,t,i))).pipe(Gi())});return(0,ze.of)(d).pipe(Ya())}(a.component,a.route,t,n,i)),Gi(a=>!0!==a,!0))}(d,i,a,e).pipe((0,sn.Z)(g=>g&&function Xh(e){return"boolean"==typeof e}(g)?function Cy(e,n,t,i){return(0,cn.H)(n).pipe(Vn(a=>Lr(function ND(e,n){return null!==e&&n&&n(new gy(e)),(0,ze.of)(!0)}(a.route.parent,i),function Iy(e,n){return null!==e&&n&&n(new Qg(e)),(0,ze.of)(!0)}(a.route,i),function ep(e,n,t){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(d=>function fo(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(d)).filter(d=>null!==d).map(d=>xa(()=>{const g=d.guards.map(v=>{const E=Ie(d.node)??t,w=Xi(v,E);return Ft(function nm(e){return e&&zo(e.canActivateChild)}(w)?w.canActivateChild(i,e):E.runInContext(()=>w(i,e))).pipe(Gi())});return(0,ze.of)(g).pipe(Ya())}));return(0,ze.of)(u).pipe(Ya())}(e,a.path,t),function fA(e,n,t){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ze.of)(!0);const a=i.map(u=>xa(()=>{const d=Ie(n)??t,g=Xi(u,d);return Ft(function wf(e){return e&&zo(e.canActivate)}(g)?g.canActivate(n,e):d.runInContext(()=>g(n,e))).pipe(Gi())}));return(0,ze.of)(a).pipe(Ya())}(e,a.route,t))),Gi(a=>!0!==a,!0))}(i,u,e,n):(0,ze.of)(g)),(0,Ze.T)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,v=>this.events.next(v)),(0,dn.M)(v=>{if(u.guardsResult=v.guardsResult,Vo(v.guardsResult))throw Eu(0,v.guardsResult);const E=new Gh(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(E)}),Vr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),dm(v=>{if(v.guards.canActivateChecks.length)return(0,ze.of)(v).pipe((0,dn.M)(E=>{const w=new zh(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(w)}),(0,zt.n)(E=>{let w=!1;return(0,ze.of)(E).pipe(function sp(e,n){return(0,sn.Z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,ze.of)(t);let u=0;return(0,cn.H)(a).pipe(Vn(d=>function um(e,n,t,i){const a=e.routeConfig,u=e._resolve;return void 0!==a?.title&&!cm(a)&&(u[La]=a.title),function Ry(e,n,t,i){const a=function Ny(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===a.length)return(0,ze.of)({});const u={};return(0,cn.H)(a).pipe((0,sn.Z)(d=>function Oy(e,n,t,i){const a=Ie(n)??i,u=Xi(e,a);return Ft(u.resolve?u.resolve(n,t):a.runInContext(()=>u(n,t)))}(e[d],n,t,i).pipe(Gi(),(0,dn.M)(g=>{u[d]=g}))),Ki(1),function Fa(e){return(0,Ze.T)(()=>e)}(u),Tr(d=>yy(d)?$i.w:Hi(d)))}(u,e,n,i).pipe((0,Ze.T)(d=>(e._resolvedData=d,e.data=vu(e,t).resolve,a&&cm(a)&&(e.data[La]=a.title),null)))}(d.route,i,e,n)),(0,dn.M)(()=>u++),Ki(1),(0,sn.Z)(d=>u===a.length?(0,ze.of)(t):$i.w))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,dn.M)({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(E,"",2)}}))}),(0,dn.M)(E=>{const w=new Kh(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(w)}))}),dm(v=>{const E=w=>{const b=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,dn.M)(R=>{w.component=R}),(0,Ze.T)(()=>{})));for(const R of w.children)b.push(...E(R));return b};return ys(E(v.targetSnapshot.root)).pipe(lu(),Wi(1))}),dm(()=>this.afterPreactivation()),(0,Ze.T)(v=>{const E=function Cf(e,n,t){const i=uo(e,n._root,t?t._root:void 0);return new vr(i,n)}(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=u={...v,targetRouterState:E},u}),(0,dn.M)(()=>{this.events.next(new Yh)}),((e,n,t,i)=>(0,Ze.T)(a=>(new Xt(n,a.targetRouterState,a.currentRouterState,t,i).activate(e),a)))(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Wi(1),(0,dn.M)({next:v=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qi(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),t.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{d=!0}}),function xc(e){return(0,Ln.N)((n,t)=>{(0,ji.Tg)(e).subscribe((0,Dt._)(t,()=>t.complete(),Fo.l)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe((0,dn.M)(v=>{throw v}))),Is(()=>{d||g||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Tr(v=>{if(g=!0,Rn(v))this.events.next(new $c(u.id,this.urlSerializer.serialize(u.extractedUrl),v.message,v.cancellationCode)),function If(e){return Rn(e)&&Vo(e.url)}(v)?this.events.next(new _u(v.url)):u.resolve(!1);else{this.events.next(new Ho(u.id,this.urlSerializer.serialize(u.extractedUrl),v,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(v))}catch(E){u.reject(E)}}return $i.w}))}))}cancelNavigationTransition(t,i,a){const u=new $c(t.id,this.urlSerializer.serialize(t.extractedUrl),i,a);this.events.next(u),t.resolve(!1)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Py(e){return e!==gu}let jD=(()=>{class e{buildTitle(t){let i,a=t.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(u=>u.outlet===nt);return i}getResolvedTitleForRoute(t){return t.data[La]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return(0,f.WQX)(pA)},providedIn:"root"})}}return e})(),pA=(()=>{class e extends jD{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(Ro))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gA=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return(0,f.WQX)(_A)},providedIn:"root"})}}return e})();class mA{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let _A=(()=>{class e extends mA{static{this.\u0275fac=function(){let t;return function(a){return(t||(t=f.xGo(e)))(a||e)}}()}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Af=new f.nKC("",{providedIn:"root",factory:()=>({})});let HD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:function(){return(0,f.WQX)($D)},providedIn:"root"})}}return e})(),$D=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Tf=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Tf||{});function xy(e,n){e.events.pipe(Vr(t=>t instanceof Qi||t instanceof $c||t instanceof Ho||t instanceof $a),(0,Ze.T)(t=>t instanceof Qi||t instanceof $a?Tf.COMPLETE:t instanceof $c&&(0===t.code||1===t.code)?Tf.REDIRECTING:Tf.FAILED),Vr(t=>t!==Tf.REDIRECTING),Wi(1)).subscribe(()=>{n()})}function hm(e){throw e}function Yo(e,n,t){return n.parse("/")}const Sf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ky={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.WQX)(f.H3F),this.isNgZoneEnabled=!1,this._events=new Ar.B,this.options=(0,f.WQX)(Af,{optional:!0})||{},this.pendingTasks=(0,f.WQX)(f.$K3),this.errorHandler=this.options.errorHandler||hm,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.WQX)(HD),this.routeReuseStrategy=(0,f.WQX)(gA),this.titleStrategy=(0,f.WQX)(jD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,f.WQX)(Jc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,f.WQX)(Qa),this.urlSerializer=(0,f.WQX)(De),this.location=(0,f.WQX)(be),this.componentInputBindingEnabled=!!(0,f.WQX)(yu,{optional:!0}),this.eventsSubscription=new Nc.yU,this.isNgZoneEnabled=(0,f.WQX)(f.SKi)instanceof f.SKi&&f.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new I,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$o(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(WD(i)&&this._events.next(i));if(i instanceof jo)Py(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof $a)this.rawUrlTree=a.rawUrl;else if(i instanceof Wh){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(u,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof Yh)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof $c)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof _u){const u=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),d={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Py(a.source)};this.scheduleNavigation(u,gu,null,d,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Ho&&this.restoreHistory(a,!0),i instanceof Qi&&(this.navigated=!0),WD(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,a){const u={replaceUrl:!0},d=a?.navigationId?a:null;if(a){const v={...a};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(u.state=v)}const g=this.parseUrl(t);this.scheduleNavigation(g,i,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(x),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:a,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:v}=i,E=v?this.currentUrlTree.fragment:d;let b,w=null;switch(g){case"merge":w={...this.currentUrlTree.queryParams,...u};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=u||null}null!==w&&(w=this.removeEmptyProps(w));try{b=so(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),b=this.currentUrlTree.root}return jh(b,t,w,E??null)}navigateByUrl(t,i={skipLocationChange:!1}){const a=Vo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,gu,null,i)}navigate(t,i={skipLocationChange:!1}){return function Fy(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new f.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return i}isActive(t,i){let a;if(a=!0===i?{...Sf}:!1===i?{...ky}:i,Vo(t))return cu(this.currentUrlTree,t,a);const u=this.parseUrl(t);return cu(this.currentUrlTree,u,a)}removeEmptyProps(t){return Object.keys(t).reduce((i,a)=>{const u=t[a];return null!=u&&(i[a]=u),i},{})}scheduleNavigation(t,i,a,u,d){if(this.disposed)return Promise.resolve(!1);let g,v,E;d?(g=d.resolve,v=d.reject,E=d.promise):E=new Promise((b,R)=>{g=b,v=R});const w=this.pendingTasks.add();return xy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:g,reject:v,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(b=>Promise.reject(b))}setBrowserUrl(t,i){const a=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",d)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",u)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function WD(e){return!(e instanceof Yh||e instanceof _u)}class op{}let Vy=(()=>{class e{constructor(t,i,a,u,d){this.router=t,this.injector=a,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Vr(t=>t instanceof Qi),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const a=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,f.Ol2)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,g=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&a.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&a.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,cn.H)(a).pipe((0,Bi.U)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,ze.of)(null);const u=a.pipe((0,sn.Z)(d=>null===d?(0,ze.of)(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,cn.H)([u,d]).pipe((0,Bi.U)())}return u})}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(wi),f.KVO(f.Ql9),f.KVO(f.uvJ),f.KVO(op),f.KVO(fm))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const gm=new f.nKC("");let Uy=(()=>{class e{constructor(t,i,a,u,d={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=a,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof $a&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Xg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){f.QTQ()}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac})}}return e})();function ho(e,n){return{\u0275kind:e,\u0275providers:n}}function bu(){const e=(0,f.WQX)(f.zZn);return n=>{const t=e.get(f.o8S);if(n!==t.components[0])return;const i=e.get(wi),a=e.get(Hy);1===e.get(mm)&&i.initialNavigation(),e.get(Gy,null,f.$GK.Optional)?.setUpPreloading(),e.get(gm,null,f.$GK.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const Hy=new f.nKC("",{factory:()=>new Ar.B}),mm=new f.nKC("",{providedIn:"root",factory:()=>1}),Gy=new f.nKC("");function GD(e){return ho(0,[{provide:Gy,useExisting:Vy},{provide:op,useExisting:e}])}const ed=new f.nKC("ROUTER_FORROOT_GUARD"),zy=[be,{provide:De,useClass:Le},wi,Wa,{provide:Di,useFactory:function By(e){return e.routerState.root},deps:[wi]},fm,[]];function Ky(){return new f.NEm("Router",wi)}let _m=(()=>{class e{constructor(t){}static forRoot(t,i){return{ngModule:e,providers:[zy,[],{provide:Jc,multi:!0,useValue:t},{provide:ed,useFactory:Qy,deps:[[wi,new f.Xx1,new f.kdw]]},{provide:Af,useValue:i||{}},i?.useHash?{provide:Ce,useClass:ge}:{provide:Ce,useClass:Te},{provide:gm,useFactory:()=>{const e=(0,f.WQX)(er),n=(0,f.WQX)(f.SKi),t=(0,f.WQX)(Af),i=(0,f.WQX)(Qa),a=(0,f.WQX)(De);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Uy(a,i,e,n,t)}},i?.preloadingStrategy?GD(i.preloadingStrategy).\u0275providers:[],{provide:f.NEm,multi:!0,useFactory:Ky},i?.initialNavigation?up(i):[],i?.bindToComponentInputs?ho(8,[yr,{provide:yu,useExisting:yr}]).\u0275providers:[],[{provide:qD,useFactory:bu},{provide:f.iLQ,multi:!0,useExisting:qD}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Jc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(ed,8))}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({})}}return e})();function Qy(e){return"guarded"}function up(e){return["disabled"===e.initialNavigation?ho(3,[{provide:f.hnV,multi:!0,useFactory:()=>{const n=(0,f.WQX)(wi);return()=>{n.setUpLocationChangeListener()}}},{provide:mm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ho(2,[{provide:mm,useValue:0},{provide:f.hnV,multi:!0,deps:[f.zZn],useFactory:n=>{const t=n.get(me,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const a=n.get(wi),u=n.get(Hy);xy(a,()=>{i(!0)}),n.get(Qa).afterPreactivation=()=>(i(!0),u.closed?(0,ze.of)(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const qD=new f.nKC("");var bi=T(4783),cp=T(3236),ym=T(7786),dp=T(7647),fp=T(3294),ti=T(1161),XD=(T(6922),T(3345)),Xa=T(1362),Ai=T(467),Au=T(7852),M=T(1076),hp=T(8041);const pp="@firebase/database";let Cm="";function Im(e){Cm=e}class Dm{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,M.As)(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:(0,M.$L)(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class SA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return(0,M.gR)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const ZD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Dm(n)}}catch{}return new SA},Tu=ZD("localStorage"),wm=ZD("sessionStorage"),Mf=new hp.Vy("@firebase/database"),JD=function(){let e=1;return function(){return e++}}(),Rf=function(e){const n=(0,M.kj)(e),t=new M.gz;t.update(n);const i=t.digest();return M.K3.encodeByteArray(i)},Nf=function(...e){let n="";for(let t=0;t<e.length;t++){const i=e[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Nf.apply(null,i):n+="object"==typeof i?(0,M.As)(i):i,n+=" "}return n};let Qo=null,gp=!0;const Su=function(e,n){(0,M.vA)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Mf.logLevel=hp.$b.VERBOSE,Qo=Mf.log.bind(Mf),n&&wm.set("logging_enabled",!0)):"function"==typeof e?Qo=e:(Qo=null,wm.remove("logging_enabled"))},Un=function(...e){if(!0===gp&&(gp=!1,null===Qo&&!0===wm.get("logging_enabled")&&Su(!0)),Qo){const n=Nf.apply(null,e);Qo(n)}},Mu=function(e){return function(...n){Un(e,...n)}},Ru=function(...e){const n="FIREBASE INTERNAL ERROR: "+Nf(...e);Mf.error(n)},Ti=function(...e){const n=`FIREBASE FATAL ERROR: ${Nf(...e)}`;throw Mf.error(n),new Error(n)},Nn=function(...e){const n="FIREBASE WARNING: "+Nf(...e);Mf.warn(n)},rd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Nu="[MIN_NAME]",Ms="[MAX_NAME]",Rs=function(e,n){if(e===n)return 0;if(e===Nu||n===Ms)return-1;if(n===Nu||e===Ms)return 1;{const t=Jy(e),i=Jy(n);return null!==t?null!==i?t-i==0?e.length-n.length:t-i:-1:null!==i?1:e<n?-1:1}},e0=function(e,n){return e===n?0:e<n?-1:1},id=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+(0,M.As)(n))},Am=function(e){if("object"!=typeof e||null===e)return(0,M.As)(e);const n=[];for(const i in e)n.push(i);n.sort();let t="{";for(let i=0;i<n.length;i++)0!==i&&(t+=","),t+=(0,M.As)(n[i]),t+=":",t+=Am(e[n[i]]);return t+="}",t},Zy=function(e,n){const t=e.length;if(t<=n)return[e];const i=[];for(let a=0;a<t;a+=n)i.push(e.substring(a,a+n>t?t:a+n));return i};function Bn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const Tm=function(e){(0,M.vA)(!rd(e),"Invalid JSON number");const i=1023;let a,u,d,g,v;0===e?(u=0,d=0,a=1/e==-1/0?1:0):(a=e<0,(e=Math.abs(e))>=Math.pow(2,1-i)?(g=Math.min(Math.floor(Math.log(e)/Math.LN2),i),u=g+i,d=Math.round(e*Math.pow(2,52-g)-Math.pow(2,52))):(u=0,d=Math.round(e/Math.pow(2,-1074))));const E=[];for(v=52;v;v-=1)E.push(d%2?1:0),d=Math.floor(d/2);for(v=11;v;v-=1)E.push(u%2?1:0),u=Math.floor(u/2);E.push(a?1:0),E.reverse();const w=E.join("");let b="";for(v=0;v<64;v+=8){let R=parseInt(w.substr(v,8),2).toString(16);1===R.length&&(R="0"+R),b+=R}return b.toLowerCase()},r0=new RegExp("^-?(0*)\\d{1,10}$"),Jy=function(e){if(r0.test(e)){const n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},Ou=function(e){try{e()}catch(n){setTimeout(()=>{throw Nn("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Za=function(e,n){const t=setTimeout(e,n);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class s0{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Nn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class eE{constructor(n,t,i){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,i):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nn(n)}}let Of=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const Pu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iE="websocket",sE="long_polling";class Rm{constructor(n,t,i,a,u=!1,d="",g=!1,v=!1){this.secure=t,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=d,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tu.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Tu.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Nm(e,n,t){let i;if((0,M.vA)("string"==typeof n,"typeof type must == string"),(0,M.vA)("object"==typeof t,"typeof params must == object"),n===iE)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==sE)throw new Error("Unknown connection type: "+n);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function oE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const a=[];return Bn(t,(u,d)=>{a.push(u+"="+d)}),i+a.join("&")}class Om{constructor(){this.counters_={}}incrementCounter(n,t=1){(0,M.gR)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return(0,M.A4)(this.counters_)}}const aE={},kf={};function yp(e){const n=e.toString();return aE[n]||(aE[n]=new Om),aE[n]}class l0{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&Ou(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class go{constructor(n,t,i,a,u,d,g){this.connId=n,this.repoInfo=t,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=d,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mu(n),this.stats_=yp(t),this.urlFn=v=>(this.appCheckToken&&(v.ac=this.appCheckToken),Nm(t,sE,v))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new l0(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,M.$g)()||"complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zi((...u)=>{const[d,g,v,E,w]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=g,this.password=v;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[d,g]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(d,g)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Pu.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){go.forceAllow_=!0}static forceDisallow(){go.forceDisallow_=!0}static isAvailable(){return!((0,M.$g)()||!go.forceAllow_&&(go.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=(0,M.As)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,M.KA)(t),a=Zy(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if((0,M.$g)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=(0,M.As)(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Zi{constructor(n,t,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,M.$g)())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=JD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Zi.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(g){Un("frame writing exception"),g.stack&&Un(g.stack),Un(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Un("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const d=this.pendingSegs.shift();i=i+"&seg"+a+"="+d.seg+"&ts"+a+"="+d.ts+"&d"+a+"="+d.d,a++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,i){this.pendingSegs.push({seg:n,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),i()})}addTag(n,t){(0,M.$g)()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Un("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Fm=null;typeof MozWebSocket<"u"?Fm=MozWebSocket:typeof WebSocket<"u"&&(Fm=WebSocket);let fn=(()=>{class e{constructor(t,i,a,u,d,g,v){this.connId=t,this.applicationId=a,this.appCheckToken=u,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mu(this.connId),this.stats_=yp(i),this.connURL=e.connectionURL_(i,g,v,u,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,u,d){const g={v:"5"};return!(0,M.$g)()&&typeof location<"u"&&location.hostname&&Pu.test(location.hostname)&&(g.r="f"),i&&(g.s=i),a&&(g.ls=a),u&&(g.ac=u),d&&(g.p=d),Nm(t,iE,g)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tu.set("previous_websocket_failure",!0);try{let a;if((0,M.$g)()){a={headers:{"User-Agent":`Firebase/5/${Cm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,g=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;g&&(a.proxy={origin:g})}this.mySock=new Fm(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&null!==Fm&&!e.forceDisallow_}static previouslyFailed(){return Tu.isInMemoryStorage||!0===Tu.get("previous_websocket_failure")}markConnectionHealthy(){Tu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,M.$L)(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,M.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=(0,M.As)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Zy(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),hE=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[go,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=fn&&fn.isAvailable();let a=i&&!fn.previouslyFailed();if(t.webSocketOnly&&(i||Nn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[fn];else{const u=this.transports_=[];for(const d of e.ALL_TRANSPORTS)d&&d.isAvailable()&&u.push(d);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class mo{constructor(n,t,i,a,u,d,g,v,E,w){this.id=n,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=d,this.onReady_=g,this.onDisconnect_=v,this.onKill_=E,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mu("c:"+this.id+":"),this.transportManager_=new hE(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=Za(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=id("t",n),i=id("d",n);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=id("t",n),i=id("d",n);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=id("t",n);if("d"in n){const i=n.d;if("h"===t){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?Ru("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ru("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,i=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Nn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Za(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Za(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xu{put(n,t,i,a){}merge(n,t,i,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,i){}onDisconnectMerge(n,t,i){}onDisconnectCancel(n,t){}reportStats(n){}}class vE{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,M.vA)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,t)}}on(n,t,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:i});const a=this.getInitialEvent(n);a&&t.apply(i,a)}off(n,t,i){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let u=0;u<a.length;u++)if(a[u].callback===t&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(n){(0,M.vA)(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class Cp extends vE{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,M.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cp}getInitialEvent(n){return(0,M.vA)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Rt{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function It(){return new Rt("")}function ft(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Zo(e){return e.pieces_.length-e.pieceNum_}function Ut(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Rt(e.pieces_,n)}function Wm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Lf(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function yE(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Rt(n,0)}function Zt(e,n){const t=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);if(n instanceof Rt)for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);else{const i=n.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&t.push(i[a])}return new Rt(t,0)}function yt(e){return e.pieceNum_>=e.pieces_.length}function Hr(e,n){const t=ft(e),i=ft(n);if(null===t)return n;if(t===i)return Hr(Ut(e),Ut(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function NA(e,n){const t=Lf(e,0),i=Lf(n,0);for(let a=0;a<t.length&&a<i.length;a++){const u=Rs(t[a],i[a]);if(0!==u)return u}return t.length===i.length?0:t.length<i.length?-1:1}function EE(e,n){if(Zo(e)!==Zo(n))return!1;for(let t=e.pieceNum_,i=n.pieceNum_;t<=e.pieces_.length;t++,i++)if(e.pieces_[t]!==n.pieces_[i])return!1;return!0}function Si(e,n){let t=e.pieceNum_,i=n.pieceNum_;if(Zo(e)>Zo(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[i])return!1;++t,++i}return!0}class CE{constructor(n,t){this.errorPrefix_=t,this.parts_=Lf(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,M.OE)(this.parts_[i]);Gm(this)}}function Gm(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ja(e))}function Ja(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class zm extends vE{constructor(){let n,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new zm}getInitialEvent(n){return(0,M.vA)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const ad=1e3;let ud,ku=(()=>{class e extends xu{constructor(t,i,a,u,d,g,v,E){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=d,this.authTokenProvider_=g,this.appCheckTokenProvider_=v,this.authOverride_=E,this.id=e.nextPersistentConnectionId_++,this.log_=Mu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ad,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,E&&!(0,M.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zm.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Cp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const u=++this.requestNumber_,d={r:u,a:t,b:i};this.log_((0,M.As)(d)),(0,M.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),a&&(this.requestCBHash_[u]=a)}get(t){this.initConnection_();const i=new M.cY,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:g=>{const v=g.d;"ok"===g.s?i.resolve(v):i.reject(v)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,a,u){this.initConnection_();const d=t._queryIdentifier,g=t._path.toString();this.log_("Listen called for "+g+" "+d),this.listens.has(g)||this.listens.set(g,new Map),(0,M.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,M.vA)(!this.listens.get(g).has(d),"listen() called twice for same path/queryId.");const v={onComplete:u,hashFn:i,query:t,tag:a};this.listens.get(g).set(d,v),this.connected_&&this.sendListen_(v)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const d={p:a};t.tag&&(d.q=i._queryObject,d.t=t.tag),d.h=t.hashFn(),this.sendRequest("q",d,v=>{const E=v.d,w=v.s;e.warnOnListenWarnings_(E,i),(this.listens.get(a)&&this.listens.get(a).get(u))===t&&(this.log_("listen response",v),"ok"!==w&&this.removeListen_(a,u),t.onComplete&&t.onComplete(w,E))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,M.gR)(t,"w")){const a=(0,M.yw)(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',d=i._path.toString();Nn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,M.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,M.Cv)(t)?"auth":"gauth",a={cred:t};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const d=u.s,g=u.d||"error";this.authToken_===t&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,g))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,M.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,t._queryObject,i)}sendUnlisten_(t,i,a,u){this.log_("Unlisten on "+t+" for "+i);const d={p:t};u&&(d.q=a,d.t=u),this.sendRequest("n",d)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,u){const d={p:i,d:a};this.log_("onDisconnect "+t,d),this.sendRequest(t,d,g=>{u&&setTimeout(()=>{u(g.s,g.d)},Math.floor(0))})}put(t,i,a,u){this.putInternal("p",t,i,a,u)}merge(t,i,a,u){this.putInternal("m",t,i,a,u)}putInternal(t,i,a,u,d){this.initConnection_();const g={p:i,d:a};void 0!==d&&(g.h=d),this.outstandingPuts_.push({action:t,request:g,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,d=>{this.log_(i+" response",d),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(d.s,d.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,M.As)(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):Ru("Unrecognized action received from server: "+(0,M.As)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,M.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ai.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),a=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),d=t.id+":"+e.nextConnectionId_++,g=t.lastSessionId;let v=!1,E=null;const w=function(){E?E.close():(v=!0,u())};t.realtime_={close:w,sendRequest:function(z){(0,M.vA)(E,"sendRequest call when we're not connected not allowed."),E.sendRequest(z)}};const R=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[z,L]=yield Promise.all([t.authTokenProvider_.getToken(R),t.appCheckTokenProvider_.getToken(R)]);v?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),t.authToken_=z&&z.accessToken,t.appCheckToken_=L&&L.token,E=new mo(d,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,a,u,Ee=>{Nn(Ee+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},g))}catch(z){t.log_("Failed to get token: "+z),v||(t.repoInfo_.nodeAdmin&&Nn(z),w())}}})()}interrupt(t){Un("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Un("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,M.Im)(this.interruptReasons_)&&(this.reconnectDelay_=ad,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;a=i?i.map(d=>Am(d)).join("$"):"default";const u=this.removeListen_(t,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,i){const a=new Rt(t).toString();let u;if(this.listens.has(a)){const d=this.listens.get(a);u=d.get(i),d.delete(i),0===d.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(t,i){Un("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Un("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,M.$g)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+Cm.replace(/\./g,"-")]=1,(0,M.jZ)()?t["framework.cordova"]=1:(0,M.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Cp.getInstance().currentlyOnline();return(0,M.Im)(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class gt{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new gt(n,t)}}class Jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const i=new gt(Nu,n),a=new gt(Nu,t);return 0!==this.compare(i,a)}minPost(){return gt.MIN}}class cd extends Jo{static get __EMPTY_NODE(){return ud}static set __EMPTY_NODE(n){ud=n}compare(n,t){return Rs(n.name,t.name)}isDefinedOn(n){throw(0,M.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return gt.MIN}maxPost(){return new gt(Ms,ud)}makePost(n,t){return(0,M.vA)("string"==typeof n,"KeyIndex indexValue must always be a string."),new gt(n,ud)}toString(){return".key"}}const Os=new cd;class dd{constructor(n,t,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(d=t?i(n.key,t):1,a&&(d*=-1),d<0)n=this.isReverse_?n.left:n.right;else{if(0===d){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Xm,Mi=(()=>{class e{constructor(t,i,a,u,d){this.key=t,this.value=i,this.color=a??e.RED,this.left=u??$r.EMPTY_NODE,this.right=d??$r.EMPTY_NODE}copy(t,i,a,u,d){return new e(t??this.key,i??this.value,a??this.color,u??this.left,d??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let u=this;const d=a(t,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(t,i,a),null):0===d?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return $r.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,u;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(t,a.key)){if(a.right.isEmpty())return $r.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class $r{constructor(n,t=$r.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new $r(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,Mi.BLACK,null,null))}remove(n){return new $r(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Mi.BLACK,null,null))}get(n){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(n){let t,i=this.root_,a=null;for(;!i.isEmpty();){if(t=this.comparator_(n,i.key),0===t){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new dd(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new dd(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new dd(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new dd(this.root_,null,this.comparator_,!0,n)}}function Ym(e,n){return Rs(e.name,n.name)}function Qm(e,n){return Rs(e,n)}$r.EMPTY_NODE=new class qm{copy(n,t,i,a,u){return this}insert(n,t,i){return new Mi(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zm=function(e){return"number"==typeof e?"number:"+Tm(e):"string:"+e},bE=function(e){if(e.isLeafNode()){const n=e.val();(0,M.vA)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,M.gR)(n,".sv"),"Priority must be a string or number.")}else(0,M.vA)(e===Xm||e.isEmpty(),"priority of unexpected type.");(0,M.vA)(e===Xm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let AE,TE,Jm,fd=(()=>{class e{constructor(t,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,M.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),bE(this.priorityNode_)}static set __childrenNodeConstructor(t){AE=t}static get __childrenNodeConstructor(){return AE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return yt(t)?this:".priority"===ft(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=ft(t);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,M.vA)(".priority"!==a||1===Zo(t),".priority must be the last token in a path"),this.updateImmediateChild(a,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Zm(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?Tm(this.value_):this.value_,this.lazyHash_=Rf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,M.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,u=e.VALUE_TYPE_ORDER.indexOf(i),d=e.VALUE_TYPE_ORDER.indexOf(a);return(0,M.vA)(u>=0,"Unknown leaf type: "+i),(0,M.vA)(d>=0,"Unknown leaf type: "+a),u===d?"object"===a?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:d-u}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Et=new class I0 extends Jo{compare(n,t){const i=n.node.getPriority(),a=t.node.getPriority(),u=i.compareTo(a);return 0===u?Rs(n.name,t.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return gt.MIN}maxPost(){return new gt(Ms,new fd("[PRIORITY-POST]",Jm))}makePost(n,t){const i=TE(n);return new gt(t,new fd("[PRIORITY-POST]",i))}toString(){return".priority"}},D0=Math.log(2);class w0{constructor(n){this.count=parseInt(Math.log(n+1)/D0,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const e_=function(e,n,t,i){e.sort(n);const a=function(v,E){const w=E-v;let b,R;if(0===w)return null;if(1===w)return b=e[v],R=t?t(b):b,new Mi(R,b.node,Mi.BLACK,null,null);{const z=parseInt(w/2,10)+v,L=a(v,z),Ee=a(z+1,E);return b=e[z],R=t?t(b):b,new Mi(R,b.node,Mi.BLACK,L,Ee)}},g=function(v){let E=null,w=null,b=e.length;const R=function(L,Ee){const Me=b-L,qe=b;b-=L;const _t=a(Me+1,qe),Kt=e[Me],St=t?t(Kt):Kt;z(new Mi(St,Kt.node,Ee,null,_t))},z=function(L){E?(E.left=L,E=L):(w=L,E=L)};for(let L=0;L<v.count;++L){const Ee=v.nextBitIsOne(),Me=Math.pow(2,v.count-(L+1));Ee?R(Me,Mi.BLACK):(R(Me,Mi.BLACK),R(Me,Mi.RED))}return w}(new w0(e.length));return new $r(i||n,g)};let Vf;const Fu={};class ea{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return(0,M.vA)(Fu&&Et,"ChildrenNode.ts has not been loaded"),Vf=Vf||new ea({".priority":Fu},{".priority":Et}),Vf}get(n){const t=(0,M.yw)(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof $r?t:null}hasIndex(n){return(0,M.gR)(this.indexSet_,n.toString())}addIndex(n,t){(0,M.vA)(n!==Os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=t.getIterator(gt.Wrap);let g,d=u.getNext();for(;d;)a=a||n.isDefinedOn(d.node),i.push(d),d=u.getNext();g=a?e_(i,n.getCompare()):Fu;const v=n.toString(),E=Object.assign({},this.indexSet_);E[v]=n;const w=Object.assign({},this.indexes_);return w[v]=g,new ea(w,E)}addToIndexes(n,t){const i=(0,M.kH)(this.indexes_,(a,u)=>{const d=(0,M.yw)(this.indexSet_,u);if((0,M.vA)(d,"Missing index implementation for "+u),a===Fu){if(d.isDefinedOn(n.node)){const g=[],v=t.getIterator(gt.Wrap);let E=v.getNext();for(;E;)E.name!==n.name&&g.push(E),E=v.getNext();return g.push(n),e_(g,d.getCompare())}return Fu}{const g=t.get(n.name);let v=a;return g&&(v=v.remove(new gt(n.name,g))),v.insert(n,n.node)}});return new ea(i,this.indexSet_)}removeFromIndexes(n,t){const i=(0,M.kH)(this.indexes_,a=>{if(a===Fu)return a;{const u=t.get(n.name);return u?a.remove(new gt(n.name,u)):a}});return new ea(i,this.indexSet_)}}let Uf,ct=(()=>{class e{constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&bE(this.priorityNode_),this.children_.isEmpty()&&(0,M.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Uf||(Uf=new e(new $r(Qm),null,ea.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Uf}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Uf:i}}getChild(t){const i=ft(t);return null===i?this:this.getImmediateChild(i).getChild(Ut(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,M.vA)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const a=new gt(t,i);let u,d;i.isEmpty()?(u=this.children_.remove(t),d=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(t,i),d=this.indexMap_.addToIndexes(a,this.children_));const g=u.isEmpty()?Uf:this.priorityNode_;return new e(u,g,d)}}updateChild(t,i){const a=ft(t);if(null===a)return i;{(0,M.vA)(".priority"!==ft(t)||1===Zo(t),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(Ut(t),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,u=0,d=!0;if(this.forEachChild(Et,(g,v)=>{i[g]=v.val(t),a++,d&&e.INTEGER_REGEXP_.test(g)?u=Math.max(u,Number(g)):d=!1}),!t&&d&&u<2*a){const g=[];for(const v in i)g[v]=i[v];return g}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Zm(this.getPriority().val())+":"),this.forEachChild(Et,(i,a)=>{const u=a.hash();""!==u&&(t+=":"+i+":"+u)}),this.lazyHash_=""===t?"":Rf(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const u=this.resolveIndex_(a);if(u){const d=u.getPredecessorKey(new gt(t,i));return d?d.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new gt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new gt(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,gt.Wrap);let d=u.peek();for(;null!=d&&i.compare(d,t)<0;)u.getNext(),d=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,gt.Wrap);let d=u.peek();for(;null!=d&&i.compare(d,t)>0;)u.getNext(),d=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bf?-1:0}withIndex(t){if(t===Os||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Os||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(Et),u=i.getIterator(Et);let d=a.getNext(),g=u.getNext();for(;d&&g;){if(d.name!==g.name||!d.node.equals(g.node))return!1;d=a.getNext(),g=u.getNext()}return null===d&&null===g}return!1}return!1}}resolveIndex_(t){return t===Os?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Bf=new class ME extends ct{constructor(){super(new $r(Qm),ct.EMPTY_NODE,ea.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ct.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gt,{MIN:{value:new gt(Nu,ct.EMPTY_NODE)},MAX:{value:new gt(Ms,Bf)}}),cd.__EMPTY_NODE=ct.EMPTY_NODE,fd.__childrenNodeConstructor=ct,function E0(e){Xm=e}(Bf),function C0(e){Jm=e}(Bf);const b0=!0;function Jt(e,n=null){if(null===e)return ct.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),(0,M.vA)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new fd(e,Jt(n));if(e instanceof Array||!b0){let t=ct.EMPTY_NODE;return Bn(e,(i,a)=>{if((0,M.gR)(e,i)&&"."!==i.substring(0,1)){const u=Jt(a);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(i,u))}}),t.updatePriority(Jt(n))}{const t=[];let i=!1;if(Bn(e,(d,g)=>{if("."!==d.substring(0,1)){const v=Jt(g);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),t.push(new gt(d,v)))}}),0===t.length)return ct.EMPTY_NODE;const u=e_(t,Ym,d=>d.name,Qm);if(i){const d=e_(t,Et.getCompare());return new ct(u,Jt(n),new ea({".priority":d},{".priority":Et}))}return new ct(u,Jt(n),ea.Default)}}!function SE(e){TE=e}(Jt);class t_ extends Jo{constructor(n){super(),this.indexPath_=n,(0,M.vA)(!yt(n)&&".priority"!==ft(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const i=this.extractChild(n.node),a=this.extractChild(t.node),u=i.compareTo(a);return 0===u?Rs(n.name,t.name):u}makePost(n,t){const i=Jt(n),a=ct.EMPTY_NODE.updateChild(this.indexPath_,i);return new gt(t,a)}maxPost(){const n=ct.EMPTY_NODE.updateChild(this.indexPath_,Bf);return new gt(Ms,n)}toString(){return Lf(this.indexPath_,0).join("/")}}const n_=new class A0 extends Jo{compare(n,t){const i=n.node.compareTo(t.node);return 0===i?Rs(n.name,t.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return gt.MIN}maxPost(){return gt.MAX}makePost(n,t){const i=Jt(n);return new gt(t,i)}toString(){return".value"}};function RE(e){return{type:"value",snapshotNode:e}}function hd(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function ni(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function Lu(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class Dp{constructor(n){this.index_=n}updateChild(n,t,i,a,u,d){(0,M.vA)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(t);return g.getChild(a).equals(i.getChild(a))&&g.isEmpty()===i.isEmpty()||(null!=d&&(i.isEmpty()?n.hasChild(t)?d.trackChildChange(ni(t,g)):(0,M.vA)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?d.trackChildChange(hd(t,i)):d.trackChildChange(Lu(t,i,g))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(n,t,i){return null!=i&&(n.isLeafNode()||n.forEachChild(Et,(a,u)=>{t.hasChild(a)||i.trackChildChange(ni(a,u))}),t.isLeafNode()||t.forEachChild(Et,(a,u)=>{if(n.hasChild(a)){const d=n.getImmediateChild(a);d.equals(u)||i.trackChildChange(Lu(a,u,d))}else i.trackChildChange(hd(a,u))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?ct.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class jf{constructor(n){this.indexedFilter_=new Dp(n.getIndex()),this.index_=n.getIndex(),this.startPost_=jf.getStartPost_(n),this.endPost_=jf.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&i}updateChild(n,t,i,a,u,d){return this.matches(new gt(t,i))||(i=ct.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,i,a,u,d)}updateFullNode(n,t,i){t.isLeafNode()&&(t=ct.EMPTY_NODE);let a=t.withIndex(this.index_);a=a.updatePriority(ct.EMPTY_NODE);const u=this;return t.forEachChild(Et,(d,g)=>{u.matches(new gt(d,g))||(a=a.updateImmediateChild(d,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class NE{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new jf(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,i,a,u,d){return this.rangedFilter_.matches(new gt(t,i))||(i=ct.EMPTY_NODE),n.getImmediateChild(t).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,i,a,u,d):this.fullLimitUpdateChild_(n,t,i,u,d)}updateFullNode(n,t,i){let a;if(t.isLeafNode()||t.isEmpty())a=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let u;a=ct.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;u.hasNext()&&d<this.limit_;){const g=u.getNext();if(this.withinDirectionalStart(g)){if(!this.withinDirectionalEnd(g))break;a=a.updateImmediateChild(g.name,g.node),d++}}}else{let u;a=t.withIndex(this.index_),a=a.updatePriority(ct.EMPTY_NODE),u=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let d=0;for(;u.hasNext();){const g=u.getNext();d<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?d++:a=a.updateImmediateChild(g.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,i)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,i,a,u){let d;if(this.reverse_){const b=this.index_.getCompare();d=(R,z)=>b(z,R)}else d=this.index_.getCompare();const g=n;(0,M.vA)(g.numChildren()===this.limit_,"");const v=new gt(t,i),E=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),w=this.rangedFilter_.matches(v);if(g.hasChild(t)){const b=g.getImmediateChild(t);let R=a.getChildAfterChild(this.index_,E,this.reverse_);for(;null!=R&&(R.name===t||g.hasChild(R.name));)R=a.getChildAfterChild(this.index_,R,this.reverse_);const z=null==R?1:d(R,v);if(w&&!i.isEmpty()&&z>=0)return u?.trackChildChange(Lu(t,i,b)),g.updateImmediateChild(t,i);{u?.trackChildChange(ni(t,b));const Ee=g.updateImmediateChild(t,ct.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(u?.trackChildChange(hd(R.name,R.node)),Ee.updateImmediateChild(R.name,R.node)):Ee}}return i.isEmpty()?n:w&&d(E,v)>=0?(null!=u&&(u.trackChildChange(ni(E.name,E.node)),u.trackChildChange(hd(t,i))),g.updateImmediateChild(t,i).updateImmediateChild(E.name,ct.EMPTY_NODE)):n}}class Hf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Et}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,M.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,M.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,M.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,M.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ms}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,M.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Et}copy(){const n=new Hf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function bp(e,n,t){const i=e.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Ap(e,n,t){const i=e.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function pd(e,n){const t=e.copy();return t.index_=n,t}function _o(e){const n={};if(e.isDefault())return n;let t;if(e.index_===Et?t="$priority":e.index_===n_?t="$value":e.index_===Os?t="$key":((0,M.vA)(e.index_ instanceof t_,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,M.As)(t),e.startSet_){const i=e.startAfterSet_?"startAfter":"startAt";n[i]=(0,M.As)(e.indexStartValue_),e.startNameSet_&&(n[i]+=","+(0,M.As)(e.indexStartName_))}if(e.endSet_){const i=e.endBeforeSet_?"endBefore":"endAt";n[i]=(0,M.As)(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+(0,M.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function xE(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==Et&&(n.i=e.index_.toString()),n}class Tp extends xu{constructor(n,t,i,a){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=Mu("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:((0,M.vA)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,i,a){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const d=Tp.getListenId_(n,i),g={};this.listens_[d]=g;const v=_o(n._queryParams);this.restRequest_(u+".json",v,(E,w)=>{let b=w;if(404===E&&(b=null,E=null),null===E&&this.onDataUpdate_(u,b,!1,i),(0,M.yw)(this.listens_,d)===g){let R;R=E?401===E?"permission_denied":"rest_error:"+E:"ok",a(R,null)}})}unlisten(n,t){const i=Tp.getListenId_(n,t);delete this.listens_[i]}get(n){const t=_o(n._queryParams),i=n._path.toString(),a=new M.cY;return this.restRequest_(i+".json",t,(u,d)=>{let g=d;404===u&&(g=null,u=null),null===u?(this.onDataUpdate_(i,g,!1,null),a.resolve(g)):a.reject(new Error(g))}),a.promise}refreshAuthToken(n){}restRequest_(n,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(t.auth=a.accessToken),u&&u.token&&(t.ac=u.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,M.Am)(t);this.log_("Sending REST request for "+d);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(i&&4===g.readyState){this.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=(0,M.$L)(g.responseText)}catch{Nn("Failed to parse JSON response for "+d+": "+g.responseText)}i(null,v)}else 401!==g.status&&404!==g.status&&Nn("Got unsuccessful REST response for "+d+" Status: "+g.status),i(g.status);i=null}},g.open("GET",d,!0),g.send()})}}class i_{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function Sp(){return{value:null,children:new Map}}function Vu(e,n,t){if(yt(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const i=ft(n);e.children.has(i)||e.children.set(i,Sp()),Vu(e.children.get(i),n=Ut(n),t)}}function s_(e,n){if(yt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const t=e.value;return e.value=null,t.forEachChild(Et,(i,a)=>{Vu(e,new Rt(i),a)}),s_(e,n)}}if(e.children.size>0){const t=ft(n);return n=Ut(n),e.children.has(t)&&s_(e.children.get(t),n)&&e.children.delete(t),0===e.children.size}return!0}function gd(e,n,t){null!==e.value?t(n,e.value):function $f(e,n){e.children.forEach((t,i)=>{n(i,t)})}(e,(i,a)=>{gd(a,new Rt(n.toString()+"/"+i),t)})}class kE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Bn(this.last_,(i,a)=>{t[i]=t[i]-a}),this.last_=n,t}}class FE{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new kE(n);const i=1e4+2e4*Math.random();Za(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),t={};let i=!1;Bn(n,(a,u)=>{u>0&&(0,M.gR)(this.statsToReport_,a)&&(t[a]=u,i=!0)}),i&&this.server_.reportStats(t),Za(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ps=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Ps||{});function Mp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Gf{constructor(n,t,i){this.path=n,this.affectedTree=t,this.revert=i,this.type=Ps.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(yt(this.path)){if(null!=this.affectedTree.value)return(0,M.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Rt(n));return new Gf(It(),t,this.revert)}}return(0,M.vA)(ft(this.path)===n,"operationForChild called for unrelated child."),new Gf(Ut(this.path),this.affectedTree,this.revert)}}class ta{constructor(n,t){this.source=n,this.path=t,this.type=Ps.LISTEN_COMPLETE}operationForChild(n){return yt(this.path)?new ta(this.source,It()):new ta(this.source,Ut(this.path))}}class Uu{constructor(n,t,i){this.source=n,this.path=t,this.snap=i,this.type=Ps.OVERWRITE}operationForChild(n){return yt(this.path)?new Uu(this.source,It(),this.snap.getImmediateChild(n)):new Uu(this.source,Ut(this.path),this.snap)}}class Bu{constructor(n,t,i){this.source=n,this.path=t,this.children=i,this.type=Ps.MERGE}operationForChild(n){if(yt(this.path)){const t=this.children.subtree(new Rt(n));return t.isEmpty()?null:t.value?new Uu(this.source,It(),t.value):new Bu(this.source,It(),t)}return(0,M.vA)(ft(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Bu(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class na{constructor(n,t,i){this.node_=n,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(yt(n))return this.isFullyInitialized()&&!this.filtered_;const t=ft(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class M0{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function ra(e,n,t,i,a,u){const d=i.filter(g=>g.type===t);d.sort((g,v)=>function O0(e,n,t){if(null==n.childName||null==t.childName)throw(0,M.Hk)("Should only compare child_ events.");const i=new gt(n.childName,n.snapshotNode),a=new gt(t.childName,t.snapshotNode);return e.index_.compare(i,a)}(e,g,v)),d.forEach(g=>{const v=function N0(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,g,u);a.forEach(E=>{E.respondsTo(g.type)&&n.push(E.createEvent(v,e.query_))})})}function Rp(e,n){return{eventCache:e,serverCache:n}}function zf(e,n,t,i){return Rp(new na(n,t,i),e.serverCache)}function LE(e,n,t,i){return Rp(e.eventCache,new na(n,t,i))}function Np(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ju(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let l_;class Bt{constructor(n,t=(()=>(l_||(l_=new $r(e0)),l_))()){this.value=n,this.children=t}static fromObject(n){let t=new Bt(null);return Bn(n,(i,a)=>{t=t.set(new Rt(i),a)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:It(),value:this.value};if(yt(n))return null;{const i=ft(n),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(Ut(n),t);return null!=u?{path:Zt(new Rt(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(yt(n))return this;{const t=ft(n),i=this.children.get(t);return null!==i?i.subtree(Ut(n)):new Bt(null)}}set(n,t){if(yt(n))return new Bt(t,this.children);{const i=ft(n),u=(this.children.get(i)||new Bt(null)).set(Ut(n),t),d=this.children.insert(i,u);return new Bt(this.value,d)}}remove(n){if(yt(n))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const t=ft(n),i=this.children.get(t);if(i){const a=i.remove(Ut(n));let u;return u=a.isEmpty()?this.children.remove(t):this.children.insert(t,a),null===this.value&&u.isEmpty()?new Bt(null):new Bt(this.value,u)}return this}}get(n){if(yt(n))return this.value;{const t=ft(n),i=this.children.get(t);return i?i.get(Ut(n)):null}}setTree(n,t){if(yt(n))return t;{const i=ft(n),u=(this.children.get(i)||new Bt(null)).setTree(Ut(n),t);let d;return d=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Bt(this.value,d)}}fold(n){return this.fold_(It(),n)}fold_(n,t){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(Zt(n,a),t)}),t(n,this.value,i)}findOnPath(n,t){return this.findOnPath_(n,It(),t)}findOnPath_(n,t,i){const a=!!this.value&&i(t,this.value);if(a)return a;if(yt(n))return null;{const u=ft(n),d=this.children.get(u);return d?d.findOnPath_(Ut(n),Zt(t,u),i):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,It(),t)}foreachOnPath_(n,t,i){if(yt(n))return this;{this.value&&i(t,this.value);const a=ft(n),u=this.children.get(a);return u?u.foreachOnPath_(Ut(n),Zt(t,a),i):new Bt(null)}}foreach(n){this.foreach_(It(),n)}foreach_(n,t){this.children.inorderTraversal((i,a)=>{a.foreach_(Zt(n,i),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,i)=>{i.value&&n(t,i.value)})}}class xs{constructor(n){this.writeTree_=n}static empty(){return new xs(new Bt(null))}}function el(e,n,t){if(yt(n))return new xs(new Bt(t));{const i=e.writeTree_.findRootMostValueAndPath(n);if(null!=i){const a=i.path;let u=i.value;const d=Hr(a,n);return u=u.updateChild(d,t),new xs(e.writeTree_.set(a,u))}{const a=new Bt(t),u=e.writeTree_.setTree(n,a);return new xs(u)}}}function u_(e,n,t){let i=e;return Bn(t,(a,u)=>{i=el(i,Zt(n,a),u)}),i}function UE(e,n){if(yt(n))return xs.empty();{const t=e.writeTree_.setTree(n,new Bt(null));return new xs(t)}}function c_(e,n){return null!=Hu(e,n)}function Hu(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(Hr(t.path,n)):null}function BE(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Et,(i,a)=>{n.push(new gt(i,a))}):e.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&n.push(new gt(i,a.value))}),n}function tl(e,n){if(yt(n))return e;{const t=Hu(e,n);return new xs(null!=t?new Bt(t):e.writeTree_.subtree(n))}}function d_(e){return e.writeTree_.isEmpty()}function $u(e,n){return f_(It(),e.writeTree_,n)}function f_(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let i=null;return n.children.inorderTraversal((a,u)=>{".priority"===a?((0,M.vA)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):t=f_(Zt(e,a),u,t)}),!t.getChild(e).isEmpty()&&null!==i&&(t=t.updateChild(Zt(e,".priority"),i)),t}}function Op(e,n){return Ku(n,e)}function Pp(e,n){if(e.snap)return Si(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&Si(Zt(e.path,t),n))return!0;return!1}function x0(e){return e.visible}function xp(e,n,t){let i=xs.empty();for(let a=0;a<e.length;++a){const u=e[a];if(n(u)){const d=u.path;let g;if(u.snap)Si(t,d)?(g=Hr(t,d),i=el(i,g,u.snap)):Si(d,t)&&(g=Hr(d,t),i=el(i,It(),u.snap.getChild(g)));else{if(!u.children)throw(0,M.Hk)("WriteRecord should have .snap or .children");if(Si(t,d))g=Hr(t,d),i=u_(i,g,u.children);else if(Si(d,t))if(g=Hr(d,t),yt(g))i=u_(i,It(),u.children);else{const v=(0,M.yw)(u.children,ft(g));if(v){const E=v.getChild(Ut(g));i=el(i,It(),E)}}}}}return i}function $E(e,n,t,i,a){if(i||a){const u=tl(e.visibleWrites,n);return!a&&d_(u)?t:a||null!=t||c_(u,It())?$u(xp(e.allWrites,function(E){return(E.visible||a)&&(!i||!~i.indexOf(E.writeId))&&(Si(E.path,n)||Si(n,E.path))},n),t||ct.EMPTY_NODE):null}{const u=Hu(e.visibleWrites,n);if(null!=u)return u;{const d=tl(e.visibleWrites,n);return d_(d)?t:null!=t||c_(d,It())?$u(d,t||ct.EMPTY_NODE):null}}}function md(e,n,t,i){return $E(e.writeTree,e.treePath,n,t,i)}function nl(e,n){return function vo(e,n,t){let i=ct.EMPTY_NODE;const a=Hu(e.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(Et,(u,d)=>{i=i.updateImmediateChild(u,d)}),i;if(t){const u=tl(e.visibleWrites,n);return t.forEachChild(Et,(d,g)=>{const v=$u(tl(u,new Rt(d)),g);i=i.updateImmediateChild(d,v)}),BE(u).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}return BE(tl(e.visibleWrites,n)).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}(e.writeTree,e.treePath,n)}function Gu(e,n,t,i){return function Kf(e,n,t,i,a){(0,M.vA)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=Zt(n,t);if(c_(e.visibleWrites,u))return null;{const d=tl(e.visibleWrites,u);return d_(d)?a.getChild(t):$u(d,a.getChild(t))}}(e.writeTree,e.treePath,n,t,i)}function ia(e,n){return function Wu(e,n){return Hu(e.visibleWrites,n)}(e.writeTree,Zt(e.treePath,n))}function rl(e,n,t){return function Nr(e,n,t,i){const a=Zt(n,t),u=Hu(e.visibleWrites,a);return null!=u?u:i.isCompleteForChild(t)?$u(tl(e.visibleWrites,a),i.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function zu(e,n){return Ku(Zt(e.treePath,n),e.writeTree)}function Ku(e,n){return{treePath:e,writeTree:n}}class vd{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,i=n.childName;(0,M.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,M.vA)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(i,Lu(i,n.snapshotNode,a.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(i,ni(i,a.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(i,hd(i,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,M.Hk)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(i,Lu(i,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const h_=new class yd{getCompleteChild(n){return null}getChildAfterChild(n,t,i){return null}};class Fp{constructor(n,t,i=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new na(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rl(this.writes_,n,i)}}getChildAfterChild(n,t,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ju(this.viewCache_),u=function _d(e,n,t,i,a,u){return function kp(e,n,t,i,a,u,d){let g;const v=tl(e.visibleWrites,n),E=Hu(v,It());if(null!=E)g=E;else{if(null==t)return[];g=$u(v,t)}if(g=g.withIndex(d),g.isEmpty()||g.isLeafNode())return[];{const w=[],b=d.getCompare(),R=u?g.getReverseIteratorFrom(i,d):g.getIteratorFrom(i,d);let z=R.getNext();for(;z&&w.length<a;)0!==b(z,i)&&w.push(z),z=R.getNext();return w}}(e.writeTree,e.treePath,n,t,i,a,u)}(this.writes_,a,t,1,i,n);return 0===u.length?null:u[0]}}function p_(e,n,t,i,a,u){const d=n.eventCache;if(null!=ia(i,t))return n;{let g,v;if(yt(t))if((0,M.vA)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const E=ju(n),b=nl(i,E instanceof ct?E:ct.EMPTY_NODE);g=e.filter.updateFullNode(n.eventCache.getNode(),b,u)}else{const E=md(i,ju(n));g=e.filter.updateFullNode(n.eventCache.getNode(),E,u)}else{const E=ft(t);if(".priority"===E){(0,M.vA)(1===Zo(t),"Can't have a priority with additional path components");const w=d.getNode();v=n.serverCache.getNode();const b=Gu(i,t,w,v);g=null!=b?e.filter.updatePriority(w,b):d.getNode()}else{const w=Ut(t);let b;if(d.isCompleteForChild(E)){v=n.serverCache.getNode();const R=Gu(i,t,d.getNode(),v);b=null!=R?d.getNode().getImmediateChild(E).updateChild(w,R):d.getNode().getImmediateChild(E)}else b=rl(i,E,n.serverCache);g=null!=b?e.filter.updateChild(d.getNode(),E,b,w,a,u):d.getNode()}}return zf(n,g,d.isFullyInitialized()||yt(t),e.filter.filtersNodes())}}function qf(e,n,t,i,a,u,d,g){const v=n.serverCache;let E;const w=d?e.filter:e.filter.getIndexedFilter();if(yt(t))E=w.updateFullNode(v.getNode(),i,null);else if(w.filtersNodes()&&!v.isFiltered()){const z=v.getNode().updateChild(t,i);E=w.updateFullNode(v.getNode(),z,null)}else{const z=ft(t);if(!v.isCompleteForPath(t)&&Zo(t)>1)return n;const L=Ut(t),Me=v.getNode().getImmediateChild(z).updateChild(L,i);E=".priority"===z?w.updatePriority(v.getNode(),Me):w.updateChild(v.getNode(),z,Me,L,h_,null)}const b=LE(n,E,v.isFullyInitialized()||yt(t),w.filtersNodes());return p_(e,b,t,a,new Fp(a,b,u),g)}function Lp(e,n,t,i,a,u,d){const g=n.eventCache;let v,E;const w=new Fp(a,n,u);if(yt(t))E=e.filter.updateFullNode(n.eventCache.getNode(),i,d),v=zf(n,E,!0,e.filter.filtersNodes());else{const b=ft(t);if(".priority"===b)E=e.filter.updatePriority(n.eventCache.getNode(),i),v=zf(n,E,g.isFullyInitialized(),g.isFiltered());else{const R=Ut(t),z=g.getNode().getImmediateChild(b);let L;if(yt(R))L=i;else{const Ee=w.getCompleteChild(b);L=null!=Ee?".priority"===Wm(R)&&Ee.getChild(yE(R)).isEmpty()?Ee:Ee.updateChild(R,i):ct.EMPTY_NODE}v=z.equals(L)?n:zf(n,e.filter.updateChild(g.getNode(),b,L,R,w,d),g.isFullyInitialized(),e.filter.filtersNodes())}}return v}function Vp(e,n){return e.eventCache.isCompleteForChild(n)}function F0(e,n,t){return t.foreach((i,a)=>{n=n.updateChild(i,a)}),n}function qE(e,n,t,i,a,u,d,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let E,v=n;E=yt(t)?i:new Bt(null).setTree(t,i);const w=n.serverCache.getNode();return E.children.inorderTraversal((b,R)=>{if(w.hasChild(b)){const L=F0(0,n.serverCache.getNode().getImmediateChild(b),R);v=qf(e,v,new Rt(b),L,a,u,d,g)}}),E.children.inorderTraversal((b,R)=>{const z=!n.serverCache.isCompleteForChild(b)&&null===R.value;if(!w.hasChild(b)&&!z){const Ee=F0(0,n.serverCache.getNode().getImmediateChild(b),R);v=qf(e,v,new Rt(b),Ee,a,u,d,g)}}),v}class U0{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new Dp(i.getIndex()),u=function wp(e){return e.loadsAllData()?new Dp(e.getIndex()):e.hasLimit()?new NE(e):new jf(e)}(i);this.processor_=function WE(e){return{filter:e}}(u);const d=t.serverCache,g=t.eventCache,v=a.updateFullNode(ct.EMPTY_NODE,d.getNode(),null),E=u.updateFullNode(ct.EMPTY_NODE,g.getNode(),null),w=new na(v,d.isFullyInitialized(),a.filtersNodes()),b=new na(E,g.isFullyInitialized(),u.filtersNodes());this.viewCache_=Rp(b,w),this.eventGenerator_=new M0(this.query_)}get query(){return this.query_}}function j0(e,n){const t=ju(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!yt(n)&&!t.getImmediateChild(ft(n)).isEmpty())?t.getChild(n):null}function YE(e){return 0===e.eventRegistrations_.length}function Ed(e,n,t){const i=[];if(t){(0,M.vA)(null==n,"A cancel should cancel all event registrations.");const a=e.query._path;e.eventRegistrations_.forEach(u=>{const d=u.createCancelEvent(t,a);d&&i.push(d)})}if(n){let a=[];for(let u=0;u<e.eventRegistrations_.length;++u){const d=e.eventRegistrations_[u];if(d.matches(n)){if(n.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(u+1));break}}else a.push(d)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return i}function Up(e,n,t,i){n.type===Ps.MERGE&&null!==n.source.queryId&&((0,M.vA)(ju(e.viewCache_),"We should always have a full cache before handling merges"),(0,M.vA)(Np(e.viewCache_),"Missing event cache, even though we have a server cache"));const a=e.viewCache_,u=function zE(e,n,t,i,a){const u=new vd;let d,g;if(t.type===Ps.OVERWRITE){const E=t;E.source.fromUser?d=Lp(e,n,E.path,E.snap,i,a,u):((0,M.vA)(E.source.fromServer,"Unknown source."),g=E.source.tagged||n.serverCache.isFiltered()&&!yt(E.path),d=qf(e,n,E.path,E.snap,i,a,g,u))}else if(t.type===Ps.MERGE){const E=t;E.source.fromUser?d=function k0(e,n,t,i,a,u,d){let g=n;return i.foreach((v,E)=>{const w=Zt(t,v);Vp(n,ft(w))&&(g=Lp(e,g,w,E,a,u,d))}),i.foreach((v,E)=>{const w=Zt(t,v);Vp(n,ft(w))||(g=Lp(e,g,w,E,a,u,d))}),g}(e,n,E.path,E.children,i,a,u):((0,M.vA)(E.source.fromServer,"Unknown source."),g=E.source.tagged||n.serverCache.isFiltered(),d=qE(e,n,E.path,E.children,i,a,g,u))}else if(t.type===Ps.ACK_USER_WRITE){const E=t;d=E.revert?function LA(e,n,t,i,a,u){let d;if(null!=ia(i,t))return n;{const g=new Fp(i,n,a),v=n.eventCache.getNode();let E;if(yt(t)||".priority"===ft(t)){let w;if(n.serverCache.isFullyInitialized())w=md(i,ju(n));else{const b=n.serverCache.getNode();(0,M.vA)(b instanceof ct,"serverChildren would be complete if leaf node"),w=nl(i,b)}E=e.filter.updateFullNode(v,w,u)}else{const w=ft(t);let b=rl(i,w,n.serverCache);null==b&&n.serverCache.isCompleteForChild(w)&&(b=v.getImmediateChild(w)),E=null!=b?e.filter.updateChild(v,w,b,Ut(t),g,u):n.eventCache.getNode().hasChild(w)?e.filter.updateChild(v,w,ct.EMPTY_NODE,Ut(t),g,u):v,E.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=md(i,ju(n)),d.isLeafNode()&&(E=e.filter.updateFullNode(E,d,u)))}return d=n.serverCache.isFullyInitialized()||null!=ia(i,It()),zf(n,E,d,e.filter.filtersNodes())}}(e,n,E.path,i,a,u):function L0(e,n,t,i,a,u,d){if(null!=ia(a,t))return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(null!=i.value){if(yt(t)&&v.isFullyInitialized()||v.isCompleteForPath(t))return qf(e,n,t,v.getNode().getChild(t),a,u,g,d);if(yt(t)){let E=new Bt(null);return v.getNode().forEachChild(Os,(w,b)=>{E=E.set(new Rt(w),b)}),qE(e,n,t,E,a,u,g,d)}return n}{let E=new Bt(null);return i.foreach((w,b)=>{const R=Zt(t,w);v.isCompleteForPath(R)&&(E=E.set(w,v.getNode().getChild(R)))}),qE(e,n,t,E,a,u,g,d)}}(e,n,E.path,E.affectedTree,i,a,u)}else{if(t.type!==Ps.LISTEN_COMPLETE)throw(0,M.Hk)("Unknown operation type: "+t.type);d=function V0(e,n,t,i,a){const u=n.serverCache;return p_(e,LE(n,u.getNode(),u.isFullyInitialized()||yt(t),u.isFiltered()),t,i,h_,a)}(e,n,t.path,i,u)}const v=u.getChanges();return function KE(e,n,t){const i=n.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=Np(e);(t.length>0||!e.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&t.push(RE(Np(n)))}}(n,d,v),{viewCache:d,changes:v}}(e.processor_,a,n,t,i);return function GE(e,n){(0,M.vA)(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,M.vA)(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,u.viewCache),(0,M.vA)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,m_(e,u.changes,u.viewCache.eventCache.getNode(),null)}function m_(e,n,t,i){return function R0(e,n,t,i){const a=[],u=[];return n.forEach(d=>{"child_changed"===d.type&&e.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&u.push(function T0(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(d.childName,d.snapshotNode))}),ra(e,a,"child_removed",n,i,t),ra(e,a,"child_added",n,i,t),ra(e,a,"child_moved",u,i,t),ra(e,a,"child_changed",n,i,t),ra(e,a,"value",n,i,t),a}(e.eventGenerator_,n,t,i?[i]:e.eventRegistrations_)}let il,jp;class __{constructor(){this.views=new Map}}function v_(e,n,t,i){const a=n.source.queryId;if(null!==a){const u=e.views.get(a);return(0,M.vA)(null!=u,"SyncTree gave us an op for an invalid query."),Up(u,n,t,i)}{let u=[];for(const d of e.views.values())u=u.concat(Up(d,n,t,i));return u}}function QE(e,n,t,i,a){const d=e.views.get(n._queryIdentifier);if(!d){let g=md(t,a?i:null),v=!1;g?v=!0:i instanceof ct?(g=nl(t,i),v=!1):(g=ct.EMPTY_NODE,v=!1);const E=Rp(new na(g,v,!1),new na(i,a,!1));return new U0(n,E)}return d}function Qf(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function ks(e,n){let t=null;for(const i of e.views.values())t=t||j0(i,n);return t}function G0(e,n){return n._queryParams.loadsAllData()?Cd(e):e.views.get(n._queryIdentifier)}function XE(e,n){return null!=G0(e,n)}function sl(e){return null!=Cd(e)}function Cd(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let K0=1;class E_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=function Ji(){return{visibleWrites:xs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Hp(e,n,t,i,a){return function kA(e,n,t,i,a){(0,M.vA)(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),e.allWrites.push({path:n,snap:t,writeId:i,visible:a}),a&&(e.visibleWrites=el(e.visibleWrites,n,t)),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i,a),a?bd(e,new Uu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function ol(e,n,t=!1){const i=function HE(e,n){for(let t=0;t<e.allWrites.length;t++){const i=e.allWrites[t];if(i.writeId===n)return i}return null}(e.pendingWriteTree_,n);if(function FA(e,n){const t=e.allWrites.findIndex(g=>g.writeId===n);(0,M.vA)(t>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[t];e.allWrites.splice(t,1);let a=i.visible,u=!1,d=e.allWrites.length-1;for(;a&&d>=0;){const g=e.allWrites[d];g.visible&&(d>=t&&Pp(g,i.path)?a=!1:Si(i.path,g.path)&&(u=!0)),d--}return!!a&&(u?(function P0(e){e.visibleWrites=xp(e.allWrites,x0,It()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(i.snap?e.visibleWrites=UE(e.visibleWrites,i.path):Bn(i.children,v=>{e.visibleWrites=UE(e.visibleWrites,Zt(i.path,v))}),!0))}(e.pendingWriteTree_,n)){let u=new Bt(null);return null!=i.snap?u=u.set(It(),!0):Bn(i.children,d=>{u=u.set(new Rt(d),!0)}),bd(e,new Gf(i.path,u,t))}return[]}function Xf(e,n,t){return bd(e,new Uu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function Id(e,n,t,i,a=!1){const u=n._path,d=e.syncPointTree_.get(u);let g=[];if(d&&("default"===n._queryIdentifier||XE(d,n))){const v=function y_(e,n,t,i){const a=n._queryIdentifier,u=[];let d=[];const g=sl(e);if("default"===a)for(const[v,E]of e.views.entries())d=d.concat(Ed(E,t,i)),YE(E)&&(e.views.delete(v),E.query._queryParams.loadsAllData()||u.push(E.query));else{const v=e.views.get(a);v&&(d=d.concat(Ed(v,t,i)),YE(v)&&(e.views.delete(a),v.query._queryParams.loadsAllData()||u.push(v.query)))}return g&&!sl(e)&&u.push(new(function Yf(){return(0,M.vA)(il,"Reference.ts has not been loaded"),il}())(n._repo,n._path)),{removed:u,events:d}}(d,n,t,i);(function $0(e){return 0===e.views.size})(d)&&(e.syncPointTree_=e.syncPointTree_.remove(u));const E=v.removed;if(g=v.events,!a){const w=-1!==E.findIndex(R=>R._queryParams.loadsAllData()),b=e.syncPointTree_.findOnPath(u,(R,z)=>sl(z));if(w&&!b){const R=e.syncPointTree_.subtree(u);if(!R.isEmpty()){const z=function Q0(e){return e.fold((n,t,i)=>{if(t&&sl(t))return[Cd(t)];{let a=[];return t&&(a=Qf(t)),Bn(i,(u,d)=>{a=a.concat(d)}),a}})}(R);for(let L=0;L<z.length;++L){const Ee=z[L],Me=Ee.query,qe=Wp(e,Ee);e.listenProvider_.startListening(Yu(Me),qu(e,Me),qe.hashFn,qe.onComplete)}}}!b&&E.length>0&&!i&&(w?e.listenProvider_.stopListening(Yu(n),null):E.forEach(R=>{const z=e.queryToTagMap.get(Zf(R));e.listenProvider_.stopListening(Yu(R),z)}))}!function iC(e,n){for(let t=0;t<n.length;++t){const i=n[t];if(!i._queryParams.loadsAllData()){const a=Zf(i),u=e.queryToTagMap.get(a);e.queryToTagMap.delete(a),e.tagToQueryMap.delete(u)}}}(e,E)}return g}function eC(e,n,t,i){const a=Gp(e,i);if(null!=a){const u=I_(a),d=u.path,g=u.queryId,v=Hr(d,n);return D_(e,d,new Uu(Mp(g),v,t))}return[]}function Dd(e,n,t,i=!1){const a=n._path;let u=null,d=!1;e.syncPointTree_.foreachOnPath(a,(R,z)=>{const L=Hr(R,a);u=u||ks(z,L),d=d||sl(z)});let v,g=e.syncPointTree_.get(a);g?(d=d||sl(g),u=u||ks(g,It())):(g=new __,e.syncPointTree_=e.syncPointTree_.set(a,g)),null!=u?v=!0:(v=!1,u=ct.EMPTY_NODE,e.syncPointTree_.subtree(a).foreachChild((z,L)=>{const Ee=ks(L,It());Ee&&(u=u.updateImmediateChild(z,Ee))}));const E=XE(g,n);if(!E&&!n._queryParams.loadsAllData()){const R=Zf(n);(0,M.vA)(!e.queryToTagMap.has(R),"View does not exist, but we have a tag");const z=function w_(){return K0++}();e.queryToTagMap.set(R,z),e.tagToQueryMap.set(z,R)}let b=function W0(e,n,t,i,a,u){const d=QE(e,n,i,a,u);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,d),function g_(e,n){e.eventRegistrations_.push(n)}(d,t),function Bp(e,n){const t=e.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Et,(u,d)=>{i.push(hd(u,d))}),t.isFullyInitialized()&&i.push(RE(t.getNode())),m_(e,i,t.getNode(),n)}(d,t)}(g,n,t,Op(e.pendingWriteTree_,a),u,v);if(!E&&!d&&!i){const R=G0(g,n);b=b.concat(function sC(e,n,t){const i=n._path,a=qu(e,n),u=Wp(e,t),d=e.listenProvider_.startListening(Yu(n),a,u.hashFn,u.onComplete),g=e.syncPointTree_.subtree(i);if(a)(0,M.vA)(!sl(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((E,w,b)=>{if(!yt(E)&&w&&sl(w))return[Cd(w).query];{let R=[];return w&&(R=R.concat(Qf(w).map(z=>z.query))),Bn(b,(z,L)=>{R=R.concat(L)}),R}});for(let E=0;E<v.length;++E){const w=v[E];e.listenProvider_.stopListening(Yu(w),qu(e,w))}}return d}(e,n,R))}return b}function wd(e,n,t){const a=e.pendingWriteTree_,u=e.syncPointTree_.findOnPath(n,(d,g)=>{const E=ks(g,Hr(d,n));if(E)return E});return $E(a,n,u,t,!0)}function bd(e,n){return nC(n,e.syncPointTree_,null,Op(e.pendingWriteTree_,It()))}function nC(e,n,t,i){if(yt(e.path))return rC(e,n,t,i);{const a=n.get(It());null==t&&null!=a&&(t=ks(a,It()));let u=[];const d=ft(e.path),g=e.operationForChild(d),v=n.children.get(d);if(v&&g){const E=t?t.getImmediateChild(d):null,w=zu(i,d);u=u.concat(nC(g,v,E,w))}return a&&(u=u.concat(v_(a,e,i,t))),u}}function rC(e,n,t,i){const a=n.get(It());null==t&&null!=a&&(t=ks(a,It()));let u=[];return n.children.inorderTraversal((d,g)=>{const v=t?t.getImmediateChild(d):null,E=zu(i,d),w=e.operationForChild(d);w&&(u=u.concat(rC(w,g,v,E)))}),a&&(u=u.concat(v_(a,e,i,t))),u}function Wp(e,n){const t=n.query,i=qu(e,t);return{hashFn:()=>(function VA(e){return e.viewCache_.serverCache.getNode()}(n)||ct.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function C_(e,n,t){const i=Gp(e,t);if(i){const a=I_(i),u=a.path,d=a.queryId,g=Hr(u,n);return D_(e,u,new ta(Mp(d),g))}return[]}(e,t._path,i):function Y0(e,n){return bd(e,new ta({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const u=function MA(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const i=new Error(e+" at "+n._path.toString()+": "+t);return i.code=e.toUpperCase(),i}(a,t);return Id(e,t,null,u)}}}}function qu(e,n){const t=Zf(n);return e.queryToTagMap.get(t)}function Zf(e){return e._path.toString()+"$"+e._queryIdentifier}function Gp(e,n){return e.tagToQueryMap.get(n)}function I_(e){const n=e.indexOf("$");return(0,M.vA)(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Rt(e.substr(0,n))}}function D_(e,n,t){const i=e.syncPointTree_.get(n);return(0,M.vA)(i,"Missing sync point for query tag that we're tracking"),v_(i,t,Op(e.pendingWriteTree_,n),null)}function Yu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function z0(){return(0,M.vA)(jp,"Reference.ts has not been loaded"),jp}())(e._repo,e._path):e}class b_{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new b_(t)}node(){return this.node_}}class zp{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=Zt(this.path_,n);return new zp(this.syncTree_,t)}node(){return wd(this.syncTree_,this.path_)}}const oC=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},A_=function(e,n,t){return e&&"object"==typeof e?((0,M.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?aC(e[".sv"],n,t):"object"==typeof e[".sv"]?X0(e[".sv"],n):void(0,M.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},aC=function(e,n,t){if("timestamp"===e)return t.timestamp;(0,M.vA)(!1,"Unexpected server value: "+e)},X0=function(e,n,t){e.hasOwnProperty("increment")||(0,M.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&(0,M.vA)(!1,"Unexpected increment value: "+i);const a=n.node();if((0,M.vA)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const d=a.getValue();return"number"!=typeof d?i:d+i},lC=function(e,n,t,i){return Kp(n,new zp(t,e),i)},T_=function(e,n,t){return Kp(e,new b_(n),t)};function Kp(e,n,t){const i=e.getPriority().val(),a=A_(i,n.getImmediateChild(".priority"),t);let u;if(e.isLeafNode()){const d=e,g=A_(d.getValue(),n,t);return g!==d.getValue()||a!==d.getPriority().val()?new fd(g,Jt(a)):e}{const d=e;return u=d,a!==d.getPriority().val()&&(u=u.updatePriority(new fd(a))),d.forEachChild(Et,(g,v)=>{const E=Kp(v,n.getImmediateChild(g),t);E!==v&&(u=u.updateImmediateChild(g,E))}),u}}class Jf{constructor(n="",t=null,i={children:{},childCount:0}){this.name=n,this.parent=t,this.node=i}}function eh(e,n){let t=n instanceof Rt?n:new Rt(n),i=e,a=ft(t);for(;null!==a;){const u=(0,M.yw)(i.node.children,a)||{children:{},childCount:0};i=new Jf(a,i,u),t=Ut(t),a=ft(t)}return i}function al(e){return e.node.value}function qp(e,n){e.node.value=n,yo(e)}function S_(e){return e.node.childCount>0}function th(e,n){Bn(e.node.children,(t,i)=>{n(new Jf(t,e,i))})}function M_(e,n,t,i){t&&!i&&n(e),th(e,a=>{M_(a,n,!0,i)}),t&&i&&n(e)}function ll(e){return new Rt(null===e.parent?e.name:ll(e.parent)+"/"+e.name)}function yo(e){null!==e.parent&&function Z0(e,n,t){const i=function uC(e){return void 0===al(e)&&!S_(e)}(t),a=(0,M.gR)(e.node.children,n);i&&a?(delete e.node.children[n],e.node.childCount--,yo(e)):!i&&!a&&(e.node.children[n]=t.node,e.node.childCount++,yo(e))}(e.parent,e.name,e)}const J0=/[\[\].#$\/\u0000-\u001F\u007F]/,R_=/[\[\].#$\u0000-\u001F\u007F]/,sa=10485760,Ad=function(e){return"string"==typeof e&&0!==e.length&&!J0.test(e)},dC=function(e){return"string"==typeof e&&0!==e.length&&!R_.test(e)},Yp=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!rd(e)||e&&"object"==typeof e&&(0,M.gR)(e,".sv")},oa=function(e,n,t,i){i&&void 0===n||nh((0,M.dI)(e,"value"),n,t)},nh=function(e,n,t){const i=t instanceof Rt?new CE(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+Ja(i));if("function"==typeof n)throw new Error(e+"contains a function "+Ja(i)+" with contents = "+n.toString());if(rd(n))throw new Error(e+"contains "+n.toString()+" "+Ja(i));if("string"==typeof n&&n.length>sa/3&&(0,M.OE)(n)>sa)throw new Error(e+"contains a string greater than "+sa+" utf8 bytes "+Ja(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,u=!1;if(Bn(n,(d,g)=>{if(".value"===d)a=!0;else if(".priority"!==d&&".sv"!==d&&(u=!0,!Ad(d)))throw new Error(e+" contains an invalid key ("+d+") "+Ja(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function OA(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=(0,M.OE)(n),Gm(e)})(i,d),nh(e,g,i),function Ip(e){const n=e.parts_.pop();e.byteLength_-=(0,M.OE)(n),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&u)throw new Error(e+' contains ".value" child '+Ja(i)+" in addition to actual children.")}},O_=function(e,n,t,i){if(i&&void 0===n)return;const a=(0,M.dI)(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const u=[];Bn(n,(d,g)=>{const v=new Rt(d);if(nh(a,g,Zt(t,v)),".priority"===Wm(v)&&!Yp(g))throw new Error(a+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(v)}),function(e,n){let t,i;for(t=0;t<n.length;t++){i=n[t];const u=Lf(i);for(let d=0;d<u.length;d++)if((".priority"!==u[d]||d!==u.length-1)&&!Ad(u[d]))throw new Error(e+"contains an invalid key ("+u[d]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(NA);let a=null;for(t=0;t<n.length;t++){if(i=n[t],null!==a&&Si(a,i))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},P_=function(e,n,t){if(!t||void 0!==n){if(rd(n))throw new Error((0,M.dI)(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Yp(n))throw new Error((0,M.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hn=function(e,n,t,i){if(!(i&&void 0===t||Ad(t)))throw new Error((0,M.dI)(e,n)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Td=function(e,n,t,i){if(!(i&&void 0===t||dC(t)))throw new Error((0,M.dI)(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},tw=function(e,n,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Td(e,n,t,i)},es=function(e,n){if(".info"===ft(n))throw new Error(e+" failed = Can't modify data under /.info/")},x_=function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ad(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),dC(e)}(t))throw new Error((0,M.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rh(e,n){let t=null;for(let i=0;i<n.length;i++){const a=n[i],u=a.getPath();null!==t&&!EE(u,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(a)}t&&e.eventLists_.push(t)}function k_(e,n,t){rh(e,t),fC(e,i=>EE(i,n))}function ur(e,n,t){rh(e,t),fC(e,i=>Si(i,n)||Si(n,i))}function fC(e,n){e.recursionDepth_++;let t=!0;for(let i=0;i<e.eventLists_.length;i++){const a=e.eventLists_[i];a&&(n(a.path)?(rw(e.eventLists_[i]),e.eventLists_[i]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function rw(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const i=t.getEventRunner();Qo&&Un("event: "+t.toString()),Ou(i)}}}const F_="repo_interrupt",iw=25;class hC{constructor(n,t,i,a){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sp(),this.transactionQueueTree_=new Jf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L_(e){const t=e.infoData_.getNode(new Rt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Qu(e){return oC({timestamp:L_(e)})}function Fs(e,n,t,i,a){e.dataUpdateCount++;const u=new Rt(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let d=[];if(a)if(i){const v=(0,M.kH)(t,E=>Jt(E));d=function $p(e,n,t,i){const a=Gp(e,i);if(a){const u=I_(a),d=u.path,g=u.queryId,v=Hr(d,n),E=Bt.fromObject(t);return D_(e,d,new Bu(Mp(g),v,E))}return[]}(e.serverSyncTree_,u,v,a)}else{const v=Jt(t);d=eC(e.serverSyncTree_,u,v,a)}else if(i){const v=(0,M.kH)(t,E=>Jt(E));d=function q0(e,n,t){const i=Bt.fromObject(t);return bd(e,new Bu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(e.serverSyncTree_,u,v)}else{const v=Jt(t);d=Xf(e.serverSyncTree_,u,v)}let g=u;d.length>0&&(g=Xu(e,u)),ur(e.eventQueue_,g,d)}function pC(e,n){ts(e,"connected",n),!1===n&&function ow(e){Sd(e,"onDisconnectEvents");const n=Qu(e),t=Sp();gd(e.onDisconnect_,It(),(a,u)=>{const d=lC(a,u,e.serverSyncTree_,n);Vu(t,a,d)});let i=[];gd(t,It(),(a,u)=>{i=i.concat(Xf(e.serverSyncTree_,a,u));const d=Jp(e,a);Xu(e,d)}),e.onDisconnect_=Sp(),ur(e.eventQueue_,It(),i)}(e)}function ts(e,n,t){const i=new Rt("/.info/"+n),a=Jt(t);e.infoData_.updateSnapshot(i,a);const u=Xf(e.infoSyncTree_,i,a);ur(e.eventQueue_,i,u)}function ri(e){return e.nextWriteId_++}function Qp(e,n,t,i,a){Sd(e,"set",{path:n.toString(),value:t,priority:i});const u=Qu(e),d=Jt(t,i),g=wd(e.serverSyncTree_,n),v=T_(d,g,u),E=ri(e),w=Hp(e.serverSyncTree_,n,v,E,!0);rh(e.eventQueue_,w),e.server_.put(n.toString(),d.val(!0),(R,z)=>{const L="ok"===R;L||Nn("set at "+n+" failed: "+R);const Ee=ol(e.serverSyncTree_,E,!L);ur(e.eventQueue_,n,Ee),aa(0,a,R,z)});const b=Jp(e,n);Xu(e,b),ur(e.eventQueue_,b,[])}function aw(e,n,t){e.server_.onDisconnectCancel(n.toString(),(i,a)=>{"ok"===i&&s_(e.onDisconnect_,n),aa(0,t,i,a)})}function mC(e,n,t,i){const a=Jt(t);e.server_.onDisconnectPut(n.toString(),a.val(!0),(u,d)=>{"ok"===u&&Vu(e.onDisconnect_,n,a),aa(0,i,u,d)})}function U_(e,n,t){let i;i=".info"===ft(n._path)?Id(e.infoSyncTree_,n,t):Id(e.serverSyncTree_,n,t),k_(e.eventQueue_,n._path,i)}function B_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(F_)}function Sd(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Un(t,...n)}function aa(e,n,t,i){n&&Ou(()=>{if("ok"===t)n(null);else{const a=(t||"error").toUpperCase();let u=a;i&&(u+=": "+i);const d=new Error(u);d.code=a,n(d)}})}function Md(e,n,t){return wd(e.serverSyncTree_,n,t)||ct.EMPTY_NODE}function Xp(e,n=e.transactionQueueTree_){if(n||Zu(e,n),al(n)){const t=CC(e,n);(0,M.vA)(t.length>0,"Sending zero length transaction queue"),t.every(a=>0===a.status)&&function vC(e,n,t){const i=t.map(E=>E.currentWriteId),a=Md(e,n,i);let u=a;const d=a.hash();for(let E=0;E<t.length;E++){const w=t[E];(0,M.vA)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const b=Hr(n,w.path);u=u.updateChild(b,w.currentOutputSnapshotRaw)}const g=u.val(!0),v=n;e.server_.put(v.toString(),g,E=>{Sd(e,"transaction put response",{path:v.toString(),status:E});let w=[];if("ok"===E){const b=[];for(let R=0;R<t.length;R++)t[R].status=2,w=w.concat(ol(e.serverSyncTree_,t[R].currentWriteId)),t[R].onComplete&&b.push(()=>t[R].onComplete(null,!0,t[R].currentOutputSnapshotResolved)),t[R].unwatcher();Zu(e,eh(e.transactionQueueTree_,n)),Xp(e,e.transactionQueueTree_),ur(e.eventQueue_,n,w);for(let R=0;R<b.length;R++)Ou(b[R])}else{if("datastale"===E)for(let b=0;b<t.length;b++)t[b].status=3===t[b].status?4:0;else{Nn("transaction at "+v.toString()+" failed: "+E);for(let b=0;b<t.length;b++)t[b].status=4,t[b].abortReason=E}Xu(e,n)}},d)}(e,ll(n),t)}else S_(n)&&th(n,t=>{Xp(e,t)})}function Xu(e,n){const t=EC(e,n),i=ll(t);return function yC(e,n,t){if(0===n.length)return;const i=[];let a=[];const d=n.filter(g=>0===g.status).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],E=Hr(t,v.path);let b,w=!1;if((0,M.vA)(null!==E,"rerunTransactionsUnderNode_: relativePath should not be null."),4===v.status)w=!0,b=v.abortReason,a=a.concat(ol(e.serverSyncTree_,v.currentWriteId,!0));else if(0===v.status)if(v.retryCount>=iw)w=!0,b="maxretry",a=a.concat(ol(e.serverSyncTree_,v.currentWriteId,!0));else{const R=Md(e,v.path,d);v.currentInputSnapshot=R;const z=n[g].update(R.val());if(void 0!==z){nh("transaction failed: Data returned ",z,v.path);let L=Jt(z);"object"==typeof z&&null!=z&&(0,M.gR)(z,".priority")||(L=L.updatePriority(R.getPriority()));const Me=v.currentWriteId,qe=Qu(e),_t=T_(L,R,qe);v.currentOutputSnapshotRaw=L,v.currentOutputSnapshotResolved=_t,v.currentWriteId=ri(e),d.splice(d.indexOf(Me),1),a=a.concat(Hp(e.serverSyncTree_,v.path,_t,v.currentWriteId,v.applyLocally)),a=a.concat(ol(e.serverSyncTree_,Me,!0))}else w=!0,b="nodata",a=a.concat(ol(e.serverSyncTree_,v.currentWriteId,!0))}ur(e.eventQueue_,t,a),a=[],w&&(n[g].status=2,setTimeout(n[g].unwatcher,Math.floor(0)),n[g].onComplete&&i.push("nodata"===b?()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot):()=>n[g].onComplete(new Error(b),!1,null)))}Zu(e,e.transactionQueueTree_);for(let g=0;g<i.length;g++)Ou(i[g]);Xp(e,e.transactionQueueTree_)}(e,CC(e,t),i),i}function EC(e,n){let t,i=e.transactionQueueTree_;for(t=ft(n);null!==t&&void 0===al(i);)i=eh(i,t),t=ft(n=Ut(n));return i}function CC(e,n){const t=[];return Zp(e,n,t),t.sort((i,a)=>i.order-a.order),t}function Zp(e,n,t){const i=al(n);if(i)for(let a=0;a<i.length;a++)t.push(i[a]);th(n,a=>{Zp(e,a,t)})}function Zu(e,n){const t=al(n);if(t){let i=0;for(let a=0;a<t.length;a++)2!==t[a].status&&(t[i]=t[a],i++);t.length=i,qp(n,t.length>0?t:void 0)}th(n,i=>{Zu(e,i)})}function Jp(e,n){const t=ll(EC(e,n)),i=eh(e.transactionQueueTree_,n);return function cC(e,n,t){let i=t?e:e.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,a=>{eg(e,a)}),eg(e,i),M_(i,a=>{eg(e,a)}),t}function eg(e,n){const t=al(n);if(t){const i=[];let a=[],u=-1;for(let d=0;d<t.length;d++)3===t[d].status||(1===t[d].status?((0,M.vA)(u===d-1,"All SENT items should be at beginning of queue."),u=d,t[d].status=3,t[d].abortReason="set"):((0,M.vA)(0===t[d].status,"Unexpected transaction status in abort"),t[d].unwatcher(),a=a.concat(ol(e.serverSyncTree_,t[d].currentWriteId,!0)),t[d].onComplete&&i.push(t[d].onComplete.bind(null,new Error("set"),!1,null))));-1===u?qp(n,void 0):t.length=u+1,ur(e.eventQueue_,ll(n),a);for(let d=0;d<i.length;d++)Ou(i[d])}}const tg=function(e,n){const t=wC(e),i=t.namespace;return"firebase.com"===t.domain&&Ti(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Rm(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,n,"",i!==t.subdomain),path:new Rt(t.pathString)}},wC=function(e){let n="",t="",i="",a="",u="",d=!0,g="https",v=443;if("string"==typeof e){let E=e.indexOf("//");E>=0&&(g=e.substring(0,E-1),e=e.substring(E+2));let w=e.indexOf("/");-1===w&&(w=e.length);let b=e.indexOf("?");-1===b&&(b=e.length),n=e.substring(0,Math.min(w,b)),w<b&&(a=function IC(e){let n="";const t=e.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let a=t[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}n+="/"+a}return n}(e.substring(w,b)));const R=function DC(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Nn(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,b)));E=n.indexOf(":"),E>=0?(d="https"===g||"wss"===g,v=parseInt(n.substring(E+1),10)):E=n.length;const z=n.slice(0,E);if("localhost"===z.toLowerCase())t="localhost";else if(z.split(".").length<=2)t=z;else{const L=n.indexOf(".");i=n.substring(0,L).toLowerCase(),t=n.substring(L+1),u=i}"ns"in R&&(u=R.ns)}return{host:n,port:v,domain:t,subdomain:i,secure:d,scheme:g,pathString:a,namespace:u}},j_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bC=function(){let e=0;const n=[];return function(t){const i=t===e;let a;e=t;const u=new Array(8);for(a=7;a>=0;a--)u[a]=j_.charAt(t%64),t=Math.floor(t/64);(0,M.vA)(0===t,"Cannot push at time == 0");let d=u.join("");if(i){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)d+=j_.charAt(n[a]);return(0,M.vA)(20===d.length,"nextPushId: Length should be 20."),d}}();class AC{constructor(n,t,i,a){this.eventType=n,this.eventRegistration=t,this.snapshot=i,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,M.As)(this.snapshot.exportVal())}}class TC{constructor(n,t,i){this.eventRegistration=n,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class H_{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return(0,M.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class SC{constructor(n,t){this._repo=n,this._path=t}cancel(){const n=new M.cY;return aw(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){es("OnDisconnect.remove",this._path);const n=new M.cY;return mC(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){es("OnDisconnect.set",this._path),oa("OnDisconnect.set",n,this._path,!1);const t=new M.cY;return mC(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){es("OnDisconnect.setWithPriority",this._path),oa("OnDisconnect.setWithPriority",n,this._path,!1),P_("OnDisconnect.setWithPriority",t,!1);const i=new M.cY;return function lw(e,n,t,i,a){const u=Jt(t,i);e.server_.onDisconnectPut(n.toString(),u.val(!0),(d,g)=>{"ok"===d&&Vu(e.onDisconnect_,n,u),aa(0,a,d,g)})}(this._repo,this._path,n,t,i.wrapCallback(()=>{})),i.promise}update(n){es("OnDisconnect.update",this._path),O_("OnDisconnect.update",n,this._path,!1);const t=new M.cY;return function V_(e,n,t,i){if((0,M.Im)(t))return Un("onDisconnect().update() called with empty data.  Don't do anything."),void aa(0,i,"ok",void 0);e.server_.onDisconnectMerge(n.toString(),t,(a,u)=>{"ok"===a&&Bn(t,(d,g)=>{const v=Jt(g);Vu(e.onDisconnect_,Zt(n,d),v)}),aa(0,i,a,u)})}(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}}class ii{constructor(n,t,i,a){this._repo=n,this._path=t,this._queryParams=i,this._orderByCalled=a}get key(){return yt(this._path)?null:Wm(this._path)}get ref(){return new ns(this._repo,this._path)}get _queryIdentifier(){const n=xE(this._queryParams),t=Am(n);return"{}"===t?"default":t}get _queryObject(){return xE(this._queryParams)}isEqual(n){if(!((n=(0,M.Ku)(n))instanceof ii))return!1;const t=this._repo===n._repo,i=EE(this._path,n._path);return t&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function y0(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}function ng(e,n){if(!0===e._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function ul(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Os){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Nu)throw new Error(i);if("string"!=typeof n)throw new Error(a)}if(e.hasEnd()){if(e.getIndexEndName()!==Ms)throw new Error(i);if("string"!=typeof t)throw new Error(a)}}else if(e.getIndex()===Et){if(null!=n&&!Yp(n)||null!=t&&!Yp(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,M.vA)(e.getIndex()instanceof t_||e.getIndex()===n_,"unknown index type."),null!=n&&"object"==typeof n||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rg(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ns extends ii{constructor(n,t){super(n,t,new Hf,!1)}get parent(){const n=yE(this._path);return null===n?null:new ns(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Ju{constructor(n,t,i){this._node=n,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new Rt(n),i=ec(this.ref,n);return new Ju(this._node.getChild(t),i,Et)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>n(new Ju(a,ec(this.ref,i),Et)))}hasChild(n){const t=new Rt(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MC(e,n){return(e=(0,M.Ku)(e))._checkNotDeleted("ref"),void 0!==n?ec(e._root,n):e._root}function RC(e,n){(e=(0,M.Ku)(e))._checkNotDeleted("refFromURL");const t=tg(n,e._repo.repoInfo_.nodeAdmin);x_("refFromURL",t);const i=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Ti("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),MC(e,t.path.toString())}function ec(e,n){return null===ft((e=(0,M.Ku)(e))._path)?tw("child","path",n,!1):Td("child","path",n,!1),new ns(e._repo,Zt(e._path,n))}function $_(e,n){e=(0,M.Ku)(e),es("set",e._path),oa("set",n,e._path,!1);const t=new M.cY;return Qp(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function OC(e,n){O_("update",n,e._path,!1);const t=new M.cY;return function gC(e,n,t,i){Sd(e,"update",{path:n.toString(),value:t});let a=!0;const u=Qu(e),d={};if(Bn(t,(g,v)=>{a=!1,d[g]=lC(Zt(n,g),Jt(v),e.serverSyncTree_,u)}),a)Un("update() called with empty data.  Don't do anything."),aa(0,i,"ok",void 0);else{const g=ri(e),v=function JE(e,n,t,i){!function jE(e,n,t,i){(0,M.vA)(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:i,visible:!0}),e.visibleWrites=u_(e.visibleWrites,n,t),e.lastWriteId=i}(e.pendingWriteTree_,n,t,i);const a=Bt.fromObject(t);return bd(e,new Bu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(e.serverSyncTree_,n,d,g);rh(e.eventQueue_,v),e.server_.merge(n.toString(),t,(E,w)=>{const b="ok"===E;b||Nn("update at "+n+" failed: "+E);const R=ol(e.serverSyncTree_,g,!b),z=R.length>0?Xu(e,n):n;ur(e.eventQueue_,z,R),aa(0,i,E,w)}),Bn(t,E=>{const w=Jp(e,Zt(n,E));Xu(e,w)}),ur(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function PC(e){e=(0,M.Ku)(e);const n=new H_(()=>{}),t=new Rd(n);return function Ls(e,n,t){const i=function tC(e,n){const t=n._path;let i=null;e.syncPointTree_.foreachOnPath(t,(E,w)=>{const b=Hr(E,t);i=i||ks(w,b)});let a=e.syncPointTree_.get(t);a?i=i||ks(a,It()):(a=new __,e.syncPointTree_=e.syncPointTree_.set(t,a));const u=null!=i,d=u?new na(i,!0,!1):null;return function B0(e){return Np(e.viewCache_)}(QE(a,n,Op(e.pendingWriteTree_,n._path),u?d.getNode():ct.EMPTY_NODE,u))}(e.serverSyncTree_,n);return null!=i?Promise.resolve(i):e.server_.get(n).then(a=>{const u=Jt(a).withIndex(n._queryParams.getIndex());let d;if(Dd(e.serverSyncTree_,n,t,!0),n._queryParams.loadsAllData())d=Xf(e.serverSyncTree_,n._path,u);else{const g=qu(e.serverSyncTree_,n);d=eC(e.serverSyncTree_,n._path,u,g)}return ur(e.eventQueue_,n._path,d),Id(e.serverSyncTree_,n,t,null,!0),u},a=>(Sd(e,"get for query "+(0,M.As)(n)+" failed: "+a),Promise.reject(new Error(a))))}(e._repo,e,t).then(i=>new Ju(i,new ns(e._repo,e._path),e._queryParams.getIndex()))}class Rd{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const i=t._queryParams.getIndex();return new AC("value",this,new Ju(n.snapshotNode,new ns(t._repo,t._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new TC(this,n,t):null}matches(n){return n instanceof Rd&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class sh{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new TC(this,n,t):null}createEvent(n,t){(0,M.vA)(null!=n.childName,"Child events should have a childName.");const i=ec(new ns(t._repo,t._path),n.childName),a=t._queryParams.getIndex();return new AC(n.type,this,new Ju(n.snapshotNode,i,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof sh&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nd(e,n,t,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const v=t,E=(w,b)=>{U_(e._repo,e,g),v(w,b)};E.userCallback=t.userCallback,E.context=t.context,t=E}const d=new H_(t,u||void 0),g="value"===n?new Rd(d):new sh(n,d);return function ih(e,n,t){let i;i=".info"===ft(n._path)?Dd(e.infoSyncTree_,n,t):Dd(e.serverSyncTree_,n,t),k_(e.eventQueue_,n._path,i)}(e._repo,e,g),()=>U_(e._repo,e,g)}function ig(e,n,t,i){return Nd(e,"value",n,t,i)}function W_(e,n,t,i){return Nd(e,"child_added",n,t,i)}function G_(e,n,t,i){return Nd(e,"child_changed",n,t,i)}function z_(e,n,t,i){return Nd(e,"child_moved",n,t,i)}function K_(e,n,t,i){return Nd(e,"child_removed",n,t,i)}function cl(e,n,t){let i=null;const a=t?new H_(t):null;"value"===n?i=new Rd(a):n&&(i=new sh(n,a)),U_(e._repo,e,i)}class Vs{}class xC extends Vs{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){oa("endAt",this._value,n._path,!0);const t=Ap(n._queryParams,this._value,this._key);if(rg(t),ul(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(n._repo,n._path,t,n._orderByCalled)}}class jA extends Vs{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){oa("endBefore",this._value,n._path,!1);const t=function PE(e,n,t){let i;return i=Ap(e,n,e.index_===Os||t?t:Nu),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(rg(t),ul(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(n._repo,n._path,t,n._orderByCalled)}}class hw extends Vs{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){oa("startAt",this._value,n._path,!0);const t=bp(n._queryParams,this._value,this._key);if(rg(t),ul(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ii(n._repo,n._path,t,n._orderByCalled)}}class FC extends Vs{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){oa("startAfter",this._value,n._path,!1);const t=function OE(e,n,t){let i;return i=bp(e,n,e.index_===Os||t?t:Ms),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(rg(t),ul(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ii(n._repo,n._path,t,n._orderByCalled)}}class Pd extends Vs{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(n._repo,n._path,function r_(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}(n._queryParams,this._limit),n._orderByCalled)}}class gw extends Vs{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(n._repo,n._path,function PA(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}(n._queryParams,this._limit),n._orderByCalled)}}class xd extends Vs{constructor(n){super(),this._path=n}_apply(n){ng(n,"orderByChild");const t=new Rt(this._path);if(yt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new t_(t),a=pd(n._queryParams,i);return ul(a),new ii(n._repo,n._path,a,!0)}}class sg extends Vs{_apply(n){ng(n,"orderByKey");const t=pd(n._queryParams,Os);return ul(t),new ii(n._repo,n._path,t,!0)}}class si extends Vs{_apply(n){ng(n,"orderByPriority");const t=pd(n._queryParams,Et);return ul(t),new ii(n._repo,n._path,t,!0)}}class LC extends Vs{_apply(n){ng(n,"orderByValue");const t=pd(n._queryParams,n_);return ul(t),new ii(n._repo,n._path,t,!0)}}class vw extends Vs{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){if(oa("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new xC(this._value,this._key)._apply(new hw(this._value,this._key)._apply(n))}}function rs(e,...n){let t=(0,M.Ku)(e);for(const i of n)t=i._apply(t);return t}(function H0(e){(0,M.vA)(!il,"__referenceConstructor has already been defined"),il=e})(ns),function ZE(e){(0,M.vA)(!jp,"__referenceConstructor has already been defined"),jp=e}(ns);const ag={};function HC(e,n,t,i,a){let u=i||e.options.databaseURL;void 0===u&&(e.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",e.options.projectId),u=`${e.options.projectId}-default-rtdb.firebaseio.com`);let v,E,d=tg(u,a),g=d.repoInfo;typeof process<"u"&&process.env&&(E=process.env.FIREBASE_DATABASE_EMULATOR_HOST),E?(v=!0,u=`http://${E}?ns=${g.namespace}`,d=tg(u,a),g=d.repoInfo):v=!d.repoInfo.secure;const w=a&&v?new Of(Of.OWNER):new eE(e.name,e.options,n);x_("Invalid Firebase Database URL",d),yt(d.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const b=function Ew(e,n,t,i){let a=ag[n.name];a||(a={},ag[n.name]=a);let u=a[e.toURLString()];return u&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new hC(e,false,t,i),a[e.toURLString()]=u,u}(g,e,w,new s0(e.name,t));return new Iw(b,e)}class Iw{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function UA(e,n,t){if(e.stats_=yp(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Tp(e.repoInfo_,(i,a,u,d)=>{Fs(e,i,a,u,d)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>pC(e,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,M.As)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new ku(e.repoInfo_,n,(i,a,u,d)=>{Fs(e,i,a,u,d)},i=>{pC(e,i)},i=>{!function sw(e,n){Bn(n,(t,i)=>{ts(e,t,i)})}(e,i)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=function a0(e,n){const t=e.toString();return kf[t]||(kf[t]=n()),kf[t]}(e.repoInfo_,()=>new FE(e.stats_,e.server_)),e.infoData_=new i_,e.infoSyncTree_=new E_({startListening:(i,a,u,d)=>{let g=[];const v=e.infoData_.getNode(i._path);return v.isEmpty()||(g=Xf(e.infoSyncTree_,i._path,v),setTimeout(()=>{d("ok")},0)),g},stopListening:()=>{}}),ts(e,"connected",!1),e.serverSyncTree_=new E_({startListening:(i,a,u,d)=>(e.server_.listen(i,u,a,(g,v)=>{const E=d(g,v);ur(e.eventQueue_,i._path,E)}),[]),stopListening:(i,a)=>{e.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ns(this._repo,It())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function oh(e,n){const t=ag[n];(!t||t[e.key]!==e)&&Ti(`Database ${n}(${e.repoInfo_}) has already been deleted.`),B_(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Ti("Cannot call "+n+" on a deleted database.")}}function ah(){hE.IS_TRANSPORT_INITIALIZED&&Nn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $C(){ah(),go.forceDisallow()}function WC(){ah(),fn.forceDisallow(),go.forceAllow()}function ww(e,n){Su(e,n)}const Aw={".sv":"timestamp"};class qC{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}ku.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},ku.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function bw(e){Im(Au.SDK_VERSION),(0,Au._registerComponent)(new Xa.uA("database",(n,{instanceIdentifier:t})=>HC(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Au.registerVersion)(pp,"0.14.4",e),(0,Au.registerVersion)(pp,"0.14.4","esm2017")}();const zA=new hp.Vy("@firebase/database-compat"),Rw=function(e){zA.warn("FIREBASE WARNING: "+e)};class lg{constructor(n){this._delegate=n}cancel(n){(0,M.od)("OnDisconnect.cancel",0,1,arguments.length),(0,M.oD)("OnDisconnect.cancel","onComplete",n,!0);const t=this._delegate.cancel();return n&&t.then(()=>n(null),i=>n(i)),t}remove(n){(0,M.od)("OnDisconnect.remove",0,1,arguments.length),(0,M.oD)("OnDisconnect.remove","onComplete",n,!0);const t=this._delegate.remove();return n&&t.then(()=>n(null),i=>n(i)),t}set(n,t){(0,M.od)("OnDisconnect.set",1,2,arguments.length),(0,M.oD)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(n);return t&&i.then(()=>t(null),a=>t(a)),i}setWithPriority(n,t,i){(0,M.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,M.oD)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(n,t);return i&&a.then(()=>i(null),u=>i(u)),a}update(n,t){if((0,M.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,Rw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,M.oD)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(n);return t&&i.then(()=>t(null),a=>t(a)),i}}class Nw{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return(0,M.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class dl{constructor(n,t){this._database=n,this._delegate=t}val(){return(0,M.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,M.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,M.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,M.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,M.od)("DataSnapshot.child",0,1,arguments.length),n=String(n),Td("DataSnapshot.child","path",n,!1),new dl(this._database,this._delegate.child(n))}hasChild(n){return(0,M.od)("DataSnapshot.hasChild",1,1,arguments.length),Td("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,M.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,M.od)("DataSnapshot.forEach",1,1,arguments.length),(0,M.oD)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new dl(this._database,t)))}hasChildren(){return(0,M.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,M.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,M.od)("DataSnapshot.ref",0,0,arguments.length),new Er(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class cr{constructor(n,t){this.database=n,this._delegate=t}on(n,t,i,a){var u;(0,M.od)("Query.on",2,4,arguments.length),(0,M.oD)("Query.on","callback",t,!1);const d=cr.getCancelAndContextArgs_("Query.on",i,a),g=(E,w)=>{t.call(d.context,new dl(this.database,E),w)};g.userCallback=t,g.context=d.context;const v=null===(u=d.cancel)||void 0===u?void 0:u.bind(d.context);switch(n){case"value":return ig(this._delegate,g,v),t;case"child_added":return W_(this._delegate,g,v),t;case"child_removed":return K_(this._delegate,g,v),t;case"child_changed":return G_(this._delegate,g,v),t;case"child_moved":return z_(this._delegate,g,v),t;default:throw new Error((0,M.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,i){if((0,M.od)("Query.off",0,3,arguments.length),function(e,n,t){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,M.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,M.oD)("Query.off","callback",t,!0),(0,M.HN)("Query.off","context",i,!0),t){const a=()=>{};a.userCallback=t,a.context=i,cl(this._delegate,n,a)}else cl(this._delegate,n)}get(){return PC(this._delegate).then(n=>new dl(this.database,n))}once(n,t,i,a){(0,M.od)("Query.once",1,4,arguments.length),(0,M.oD)("Query.once","callback",t,!0);const u=cr.getCancelAndContextArgs_("Query.once",i,a),d=new M.cY,g=(E,w)=>{const b=new dl(this.database,E);t&&t.call(u.context,b,w),d.resolve(b)};g.userCallback=t,g.context=u.context;const v=E=>{u.cancel&&u.cancel.call(u.context,E),d.reject(E)};switch(n){case"value":ig(this._delegate,g,v,{onlyOnce:!0});break;case"child_added":W_(this._delegate,g,v,{onlyOnce:!0});break;case"child_removed":K_(this._delegate,g,v,{onlyOnce:!0});break;case"child_changed":G_(this._delegate,g,v,{onlyOnce:!0});break;case"child_moved":z_(this._delegate,g,v,{onlyOnce:!0});break;default:throw new Error((0,M.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(n){return(0,M.od)("Query.limitToFirst",1,1,arguments.length),new cr(this.database,rs(this._delegate,function pw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Pd(e)}(n)))}limitToLast(n){return(0,M.od)("Query.limitToLast",1,1,arguments.length),new cr(this.database,rs(this._delegate,function mw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new gw(e)}(n)))}orderByChild(n){return(0,M.od)("Query.orderByChild",1,1,arguments.length),new cr(this.database,rs(this._delegate,function _w(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Td("orderByChild","path",e,!1),new xd(e)}(n)))}orderByKey(){return(0,M.od)("Query.orderByKey",0,0,arguments.length),new cr(this.database,rs(this._delegate,function og(){return new sg}()))}orderByPriority(){return(0,M.od)("Query.orderByPriority",0,0,arguments.length),new cr(this.database,rs(this._delegate,function $A(){return new si}()))}orderByValue(){return(0,M.od)("Query.orderByValue",0,0,arguments.length),new cr(this.database,rs(this._delegate,function VC(){return new LC}()))}startAt(n=null,t){return(0,M.od)("Query.startAt",0,2,arguments.length),new cr(this.database,rs(this._delegate,function kC(e=null,n){return hn("startAt","key",n,!0),new hw(e,n)}(n,t)))}startAfter(n=null,t){return(0,M.od)("Query.startAfter",0,2,arguments.length),new cr(this.database,rs(this._delegate,function HA(e,n){return hn("startAfter","key",n,!0),new FC(e,n)}(n,t)))}endAt(n=null,t){return(0,M.od)("Query.endAt",0,2,arguments.length),new cr(this.database,rs(this._delegate,function Od(e,n){return hn("endAt","key",n,!0),new xC(e,n)}(n,t)))}endBefore(n=null,t){return(0,M.od)("Query.endBefore",0,2,arguments.length),new cr(this.database,rs(this._delegate,function q_(e,n){return hn("endBefore","key",n,!0),new jA(e,n)}(n,t)))}equalTo(n,t){return(0,M.od)("Query.equalTo",1,2,arguments.length),new cr(this.database,rs(this._delegate,function UC(e,n){return hn("equalTo","key",n,!0),new vw(e,n)}(n,t)))}toString(){return(0,M.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,M.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,M.od)("Query.isEqual",1,1,arguments.length),!(n instanceof cr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,i){const a={cancel:void 0,context:void 0};if(t&&i)a.cancel=t,(0,M.oD)(n,"cancel",a.cancel,!0),a.context=i,(0,M.HN)(n,"context",a.context,!0);else if(t)if("object"==typeof t&&null!==t)a.context=t;else{if("function"!=typeof t)throw new Error((0,M.dI)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=t}return a}get ref(){return new Er(this.database,new ns(this._delegate._repo,this._delegate._path))}}class Er extends cr{constructor(n,t){super(n,new ii(t._repo,t._path,new Hf,!1)),this.database=n,this._delegate=t}getKey(){return(0,M.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,M.od)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Er(this.database,ec(this._delegate,n))}getParent(){(0,M.od)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Er(this.database,n):null}getRoot(){return(0,M.od)("Reference.root",0,0,arguments.length),new Er(this.database,this._delegate.root)}set(n,t){(0,M.od)("Reference.set",1,2,arguments.length),(0,M.oD)("Reference.set","onComplete",t,!0);const i=$_(this._delegate,n);return t&&i.then(()=>t(null),a=>t(a)),i}update(n,t){if((0,M.od)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let u=0;u<n.length;++u)a[""+u]=n[u];n=a,Rw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}es("Reference.update",this._delegate._path),(0,M.oD)("Reference.update","onComplete",t,!0);const i=OC(this._delegate,n);return t&&i.then(()=>t(null),a=>t(a)),i}setWithPriority(n,t,i){(0,M.od)("Reference.setWithPriority",2,3,arguments.length),(0,M.oD)("Reference.setWithPriority","onComplete",i,!0);const a=function NC(e,n,t){if(es("setWithPriority",e._path),oa("setWithPriority",n,e._path,!1),P_("setWithPriority",t,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const i=new M.cY;return Qp(e._repo,e._path,n,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,t);return i&&a.then(()=>i(null),u=>i(u)),a}remove(n){(0,M.od)("Reference.remove",0,1,arguments.length),(0,M.oD)("Reference.remove","onComplete",n,!0);const t=function dw(e){return es("remove",e._path),$_(e,null)}(this._delegate);return n&&t.then(()=>n(null),i=>n(i)),t}transaction(n,t,i){(0,M.od)("Reference.transaction",1,3,arguments.length),(0,M.oD)("Reference.transaction","transactionUpdate",n,!1),(0,M.oD)("Reference.transaction","onComplete",t,!0),function(e,n,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,M.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function Tw(e,n,t){var i;if(e=(0,M.Ku)(e),es("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const a=null===(i=t?.applyLocally)||void 0===i||i,u=new M.cY,g=ig(e,()=>{});return function _C(e,n,t,i,a,u){Sd(e,"transaction on "+n);const d={path:n,update:t,onComplete:i,status:null,order:JD(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},g=Md(e,n,void 0);d.currentInputSnapshot=g;const v=d.update(g.val());if(void 0===v)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{nh("transaction failed: Data returned ",v,d.path),d.status=0;const E=eh(e.transactionQueueTree_,n),w=al(E)||[];let b;w.push(d),qp(E,w),"object"==typeof v&&null!==v&&(0,M.gR)(v,".priority")?(b=(0,M.yw)(v,".priority"),(0,M.vA)(Yp(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):b=(wd(e.serverSyncTree_,n)||ct.EMPTY_NODE).getPriority().val();const R=Qu(e),z=Jt(v,b),L=T_(z,g,R);d.currentOutputSnapshotRaw=z,d.currentOutputSnapshotResolved=L,d.currentWriteId=ri(e);const Ee=Hp(e.serverSyncTree_,n,L,d.currentWriteId,d.applyLocally);ur(e.eventQueue_,n,Ee),Xp(e,e.transactionQueueTree_)}}(e._repo,e._path,n,(v,E,w)=>{let b=null;v?u.reject(v):(b=new Ju(w,new ns(e._repo,e._path),Et),u.resolve(new qC(E,b)))},g,a),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new Nw(u.committed,new dl(this.database,u.snapshot)));return t&&a.then(u=>t(null,u.committed,u.snapshot),u=>t(u,!1,null)),a}setPriority(n,t){(0,M.od)("Reference.setPriority",1,2,arguments.length),(0,M.oD)("Reference.setPriority","onComplete",t,!0);const i=function fw(e,n){e=(0,M.Ku)(e),es("setPriority",e._path),P_("setPriority",n,!1);const t=new M.cY;return Qp(e._repo,Zt(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,n);return t&&i.then(()=>t(null),a=>t(a)),i}push(n,t){(0,M.od)("Reference.push",0,2,arguments.length),(0,M.oD)("Reference.push","onComplete",t,!0);const i=function cw(e,n){e=(0,M.Ku)(e),es("push",e._path),oa("push",n,e._path,!0);const t=L_(e._repo),i=bC(t),a=ec(e,i),u=ec(e,i);let d;return d=null!=n?$_(u,n).then(()=>u):Promise.resolve(u),a.then=d.then.bind(d),a.catch=d.then.bind(d,void 0),a}(this._delegate,n),a=i.then(d=>new Er(this.database,d));t&&a.then(()=>t(null),d=>t(d));const u=new Er(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return es("Reference.onDisconnect",this._delegate._path),new lg(new SC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ch{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$C,forceLongPolling:WC}}useEmulator(n,t,i={}){!function GC(e,n,t,i={}){(e=(0,M.Ku)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ti("Cannot call useEmulator() after instance has already been initialized.");const a=e._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Of(Of.OWNER);else if(i.mockUserToken){const d="string"==typeof i.mockUserToken?i.mockUserToken:(0,M.Fy)(i.mockUserToken,e.app.options.projectId);u=new Of(d)}!function yw(e,n,t,i){e.repoInfo_=new Rm(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}(a,n,t,u)}(this._delegate,n,t,i)}ref(n){if((0,M.od)("database.ref",0,1,arguments.length),n instanceof Er){const t=RC(this._delegate,n.toString());return new Er(this,t)}{const t=MC(this._delegate,n);return new Er(this,t)}}refFromURL(n){(0,M.od)("database.refFromURL",1,1,arguments.length);const i=RC(this._delegate,n);return new Er(this,i)}goOffline(){return(0,M.od)("database.goOffline",0,0,arguments.length),function lh(e){(e=(0,M.Ku)(e))._checkNotDeleted("goOffline"),B_(e._repo)}(this._delegate)}goOnline(){return(0,M.od)("database.goOnline",0,0,arguments.length),function uh(e){(e=(0,M.Ku)(e))._checkNotDeleted("goOnline"),function uw(e){e.persistentConnection_&&e.persistentConnection_.resume(F_)}(e._repo)}(this._delegate)}}ch.ServerValue={TIMESTAMP:function zC(){return Aw}(),increment:e=>function KC(e){return{".sv":{increment:e}}}(e)};var Pw=Object.freeze({__proto__:null,initStandalone:function Ow({app:e,url:n,version:t,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){Im(t);const d=new Xa.Kq("auth-internal",new Xa.h1("database-standalone"));return d.setComponent(new Xa.uA("auth-internal",()=>i,"PRIVATE")),{instance:new ch(HC(e,d,void 0,n,u),e),namespace:a}}});const xw=ch.ServerValue;!function qA(e){e.INTERNAL.registerComponent(new Xa.uA("database-compat",(n,{instanceIdentifier:t})=>{const i=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:t});return new ch(a,i)},"PUBLIC").setServiceProps({Reference:Er,Query:cr,Database:ch,DataSnapshot:dl,enableLogging:ww,INTERNAL:Pw,ServerValue:xw}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(XD.A);var ug=T(941),QC=T(6129);class kw extends Ar.B{constructor(n=1/0,t=1/0,i=QC.U){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:d}=this;t||(i.push(n),!a&&i.push(u.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let d=0;d<u.length&&!n.closed;d+=i?1:2)n.next(u[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const d=t.now();let g=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)g=v;g&&i.splice(0,g+1)}}}function XC(e,n,t){let i,a=!1;return e&&"object"==typeof e?({bufferSize:i=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:t}=e):i=e??1/0,(0,dp.u)({connector:()=>new kw(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function kd(e,n){return(0,_s.T)(n)?(0,zt.n)(()=>e,n):(0,zt.n)(()=>e)}var Y_=T(6745);T(2214);const Z_=new Map,iI={activated:!1,tokenObservers:[]},Lw={initialized:!1,enabled:!1};function In(e){return Z_.get(e)||Object.assign({},iI)}function dg(){return Lw}const fg="https://content-firebaseappcheck.googleapis.com/v1",Bw="exchangeDebugToken",J_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Hw{constructor(n,t,i,a,u){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,Ai.A)(function*(){t.stop();try{t.pending=new M.cY,yield function $w(e){return new Promise(n=>{setTimeout(n,e)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new M.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Kn=new M.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function hg(e){if(!In(e).activated)throw Kn.create("use-before-activation",{appName:e.name})}function gg(e,n){return fh.apply(this,arguments)}function fh(){return(fh=(0,Ai.A)(function*({url:e,body:n},t){const i={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const b=yield a.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const u={method:"POST",body:JSON.stringify(n),headers:i};let d,g;try{d=yield fetch(e,u)}catch(b){throw Kn.create("fetch-network-error",{originalErrorMessage:b?.message})}if(200!==d.status)throw Kn.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(b){throw Kn.create("fetch-parse-error",{originalErrorMessage:b?.message})}const v=g.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const E=1e3*Number(v[1]),w=Date.now();return{token:g.token,expireTimeMillis:w+E,issuedAtTimeMillis:w}})).apply(this,arguments)}function fl(e,n){const{projectId:t,appId:i,apiKey:a}=e.options;return{url:`${fg}/projects/${t}/apps/${i}:${Bw}?key=${a}`,body:{debug_token:n}}}const aI="firebase-app-check-database",zw=1,mg="firebase-app-check-store";let Ld=null;function yg(){return(yg=(0,Ai.A)(function*(e,n){const i=(yield function lI(){return Ld||(Ld=new Promise((e,n)=>{try{const t=indexedDB.open(aI,zw);t.onsuccess=i=>{e(i.target.result)},t.onerror=i=>{var a;n(Kn.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(mg,{keyPath:"compositeKey"})}}catch(t){n(Kn.create("storage-open",{originalErrorMessage:t?.message}))}}),Ld)}()).transaction(mg,"readwrite"),u=i.objectStore(mg).put({compositeKey:e,value:n});return new Promise((d,g)=>{u.onsuccess=v=>{d()},i.onerror=v=>{var E;g(Kn.create("storage-set",{originalErrorMessage:null===(E=v.target.error)||void 0===E?void 0:E.message}))}})})).apply(this,arguments)}const hh=new hp.Vy("@firebase/app-check");function rv(e,n){return(0,M.zW)()?function cI(e,n){return function vg(e,n){return yg.apply(this,arguments)}(function tv(e){return`${e.options.appId}-${e.name}`}(e),n)}(e,n).catch(t=>{hh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cg(){return dg().enabled}function iv(){return sv.apply(this,arguments)}function sv(){return(sv=(0,Ai.A)(function*(){const e=dg();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Yw={error:"UNKNOWN_ERROR"};function Qw(e){return M.K3.encodeString(JSON.stringify(e),!1)}function Ig(e){return ov.apply(this,arguments)}function ov(){return(ov=(0,Ai.A)(function*(e,n=!1){const t=e.app;hg(t);const i=In(t);let u,a=i.token;if(a&&!Vd(a)&&(i.token=void 0,a=void 0),!a){const v=yield i.cachedTokenPromise;v&&(Vd(v)?a=v:yield rv(t,void 0))}if(!n&&a&&Vd(a))return{token:a.token};let g,d=!1;if(Cg()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gg(fl(t,yield iv()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),d=!0);const v=yield i.exchangeTokenPromise;return yield rv(t,v),i.token=v,{token:v.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),d=!0),a=yield In(t).exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?hh.warn(v.message):hh.error(v),u=v}return a?u?g=Vd(a)?{token:a.token,internalError:u}:Ud(u):(g={token:a.token},i.token=a,yield rv(t,a)):g=Ud(u),d&&function mI(e,n){const t=In(e).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(t,g),g})).apply(this,arguments)}function pI(e){return av.apply(this,arguments)}function av(){return(av=(0,Ai.A)(function*(e){const n=e.app;hg(n);const{provider:t}=In(n);if(Cg()){const i=yield iv(),{token:a}=yield gg(fl(n,i),e.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function uv(e,n){const t=In(e),i=t.tokenObservers.filter(a=>a.next!==n);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function gI(e){const{app:n}=e,t=In(n);let i=t.tokenRefresher;i||(i=function Xw(e){const{app:n}=e;return new Hw((0,Ai.A)(function*(){let i;if(i=In(n).token?yield Ig(e,!0):yield Ig(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=In(n);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},J_.RETRIAL_MIN_WAIT,J_.RETRIAL_MAX_WAIT)}(e),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Vd(e){return e.expireTimeMillis-Date.now()>0}function Ud(e){return{token:Qw(Yw),error:e}}class _I{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=In(this.app);for(const t of n)uv(this.app,t.next);return Promise.resolve()}}const gh="app-check-internal";!function sb(){(0,Au._registerComponent)(new Xa.uA("app-check",e=>function vI(e,n){return new _I(e,n)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(gh).initialize()})),(0,Au._registerComponent)(new Xa.uA(gh,e=>function yI(e){return{getToken:n=>Ig(e,n),getLimitedUseToken:()=>pI(e),addTokenListener:n=>function lv(e,n,t,i){const{app:a}=e,u=In(a);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:i,type:n}],u.token&&Vd(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),gI(e)}).catch(()=>{})}u.cachedTokenPromise.then(()=>gI(e))}(e,"INTERNAL",n),removeTokenListener:n=>uv(e.app,n)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Au.registerVersion)("@firebase/app-check","0.8.0")}();class fv{constructor(){return(0,ti.CA)("app-check")}}typeof window<"u"&&window;var pv=T(7935);const Sg=new f.nKC("angularfire2.auth.use-emulator"),Mg=new f.nKC("angularfire2.auth.settings"),PI=new f.nKC("angularfire2.auth.tenant-id"),xI=new f.nKC("angularfire2.auth.langugage-code"),kI=new f.nKC("angularfire2.auth.use-device-language"),FI=new f.nKC("angularfire.auth.persistence"),gv=(e,n,t,i,a,u,d,g)=>(0,bi.BM)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const v=n.runOutsideAngular(()=>e.auth());if(t&&v.useEmulator(...t),i&&(v.tenantId=i),v.languageCode=a,u&&v.useDeviceLanguage(),d)for(const[E,w]of Object.entries(d))v.settings[E]=w;return g&&v.setPersistence(g),v},[t,i,a,u,d,g]);let Rg=(()=>{class e{constructor(t,i,a,u,d,g,v,E,w,b,R,z){const L=new Ar.B,Ee=(0,ze.of)(void 0).pipe((0,ug.Q)(d.outsideAngular),(0,zt.n)(()=>u.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,6922)))),(0,Ze.T)(()=>(0,bi.iB)(t,u,i)),(0,Ze.T)(Me=>gv(Me,u,g,E,w,b,v,R)),XC({bufferSize:1,refCount:!1}));if(va(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ze.of)(null);else{Ee.pipe(Gi()).subscribe();const qe=Ee.pipe((0,zt.n)(St=>St.getRedirectResult().then(hr=>hr,()=>null)),ti.U0,XC({bufferSize:1,refCount:!1})),_t=Ee.pipe((0,zt.n)(St=>new sr.c(hr=>({unsubscribe:u.runOutsideAngular(()=>St.onAuthStateChanged(ac=>hr.next(ac),ac=>hr.error(ac),()=>hr.complete()))})))),Kt=Ee.pipe((0,zt.n)(St=>new sr.c(hr=>({unsubscribe:u.runOutsideAngular(()=>St.onIdTokenChanged(ac=>hr.next(ac),ac=>hr.error(ac),()=>hr.complete()))}))));this.authState=qe.pipe(kd(_t),(0,Y_._)(d.outsideAngular),(0,ug.Q)(d.insideAngular)),this.user=qe.pipe(kd(Kt),(0,Y_._)(d.outsideAngular),(0,ug.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,zt.n)(St=>St?(0,cn.H)(St.getIdToken()):(0,ze.of)(null))),this.idTokenResult=this.user.pipe((0,zt.n)(St=>St?(0,cn.H)(St.getIdTokenResult()):(0,ze.of)(null))),this.credential=(0,ym.h)(qe,L,this.authState.pipe(Vr(St=>!St))).pipe((0,Ze.T)(St=>St?.user?St:null),(0,Y_._)(d.outsideAngular),(0,ug.Q)(d.insideAngular))}return(0,bi.Gt)(this,Ee,u,{spy:{apply:(Me,qe,_t)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&_t.then(Kt=>L.next(Kt))}}})}}return e.\u0275fac=function(t){return new(t||e)(f.KVO(bi.rx),f.KVO(bi.uP,8),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(ti.u0),f.KVO(Sg,8),f.KVO(Mg,8),f.KVO(PI,8),f.KVO(xI,8),f.KVO(kI,8),f.KVO(FI,8),f.KVO(fv,8))},e.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function mv(e){return null==e}function VI(e){return"function"==typeof e.set}function _v(e,n){return VI(n)?n:e.ref(n)}function vv(e,n){if(function fb(e){return"string"==typeof e}(e))return n.stringCase();if(VI(e))return n.firebaseCase();if(function LI(e){return"function"==typeof e.exportVal}(e))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function mh(e,n,t="on",i=cp.E){return new sr.c(a=>{let u=null;return u=e[t](n,(d,g)=>{i.schedule(()=>{a.next({snapshot:d,prevKey:g})}),"once"===t&&i.schedule(()=>a.complete())},d=>{i.schedule(()=>a.error(d))}),"on"===t?{unsubscribe(){null!=u&&e.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Ze.T)(a=>{const{snapshot:u,prevKey:d}=a;let g=null;return u.exists()&&(g=u.key),{type:n,payload:u,prevKey:d,key:g}}),(0,dp.u)())}function BI(e,n){const t=e.length;for(let i=0;i<t;i++)if(e[i].payload.key===n)return i;return-1}function jd(e,n){const{payload:t,prevKey:i,key:a}=n,u=BI(e,a),d=function Wr(e,n){if(mv(n))return 0;{const t=BI(e,n);return-1===t?e.length:t+1}}(e,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let g=null;n.payload.forEach(v=>{const E={payload:v,type:"value",prevKey:g,key:v.key};return g=v.key,e=[...e,E],!1})}return e;case"child_added":if(u>-1){const g=e[u-1];(g&&g.key||null)!==i&&(e=e.filter(v=>v.payload.key!==t.key)).splice(d,0,n)}else{if(null==i)return[n,...e];(e=e.slice()).splice(d,0,n)}return e;case"child_removed":return e.filter(g=>g.payload.key!==t.key);case"child_changed":return e.map(g=>g.payload.key===a?n:g);case"child_moved":if(u>-1){const g=e.splice(u,1)[0];return(e=e.slice()).splice(d,0,g),e}return e;default:return e}}function jI(e){return(mv(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function HI(e,n,t){return function UI(e,n,t){return mh(e,"value","once",t).pipe((0,zt.n)(i=>{const a=[(0,ze.of)(i)];return n.forEach(u=>a.push(mh(e,u,"on",t))),(0,ym.h)(...a).pipe(zi(jd,[]))}),(0,fp.F)())}(e,n=jI(n),t)}function hb(e,n,t){const i=(n=jI(n)).map(a=>mh(e,a,"on",t));return(0,ym.h)(...i)}function pb(e,n){return function(i,a){return vv(i,{stringCase:()=>e.child(i)[n](a),firebaseCase:()=>i[n](a),snapshotCase:()=>i.ref[n](a)})}}function pT(e){return function(t){return t?vv(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function Hd(e,n){return function(){return mh(e,"value","on",n)}}const Ev=new f.nKC("angularfire2.realtimeDatabaseURL"),mb=new f.nKC("angularfire2.database.use-emulator");let Ng=(()=>{class e{constructor(t,i,a,u,d,g,v,E,w,b,R,z,L,Ee,Me){this.schedulers=g;const qe=v,_t=(0,bi.iB)(t,d,i);E&&gv(_t,d,w,R,z,L,b,Ee),this.database=(0,bi.BM)(`${_t.name}.database.${a}`,"AngularFireDatabase",_t.name,()=>{const Kt=d.runOutsideAngular(()=>_t.database(a||void 0));return qe&&Kt.useEmulator(...qe),Kt},[qe])}list(t,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>_v(this.database,t));let u=a;return i&&(u=i(a)),function gT(e,n){const t=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:pb(i,"update"),set:pb(i,"set"),push:a=>i.push(a),remove:pT(i),snapshotChanges:a=>HI(e,a,t).pipe(ti.U0),stateChanges:a=>hb(e,a,t).pipe(ti.U0),auditTrail:a=>function hT(e,n,t){return function yv(e,n,t){return function $I(e,n){return mh(e,"value","on",n).pipe((0,Ze.T)(t=>{let i;return t.payload.forEach(a=>(i=a.key,!1)),{data:t,lastKeyToLoad:i}}))}(e,t).pipe(function po(...e){const n=(0,ei.ms)(e);return(0,Ln.N)((t,i)=>{const a=e.length,u=new Array(a);let d=e.map(()=>!1),g=!1;for(let v=0;v<a;v++)(0,ji.Tg)(e[v]).subscribe((0,Dt._)(i,E=>{u[v]=E,!g&&!d[v]&&(d[v]=!0,(g=d.every(Fr.D))&&(d=null))},Fo.l));t.subscribe((0,Dt._)(i,v=>{if(g){const E=[v,...u];i.next(n?n(...E):E)}}))})}(n),(0,Ze.T)(([a,u])=>{const d=a.lastKeyToLoad,g=u.map(v=>v.key);return{actions:u,lastKeyToLoad:d,loadedKeys:g}}),function nd(e){return(0,Ln.N)((n,t)=>{let i=!1,a=0;n.subscribe((0,Dt._)(t,u=>(i||(i=!e(u,a++)))&&t.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ze.T)(a=>a.actions))}(e,hb(e,n).pipe(zi((a,u)=>[...a,u],[])),t)}(e,a,t).pipe(ti.U0),valueChanges:(a,u)=>HI(e,a,t).pipe((0,Ze.T)(g=>g.map(v=>u&&u.idField?Object.assign(Object.assign({},v.payload.val()),{[u.idField]:v.key}):v.payload.val())),ti.U0)}}(u,this)}object(t){return function gb(e,n){return{query:e,snapshotChanges:()=>Hd(e,n.schedulers.outsideAngular)().pipe(ti.U0),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>Hd(e,n.schedulers.outsideAngular)().pipe(ti.U0,(0,Ze.T)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>_v(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(f.KVO(bi.rx),f.KVO(bi.uP,8),f.KVO(Ev,8),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(ti.u0),f.KVO(mb,8),f.KVO(Rg,8),f.KVO(Sg,8),f.KVO(Mg,8),f.KVO(PI,8),f.KVO(xI,8),f.KVO(kI,8),f.KVO(FI,8),f.KVO(fv,8))},e.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),_b=(()=>{class e{constructor(){pv.A.registerVersion("angularfire",ti.xv.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.$C({type:e}),e.\u0275inj=f.G2t({providers:[Ng]}),e})();const vb_firebaseConfig={apiKey:"AIzaSyCS_LkrMcqZxatrXc7HFiHf4cK4QzriT3M",authDomain:"smartgrow-4c523.firebaseapp.com",databaseURL:"https://smartgrow-4c523-default-rtdb.europe-west1.firebasedatabase.app",projectId:"smartgrow-4c523",storageBucket:"smartgrow-4c523.firebasestorage.app",messagingSenderId:"539246249781",appId:"1:539246249781:web:548be1e89823843ad3ee7c"};let yb=(()=>{class e{constructor(t){this.db=t}getSensorData(){return this.db.object("/").valueChanges()}static{this.\u0275fac=function(i){return new(i||e)(f.KVO(Ng))}}static{this.\u0275prov=f.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Iv=(()=>{class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(f.sFG),f.rXU(f.aKT))}}static{this.\u0275dir=f.FsC({type:e})}}return e})(),tc=(()=>{class e extends Iv{static{this.\u0275fac=function(){let t;return function(a){return(t||(t=f.xGo(e)))(a||e)}}()}static{this.\u0275dir=f.FsC({type:e,features:[f.Vt3]})}}return e})();const Ri=new f.nKC("NgValueAccessor"),Dv={provide:Ri,useExisting:(0,f.Rfq)(()=>WI),multi:!0};let WI=(()=>{class e extends tc{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(a){return(t||(t=f.xGo(e)))(a||e)}}()}static{this.\u0275dir=f.FsC({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,a){1&i&&f.bIt("change",function(d){return a.onChange(d.target.checked)})("blur",function(){return a.onTouched()})},features:[f.Jv_([Dv]),f.Vt3]})}}return e})();const GI={provide:Ri,useExisting:(0,f.Rfq)(()=>hl),multi:!0},zI=new f.nKC("CompositionEventMode");let hl=(()=>{class e extends Iv{constructor(t,i,a){super(t,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Eb(){const e=S()?S().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(f.sFG),f.rXU(f.aKT),f.rXU(zI,8))}}static{this.\u0275dir=f.FsC({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){1&i&&f.bIt("input",function(d){return a._handleInput(d.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(d){return a._compositionEnd(d.target.value)})},features:[f.Jv_([GI]),f.Vt3]})}}return e})();const dr=new f.nKC("NgValidators"),nc=new f.nKC("NgAsyncValidators");function XI(e){return null!=e}function Mv(e){return(0,f.jNT)(e)?(0,cn.H)(e):e}function ZI(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Rv(e,n){return n.map(t=>t(e))}function Nv(e){return e.map(n=>function JI(e){return!e.validate}(n)?n:t=>n.validate(t))}function Pv(e){return null!=e?function Ov(e){if(!e)return null;const n=e.filter(XI);return 0==n.length?null:function(t){return ZI(Rv(t,n))}}(Nv(e)):null}function tD(e){return null!=e?function eD(e){if(!e)return null;const n=e.filter(XI);return 0==n.length?null:function(t){return function Cv(...e){const n=(0,ei.ms)(e),{args:t,keys:i}=Jr(e),a=new sr.c(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let v=d,E=d;for(let w=0;w<d;w++){let b=!1;(0,ji.Tg)(t[w]).subscribe((0,Dt._)(u,R=>{b||(b=!0,E--),g[w]=R},()=>v--,void 0,()=>{(!v||!b)&&(E||u.next(i?vs(i,g):g),u.complete())}))}});return n?a.pipe(eo(n)):a}(Rv(t,n).map(Mv)).pipe((0,Ze.T)(ZI))}}(Nv(e)):null}function xv(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function nD(e){return e?Array.isArray(e)?e:[e]:[]}function kv(e,n){return Array.isArray(e)?e.includes(n):e===n}function wb(e,n){const t=nD(n);return nD(e).forEach(a=>{kv(t,a)||t.push(a)}),t}function bb(e,n){return nD(n).filter(t=>!kv(e,t))}class Ab{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Pv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=tD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class oi extends Ab{get formDirective(){return null}get path(){return null}}class rc extends Ab{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fv{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iD=(()=>{class e extends Fv{constructor(t){super(t)}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(rc,2))}}static{this.\u0275dir=f.FsC({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){2&i&&f.AVh("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[f.Vt3]})}}return e})();const _h="VALID",$d="INVALID",Wd="PENDING",vh="DISABLED";function kg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class $v{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===_h}get invalid(){return this.status===$d}get pending(){return this.status==Wd}get disabled(){return this.status===vh}get enabled(){return this.status!==vh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(wb(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wb(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(bb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(bb(n,this._rawAsyncValidators))}hasValidator(n){return kv(this._rawValidators,n)}hasAsyncValidator(n){return kv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Wd,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=vh,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=_h,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_h||this.status===Wd)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vh:_h}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Wd,this._hasOwnPendingAsyncValidator=!0;const t=Mv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,a)=>i&&i._find(a),this)}getError(n,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new f.bkB,this.statusChanges=new f.bkB}_calculateStatus(){return this._allControlsDisabled()?vh:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Wd)?Wd:this._anyControlsHaveStatus($d)?$d:_h}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){kg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Mb(e){return Array.isArray(e)?Pv(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Rb(e){return Array.isArray(e)?tD(e):e||null}(this._rawAsyncValidators)}}const ic=new f.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>yh}),yh="always";function fr(e,n,t=yh){(function Fg(e,n){const t=function Ib(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(xv(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const i=function Db(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(xv(i,n.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const a=()=>e.updateValueAndValidity();Ch(n._rawValidators,a),Ch(n._rawAsyncValidators,a)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function zv(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Kv(e,n)})}(e,n),function qv(e,n){const t=(i,a)=>{n.valueAccessor.writeValue(i),a&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function gl(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Kv(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function Pb(e,n){if(n.valueAccessor.setDisabledState){const t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Ch(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Kv(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Xv(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function fD(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Zv=class extends $v{constructor(n=null,t,i){super(function jv(e){return(kg(e)?e.validators:e)||null}(t),function Hv(e,n){return(kg(n)?n.asyncValidators:e)||null}(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=fD(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Xv(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Xv(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){fD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},jb={provide:rc,useExisting:(0,f.Rfq)(()=>pD)},hD=(()=>Promise.resolve())();let pD=(()=>{class e extends rc{constructor(t,i,a,u,d,g){super(),this._changeDetectorRef=d,this.callSetDisabledState=g,this.control=new Zv,this._registered=!1,this.name="",this.update=new f.bkB,this._parent=t,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function Ug(e,n){if(!n)return null;let t,i,a;return Array.isArray(n),n.forEach(u=>{u.constructor===hl?t=u:function dD(e){return Object.getPrototypeOf(e.constructor)===tc}(u)?i=u:a=u}),a||i||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Qv(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,a=0!==i&&(0,f.L39)(i);hD.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Gv(e,n){return[...n.path,e]}(t,this._parent):[t]}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(oi,9),f.rXU(dr,10),f.rXU(nc,10),f.rXU(Ri,10),f.rXU(f.gRc,8),f.rXU(ic,8))}}static{this.\u0275dir=f.FsC({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f.Jv_([jb]),f.Vt3,f.OA$]})}}return e})(),gD=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({})}}return e})(),jT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({imports:[gD]})}}return e})(),MD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ic,useValue:t.callSetDisabledState??yh}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f.$C({type:e})}static{this.\u0275inj=f.G2t({imports:[jT]})}}return e})();function GT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Temp\xe9rature : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.temperature," \xb0C")}}function oA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Humidit\xe9 : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.humidite," %")}}function zT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Ventilos actionn\xe9s : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.ventilateur_allume," ")}}function aA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date temp\xe9rature : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.temperature_time,"dd/MM/yyyy HH:mm:ss"))}}function KT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date humidit\xe9 : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.humidite_time,"dd/MM/yyyy HH:mm:ss"))}}function qT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date ventilos : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.ventilateur_allume_time,"dd/MM/yyyy HH:mm:ss"))}}function lA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Humidit\xe9 du sol : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.humidite_sol," %")}}function uA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Irrigation active : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.irrigation_active," ")}}function YT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date humidit\xe9 du sol : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.humidite_sol_time,"dd/MM/yyyy HH:mm:ss"))}}function QT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date irrigation : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",f.i5U(4,1,t.sensorData.irrigation_active_time,"dd/MM/yyyy HH:mm:ss")," ")}}function XT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Luminosit\xe9 : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.luminosite," Lux")}}function ZT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Lampes allum\xe9es : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(t.sensorData.lampes_allumees)}}function JT(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date luminosit\xe9 : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.luminosite_time,"dd/MM/yyyy HH:mm:ss"))}}function cA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date etats lampes : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.JRh(f.i5U(4,1,t.sensorData.allumage_lampes_time,"dd/MM/yyyy HH:mm:ss"))}}function eS(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Porte de grange ouverte : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.porte_ouverte," ")}}function tS(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date o/f porte : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",f.i5U(4,1,t.sensorData.porte_ouverte_time,"dd/MM/yyyy HH:mm:ss")," ")}}function nS(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Niveau eau : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.niveau_eau," ")}}function rS(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Alerte eau : "),f.j41(2,"span"),f.EFF(3),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",t.sensorData.alerte_buzzer," ")}}function iS(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date niveau eau : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",f.i5U(4,1,t.sensorData.niveau_eau_time,"dd/MM/yyyy HH:mm:ss")," ")}}function dA(e,n){if(1&e&&(f.j41(0,"p"),f.EFF(1,"Date alerte eau : "),f.j41(2,"span"),f.EFF(3),f.nI1(4,"date"),f.k0s()()),2&e){const t=f.XpG();f.R7$(3),f.SpI("",f.i5U(4,1,t.sensorData.alerte_buzzer_time,"dd/MM/yyyy HH:mm:ss")," ")}}function sS(e,n){1&e&&(f.j41(0,"p"),f.EFF(1," Alerte : Remplir la citerne d'eau "),f.k0s())}function r(e,n){1&e&&(f.j41(0,"a",15),f.nrm(1,"i",16),f.k0s())}const s='@media (max-width: 768px){.sensor-box[_ngcontent-%COMP%], .sensor-data[_ngcontent-%COMP%], .toggle-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.sensor-data[_ngcontent-%COMP%]{width:100%}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;font-size:14px;background-image:url(background.58f5c7491a68dac0.jpg);background-size:contain}.h1[_ngcontent-%COMP%], .phone-icon[_ngcontent-%COMP%]{font-size:24px}.toggle-container[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{transform:scale(1.5)}}html[_ngcontent-%COMP%]{margin:0;padding:2!important;overflow-x:hidden!important;overflow-y:hidden!important;height:100%!important;width:100%!important}body[_ngcontent-%COMP%]{background:url(background.58f5c7491a68dac0.jpg) no-repeat center center fixed;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;min-width:100vw;font-family:Lato,Normal;display:flex;align-items:center;justify-content:center;margin:0}*[_ngcontent-%COMP%]{box-sizing:border-box}.container[_ngcontent-%COMP%]{text-align:left;padding:15px;background-color:#ffffffd9;box-shadow:0 4px 8px #0003;border-radius:15px;width:90%;height:80%;max-width:1400px;margin:0}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:30px;display:flex;align-items:center;justify-content:center}.sensor-button[_ngcontent-%COMP%]{background:#f0f0f0;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center}.toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}.sensor-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.sensor-data[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]{background:#f0f0f0;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0000001a}.sensor-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;font-size:1.2rem;margin:10px 0}.sensor-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.switch-label[_ngcontent-%COMP%]{font-size:16px;color:#333}.phone-icon[_ngcontent-%COMP%]{color:green;font-size:24px;margin-left:10px;cursor:pointer}.phone-icon[_ngcontent-%COMP%]:hover{color:#006400}';let o=(()=>{class e{constructor(t,i){this.sensorDataService=t,this.db=i,this.sensorData={},this.title="smartgrow",this.lampStatus=!1,this.ventiloStatus=!1,this.irrigationStatus=!1,this.porteStatus=!1}ngOnInit(){this.sensorDataService.getSensorData().subscribe(t=>{console.log(t),this.sensorData=t},t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t)})}toggleLamps(){const t=(new Date).toISOString(),i={"/force_LED_on":this.lampStatus};this.db.object("/").update(i).then(()=>{console.log(`Lampes ${this.lampStatus?"allum\xe9es":"\xe9teintes"} \xe0 ${t}!`)}).catch(a=>{console.error("Erreur lors de l'allumage/\xe9teignage des lampes:",a)})}toggleVentilo(){const t=(new Date).toISOString(),i={"/ventilateur_allume":this.ventiloStatus,"/ventilateur_allume_time":t};this.db.object("/").update(i).then(()=>{console.log(`Ventilos ${this.ventiloStatus?"actionn\xe9s":"\xe9teintes"} \xe0 ${t}!`)}).catch(a=>{console.error("Erreur lors de l'actionnement/\xe9teignage des ventilos:",a)})}toggleIrrigation(){const t=(new Date).toISOString(),i={"/irrigation_active":this.irrigationStatus,"/irrigation_active_time":t};this.db.object("/").update(i).then(()=>{console.log(`Irrigation ${this.irrigationStatus?"actionn\xe9s":"\xe9teintes"} \xe0 ${t}!`)}).catch(a=>{console.error("Erreur lors de l'irrigation/\xe9teignage:",a)})}togglePorte(){const t=(new Date).toISOString(),i={"/porte_ouverte":this.porteStatus,"/porte_ouverte_time":t};this.db.object("/").update(i).then(()=>{console.log(`Porte ${this.porteStatus?"ouverte":"ferm\xe9s"} \xe0 ${t}!`)}).catch(a=>{console.error("Erreur lors de l'ouverture/fermeture:",a)})}static{this.\u0275fac=function(i){return new(i||e)(f.rXU(yb),f.rXU(Ng))}}static{this.\u0275cmp=f.VBU({type:e,selectors:[["app-root"]],decls:75,vars:26,consts:[["lang","en",2,"margin","0"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"],[1,"container"],[1,"sensor-box"],[1,"sensor-data"],[4,"ngIf"],[1,"sensor-timestamps"],[1,"sensor-button"],[1,"switch-label"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"],["href","tel:+0612345678","class","phone-icon",4,"ngIf"],["href","tel:+0612345678",1,"phone-icon"],[1,"fas","fa-phone"]],template:function(i,a){1&i&&(f.j41(0,"html",0)(1,"head"),f.nrm(2,"meta",1)(3,"meta",2),f.j41(4,"title"),f.EFF(5,"SmartGrow"),f.k0s(),f.nrm(6,"link",3),f.k0s(),f.j41(7,"body")(8,"div",4)(9,"h1"),f.EFF(10,"SmartGrow - Contr\xf4ller \xe0 distance votre ferme intelligente"),f.k0s(),f.j41(11,"div",5)(12,"div",6),f.DNE(13,GT,4,1,"p",7),f.DNE(14,oA,4,1,"p",7),f.DNE(15,zT,4,1,"p",7),f.k0s(),f.j41(16,"div",8),f.DNE(17,aA,5,4,"p",7),f.DNE(18,KT,5,4,"p",7),f.DNE(19,qT,5,4,"p",7),f.k0s(),f.j41(20,"div",9),f.nrm(21,"br")(22,"br"),f.j41(23,"label",10),f.EFF(24,"Actionner Ventilateurs"),f.k0s(),f.j41(25,"label",11)(26,"input",12),f.bIt("ngModelChange",function(d){return a.ventiloStatus=d})("change",function(){return a.toggleVentilo()}),f.k0s(),f.nrm(27,"span",13),f.k0s()(),f.j41(28,"div",6),f.DNE(29,lA,4,1,"p",7),f.DNE(30,uA,4,1,"p",7),f.k0s(),f.j41(31,"div",8),f.DNE(32,YT,5,4,"p",7),f.DNE(33,QT,5,4,"p",7),f.k0s(),f.j41(34,"div",9),f.nrm(35,"br"),f.j41(36,"label",10),f.EFF(37,"Activer l'irrigation"),f.k0s(),f.j41(38,"label",11)(39,"input",12),f.bIt("ngModelChange",function(d){return a.irrigationStatus=d})("change",function(){return a.toggleIrrigation()}),f.k0s(),f.nrm(40,"span",13),f.k0s()(),f.j41(41,"div",6),f.DNE(42,XT,4,1,"p",7),f.DNE(43,ZT,4,1,"p",7),f.k0s(),f.j41(44,"div",8),f.DNE(45,JT,5,4,"p",7),f.DNE(46,cA,5,4,"p",7),f.k0s(),f.j41(47,"div",9),f.nrm(48,"br"),f.j41(49,"label",10),f.EFF(50,"Allumage Lampes"),f.k0s(),f.j41(51,"label",11)(52,"input",12),f.bIt("ngModelChange",function(d){return a.lampStatus=d})("change",function(){return a.toggleLamps()}),f.k0s(),f.nrm(53,"span",13),f.k0s()(),f.j41(54,"div",6),f.DNE(55,eS,4,1,"p",7),f.k0s(),f.j41(56,"div",8),f.DNE(57,tS,5,4,"p",7),f.k0s(),f.j41(58,"div",9),f.nrm(59,"br"),f.j41(60,"label",10),f.EFF(61,"Ouvrir/Fermer la porte de grange"),f.k0s(),f.j41(62,"label",11)(63,"input",12),f.bIt("ngModelChange",function(d){return a.porteStatus=d})("change",function(){return a.togglePorte()}),f.k0s(),f.nrm(64,"span",13),f.k0s()(),f.j41(65,"div",6),f.DNE(66,nS,4,1,"p",7),f.DNE(67,rS,4,1,"p",7),f.k0s(),f.j41(68,"div",8),f.DNE(69,iS,5,4,"p",7),f.DNE(70,dA,5,4,"p",7),f.k0s(),f.j41(71,"div",9),f.nrm(72,"br"),f.DNE(73,sS,2,0,"p",7),f.DNE(74,r,2,0,"a",14),f.k0s()()()()()),2&i&&(f.R7$(13),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.temperature),f.R7$(1),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.humidite),f.R7$(1),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.ventilateur_allume)),f.R7$(2),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.temperature_time),f.R7$(1),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.humidite_time),f.R7$(1),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.ventilateur_allume_time),f.R7$(7),f.Y8G("ngModel",a.ventiloStatus),f.R7$(3),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.humidite_sol),f.R7$(1),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.irrigation_active)),f.R7$(2),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.humidite_sol_time),f.R7$(1),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.irrigation_active_time)),f.R7$(6),f.Y8G("ngModel",a.irrigationStatus),f.R7$(3),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.luminosite)),f.R7$(1),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.lampes_allumees)),f.R7$(2),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.luminosite_time),f.R7$(1),f.Y8G("ngIf",null==a.sensorData?null:a.sensorData.allumage_lampes_time),f.R7$(6),f.Y8G("ngModel",a.lampStatus),f.R7$(3),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.porte_ouverte)),f.R7$(2),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.porte_ouverte_time)),f.R7$(6),f.Y8G("ngModel",a.porteStatus),f.R7$(3),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.niveau_eau)),f.R7$(1),f.Y8G("ngIf",void 0!==(null==a.sensorData?null:a.sensorData.alerte_buzzer)),f.R7$(2),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.niveau_eau_time)),f.R7$(1),f.Y8G("ngIf",null!=(null==a.sensorData?null:a.sensorData.alerte_buzzer_time)),f.R7$(3),f.Y8G("ngIf",1==(null==a.sensorData?null:a.sensorData.alerte_buzzer)),f.R7$(1),f.Y8G("ngIf",1==(null==a.sensorData?null:a.sensorData.alerte_buzzer)))},dependencies:[Io,WI,iD,pD,_n],styles:[s,s]})}}return e})(),l=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=f.$C({type:e,bootstrap:[o]})}static{this.\u0275inj=f.G2t({imports:[Ui,_m,MD,bi.bf.initializeApp(vb_firebaseConfig),_b]})}}return e})();En().bootstrapModule(l).catch(e=>console.error(e))},4412:(Ue,ce,T)=>{T.d(ce,{t:()=>H});var f=T(1413);class H extends f.B{constructor(G){super(),this._value=G}get value(){return this.getValue()}_subscribe(G){const Y=super._subscribe(G);return!Y.closed&&G.next(this._value),Y}getValue(){const{hasError:G,thrownError:Y,_value:ie}=this;if(G)throw Y;return this._throwIfClosed(),ie}next(G){super.next(this._value=G)}}},1985:(Ue,ce,T)=>{T.d(ce,{c:()=>me});var f=T(7707),H=T(8359),S=T(3494),G=T(1203),Y=T(1026),ie=T(8071),oe=T(9786);let me=(()=>{class j{constructor(he){he&&(this._subscribe=he)}lift(he){const Te=new j;return Te.source=this,Te.operator=he,Te}subscribe(he,Te,ge){const be=function k(j){return j&&j instanceof f.vU||function N(j){return j&&(0,ie.T)(j.next)&&(0,ie.T)(j.error)&&(0,ie.T)(j.complete)}(j)&&(0,H.Uv)(j)}(he)?he:new f.Ms(he,Te,ge);return(0,oe.Y)(()=>{const{operator:ye,source:We}=this;be.add(ye?ye.call(be,We):We?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(he){try{return this._subscribe(he)}catch(Te){he.error(Te)}}forEach(he,Te){return new(Te=re(Te))((ge,be)=>{const ye=new f.Ms({next:We=>{try{he(We)}catch(Be){be(Be),ye.unsubscribe()}},error:be,complete:ge});this.subscribe(ye)})}_subscribe(he){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(he)}[S.s](){return this}pipe(...he){return(0,G.m)(he)(this)}toPromise(he){return new(he=re(he))((Te,ge)=>{let be;this.subscribe(ye=>be=ye,ye=>ge(ye),()=>Te(be))})}}return j.create=Ce=>new j(Ce),j})();function re(j){var Ce;return null!==(Ce=j??Y.$.Promise)&&void 0!==Ce?Ce:Promise}},1413:(Ue,ce,T)=>{T.d(ce,{B:()=>oe});var f=T(1985),H=T(8359);const G=(0,T(1853).L)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Y=T(7908),ie=T(9786);let oe=(()=>{class re extends f.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(k){const j=new me(this,this);return j.operator=k,j}_throwIfClosed(){if(this.closed)throw new G}next(k){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const j of this.currentObservers)j.next(k)}})}error(k){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=k;const{observers:j}=this;for(;j.length;)j.shift().error(k)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:k}=this;for(;k.length;)k.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var k;return(null===(k=this.observers)||void 0===k?void 0:k.length)>0}_trySubscribe(k){return this._throwIfClosed(),super._trySubscribe(k)}_subscribe(k){return this._throwIfClosed(),this._checkFinalizedStatuses(k),this._innerSubscribe(k)}_innerSubscribe(k){const{hasError:j,isStopped:Ce,observers:he}=this;return j||Ce?H.Kn:(this.currentObservers=null,he.push(k),new H.yU(()=>{this.currentObservers=null,(0,Y.o)(he,k)}))}_checkFinalizedStatuses(k){const{hasError:j,thrownError:Ce,isStopped:he}=this;j?k.error(Ce):he&&k.complete()}asObservable(){const k=new f.c;return k.source=this,k}}return re.create=(N,k)=>new me(N,k),re})();class me extends oe{constructor(N,k){super(),this.destination=N,this.source=k}next(N){var k,j;null===(j=null===(k=this.destination)||void 0===k?void 0:k.next)||void 0===j||j.call(k,N)}error(N){var k,j;null===(j=null===(k=this.destination)||void 0===k?void 0:k.error)||void 0===j||j.call(k,N)}complete(){var N,k;null===(k=null===(N=this.destination)||void 0===N?void 0:N.complete)||void 0===k||k.call(N)}_subscribe(N){var k,j;return null!==(j=null===(k=this.source)||void 0===k?void 0:k.subscribe(N))&&void 0!==j?j:H.Kn}}},7707:(Ue,ce,T)=>{T.d(ce,{Ms:()=>ge,vU:()=>j});var f=T(8071),H=T(8359),S=T(1026),G=T(5334),Y=T(5343);const ie=re("C",void 0,void 0);function re(q,ae,K){return{kind:q,value:ae,error:K}}var N=T(9270),k=T(9786);class j extends H.yU{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,H.Uv)(ae)&&ae.add(this)):this.destination=Be}static create(ae,K,ue){return new ge(ae,K,ue)}next(ae){this.isStopped?We(function me(q){return re("N",q,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?We(function oe(q){return re("E",void 0,q)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?We(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ce=Function.prototype.bind;function he(q,ae){return Ce.call(q,ae)}class Te{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:K}=this;if(K.next)try{K.next(ae)}catch(ue){be(ue)}}error(ae){const{partialObserver:K}=this;if(K.error)try{K.error(ae)}catch(ue){be(ue)}else be(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(K){be(K)}}}class ge extends j{constructor(ae,K,ue){let ve;if(super(),(0,f.T)(ae)||!ae)ve={next:ae??void 0,error:K??void 0,complete:ue??void 0};else{let Ae;this&&S.$.useDeprecatedNextContext?(Ae=Object.create(ae),Ae.unsubscribe=()=>this.unsubscribe(),ve={next:ae.next&&he(ae.next,Ae),error:ae.error&&he(ae.error,Ae),complete:ae.complete&&he(ae.complete,Ae)}):ve=ae}this.destination=new Te(ve)}}function be(q){S.$.useDeprecatedSynchronousErrorHandling?(0,k.l)(q):(0,G.m)(q)}function We(q,ae){const{onStoppedNotification:K}=S.$;K&&N.f.setTimeout(()=>K(q,ae))}const Be={closed:!0,next:Y.l,error:function ye(q){throw q},complete:Y.l}},8359:(Ue,ce,T)=>{T.d(ce,{Kn:()=>ie,yU:()=>Y,Uv:()=>oe});var f=T(8071);const S=(0,T(1853).L)(re=>function(k){re(this),this.message=k?`${k.length} errors occurred during unsubscription:\n${k.map((j,Ce)=>`${Ce+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=k});var G=T(7908);class Y{constructor(N){this.initialTeardown=N,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let N;if(!this.closed){this.closed=!0;const{_parentage:k}=this;if(k)if(this._parentage=null,Array.isArray(k))for(const he of k)he.remove(this);else k.remove(this);const{initialTeardown:j}=this;if((0,f.T)(j))try{j()}catch(he){N=he instanceof S?he.errors:[he]}const{_finalizers:Ce}=this;if(Ce){this._finalizers=null;for(const he of Ce)try{me(he)}catch(Te){N=N??[],Te instanceof S?N=[...N,...Te.errors]:N.push(Te)}}if(N)throw new S(N)}}add(N){var k;if(N&&N!==this)if(this.closed)me(N);else{if(N instanceof Y){if(N.closed||N._hasParent(this))return;N._addParent(this)}(this._finalizers=null!==(k=this._finalizers)&&void 0!==k?k:[]).push(N)}}_hasParent(N){const{_parentage:k}=this;return k===N||Array.isArray(k)&&k.includes(N)}_addParent(N){const{_parentage:k}=this;this._parentage=Array.isArray(k)?(k.push(N),k):k?[k,N]:N}_removeParent(N){const{_parentage:k}=this;k===N?this._parentage=null:Array.isArray(k)&&(0,G.o)(k,N)}remove(N){const{_finalizers:k}=this;k&&(0,G.o)(k,N),N instanceof Y&&N._removeParent(this)}}Y.EMPTY=(()=>{const re=new Y;return re.closed=!0,re})();const ie=Y.EMPTY;function oe(re){return re instanceof Y||re&&"closed"in re&&(0,f.T)(re.remove)&&(0,f.T)(re.add)&&(0,f.T)(re.unsubscribe)}function me(re){(0,f.T)(re)?re():re.unsubscribe()}},1026:(Ue,ce,T)=>{T.d(ce,{$:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Ue,ce,T)=>{T.d(ce,{w:()=>H});const H=new(T(1985).c)(Y=>Y.complete())},8455:(Ue,ce,T)=>{T.d(ce,{H:()=>ae});var f=T(8750),H=T(941),S=T(6745),ie=T(1985),me=T(4761),re=T(8071),N=T(5225);function j(K,ue){if(!K)throw new Error("Iterable cannot be null");return new ie.c(ve=>{(0,N.N)(ve,ue,()=>{const Ae=K[Symbol.asyncIterator]();(0,N.N)(ve,ue,()=>{Ae.next().then(J=>{J.done?ve.complete():ve.next(J.value)})},0,!0)})})}var Ce=T(5055),he=T(9858),Te=T(7441),ge=T(5397),be=T(7953),ye=T(591),We=T(5196);function ae(K,ue){return ue?function q(K,ue){if(null!=K){if((0,Ce.l)(K))return function G(K,ue){return(0,f.Tg)(K).pipe((0,S._)(ue),(0,H.Q)(ue))}(K,ue);if((0,Te.X)(K))return function oe(K,ue){return new ie.c(ve=>{let Ae=0;return ue.schedule(function(){Ae===K.length?ve.complete():(ve.next(K[Ae++]),ve.closed||this.schedule())})})}(K,ue);if((0,he.y)(K))return function Y(K,ue){return(0,f.Tg)(K).pipe((0,S._)(ue),(0,H.Q)(ue))}(K,ue);if((0,be.T)(K))return j(K,ue);if((0,ge.x)(K))return function k(K,ue){return new ie.c(ve=>{let Ae;return(0,N.N)(ve,ue,()=>{Ae=K[me.l](),(0,N.N)(ve,ue,()=>{let J,Ke;try{({value:J,done:Ke}=Ae.next())}catch(lt){return void ve.error(lt)}Ke?ve.complete():ve.next(J)},0,!0)}),()=>(0,re.T)(Ae?.return)&&Ae.return()})}(K,ue);if((0,We.U)(K))return function Be(K,ue){return j((0,We.C)(K),ue)}(K,ue)}throw(0,ye.L)(K)}(K,ue):(0,f.Tg)(K)}},8750:(Ue,ce,T)=>{T.d(ce,{Tg:()=>Ce});var f=T(1635),H=T(7441),S=T(9858),G=T(1985),Y=T(5055),ie=T(7953),oe=T(591),me=T(5397),re=T(5196),N=T(8071),k=T(5334),j=T(3494);function Ce(q){if(q instanceof G.c)return q;if(null!=q){if((0,Y.l)(q))return function he(q){return new G.c(ae=>{const K=q[j.s]();if((0,N.T)(K.subscribe))return K.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(q);if((0,H.X)(q))return function Te(q){return new G.c(ae=>{for(let K=0;K<q.length&&!ae.closed;K++)ae.next(q[K]);ae.complete()})}(q);if((0,S.y)(q))return function ge(q){return new G.c(ae=>{q.then(K=>{ae.closed||(ae.next(K),ae.complete())},K=>ae.error(K)).then(null,k.m)})}(q);if((0,ie.T)(q))return ye(q);if((0,me.x)(q))return function be(q){return new G.c(ae=>{for(const K of q)if(ae.next(K),ae.closed)return;ae.complete()})}(q);if((0,re.U)(q))return function We(q){return ye((0,re.C)(q))}(q)}throw(0,oe.L)(q)}function ye(q){return new G.c(ae=>{(function Be(q,ae){var K,ue,ve,Ae;return(0,f.sH)(this,void 0,void 0,function*(){try{for(K=(0,f.xN)(q);!(ue=yield K.next()).done;)if(ae.next(ue.value),ae.closed)return}catch(J){ve={error:J}}finally{try{ue&&!ue.done&&(Ae=K.return)&&(yield Ae.call(K))}finally{if(ve)throw ve.error}}ae.complete()})})(q,ae).catch(K=>ae.error(K))})}},7786:(Ue,ce,T)=>{T.d(ce,{h:()=>ie});var f=T(6365),H=T(8750),S=T(983),G=T(3794),Y=T(8455);function ie(...oe){const me=(0,G.lI)(oe),re=(0,G.R0)(oe,1/0),N=oe;return N.length?1===N.length?(0,H.Tg)(N[0]):(0,f.U)(re)((0,Y.H)(N,me)):S.w}},7673:(Ue,ce,T)=>{T.d(ce,{of:()=>S});var f=T(3794),H=T(8455);function S(...G){const Y=(0,f.lI)(G);return(0,H.H)(G,Y)}},4360:(Ue,ce,T)=>{T.d(ce,{_:()=>H});var f=T(7707);function H(G,Y,ie,oe,me){return new S(G,Y,ie,oe,me)}class S extends f.vU{constructor(Y,ie,oe,me,re,N){super(Y),this.onFinalize=re,this.shouldUnsubscribe=N,this._next=ie?function(k){try{ie(k)}catch(j){Y.error(j)}}:super._next,this._error=me?function(k){try{me(k)}catch(j){Y.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(k){Y.error(k)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Y;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Y=this.onFinalize)||void 0===Y||Y.call(this))}}}},3294:(Ue,ce,T)=>{T.d(ce,{F:()=>G});var f=T(3669),H=T(9974),S=T(4360);function G(ie,oe=f.D){return ie=ie??Y,(0,H.N)((me,re)=>{let N,k=!0;me.subscribe((0,S._)(re,j=>{const Ce=oe(j);(k||!ie(N,Ce))&&(k=!1,N=Ce,re.next(j))}))})}function Y(ie,oe){return ie===oe}},6354:(Ue,ce,T)=>{T.d(ce,{T:()=>S});var f=T(9974),H=T(4360);function S(G,Y){return(0,f.N)((ie,oe)=>{let me=0;ie.subscribe((0,H._)(oe,re=>{oe.next(G.call(Y,re,me++))}))})}},6365:(Ue,ce,T)=>{T.d(ce,{U:()=>S});var f=T(1397),H=T(3669);function S(G=1/0){return(0,f.Z)(H.D,G)}},1397:(Ue,ce,T)=>{T.d(ce,{Z:()=>me});var f=T(6354),H=T(8750),S=T(9974),G=T(5225),Y=T(4360),oe=T(8071);function me(re,N,k=1/0){return(0,oe.T)(N)?me((j,Ce)=>(0,f.T)((he,Te)=>N(j,he,Ce,Te))((0,H.Tg)(re(j,Ce))),k):("number"==typeof N&&(k=N),(0,S.N)((j,Ce)=>function ie(re,N,k,j,Ce,he,Te,ge){const be=[];let ye=0,We=0,Be=!1;const q=()=>{Be&&!be.length&&!ye&&N.complete()},ae=ue=>ye<j?K(ue):be.push(ue),K=ue=>{he&&N.next(ue),ye++;let ve=!1;(0,H.Tg)(k(ue,We++)).subscribe((0,Y._)(N,Ae=>{Ce?.(Ae),he?ae(Ae):N.next(Ae)},()=>{ve=!0},void 0,()=>{if(ve)try{for(ye--;be.length&&ye<j;){const Ae=be.shift();Te?(0,G.N)(N,Te,()=>K(Ae)):K(Ae)}q()}catch(Ae){N.error(Ae)}}))};return re.subscribe((0,Y._)(N,ae,()=>{Be=!0,q()})),()=>{ge?.()}}(j,Ce,re,k)))}},941:(Ue,ce,T)=>{T.d(ce,{Q:()=>G});var f=T(5225),H=T(9974),S=T(4360);function G(Y,ie=0){return(0,H.N)((oe,me)=>{oe.subscribe((0,S._)(me,re=>(0,f.N)(me,Y,()=>me.next(re),ie),()=>(0,f.N)(me,Y,()=>me.complete(),ie),re=>(0,f.N)(me,Y,()=>me.error(re),ie)))})}},7647:(Ue,ce,T)=>{T.d(ce,{u:()=>Y});var f=T(8750),H=T(1413),S=T(7707),G=T(9974);function Y(oe={}){const{connector:me=(()=>new H.B),resetOnError:re=!0,resetOnComplete:N=!0,resetOnRefCountZero:k=!0}=oe;return j=>{let Ce,he,Te,ge=0,be=!1,ye=!1;const We=()=>{he?.unsubscribe(),he=void 0},Be=()=>{We(),Ce=Te=void 0,be=ye=!1},q=()=>{const ae=Ce;Be(),ae?.unsubscribe()};return(0,G.N)((ae,K)=>{ge++,!ye&&!be&&We();const ue=Te=Te??me();K.add(()=>{ge--,0===ge&&!ye&&!be&&(he=ie(q,k))}),ue.subscribe(K),!Ce&&ge>0&&(Ce=new S.Ms({next:ve=>ue.next(ve),error:ve=>{ye=!0,We(),he=ie(Be,re,ve),ue.error(ve)},complete:()=>{be=!0,We(),he=ie(Be,N),ue.complete()}}),(0,f.Tg)(ae).subscribe(Ce))})(j)}}function ie(oe,me,...re){if(!0===me)return void oe();if(!1===me)return;const N=new S.Ms({next:()=>{N.unsubscribe(),oe()}});return(0,f.Tg)(me(...re)).subscribe(N)}},6745:(Ue,ce,T)=>{T.d(ce,{_:()=>H});var f=T(9974);function H(S,G=0){return(0,f.N)((Y,ie)=>{ie.add(S.schedule(()=>Y.subscribe(ie),G))})}},5558:(Ue,ce,T)=>{T.d(ce,{n:()=>G});var f=T(8750),H=T(9974),S=T(4360);function G(Y,ie){return(0,H.N)((oe,me)=>{let re=null,N=0,k=!1;const j=()=>k&&!re&&me.complete();oe.subscribe((0,S._)(me,Ce=>{re?.unsubscribe();let he=0;const Te=N++;(0,f.Tg)(Y(Ce,Te)).subscribe(re=(0,S._)(me,ge=>me.next(ie?ie(Ce,ge,Te,he++):ge),()=>{re=null,j()}))},()=>{k=!0,j()}))})}},8141:(Ue,ce,T)=>{T.d(ce,{M:()=>Y});var f=T(8071),H=T(9974),S=T(4360),G=T(3669);function Y(ie,oe,me){const re=(0,f.T)(ie)||oe||me?{next:ie,error:oe,complete:me}:ie;return re?(0,H.N)((N,k)=>{var j;null===(j=re.subscribe)||void 0===j||j.call(re);let Ce=!0;N.subscribe((0,S._)(k,he=>{var Te;null===(Te=re.next)||void 0===Te||Te.call(re,he),k.next(he)},()=>{var he;Ce=!1,null===(he=re.complete)||void 0===he||he.call(re),k.complete()},he=>{var Te;Ce=!1,null===(Te=re.error)||void 0===Te||Te.call(re,he),k.error(he)},()=>{var he,Te;Ce&&(null===(he=re.unsubscribe)||void 0===he||he.call(re)),null===(Te=re.finalize)||void 0===Te||Te.call(re)}))}):G.D}},6780:(Ue,ce,T)=>{T.d(ce,{R:()=>Y});var f=T(8359);class H extends f.yU{constructor(oe,me){super()}schedule(oe,me=0){return this}}const S={setInterval(ie,oe,...me){const{delegate:re}=S;return re?.setInterval?re.setInterval(ie,oe,...me):setInterval(ie,oe,...me)},clearInterval(ie){const{delegate:oe}=S;return(oe?.clearInterval||clearInterval)(ie)},delegate:void 0};var G=T(7908);class Y extends H{constructor(oe,me){super(oe,me),this.scheduler=oe,this.work=me,this.pending=!1}schedule(oe,me=0){var re;if(this.closed)return this;this.state=oe;const N=this.id,k=this.scheduler;return null!=N&&(this.id=this.recycleAsyncId(k,N,me)),this.pending=!0,this.delay=me,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(k,this.id,me),this}requestAsyncId(oe,me,re=0){return S.setInterval(oe.flush.bind(oe,this),re)}recycleAsyncId(oe,me,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return me;null!=me&&S.clearInterval(me)}execute(oe,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(oe,me);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,me){let N,re=!1;try{this.work(oe)}catch(k){re=!0,N=k||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),N}unsubscribe(){if(!this.closed){const{id:oe,scheduler:me}=this,{actions:re}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.o)(re,this),null!=oe&&(this.id=this.recycleAsyncId(me,oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Ue,ce,T)=>{T.d(ce,{q:()=>S});var f=T(6129);class H{constructor(Y,ie=H.now){this.schedulerActionCtor=Y,this.now=ie}schedule(Y,ie=0,oe){return new this.schedulerActionCtor(this,Y).schedule(oe,ie)}}H.now=f.U.now;class S extends H{constructor(Y,ie=H.now){super(Y,ie),this.actions=[],this._active=!1}flush(Y){const{actions:ie}=this;if(this._active)return void ie.push(Y);let oe;this._active=!0;do{if(oe=Y.execute(Y.state,Y.delay))break}while(Y=ie.shift());if(this._active=!1,oe){for(;Y=ie.shift();)Y.unsubscribe();throw oe}}}},3236:(Ue,ce,T)=>{T.d(ce,{E:()=>S});var f=T(6780);const S=new(T(9687).q)(f.R)},6129:(Ue,ce,T)=>{T.d(ce,{U:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},9270:(Ue,ce,T)=>{T.d(ce,{f:()=>f});const f={setTimeout(H,S,...G){const{delegate:Y}=f;return Y?.setTimeout?Y.setTimeout(H,S,...G):setTimeout(H,S,...G)},clearTimeout(H){const{delegate:S}=f;return(S?.clearTimeout||clearTimeout)(H)},delegate:void 0}},4761:(Ue,ce,T)=>{T.d(ce,{l:()=>H});const H=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ue,ce,T)=>{T.d(ce,{s:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Ue,ce,T)=>{T.d(ce,{R0:()=>ie,ms:()=>G,lI:()=>Y});var f=T(8071);function S(oe){return oe[oe.length-1]}function G(oe){return(0,f.T)(S(oe))?oe.pop():void 0}function Y(oe){return function H(oe){return oe&&(0,f.T)(oe.schedule)}(S(oe))?oe.pop():void 0}function ie(oe,me){return"number"==typeof S(oe)?oe.pop():me}},7908:(Ue,ce,T)=>{function f(H,S){if(H){const G=H.indexOf(S);0<=G&&H.splice(G,1)}}T.d(ce,{o:()=>f})},1853:(Ue,ce,T)=>{function f(H){const G=H(Y=>{Error.call(Y),Y.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}T.d(ce,{L:()=>f})},9786:(Ue,ce,T)=>{T.d(ce,{Y:()=>S,l:()=>G});var f=T(1026);let H=null;function S(Y){if(f.$.useDeprecatedSynchronousErrorHandling){const ie=!H;if(ie&&(H={errorThrown:!1,error:null}),Y(),ie){const{errorThrown:oe,error:me}=H;if(H=null,oe)throw me}}else Y()}function G(Y){f.$.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=Y)}},5225:(Ue,ce,T)=>{function f(H,S,G,Y=0,ie=!1){const oe=S.schedule(function(){G(),ie?H.add(this.schedule(null,Y)):this.unsubscribe()},Y);if(H.add(oe),!ie)return oe}T.d(ce,{N:()=>f})},3669:(Ue,ce,T)=>{function f(H){return H}T.d(ce,{D:()=>f})},7441:(Ue,ce,T)=>{T.d(ce,{X:()=>f});const f=H=>H&&"number"==typeof H.length&&"function"!=typeof H},7953:(Ue,ce,T)=>{T.d(ce,{T:()=>H});var f=T(8071);function H(S){return Symbol.asyncIterator&&(0,f.T)(S?.[Symbol.asyncIterator])}},8071:(Ue,ce,T)=>{function f(H){return"function"==typeof H}T.d(ce,{T:()=>f})},5055:(Ue,ce,T)=>{T.d(ce,{l:()=>S});var f=T(3494),H=T(8071);function S(G){return(0,H.T)(G[f.s])}},5397:(Ue,ce,T)=>{T.d(ce,{x:()=>S});var f=T(4761),H=T(8071);function S(G){return(0,H.T)(G?.[f.l])}},9858:(Ue,ce,T)=>{T.d(ce,{y:()=>H});var f=T(8071);function H(S){return(0,f.T)(S?.then)}},5196:(Ue,ce,T)=>{T.d(ce,{C:()=>S,U:()=>G});var f=T(1635),H=T(8071);function S(Y){return(0,f.AQ)(this,arguments,function*(){const oe=Y.getReader();try{for(;;){const{value:me,done:re}=yield(0,f.N3)(oe.read());if(re)return yield(0,f.N3)(void 0);yield yield(0,f.N3)(me)}}finally{oe.releaseLock()}})}function G(Y){return(0,H.T)(Y?.getReader)}},9974:(Ue,ce,T)=>{T.d(ce,{N:()=>S,S:()=>H});var f=T(8071);function H(G){return(0,f.T)(G?.lift)}function S(G){return Y=>{if(H(Y))return Y.lift(function(ie){try{return G(ie,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Ue,ce,T)=>{function f(){}T.d(ce,{l:()=>f})},1203:(Ue,ce,T)=>{T.d(ce,{F:()=>H,m:()=>S});var f=T(3669);function H(...G){return S(G)}function S(G){return 0===G.length?f.D:1===G.length?G[0]:function(ie){return G.reduce((oe,me)=>me(oe),ie)}}},5334:(Ue,ce,T)=>{T.d(ce,{m:()=>S});var f=T(1026),H=T(9270);function S(G){H.f.setTimeout(()=>{const{onUnhandledError:Y}=f.$;if(!Y)throw G;Y(G)})}},591:(Ue,ce,T)=>{function f(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(ce,{L:()=>f})},7705:(Ue,ce,T)=>{T.d(ce,{$C:()=>ga,$GK:()=>$e,$K3:()=>sD,AVh:()=>Qu,Agw:()=>Dm,BIS:()=>Tu,BMQ:()=>md,C4Q:()=>bg,Co$:()=>aI,DNE:()=>E_,EFF:()=>Xu,EJ8:()=>ma,FsC:()=>wl,G2t:()=>wt,GFd:()=>HE,H3F:()=>Tb,H5H:()=>q_,H8p:()=>bi,HJs:()=>dA,Hbi:()=>bD,JRh:()=>Zp,JZv:()=>bt,Jv_:()=>oI,KH2:()=>Pd,KVO:()=>Ct,L39:()=>uA,LfX:()=>Je,MKu:()=>ly,NEm:()=>bT,NYb:()=>Pb,O8t:()=>Ph,OA$:()=>qs,Ocv:()=>Lv,Ol2:()=>cI,PLl:()=>Im,QTQ:()=>Km,Ql9:()=>vT,QuC:()=>xi,R7$:()=>DE,Rfq:()=>Te,RxE:()=>oE,SKi:()=>fn,SpI:()=>Zu,TL$:()=>My,Tbb:()=>j,VBU:()=>An,Vns:()=>fl,Vt3:()=>Bt,WHO:()=>Eh,WQX:()=>et,XpG:()=>aC,Xx1:()=>Uc,Y8G:()=>C_,Z63:()=>ed,_9s:()=>vp,_q3:()=>ay,aKT:()=>sd,aNF:()=>dI,bIt:()=>w_,bkB:()=>Zi,c1b:()=>hv,czy:()=>za,e01:()=>Ch,fpN:()=>Zb,gRc:()=>Hb,gXe:()=>ke,giA:()=>Fg,hnV:()=>Fv,i5U:()=>cv,iLQ:()=>Vg,j41:()=>$p,jDH:()=>Oe,jNT:()=>Yu,k0s:()=>Dd,kS0:()=>fu,kdw:()=>Bc,lsd:()=>mv,mGM:()=>db,mq5:()=>kC,n$t:()=>zD,nI1:()=>II,nKC:()=>Fe,naY:()=>hD,nrm:()=>wd,o8S:()=>Gd,oH4:()=>Ug,plB:()=>yv,rXU:()=>ld,sFG:()=>iE,sZ2:()=>Em,uvJ:()=>po,w6W:()=>zw,wOt:()=>q,wni:()=>LI,xGo:()=>kc,xe9:()=>Pg,xvI:()=>Nm,zZn:()=>Ns,zcH:()=>Xo,zjR:()=>iC});var f=T(1413),H=T(8359),S=T(1985),G=T(7786),Y=T(4412),ie=T(7673),oe=T(7647),me=T(5558),re=T(3294);function N(r){for(let s in r)if(r[s]===N)return s;throw Error("Could not find renamed property on target object.")}function k(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function j(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(j).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ce(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const he=N({__forward_ref__:N});function Te(r){return r.__forward_ref__=Te,r.toString=function(){return j(this())},r}function ge(r){return be(r)?r():r}function be(r){return"function"==typeof r&&r.hasOwnProperty(he)&&r.__forward_ref__===Te}function ye(r){return r&&!!r.\u0275providers}const Be="https://g.co/ng/security#xss";class q extends Error{constructor(s,o){super(function ae(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,o)),this.code=s}}function K(r){return"string"==typeof r?r:null==r?"":String(r)}function Ke(r,s){throw new q(-201,!1)}function de(r,s){null==r&&function ee(r,s,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,r,null,"!=")}function Oe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wt(r){return{providers:r.providers||[],imports:r.imports||[]}}function jn(r){return Ht(r,qt)||Ht(r,Oi)}function Je(r){return null!==jn(r)}function Ht(r,s){return r.hasOwnProperty(s)?r[s]:null}function pn(r){return r&&(r.hasOwnProperty(pr)||r.hasOwnProperty(Eo))?r[pr]:null}const qt=N({\u0275prov:N}),pr=N({\u0275inj:N}),Oi=N({ngInjectableDef:N}),Eo=N({ngInjectorDef:N});var $e=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}($e||{});let ut;function Ot(r){const s=ut;return ut=r,s}function jt(r,s,o){const l=jn(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&$e.Optional?null:void 0!==s?s:void Ke(j(r))}const bt=globalThis;class Fe{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Oe({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $t={},Pr="__NG_DI_FLAG__",$n="ngTempTokenPath",O=/\n/gm,le="__source";let Q;function Ge(r){const s=Q;return Q=r,s}function mt(r,s=$e.Default){if(void 0===Q)throw new q(-203,!1);return null===Q?jt(r,void 0,s):Q.get(r,s&$e.Optional?null:void 0,s)}function Ct(r,s=$e.Default){return(function Xe(){return ut}()||mt)(ge(r),s)}function et(r,s=$e.Default){return Ct(r,ht(s))}function ht(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function bn(r){const s=[];for(let o=0;o<r.length;o++){const l=ge(r[o]);if(Array.isArray(l)){if(0===l.length)throw new q(900,!1);let e,n=$e.Default;for(let t=0;t<l.length;t++){const i=l[t],a=fi(i);"number"==typeof a?-1===a?e=i.token:n|=a:e=i}s.push(Ct(e,n))}else s.push(Ct(l))}return s}function Xn(r,s){return r[Pr]=s,r.prototype[Pr]=s,r}function fi(r){return r[Pr]}function $(r){return{toString:r}.toString()}var _e=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(_e||{}),ke=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(ke||{});const je={},Re=[],vt=N({\u0275cmp:N}),nn=N({\u0275dir:N}),Yt=N({\u0275pipe:N}),zr=N({\u0275mod:N}),Zn=N({\u0275fac:N}),hi=N({__NG_ELEMENT_ID__:N}),ml=N({__NG_ENV_ID__:N});function ua(r,s,o){let l=r.length;for(;;){const e=r.indexOf(s,o);if(-1===e)return e;if(0===e||r.charCodeAt(e-1)<=32){const n=s.length;if(e+n===l||r.charCodeAt(e+n)<=32)return e}o=e+1}}function ca(r,s,o){let l=0;for(;l<o.length;){const e=o[l];if("number"==typeof e){if(0!==e)break;l++;const n=o[l++],t=o[l++],i=o[l++];r.setAttribute(s,t,i,n)}else{const n=e,t=o[++l];da(n)?r.setProperty(s,n,t):r.setAttribute(s,n,t),l++}}return l}function Cr(r){return 3===r||4===r||6===r}function da(r){return 64===r.charCodeAt(0)}function ss(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const e=s[l];"number"==typeof e?o=e:0===o||_l(r,o,e,null,-1===o||2===o?s[++l]:null)}}return r}function _l(r,s,o,l,e){let n=0,t=r.length;if(-1===s)t=-1;else for(;n<r.length;){const i=r[n++];if("number"==typeof i){if(i===s){t=-1;break}if(i>s){t=n-1;break}}}for(;n<r.length;){const i=r[n];if("number"==typeof i)break;if(i===o){if(null===l)return void(null!==e&&(r[n+1]=e));if(l===r[n+1])return void(r[n+2]=e)}n++,null!==l&&n++,null!==e&&n++}-1!==t&&(r.splice(t,0,s),n=t+1),r.splice(n++,0,o),null!==l&&r.splice(n++,0,l),null!==e&&r.splice(n++,0,e)}const Qt="ng-template";function Io(r,s,o){let l=0,e=!0;for(;l<r.length;){let n=r[l++];if("string"==typeof n&&e){const t=r[l++];if(o&&"class"===n&&-1!==ua(t.toLowerCase(),s,0))return!0}else{if(1===n){for(;l<r.length&&"string"==typeof(n=r[l++]);)if(n.toLowerCase()===s)return!0;return!1}"number"==typeof n&&(e=!1)}}return!1}function zd(r){return 4===r.type&&r.value!==Qt}function Kd(r,s,o){return s===(4!==r.type||o?r.value:Qt)}function fa(r,s,o){let l=4;const e=r.attrs||[],n=function os(r){for(let s=0;s<r.length;s++)if(Cr(r[s]))return s;return r.length}(e);let t=!1;for(let i=0;i<s.length;i++){const a=s[i];if("number"!=typeof a){if(!t)if(4&l){if(l=2|1&l,""!==a&&!Kd(r,a,o)||""===a&&1===s.length){if(On(l))return!1;t=!0}}else{const u=8&l?a:s[++i];if(8&l&&null!==r.attrs){if(!Io(r.attrs,u,o)){if(On(l))return!1;t=!0}continue}const g=lc(8&l?"class":a,e,zd(r),o);if(-1===g){if(On(l))return!1;t=!0;continue}if(""!==u){let v;v=g>n?"":e[g+1].toLowerCase();const E=8&l?v:null;if(E&&-1!==ua(E,u,0)||2&l&&u!==v){if(On(l))return!1;t=!0}}}}else{if(!t&&!On(l)&&!On(a))return!1;if(t&&On(a))continue;t=!1,l=a|1&l}}return On(l)||t}function On(r){return 0==(1&r)}function lc(r,s,o,l){if(null===s)return-1;let e=0;if(l||!o){let n=!1;for(;e<s.length;){const t=s[e];if(t===r)return e;if(3===t||6===t)n=!0;else{if(1===t||2===t){let i=s[++e];for(;"string"==typeof i;)i=s[++e];continue}if(4===t)break;if(0===t){e+=4;continue}}e+=n?1:2}return-1}return function qd(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,r)}function vl(r,s,o=!1){for(let l=0;l<s.length;l++)if(fa(r,s[l],o))return!0;return!1}function yl(r,s){return r?":not("+s.trim()+")":s}function uc(r){let s=r[0],o=1,l=2,e="",n=!1;for(;o<r.length;){let t=r[o];if("string"==typeof t)if(2&l){const i=r[++o];e+="["+t+(i.length>0?'="'+i+'"':"")+"]"}else 8&l?e+="."+t:4&l&&(e+=" "+t);else""!==e&&!On(t)&&(s+=yl(n,e),e=""),l=t,n=n||!On(l);o++}return""!==e&&(s+=yl(n,e)),s}function An(r){return $(()=>{const s=Yd(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||ke.Emulated,styles:r.styles||Re,_:null,schemas:r.schemas||null,tView:null,id:""};bl(o);const l=r.dependencies;return o.directiveDefs=as(l,!1),o.pipeDefs=as(l,!0),o.id=function Al(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const e of o)s=Math.imul(31,s)+e.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function pa(r){return dt(r)||Tn(r)}function Il(r){return null!==r}function ga(r){return $(()=>({type:r.type,bootstrap:r.bootstrap||Re,declarations:r.declarations||Re,imports:r.imports||Re,exports:r.exports||Re,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function js(r,s){if(null==r)return je;const o={};for(const l in r)if(r.hasOwnProperty(l)){let e=r[l],n=e;Array.isArray(e)&&(n=e[1],e=e[0]),o[e]=l,s&&(s[e]=n)}return o}function wl(r){return $(()=>{const s=Yd(r);return bl(s),s})}function ma(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function dt(r){return r[vt]||null}function Tn(r){return r[nn]||null}function _n(r){return r[Yt]||null}function xi(r){const s=dt(r)||Tn(r)||_n(r);return null!==s&&s.standalone}function Jn(r,s){const o=r[zr]||null;if(!o&&!0===s)throw new Error(`Type ${j(r)} does not have '\u0275mod' property.`);return o}function Yd(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||je,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Re,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:js(r.inputs,s),outputs:js(r.outputs)}}function bl(r){r.features?.forEach(s=>s(r))}function as(r,s){if(!r)return null;const o=s?_n:pa;return()=>("function"==typeof r?r():r).map(l=>o(l)).filter(Il)}const Wt=0,we=1,rt=2,Mt=3,gr=4,Hs=5,Wn=6,ki=7,Gt=8,Fi=9,xr=10,He=11,_a=12,va=13,pi=14,an=15,$s=16,er=17,tr=18,wr=19,cc=20,kr=21,gi=22,Li=23,Kr=24,pt=25,Do=1,qr=2,mr=7,mi=9,vn=11;function Gn(r){return Array.isArray(r)&&"object"==typeof r[Do]}function xn(r){return Array.isArray(r)&&!0===r[Do]}function Sl(r){return 0!=(4&r.flags)}function kn(r){return r.componentOffset>-1}function ls(r){return 1==(1&r.flags)}function nr(r){return!!r.template}function Vi(r){return 0!=(512&r[rt])}function vi(r,s){return r.hasOwnProperty(Zn)?r[Zn]:null}let rn=null,Ws=!1;function Sn(r){const s=rn;return rn=r,s}const Fl={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function pc(r){if(!cs(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Ll(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Jd(r){r.dirty=!0,function To(r){if(void 0===r.liveConsumerNode)return;const s=Ws;Ws=!0;try{for(const o of r.liveConsumerNode)o.dirty||Jd(o)}finally{Ws=s}}(r),r.consumerMarkedDirty?.(r)}function yn(r){return r&&(r.nextProducerIndex=0),Sn(r)}function Ca(r,s){if(Sn(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(cs(r))for(let o=r.nextProducerIndex;o<r.producerNode.length;o++)zs(r.producerNode[o],r.producerIndexOfThis[o]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Ll(r){yi(r);for(let s=0;s<r.producerNode.length;s++){const o=r.producerNode[s],l=r.producerLastReadVersion[s];if(l!==o.version||(pc(o),l!==o.version))return!0}return!1}function Vl(r){if(yi(r),cs(r))for(let s=0;s<r.producerNode.length;s++)zs(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function zs(r,s){if(function Ia(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),yi(r),1===r.liveConsumerNode.length)for(let l=0;l<r.producerNode.length;l++)zs(r.producerNode[l],r.producerIndexOfThis[l]);const o=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[o],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[o],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const l=r.liveConsumerIndexOfThis[s],e=r.liveConsumerNode[s];yi(e),e.producerIndexOfThis[l]=s}}function cs(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function yi(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Bl=null;function Ph(r){const s=Sn(null);try{return r()}finally{Sn(s)}}const vc=()=>{},Ta=(()=>({...Fl,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:vc}))();class yc{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function qs(){return Ec}function Ec(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ei),ds}function ds(){const r=Wl(this),s=r?.current;if(s){const o=r.previous;if(o===je)r.previous=s;else for(let l in s)o[l]=s[l];r.current=null,this.ngOnChanges(s)}}function Ei(r,s,o,l){const e=this.declaredInputs[o],n=Wl(r)||function Gl(r,s){return r[fs]=s}(r,{previous:je,current:null}),t=n.current||(n.current={}),i=n.previous,a=i[e];t[e]=new yc(a&&a.currentValue,s,i===je),r[l]=s}qs.ngInherit=!0;const fs="__ngSimpleChanges__";function Wl(r){return r[fs]||null}const Qr=function(r,s,o){};function At(r){for(;Array.isArray(r);)r=r[Wt];return r}function ps(r,s){return At(s[r])}function rr(r,s){return At(s[r.index])}function Kl(r,s){return r.data[s]}function _r(r,s){const o=s[r];return Gn(o)?o:o[Wt]}function ms(r,s){return null==s?null:r[s]}function Sa(r){r[er]=0}function ql(r){1024&r[rt]||(r[rt]|=1024,kt(r,1))}function kh(r){1024&r[rt]&&(r[rt]&=-1025,kt(r,-1))}function kt(r,s){let o=r[Mt];if(null===o)return;o[Hs]+=s;let l=o;for(o=o[Mt];null!==o&&(1===s&&1===l[Hs]||-1===s&&0===l[Hs]);)o[Hs]+=s,l=o,o=o[Mt]}const Ye={lFrame:cn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xs(){return Ye.bindingsEnabled}function fe(){return Ye.lFrame.lView}function it(){return Ye.lFrame.tView}function ln(){let r=Jl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Jl(){return Ye.lFrame.currentTNode}function ir(r,s){const o=Ye.lFrame;o.currentTNode=r,o.isParent=s}function tu(){return Ye.lFrame.isParent}function No(){return Ye.lFrame.bindingIndex++}function Vh(r,s){const o=Ye.lFrame;o.bindingIndex=o.bindingRootIndex=r,Tc(s)}function Tc(r){Ye.lFrame.currentDirectiveIndex=r}function uf(){return Ye.lFrame.currentQueryIndex}function Oa(r){Ye.lFrame.currentQueryIndex=r}function Uh(r){const s=r[we];return 2===s.type?s.declTNode:1===s.type?r[Wn]:null}function sr(r,s,o){if(o&$e.SkipSelf){let e=s,n=r;for(;!(e=e.parent,null!==e||o&$e.Host||(e=Uh(n),null===e||(n=n[pi],10&e.type))););if(null===e)return!1;s=e,r=n}const l=Ye.lFrame=Zs();return l.currentTNode=s,l.lView=r,!0}function _s(r){const s=Zs(),o=r[we];Ye.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Zs(){const r=Ye.lFrame,s=null===r?null:r.child;return null===s?cn(r):s}function cn(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function ze(){const r=Ye.lFrame;return Ye.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const or=ze;function Js(){const r=ze();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Mn(){return Ye.lFrame.selectedIndex}function Jr(r){Ye.lFrame.selectedIndex=r}function Tt(){const r=Ye.lFrame;return Kl(r.tView,r.selectedIndex)}let ei=!0;function vs(){return ei}function Dt(r){ei=r}function ys(r,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const n=r.data[o].type.prototype,{ngAfterContentInit:t,ngAfterContentChecked:i,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=n;t&&(r.contentHooks??=[]).push(-o,t),i&&((r.contentHooks??=[]).push(o,i),(r.contentCheckHooks??=[]).push(o,i)),a&&(r.viewHooks??=[]).push(-o,a),u&&((r.viewHooks??=[]).push(o,u),(r.viewCheckHooks??=[]).push(o,u)),null!=d&&(r.destroyHooks??=[]).push(o,d)}}function Pa(r,s,o){Cs(r,s,3,o)}function Es(r,s,o,l){(3&r[rt])===o&&Cs(r,s,o,l)}function Rc(r,s){let o=r[rt];(3&o)===s&&(o&=8191,o+=1,r[rt]=o)}function Cs(r,s,o,l){const n=l??-1,t=s.length-1;let i=0;for(let a=void 0!==l?65535&r[er]:0;a<t;a++)if("number"==typeof s[a+1]){if(i=s[a],null!=l&&i>=l)break}else s[a]<0&&(r[er]+=65536),(i<n||-1==n)&&(ou(r,o,s,a),r[er]=(4294901760&r[er])+a+2),a++}function Bi(r,s){Qr(4,r,s);const o=Sn(null);try{s.call(r)}finally{Sn(o),Qr(5,r,s)}}function ou(r,s,o,l){const e=o[l]<0,n=o[l+1],i=r[e?-o[l]:o[l]];e?r[rt]>>13<r[er]>>16&&(3&r[rt])===s&&(r[rt]+=8192,Bi(i,n)):Bi(i,n)}const Lr=-1;class ji{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ar(r){return r!==Lr}function zt(r){return 32767&r}function ko(r,s){let o=function Wi(r){return r>>16}(r),l=s;for(;o>0;)l=l[pi],o--;return l}let Vr=!0;function sn(r){const s=Vr;return Vr=r,s}const Pc=255,ka=5;let Gi=0;const Vn={};function Tr(r,s){const o=zi(r,s);if(-1!==o)return o;const l=s[we];l.firstCreatePass&&(r.injectorIndex=s.length,to(l.data,r),to(s,null),to(l.blueprint,null));const e=Ki(r,s),n=r.injectorIndex;if(Ar(e)){const t=zt(e),i=ko(e,s),a=i[we].data;for(let u=0;u<8;u++)s[n+u]=i[t+u]|a[t+u]}return s[n+8]=e,n}function to(r,s){r.push(0,0,0,0,0,0,0,0,s)}function zi(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Ki(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,e=s;for(;null!==e;){if(l=du(e),null===l)return Lr;if(o++,e=e[pi],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return Lr}function no(r,s,o){!function dn(r,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(hi)&&(l=o[hi]),null==l&&(l=o[hi]=Gi++);const e=l&Pc;s.data[r+(e>>ka)]|=1<<e}(r,s,o)}function Is(r,s,o){if(o&$e.Optional||void 0!==r)return r;Ke()}function Fo(r,s,o,l){if(o&$e.Optional&&void 0===l&&(l=null),!(o&($e.Self|$e.Host))){const e=r[Fi],n=Ot(void 0);try{return e?e.get(s,l,o&$e.Optional):jt(s,l,o&$e.Optional)}finally{Ot(n)}}return Is(l,0,o)}function xc(r,s,o,l=$e.Default,e){if(null!==r){if(2048&s[rt]&&!(l&$e.Self)){const t=function Fc(r,s,o,l,e){let n=r,t=s;for(;null!==n&&null!==t&&2048&t[rt]&&!(512&t[rt]);){const i=nt(n,t,o,l|$e.Self,Vn);if(i!==Vn)return i;let a=n.parent;if(!a){const u=t[cc];if(u){const d=u.get(o,Vn,l);if(d!==Vn)return d}a=du(t),t=t[pi]}n=a}return e}(r,s,o,l,Vn);if(t!==Vn)return t}const n=nt(r,s,o,l,Vn);if(n!==Vn)return n}return Fo(s,o,l,e)}function nt(r,s,o,l,e){const n=function qi(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(hi)?r[hi]:void 0;return"number"==typeof s?s>=0?s&Pc:ws:s}(o);if("function"==typeof n){if(!sr(s,r,l))return l&$e.Host?Is(e,0,l):Fo(s,o,l,e);try{let t;if(t=n(l),null!=t||l&$e.Optional)return t;Ke()}finally{or()}}else if("number"==typeof n){let t=null,i=zi(r,s),a=Lr,u=l&$e.Host?s[an][Wn]:null;for((-1===i||l&$e.SkipSelf)&&(a=-1===i?Ki(r,s):s[i+8],a!==Lr&&Ur(l,!1)?(t=s[we],i=zt(a),s=ko(a,s)):i=-1);-1!==i;){const d=s[we];if(uu(n,i,d.data)){const g=La(i,s,o,t,l,u);if(g!==Vn)return g}a=s[i+8],a!==Lr&&Ur(l,s[we].data[i+8]===u)&&uu(n,i,s)?(t=d,i=zt(a),s=ko(a,s)):i=-1}}return e}function La(r,s,o,l,e,n){const t=s[we],i=t.data[r+8],d=Va(i,t,o,null==l?kn(i)&&Vr:l!=t&&0!=(3&i.type),e&$e.Host&&n===i);return null!==d?Sr(s,t,d,i):Vn}function Va(r,s,o,l,e){const n=r.providerIndexes,t=s.data,i=1048575&n,a=r.directiveStart,d=n>>20,v=e?i+d:r.directiveEnd;for(let E=l?i:i+d;E<v;E++){const w=t[E];if(E<a&&o===w||E>=a&&w.type===o)return E}if(e){const E=t[a];if(E&&nr(E)&&E.type===o)return a}return null}function Sr(r,s,o,l){let e=r[o];const n=s.data;if(function xa(r){return r instanceof ji}(e)){const t=e;t.resolving&&function ve(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new q(-200,`Circular dependency in DI detected for ${r}${o}`)}(function ue(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():K(r)}(n[o]));const i=sn(t.canSeeViewProviders);t.resolving=!0;const u=t.injectImpl?Ot(t.injectImpl):null;sr(r,l,$e.Default);try{e=r[o]=t.factory(void 0,n,r,l),s.firstCreatePass&&o>=l.directiveStart&&function su(r,s,o){const{ngOnChanges:l,ngOnInit:e,ngDoCheck:n}=s.type.prototype;if(l){const t=Ec(s);(o.preOrderHooks??=[]).push(r,t),(o.preOrderCheckHooks??=[]).push(r,t)}e&&(o.preOrderHooks??=[]).push(0-r,e),n&&((o.preOrderHooks??=[]).push(r,n),(o.preOrderCheckHooks??=[]).push(r,n))}(o,n[o],s)}finally{null!==u&&Ot(u),sn(i),t.resolving=!1,or()}}return e}function uu(r,s,o){return!!(o[s+(r>>ka)]&1<<r)}function Ur(r,s){return!(r&$e.Self||r&$e.Host&&s)}class Ft{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,l){return xc(this._tNode,this._lView,s,ht(l),o)}}function ws(){return new Ft(ln(),fe())}function kc(r){return $(()=>{const s=r.prototype.constructor,o=s[Zn]||cu(s),l=Object.prototype;let e=Object.getPrototypeOf(r.prototype).constructor;for(;e&&e!==l;){const n=e[Zn]||cu(e);if(n&&n!==o)return n;e=Object.getPrototypeOf(e)}return n=>new n})}function cu(r){return be(r)?()=>{const s=cu(ge(r));return s&&s()}:vi(r)}function du(r){const s=r[we],o=s.type;return 2===o?s.declTNode:1===o?r[Wn]:null}function fu(r){return function Fa(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const l=o.length;let e=0;for(;e<l;){const n=o[e];if(Cr(n))break;if(0===n)e+=2;else if("number"==typeof n)for(e++;e<l&&"string"==typeof o[e];)e++;else{if(n===s)return o[e+1];e+=2}}}return null}(ln(),r)}const _="__parameters__";function F(r,s,o){return $(()=>{const l=function A(r){return function(...o){if(r){const l=r(...o);for(const e in l)this[e]=l[e]}}}(s);function e(...n){if(this instanceof e)return l.apply(this,n),this;const t=new e(...n);return i.annotation=t,i;function i(a,u,d){const g=a.hasOwnProperty(_)?a[_]:Object.defineProperty(a,_,{value:[]})[_];for(;g.length<=d;)g.push(null);return(g[d]=g[d]||[]).push(t),a}}return o&&(e.prototype=Object.create(o.prototype)),e.prototype.ngMetadataName=r,e.annotationCls=e,e})}function Ba(r,s){r.forEach(o=>Array.isArray(o)?Ba(o,s):s(o))}function Gg(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function io(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Br(r,s,o){let l=Lo(r,s);return l>=0?r[1|l]=o:(l=~l,function Bh(r,s,o,l){let e=r.length;if(e==s)r.push(o,l);else if(1===e)r.push(l,r[0]),r[0]=o;else{for(e--,r.push(r[e-1],r[e]);e>s;)r[e]=r[e-2],e--;r[s]=o,r[s+1]=l}}(r,l,s,o)),l}function df(r,s){const o=Lo(r,s);if(o>=0)return r[1|o]}function Lo(r,s){return function ff(r,s,o){let l=0,e=r.length>>o;for(;e!==l;){const n=l+(e-l>>1),t=r[n<<o];if(s===t)return n<<o;t>s?e=n:l=n+1}return~(e<<o)}(r,s,1)}const Uc=Xn(F("Optional"),8),Bc=Xn(F("SkipSelf"),4);function Wo(r){return 128==(128&r.flags)}var za=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(za||{});const Ef=new Map;let yu=0;const If="__ngContext__";function Rn(r,s){Gn(s)?(r[If]=s[wr],function Cf(r){Ef.set(r[wr],r)}(s)):r[If]=s}let U;function pe(r,s){return U(r,s)}function Ne(r){const s=r[Mt];return xn(s)?s[Mt]:s}function jr(r){return Df(r[_a])}function co(r){return Df(r[gr])}function Df(r){for(;null!==r&&!xn(r);)r=r[gr];return r}function fo(r,s,o,l,e){if(null!=l){let n,t=!1;xn(l)?n=l:Gn(l)&&(t=!0,l=l[Wt]);const i=At(l);0===r&&null!==o?null==e?Cy(s,o,i):Du(s,o,i,e||null,!0):1===r&&null!==o?Du(s,o,i,e||null,!0):2===r?function tp(r,s,o){const l=ep(r,s);l&&function ND(r,s,o,l){r.removeChild(s,o,l)}(r,l,s,o)}(s,i,t):3===r&&s.destroyNode(i),null!=n&&function PD(r,s,o,l,e){const n=o[mr];n!==At(o)&&fo(s,r,l,n,e);for(let i=vn;i<o.length;i++){const a=o[i];wu(a[we],a,r,s,l,n)}}(s,r,n,o,e)}}function Iu(r,s,o){return r.createElement(s,o)}function _y(r,s){const o=r[mi],l=o.indexOf(s);kh(s),o.splice(l,1)}function Zh(r,s){if(r.length<=vn)return;const o=vn+s,l=r[o];if(l){const e=l[$s];null!==e&&e!==r&&_y(e,l),s>0&&(r[o-1][gr]=l[gr]);const n=io(r,vn+s);!function qa(r,s){wu(r,s,s[He],2,null,null),s[Wt]=null,s[Wn]=null}(l[we],l);const t=n[tr];null!==t&&t.detachView(n[we]),l[Mt]=null,l[gr]=null,l[rt]&=-129}return l}function vy(r,s){if(!(256&s[rt])){const o=s[He];s[Li]&&Vl(s[Li]),s[Kr]&&Vl(s[Kr]),o.destroyNode&&wu(r,s,o,3,null,null),function tm(r){let s=r[_a];if(!s)return rm(r[we],r);for(;s;){let o=null;if(Gn(s))o=s[_a];else{const l=s[vn];l&&(o=l)}if(!o){for(;s&&!s[gr]&&s!==r;)Gn(s)&&rm(s[we],s),s=s[Mt];null===s&&(s=r),Gn(s)&&rm(s[we],s),o=s&&s[gr]}s=o}}(s)}}function rm(r,s){if(!(256&s[rt])){s[rt]&=-129,s[rt]|=256,function Jh(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const e=s[o[l]];if(!(e instanceof ji)){const n=o[l+1];if(Array.isArray(n))for(let t=0;t<n.length;t+=2){const i=e[n[t]],a=n[t+1];Qr(4,i,a);try{a.call(i)}finally{Qr(5,i,a)}}else{Qr(4,e,n);try{n.call(e)}finally{Qr(5,e,n)}}}}}(r,s),function yy(r,s){const o=r.cleanup,l=s[ki];if(null!==o)for(let n=0;n<o.length-1;n+=2)if("string"==typeof o[n]){const t=o[n+3];t>=0?l[t]():l[-t].unsubscribe(),n+=2}else o[n].call(l[o[n+1]]);null!==l&&(s[ki]=null);const e=s[kr];if(null!==e){s[kr]=null;for(let n=0;n<e.length;n++)(0,e[n])()}}(r,s),1===s[we].type&&s[He].destroy();const o=s[$s];if(null!==o&&xn(s[Mt])){o!==s[Mt]&&_y(o,s);const l=s[tr];null!==l&&l.detachView(r)}!function Jg(r){Ef.delete(r[wr])}(s)}}function Ya(r,s,o){return function Ey(r,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[Wt];{const{componentOffset:e}=l;if(e>-1){const{encapsulation:n}=r.data[l.directiveStart+e];if(n===ke.None||n===ke.Emulated)return null}return rr(l,o)}}(r,s.parent,o)}function Du(r,s,o,l,e){r.insertBefore(s,o,l,e)}function Cy(r,s,o){r.appendChild(s,o)}function Iy(r,s,o,l,e){null!==l?Du(r,s,o,l,e):Cy(r,s,o)}function ep(r,s){return r.parentNode(s)}let Yc,ip,sp,wy=function im(r,s,o){return 40&r.type?rr(r,o):null};function Ko(r,s,o,l){const e=Ya(r,l,s),n=s[He],i=function Dy(r,s,o){return wy(r,s,o)}(l.parent||s[Wn],l,s);if(null!=e)if(Array.isArray(o))for(let a=0;a<o.length;a++)Iy(n,e,o[a],i,!1);else Iy(n,e,o,i,!1);void 0!==Yc&&Yc(n,l,s,o,e)}function Qc(r,s){if(null!==s){const o=s.type;if(3&o)return rr(s,r);if(4&o)return om(-1,r[s.index]);if(8&o){const l=s.child;if(null!==l)return Qc(r,l);{const e=r[s.index];return xn(e)?om(-1,e):At(e)}}if(32&o)return pe(s,r)()||At(r[s.index]);{const l=by(r,s);return null!==l?Array.isArray(l)?l[0]:Qc(Ne(r[an]),l):Qc(r,s.next)}}return null}function by(r,s){return null!==s?r[an][Wn].projection[s.projection]:null}function om(r,s){const o=vn+r+1;if(o<s.length){const l=s[o],e=l[we].firstChild;if(null!==e)return Qc(l,e)}return s[mr]}function am(r,s,o,l,e,n,t){for(;null!=o;){const i=l[o.index],a=o.type;if(t&&0===s&&(i&&Rn(At(i),l),o.flags|=2),32!=(32&o.flags))if(8&a)am(r,s,o.child,l,e,n,!1),fo(s,r,e,i,n);else if(32&a){const u=pe(o,l);let d;for(;d=u();)fo(s,r,e,d,n);fo(s,r,e,i,n)}else 16&a?Ty(r,s,l,o,e,n):fo(s,r,e,i,n);o=t?o.projectionNext:o.next}}function wu(r,s,o,l,e,n){am(o,l,r.firstChild,s,e,n,!1)}function Ty(r,s,o,l,e,n){const t=o[an],a=t[Wn].projection[l.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)fo(s,r,e,a[u],n);else{let u=a;const d=t[Mt];Wo(l)&&(u.flags|=128),am(r,s,u,d,e,n,!0)}}function bf(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function Sy(r,s,o){const{mergedAttrs:l,classes:e,styles:n}=o;null!==l&&ca(r,s,l),null!==e&&bf(r,s,e),null!==n&&function kD(r,s,o){r.setAttribute(s,"style",o)}(r,s,n)}function My(r){ip=r}function Oy(r){return function um(){if(void 0===sp&&(sp=null,bt.trustedTypes))try{sp=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return sp}()?.createScriptURL(r)||r}class cm{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Be})`}}function qo(r){return r instanceof cm?r.changingThisBreaksApplicationSecurity:r}function Qa(r,s){const o=function Py(r){return r instanceof cm&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${Be})`)}return o===s}const xy=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var bu=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(bu||{});function $y(r){const s=lp();return s?s.sanitize(bu.URL,r)||"":Qa(r,"URL")?qo(r):function hm(r){return(r=String(r)).match(xy)?r:"unsafe:"+r}(K(r))}function Wy(r){const s=lp();if(s)return Oy(s.sanitize(bu.RESOURCE_URL,r)||"");if(Qa(r,"ResourceURL"))return Oy(qo(r));throw new q(904,!1)}function zD(r,s,o){return function DA(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?Wy:$y}(s,o)(r)}function lp(){const r=fe();return r&&r[xr].sanitizer}const ed=new Fe("ENVIRONMENT_INITIALIZER"),zy=new Fe("INJECTOR",-1),Ky=new Fe("INJECTOR_DEF_TYPES");class _m{get(s,o=$t){if(o===$t){const l=new Error(`NullInjectorError: No provider for ${j(s)}!`);throw l.name="NullInjectorError",l}return o}}function KD(...r){return{\u0275providers:Yy(0,r),\u0275fromNgModule:!0}}function Yy(r,...s){const o=[],l=new Set;let e;const n=t=>{o.push(t)};return Ba(s,t=>{const i=t;up(i,n,[],l)&&(e||=[],e.push(i))}),void 0!==e&&Qy(e,n),o}function Qy(r,s){for(let o=0;o<r.length;o++){const{ngModule:l,providers:e}=r[o];vm(e,n=>{s(n,l)})}}function up(r,s,o,l){if(!(r=ge(r)))return!1;let e=null,n=pn(r);const t=!n&&dt(r);if(n||t){if(t&&!t.standalone)return!1;e=r}else{const a=r.ngModule;if(n=pn(a),!n)return!1;e=a}const i=l.has(e);if(t){if(i)return!1;if(l.add(e),t.dependencies){const a="function"==typeof t.dependencies?t.dependencies():t.dependencies;for(const u of a)up(u,s,o,l)}}else{if(!n)return!1;{if(null!=n.imports&&!i){let u;l.add(e);try{Ba(n.imports,d=>{up(d,s,o,l)&&(u||=[],u.push(d))})}finally{}void 0!==u&&Qy(u,s)}if(!i){const u=vi(e)||(()=>new e);s({provide:e,useFactory:u,deps:Re},e),s({provide:Ky,useValue:e,multi:!0},e),s({provide:ed,useValue:()=>Ct(e),multi:!0},e)}const a=n.providers;if(null!=a&&!i){const u=r;vm(a,d=>{s(d,u)})}}}return e!==r&&void 0!==r.providers}function vm(r,s){for(let o of r)ye(o)&&(o=o.\u0275providers),Array.isArray(o)?vm(o,s):s(o)}const bA=N({provide:String,useValue:N});function Xy(r){return null!==r&&"object"==typeof r&&bA in r}function td(r){return"function"==typeof r}const bi=new Fe("Set Injector scope."),cp={},ym={};let dp;function fp(){return void 0===dp&&(dp=new _m),dp}class po{}class nd extends po{get destroyed(){return this._destroyed}constructor(s,o,l,e){super(),this.parent=o,this.source=l,this.scopes=e,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pp(s,t=>this.processProvider(t)),this.records.set(zy,Ai(void 0,this)),e.has("environment")&&this.records.set(po,Ai(void 0,this));const n=this.records.get(bi);null!=n&&"string"==typeof n.value&&this.scopes.add(n.value),this.injectorDefTypes=new Set(this.get(Ky.multi,Re,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=Ge(this),l=Ot(void 0);try{return s()}finally{Ge(o),Ot(l)}}get(s,o=$t,l=$e.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ml))return s[ml](this);l=ht(l);const n=Ge(this),t=Ot(void 0);try{if(!(l&$e.SkipSelf)){let a=this.records.get(s);if(void 0===a){const u=function hp(r){return"function"==typeof r||"object"==typeof r&&r instanceof Fe}(s)&&jn(s);a=u&&this.injectableDefInScope(u)?Ai(ti(s),cp):null,this.records.set(s,a)}if(null!=a)return this.hydrate(s,a)}return(l&$e.Self?fp():this.parent).get(s,o=l&$e.Optional&&o===$t?null:o)}catch(i){if("NullInjectorError"===i.name){if((i[$n]=i[$n]||[]).unshift(j(s)),n)throw i;return function Co(r,s,o,l){const e=r[$n];throw s[le]&&e.unshift(s[le]),r.message=function se(r,s,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let e=j(s);if(Array.isArray(s))e=s.map(j).join(" -> ");else if("object"==typeof s){let n=[];for(let t in s)if(s.hasOwnProperty(t)){let i=s[t];n.push(t+":"+("string"==typeof i?JSON.stringify(i):j(i)))}e=`{${n.join(", ")}}`}return`${o}${l?"("+l+")":""}[${e}]: ${r.replace(O,"\n  ")}`}("\n"+r.message,e,o,l),r.ngTokenPath=e,r[$n]=null,r}(i,s,"R3InjectorError",this.source)}throw i}finally{Ot(t),Ge(n)}}resolveInjectorInitializers(){const s=Ge(this),o=Ot(void 0);try{const e=this.get(ed.multi,Re,$e.Self);for(const n of e)n()}finally{Ge(s),Ot(o)}}toString(){const s=[],o=this.records;for(const l of o.keys())s.push(j(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(s){let o=td(s=ge(s))?s:ge(s&&s.provide);const l=function XD(r){return Xy(r)?Ai(void 0,r.useValue):Ai(Xa(r),cp)}(s);if(td(s)||!0!==s.multi)this.records.get(o);else{let e=this.records.get(o);e||(e=Ai(void 0,cp,!0),e.factory=()=>bn(e.multi),this.records.set(o,e)),o=s,e.multi.push(s)}this.records.set(o,l)}hydrate(s,o){return o.value===cp&&(o.value=ym,o.value=o.factory()),"object"==typeof o.value&&o.value&&function M(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=ge(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ti(r){const s=jn(r),o=null!==s?s.factory:vi(r);if(null!==o)return o;if(r instanceof Fe)throw new q(204,!1);if(r instanceof Function)return function TA(r){const s=r.length;if(s>0)throw function ja(r,s){const o=[];for(let l=0;l<r;l++)o.push(s);return o}(s,"?"),new q(204,!1);const o=function on(r){return r&&(r[qt]||r[Oi])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new q(204,!1)}function Xa(r,s,o){let l;if(td(r)){const e=ge(r);return vi(e)||ti(e)}if(Xy(r))l=()=>ge(r.useValue);else if(function QD(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...bn(r.deps||[]));else if(function YD(r){return!(!r||!r.useExisting)}(r))l=()=>Ct(ge(r.useExisting));else{const e=ge(r&&(r.useClass||r.provide));if(!function Au(r){return!!r.deps}(r))return vi(e)||ti(e);l=()=>new e(...bn(r.deps))}return l}function Ai(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function pp(r,s){for(const o of r)Array.isArray(o)?pp(o,s):o&&ye(o)?pp(o.\u0275providers,s):s(o)}const Em=new Fe("AppId",{providedIn:"root",factory:()=>Cm}),Cm="ng",Im=new Fe("Platform Initializer"),Dm=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tu=new Fe("CSP nonce",{providedIn:"root",factory:()=>function Zc(){if(void 0!==ip)return ip;if(typeof document<"u")return document;throw new q(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let id=(r,s,o)=>null;function Bn(r,s,o=!1){return id(r,s,o)}class s0{}class eE{}class tE{resolveComponentFactory(s){throw function Of(r){const s=Error(`No component factory found for ${j(r)}.`);return s.ngComponent=r,s}(s)}}let xf=(()=>{class r{static{this.NULL=new tE}}return r})();function nE(){return Pu(ln(),fe())}function Pu(r,s){return new sd(rr(r,s))}let sd=(()=>{class r{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=nE}}return r})();function rE(r){return r instanceof sd?r.nativeElement:r}class vp{}let iE=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function sE(){const r=fe(),o=_r(ln().index,r);return(Gn(o)?o:r)[He]}()}}return r})(),Rm=(()=>{class r{static{this.\u0275prov=Oe({token:r,providedIn:"root",factory:()=>null})}}return r})();class oE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Nm=new oE("16.2.12"),Om={};function xm(r,s=null,o=null,l){const e=cE(r,s,o,l);return e.resolveInjectorInitializers(),e}function cE(r,s=null,o=null,l,e=new Set){const n=[o||Re,KD(r)];return l=l||("object"==typeof r?void 0:j(r)),new nd(n,s||fp(),l||null,e)}let Ns=(()=>{class r{static{this.THROW_IF_NOT_FOUND=$t}static{this.NULL=new _m}static create(o,l){if(Array.isArray(o))return xm({name:""},l,o,"");{const e=o.name??"";return xm({name:e},o.parent,o.providers,e)}}static{this.\u0275prov=Oe({token:r,providedIn:"any",factory:()=>Ct(zy)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function km(r){return r.ngOriginalError}class Xo{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&km(s);for(;o&&km(o);)o=km(o);return o||null}}function go(r){return s=>{setTimeout(r,void 0,s)}}const Zi=class p0 extends f.B{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){let e=s,n=o||(()=>null),t=l;if(s&&"object"==typeof s){const a=s;e=a.next?.bind(a),n=a.error?.bind(a),t=a.complete?.bind(a)}this.__isAsync&&(n=go(n),e&&(e=go(e)),t&&(t=go(t)));const i=super.subscribe({next:e,error:n,complete:t});return s instanceof H.yU&&s.add(i),i}};function fE(...r){}class fn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const e=this;e._nesting=0,e._outer=e._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(e._inner=e._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(e._inner=e._inner.fork(Zone.longStackTraceZoneSpec)),e.shouldCoalesceEventChangeDetection=!l&&o,e.shouldCoalesceRunChangeDetection=l,e.lastRequestAnimationFrameId=-1,e.nativeRequestAnimationFrame=function g0(){const r="function"==typeof bt.requestAnimationFrame;let s=bt[r?"requestAnimationFrame":"setTimeout"],o=bt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const e=o[Zone.__symbol__("OriginalDelegate")];e&&(o=e)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _0(r){const s=()=>{!function m0(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(bt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Vm(r),r.isCheckStableRunning=!0,Lm(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Vm(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,e,n,t,i)=>{if(function gE(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(i))return o.invokeTask(e,n,t,i);try{return Ep(r),o.invokeTask(e,n,t,i)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===n.type||r.shouldCoalesceRunChangeDetection)&&s(),Um(r)}},onInvoke:(o,l,e,n,t,i,a)=>{try{return Ep(r),o.invoke(e,n,t,i,a)}finally{r.shouldCoalesceRunChangeDetection&&s(),Um(r)}},onHasTask:(o,l,e,n)=>{o.hasTask(e,n),l===e&&("microTask"==n.change?(r._hasPendingMicrotasks=n.microTask,Vm(r),Lm(r)):"macroTask"==n.change&&(r.hasPendingMacrotasks=n.macroTask))},onHandleError:(o,l,e,n)=>(o.handleError(e,n),r.runOutsideAngular(()=>r.onError.emit(n)),!1)})}(e)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fn.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(fn.isInAngularZone())throw new q(909,!1)}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,e){const n=this._inner,t=n.scheduleEventTask("NgZoneEvent: "+e,s,hE,fE,fE);try{return n.runTask(t,o,l)}finally{n.cancelTask(t)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const hE={};function Lm(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Vm(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Ep(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Um(r){r._nesting--,Lm(r)}class v0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zi,this.onMicrotaskEmpty=new Zi,this.onStable=new Zi,this.onError=new Zi}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,e){return s.apply(o,l)}}const Bm=new Fe("",{providedIn:"root",factory:pE});function pE(){const r=et(fn);let s=!0;const o=new S.c(e=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{e.next(s),e.complete()})}),l=new S.c(e=>{let n;r.runOutsideAngular(()=>{n=r.onStable.subscribe(()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,e.next(!0))})})});const t=r.onUnstable.subscribe(()=>{fn.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{e.next(!1)}))});return()=>{n.unsubscribe(),t.unsubscribe()}});return(0,G.h)(o,l.pipe((0,oe.u)()))}function mo(r){return r instanceof Function?r():r}let Rt=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Oe({token:r,providedIn:"root",factory:()=>new r})}}return r})();function It(r){for(;r;){r[rt]|=64;const s=Ne(r);if(Vi(r)&&!s)return r;r=s}return null}const Ut=new Fe("",{providedIn:"root",factory:()=>!1});let Ip=null;function Gm(r,s){return r[s]??IE()}function Ja(r,s){const o=IE();o.producerNode?.length&&(r[s]=Ip,o.lView=r,Ip=ad())}const zm={...Fl,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{It(r.lView)},lView:null};function ad(){return Object.create(zm)}function IE(){return Ip??=ad(),Ip}const at={};function DE(r){wE(it(),fe(),Mn()+r,!1)}function wE(r,s,o,l){if(!l)if(3==(3&s[rt])){const n=r.preOrderCheckHooks;null!==n&&Pa(s,n,o)}else{const n=r.preOrderHooks;null!==n&&Es(s,n,0,o)}Jr(o)}function ld(r,s=$e.Default){const o=fe();return null===o?Ct(r,s):xc(ln(),o,ge(r),s)}function Km(){throw new Error("invalid")}function gt(r,s,o,l,e,n,t,i,a,u,d){const g=s.blueprint.slice();return g[Wt]=e,g[rt]=140|l,(null!==u||r&&2048&r[rt])&&(g[rt]|=2048),Sa(g),g[Mt]=g[pi]=r,g[Gt]=o,g[xr]=t||r&&r[xr],g[He]=i||r&&r[He],g[Fi]=a||r&&r[Fi]||null,g[Wn]=n,g[wr]=function yr(){return yu++}(),g[gi]=d,g[cc]=u,g[an]=2==s.type?r[an]:g,g}function Jo(r,s,o,l,e){let n=r.data[s];if(null===n)n=function ud(r,s,o,l,e){const n=Jl(),t=tu(),a=r.data[s]=function TE(r,s,o,l,e,n){let t=s?s.injectorIndex:-1,i=0;return function Ui(){return null!==Ye.skipHydrationRootTNode}()&&(i|=128),{type:o,index:l,insertBeforeIndex:null,injectorIndex:t,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:i,providerIndexes:0,value:e,attrs:n,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,t?n:n&&n.parent,o,s,l,e);return null===r.firstChild&&(r.firstChild=a),null!==n&&(t?null==n.child&&null!==a.parent&&(n.child=a):null===n.next&&(n.next=a,a.prev=n)),a}(r,s,o,l,e),function lf(){return Ye.lFrame.inI18n}()&&(n.flags|=32);else if(64&n.type){n.type=o,n.value=l,n.attrs=e;const t=function eu(){const r=Ye.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();n.injectorIndex=null===t?-1:t.injectorIndex}return ir(n,!0),n}function cd(r,s,o,l){if(0===o)return-1;const e=s.length;for(let n=0;n<o;n++)s.push(l),r.blueprint.push(l),r.data.push(null);return e}function Os(r,s,o,l,e){const n=Gm(s,Li),t=Mn(),i=2&l;try{Jr(-1),i&&s.length>pt&&wE(r,s,pt,!1),Qr(i?2:0,e);const u=i?n:null,d=yn(u);try{null!==u&&(u.dirty=!1),o(l,e)}finally{Ca(u,d)}}finally{i&&null===s[Li]&&Ja(s,Li),Jr(t),Qr(i?3:1,e)}}function dd(r,s,o){if(Sl(s)){const l=Sn(null);try{const n=s.directiveEnd;for(let t=s.directiveStart;t<n;t++){const i=r.data[t];i.contentQueries&&i.contentQueries(1,o[t],t)}}finally{Sn(l)}}}function Mi(r,s,o){Xs()&&(function ct(r,s,o,l){const e=o.directiveStart,n=o.directiveEnd;kn(o)&&function hd(r,s,o){const l=rr(s,r),e=$r(o);let t=16;o.signals?t=4096:o.onPush&&(t=64);const i=wp(r,gt(r,e,null,t,l,s,null,r[xr].rendererFactory.createRenderer(l,o),null,null,null));r[s.index]=i}(s,o,r.data[e+o.componentOffset]),r.firstCreatePass||Tr(o,s),Rn(l,s);const t=o.initialInputs;for(let i=e;i<n;i++){const a=r.data[i],u=Sr(s,r,i,o);Rn(u,s),null!==t&&T0(0,i-e,u,a,0,t),nr(a)&&(_r(o.index,s)[Gt]=Sr(s,r,i,o))}}(r,s,o,rr(o,s)),64==(64&o.flags)&&ME(r,s,o))}function qm(r,s,o=rr){const l=s.localNames;if(null!==l){let e=s.index+1;for(let n=0;n<l.length;n+=2){const t=l[n+1],i=-1===t?o(s,r):r[t];r[e++]=i}}}function $r(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Ym(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function Ym(r,s,o,l,e,n,t,i,a,u,d){const g=pt+l,v=g+e,E=function Qm(r,s){const o=[];for(let l=0;l<s;l++)o.push(l<r?null:at);return o}(g,v),w="function"==typeof u?u():u;return E[we]={type:r,blueprint:E,template:o,queries:null,viewQuery:i,declTNode:s,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof n?n():n,pipeRegistry:"function"==typeof t?t():t,firstChild:null,schemas:a,consts:w,incompleteFirstPass:!1,ssrId:d}}let Zm=r=>null;function Jm(r,s,o,l){for(let e in r)if(r.hasOwnProperty(e)){o=null===o?{}:o;const n=r[e];null===l?SE(o,s,e,n):l.hasOwnProperty(e)&&SE(o,s,l[e],n)}return o}function SE(r,s,o,l){r.hasOwnProperty(o)?r[o].push(s,l):r[o]=[s,l]}function Vf(r,s,o,l){if(Xs()){const e=null===l?null:{"":-1},n=function b0(r,s){const o=r.directiveRegistry;let l=null,e=null;if(o)for(let n=0;n<o.length;n++){const t=o[n];if(vl(s,t.selectors,!1))if(l||(l=[]),nr(t))if(null!==t.findHostDirectiveDefs){const i=[];e=e||new Map,t.findHostDirectiveDefs(t,i,e),l.unshift(...i,t),Jt(r,s,i.length)}else l.unshift(t),Jt(r,s,0);else e=e||new Map,t.findHostDirectiveDefs?.(t,l,e),l.push(t)}return null===l?null:[l,e]}(r,o);let t,i;null===n?t=i=null:[t,i]=n,null!==t&&Fu(r,s,o,t,e,i),e&&function t_(r,s,o){if(s){const l=r.localNames=[];for(let e=0;e<s.length;e+=2){const n=o[s[e+1]];if(null==n)throw new q(-301,!1);l.push(s[e],n)}}}(o,l,e)}o.mergedAttrs=ss(o.mergedAttrs,o.attrs)}function Fu(r,s,o,l,e,n){for(let u=0;u<l.length;u++)no(Tr(o,s),r,l[u].type);!function n_(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,l.length);for(let u=0;u<l.length;u++){const d=l[u];d.providersResolver&&d.providersResolver(d)}let t=!1,i=!1,a=cd(r,s,l.length,null);for(let u=0;u<l.length;u++){const d=l[u];o.mergedAttrs=ss(o.mergedAttrs,d.hostAttrs),RE(r,o,s,a,d),A0(a,d,e),null!==d.contentQueries&&(o.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(o.flags|=64);const g=d.type.prototype;!t&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),t=!0),!i&&(g.ngOnChanges||g.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),i=!0),a++}!function C0(r,s,o){const e=s.directiveEnd,n=r.data,t=s.attrs,i=[];let a=null,u=null;for(let d=s.directiveStart;d<e;d++){const g=n[d],v=o?o.get(g):null,w=v?v.outputs:null;a=Jm(g.inputs,d,a,v?v.inputs:null),u=Jm(g.outputs,d,u,w);const b=null===a||null===t||zd(s)?null:jf(a,d,t);i.push(b)}null!==a&&(a.hasOwnProperty("class")&&(s.flags|=8),a.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=i,s.inputs=a,s.outputs=u}(r,o,n)}function ME(r,s,o){const l=o.directiveStart,e=o.directiveEnd,n=o.index,t=function Ac(){return Ye.lFrame.currentDirectiveIndex}();try{Jr(n);for(let i=l;i<e;i++){const a=r.data[i],u=s[i];Tc(i),(null!==a.hostBindings||0!==a.hostVars||null!==a.hostAttrs)&&Bf(a,u)}}finally{Jr(-1),Tc(t)}}function Bf(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Jt(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function A0(r,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=r;nr(s)&&(o[""]=r)}}function RE(r,s,o,l,e){r.data[l]=e;const n=e.factory||(e.factory=vi(e.type)),t=new ji(n,nr(e),ld);r.blueprint[l]=t,o[l]=t,function ea(r,s,o,l,e){const n=e.hostBindings;if(n){let t=r.hostBindingOpCodes;null===t&&(t=r.hostBindingOpCodes=[]);const i=~s.index;(function Uf(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(t)!=i&&t.push(i),t.push(o,l,n)}}(r,s,l,cd(r,o,e.hostVars,at),e)}function ni(r,s,o,l,e,n){const t=rr(r,s);!function Lu(r,s,o,l,e,n,t){if(null==n)r.removeAttribute(s,e,o);else{const i=null==t?K(n):t(n,l||"",e);r.setAttribute(s,e,i,o)}}(s[He],t,n,r.value,o,l,e)}function T0(r,s,o,l,e,n){const t=n[s];if(null!==t)for(let i=0;i<t.length;)Dp(l,o,t[i++],t[i++],t[i++])}function Dp(r,s,o,l,e){const n=Sn(null);try{const t=r.inputTransforms;null!==t&&t.hasOwnProperty(l)&&(e=t[l].call(s,e)),null!==r.setInput?r.setInput(s,e,o,l):s[l]=e}finally{Sn(n)}}function jf(r,s,o){let l=null,e=0;for(;e<o.length;){const n=o[e];if(0!==n)if(5!==n){if("number"==typeof n)break;if(r.hasOwnProperty(n)){null===l&&(l=[]);const t=r[n];for(let i=0;i<t.length;i+=2)if(t[i]===s){l.push(n,t[i+1],o[e+1]);break}}e+=2}else e+=2;else e+=4}return l}function NE(r,s,o,l){return[r,!0,!1,s,null,0,l,o,null,null,null]}function Hf(r,s){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const n=o[l+1];if(-1!==n){const t=r.data[n];Oa(o[l]),t.contentQueries(2,s[n],n)}}}function wp(r,s){return r[_a]?r[va][gr]=s:r[_a]=s,r[va]=s,s}function r_(r,s,o){Oa(0);const l=Sn(null);try{s(r,o)}finally{Sn(l)}}function bp(r){return r[ki]||(r[ki]=[])}function OE(r){return r.cleanup||(r.cleanup=[])}function PE(r,s){const o=r[Fi],l=o?o.get(Xo,null):null;l&&l.handleError(s)}function pd(r,s,o,l,e){for(let n=0;n<o.length;){const t=o[n++],i=o[n++];Dp(r.data[t],s[t],l,i,e)}}function xE(r,s){const o=_r(s,r),l=o[we];!function Tp(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(l,o);const e=o[Wt];null!==e&&null===o[gi]&&(o[gi]=Bn(e,o[Fi])),i_(l,o,o[Gt])}function i_(r,s,o){_s(s);try{const l=r.viewQuery;null!==l&&r_(1,l,o);const e=r.template;null!==e&&Os(r,s,e,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Hf(r,s),r.staticViewQueries&&r_(2,r.viewQuery,o);const n=r.components;null!==n&&function Sp(r,s){for(let o=0;o<s.length;o++)xE(r,s[o])}(s,n)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{s[rt]&=-5,Js()}}let Vu=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(o,l,e){const n=typeof Zone>"u"?null:Zone.current,t=function _c(r,s,o){const l=Object.create(Ta);o&&(l.consumerAllowSignalWrites=!0),l.fn=r,l.schedule=s;const e=t=>{l.cleanupFn=t};return l.ref={notify:()=>Jd(l),run:()=>{if(l.dirty=!1,l.hasRun&&!Ll(l))return;l.hasRun=!0;const t=yn(l);try{l.cleanupFn(),l.cleanupFn=vc,l.fn(e)}finally{Ca(l,t)}},cleanup:()=>l.cleanupFn()},l.ref}(o,u=>{this.all.has(u)&&this.queue.set(u,n)},e);let i;this.all.add(t),t.notify();const a=()=>{t.cleanup(),i?.(),this.all.delete(t),this.queue.delete(t)};return i=l?.onDestroy(a),{destroy:a}}flush(){if(0!==this.queue.size)for(const[o,l]of this.queue)this.queue.delete(o),l?l.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Oe({token:r,providedIn:"root",factory:()=>new r})}}return r})();function gd(r,s,o){let l=o?r.styles:null,e=o?r.classes:null,n=0;if(null!==s)for(let t=0;t<s.length;t++){const i=s[t];"number"==typeof i?n=i:1==n?e=Ce(e,i):2==n&&(l=Ce(l,i+": "+s[++t]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=e:r.classesWithoutHost=e}function $f(r,s,o,l,e=!1){for(;null!==o;){const n=s[o.index];null!==n&&l.push(At(n)),xn(n)&&kE(n,l);const t=o.type;if(8&t)$f(r,s,o.child,l);else if(32&t){const i=pe(o,s);let a;for(;a=i();)l.push(a)}else if(16&t){const i=by(s,o);if(Array.isArray(i))l.push(...i);else{const a=Ne(s[an]);$f(a[we],a,i,l,!0)}}o=e?o.projectionNext:o.next}return l}function kE(r,s){for(let o=vn;o<r.length;o++){const l=r[o],e=l[we].firstChild;null!==e&&$f(l[we],l,e,s)}r[mr]!==r[Wt]&&s.push(r[mr])}function Wf(r,s,o,l=!0){const e=s[xr],n=e.rendererFactory,t=e.afterRenderEventManager;n.begin?.(),t?.begin();try{FE(r,s,r.template,o)}catch(a){throw l&&PE(s,a),a}finally{n.end?.(),e.effectManager?.flush(),t?.end()}}function FE(r,s,o,l){const e=s[rt];if(256!=(256&e)){s[xr].effectManager?.flush(),_s(s);try{Sa(s),function ru(r){return Ye.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Os(r,s,o,2,l);const t=3==(3&e);if(t){const u=r.preOrderCheckHooks;null!==u&&Pa(s,u,null)}else{const u=r.preOrderHooks;null!==u&&Es(s,u,0,null),Rc(s,0)}if(function o_(r){for(let s=jr(r);null!==s;s=co(s)){if(!s[qr])continue;const o=s[mi];for(let l=0;l<o.length;l++){ql(o[l])}}}(s),Ps(s,2),null!==r.contentQueries&&Hf(r,s),t){const u=r.contentCheckHooks;null!==u&&Pa(s,u)}else{const u=r.contentHooks;null!==u&&Es(s,u,1),Rc(s,1)}!function ku(r,s){const o=r.hostBindingOpCodes;if(null===o)return;const l=Gm(s,Kr);try{for(let e=0;e<o.length;e++){const n=o[e];if(n<0)Jr(~n);else{const t=n,i=o[++e],a=o[++e];Vh(i,t),l.dirty=!1;const u=yn(l);try{a(2,s[t])}finally{Ca(l,u)}}}}finally{null===s[Kr]&&Ja(s,Kr),Jr(-1)}}(r,s);const i=r.components;null!==i&&Gf(s,i,0);const a=r.viewQuery;if(null!==a&&r_(2,a,l),t){const u=r.viewCheckHooks;null!==u&&Pa(s,u)}else{const u=r.viewHooks;null!==u&&Es(s,u,2),Rc(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[rt]&=-73,kh(s)}finally{Js()}}}function Ps(r,s){for(let o=jr(r);null!==o;o=co(o))for(let l=vn;l<o.length;l++)Mp(o[l],s)}function a_(r,s,o){Mp(_r(s,r),o)}function Mp(r,s){if(!function nf(r){return 128==(128&r[rt])}(r))return;const o=r[we],l=r[rt];if(80&l&&0===s||1024&l||2===s)FE(o,r,o.template,r[Gt]);else if(r[Hs]>0){Ps(r,1);const e=o.components;null!==e&&Gf(r,e,1)}}function Gf(r,s,o){for(let l=0;l<s.length;l++)a_(r,s[l],o)}class ta{get rootNodes(){const s=this._lView,o=s[we];return $f(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(s){this._lView[Gt]=s}get destroyed(){return 256==(256&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Mt];if(xn(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Zh(s,l),io(o,l))}this._attachedToViewContainer=!1}vy(this._lView[we],this._lView)}onDestroy(s){!function rf(r,s){if(256==(256&r[rt]))throw new q(911,!1);null===r[kr]&&(r[kr]=[]),r[kr].push(s)}(this._lView,s)}markForCheck(){It(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){this._lView[rt]|=128}detectChanges(){Wf(this._lView[we],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xh(r,s){wu(r,s,s[He],2,null,null)}(this._lView[we],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=s}}class Uu extends ta{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Wf(s[we],s,s[Gt],!1)}checkNoChanges(){}get context(){return null}}class Bu extends xf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=dt(s);return new ra(o,this.ngModule)}}function na(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class R0{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,l){l=ht(l);const e=this.injector.get(s,Om,l);return e!==Om||o===Om?e:this.parentInjector.get(s,o,l)}}class ra extends eE{get inputs(){const s=this.componentDef,o=s.inputTransforms,l=na(s.inputs);if(null!==o)for(const e of l)o.hasOwnProperty(e.propName)&&(e.transform=o[e.propName]);return l}get outputs(){return na(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Ir(r){return r.map(uc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,l,e){let n=(e=e||this.ngModule)instanceof po?e:e?.injector;n&&null!==this.componentDef.getStandaloneInjector&&(n=this.componentDef.getStandaloneInjector(n)||n);const t=n?new R0(s,n):s,i=t.get(vp,null);if(null===i)throw new q(407,!1);const g={rendererFactory:i,sanitizer:t.get(Rm,null),effectManager:t.get(Vu,null),afterRenderEventManager:t.get(Rt,null)},v=i.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",w=l?function Xm(r,s,o,l){const n=l.get(Ut,!1)||o===ke.ShadowDom,t=r.selectRootElement(s,n);return function E0(r){Zm(r)}(t),t}(v,l,this.componentDef.encapsulation,t):Iu(v,E,function M0(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(E)),z=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let L=null;null!==w&&(L=Bn(w,t,!0));const Ee=Ym(0,null,null,1,0,null,null,null,null,null,null),Me=gt(null,Ee,null,z,null,null,g,v,t,null,L);let qe,_t;_s(Me);try{const Kt=this.componentDef;let St,hr=null;Kt.findHostDirectiveDefs?(St=[],hr=new Map,Kt.findHostDirectiveDefs(Kt,St,hr),St.push(Kt)):St=[Kt];const ac=function O0(r,s){const o=r[we],l=pt;return r[l]=s,Jo(o,l,2,"#host",null)}(Me,w),fS=function Rp(r,s,o,l,e,n,t){const i=e[we];!function zf(r,s,o,l){for(const e of r)s.mergedAttrs=ss(s.mergedAttrs,e.hostAttrs);null!==s.mergedAttrs&&(gd(s,s.mergedAttrs,!0),null!==o&&Sy(l,o,s))}(l,r,s,t);let a=null;null!==s&&(a=Bn(s,e[Fi]));const u=n.rendererFactory.createRenderer(s,o);let d=16;o.signals?d=4096:o.onPush&&(d=64);const g=gt(e,$r(o),null,d,e[r.index],r,n,u,null,null,a);return i.firstCreatePass&&Jt(i,r,l.length-1),wp(e,g),e[r.index]=g}(ac,w,Kt,St,Me,g,v);_t=Kl(Ee,pt),w&&function Np(r,s,o,l){if(l)ca(r,o,["ng-version",Nm.full]);else{const{attrs:e,classes:n}=function El(r){const s=[],o=[];let l=1,e=2;for(;l<r.length;){let n=r[l];if("string"==typeof n)2===e?""!==n&&s.push(n,r[++l]):8===e&&o.push(n);else{if(!On(e))break;e=n}l++}return{attrs:s,classes:o}}(s.selectors[0]);e&&ca(r,o,e),n&&n.length>0&&bf(r,o,n.join(" "))}}(v,Kt,w,l),void 0!==o&&function ju(r,s,o){const l=r.projection=[];for(let e=0;e<s.length;e++){const n=o[e];l.push(null!=n?Array.from(n):null)}}(_t,this.ngContentSelectors,o),qe=function LE(r,s,o,l,e,n){const t=ln(),i=e[we],a=rr(t,e);Fu(i,e,t,o,null,l);for(let d=0;d<o.length;d++)Rn(Sr(e,i,t.directiveStart+d,t),e);ME(i,e,t),a&&Rn(a,e);const u=Sr(e,i,t.directiveStart+t.componentOffset,t);if(r[Gt]=e[Gt]=u,null!==n)for(const d of n)d(u,s);return dd(i,t,r),u}(fS,Kt,St,hr,Me,[l_]),i_(Ee,Me,null)}finally{Js()}return new N0(this.componentType,qe,Pu(_t,Me),Me,_t)}}class N0 extends s0{constructor(s,o,l,e,n){super(),this.location=l,this._rootLView=e,this._tNode=n,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Uu(e),this.componentType=s}setInput(s,o){const l=this._tNode.inputs;let e;if(null!==l&&(e=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const n=this._rootLView;pd(n[we],n,e,s,o),this.previousInputValues.set(s,o),It(_r(this._tNode.index,n))}}get injector(){return new Ft(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function l_(){const r=ln();ys(fe()[we],r)}function Bt(r){let s=function VE(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;s;){let e;if(nr(r))e=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new q(903,!1);e=s.\u0275dir}if(e){if(o){l.push(e);const t=r;t.inputs=el(r.inputs),t.inputTransforms=el(r.inputTransforms),t.declaredInputs=el(r.declaredInputs),t.outputs=el(r.outputs);const i=e.hostBindings;i&&c_(r,i);const a=e.viewQuery,u=e.contentQueries;if(a&&u_(r,a),u&&UE(r,u),k(r.inputs,e.inputs),k(r.declaredInputs,e.declaredInputs),k(r.outputs,e.outputs),null!==e.inputTransforms&&(null===t.inputTransforms&&(t.inputTransforms={}),k(t.inputTransforms,e.inputTransforms)),nr(e)&&e.data.animation){const d=r.data;d.animation=(d.animation||[]).concat(e.data.animation)}}const n=e.features;if(n)for(let t=0;t<n.length;t++){const i=n[t];i&&i.ngInherit&&i(r),i===Bt&&(o=!1)}}s=Object.getPrototypeOf(s)}!function xs(r){let s=0,o=null;for(let l=r.length-1;l>=0;l--){const e=r[l];e.hostVars=s+=e.hostVars,e.hostAttrs=ss(e.hostAttrs,o=ss(o,e.hostAttrs))}}(l)}function el(r){return r===je?{}:r===Re?[]:r}function u_(r,s){const o=r.viewQuery;r.viewQuery=o?(l,e)=>{s(l,e),o(l,e)}:s}function UE(r,s){const o=r.contentQueries;r.contentQueries=o?(l,e,n)=>{s(l,e,n),o(l,e,n)}:s}function c_(r,s){const o=r.hostBindings;r.hostBindings=o?(l,e)=>{s(l,e),o(l,e)}:s}function HE(r){const s=r.inputConfig,o={};for(const l in s)if(s.hasOwnProperty(l)){const e=s[l];Array.isArray(e)&&e[2]&&(o[l]=e[2])}r.inputTransforms=o}function Pp(r){return!!xp(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function xp(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Nr(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function md(r,s,o,l){const e=fe();return Nr(e,No(),s)&&(it(),ni(Tt(),e,r,s,o,l)),md}function E_(r,s,o,l,e,n,t,i){const a=fe(),u=it(),d=r+pt,g=u.firstCreatePass?function K0(r,s,o,l,e,n,t,i,a){const u=s.consts,d=Jo(s,r,4,t||null,ms(u,i));Vf(s,o,d,ms(u,a)),ys(s,d);const g=d.tView=Ym(2,d,l,e,n,s.directiveRegistry,s.pipeRegistry,null,s.schemas,u,null);return null!==s.queries&&(s.queries.template(s,d),g.queries=s.queries.embeddedTView(d)),d}(d,u,a,s,o,l,e,n,t):u.data[d];ir(g,!1);const v=Hp(u,a,g,r);vs()&&Ko(u,a,v,g),Rn(v,a),wp(a,a[d]=NE(v,a,v,g)),ls(g)&&Mi(u,a,g),null!=t&&qm(a,g,i)}let Hp=function JE(r,s,o,l){return Dt(!0),s[He].createComment("")};function C_(r,s,o){const l=fe();return Nr(l,No(),s)&&function Et(r,s,o,l,e,n,t,i){const a=rr(s,o);let d,u=s.inputs;!i&&null!=u&&(d=u[l])?(pd(r,o,d,l,e),kn(s)&&function D0(r,s){const o=_r(s,r);16&o[rt]||(o[rt]|=64)}(o,s.index)):3&s.type&&(l=function I0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),e=null!=t?t(e,s.value||"",l):e,n.setProperty(a,l,e))}(it(),Tt(),l,r,s,l[He],o,!1),C_}function Id(r,s,o,l,e){const t=e?"class":"style";pd(r,o,s.inputs[t],t,l)}function $p(r,s,o,l){const e=fe(),n=it(),t=pt+r,i=e[He],a=n.firstCreatePass?function eC(r,s,o,l,e,n){const t=s.consts,a=Jo(s,r,2,l,ms(t,e));return Vf(s,o,a,ms(t,n)),null!==a.attrs&&gd(a,a.attrs,!1),null!==a.mergedAttrs&&gd(a,a.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,a),a}(t,n,e,s,o,l):n.data[t],u=tC(n,e,a,i,s,r);e[t]=u;const d=ls(a);return ir(a,!0),Sy(i,u,a),32!=(32&a.flags)&&vs()&&Ko(n,e,u,a),0===function En(){return Ye.lFrame.elementDepthCount}()&&Rn(u,e),function wc(){Ye.lFrame.elementDepthCount++}(),d&&(Mi(n,e,a),dd(n,a,e)),null!==l&&qm(e,a),$p}function Dd(){let r=ln();tu()?function nu(){Ye.lFrame.isParent=!1}():(r=r.parent,ir(r,!1));const s=r;(function Ra(r){return Ye.skipHydrationRootTNode===r})(s)&&function Ro(){Ye.skipHydrationRootTNode=null}(),function Fn(){Ye.lFrame.elementDepthCount--}();const o=it();return o.firstCreatePass&&(ys(o,r),Sl(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Nc(r){return 0!=(8&r.flags)}(s)&&Id(o,s,fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ln(r){return 0!=(16&r.flags)}(s)&&Id(o,s,fe(),s.stylesWithoutHost,!1),Dd}function wd(r,s,o,l){return $p(r,s,o,l),Dd(),wd}let tC=(r,s,o,l,e,n)=>(Dt(!0),Iu(l,e,function eo(){return Ye.lFrame.currentNamespace}()));function Yu(r){return!!r&&"function"==typeof r.then}function iC(r){return!!r&&"function"==typeof r.subscribe}function w_(r,s,o,l){const e=fe(),n=it(),t=ln();return function zp(r,s,o,l,e,n,t){const i=ls(l),u=r.firstCreatePass&&OE(r),d=s[Gt],g=bp(s);let v=!0;if(3&l.type||t){const b=rr(l,s),R=t?t(b):b,z=g.length,L=t?Me=>t(At(Me[l.index])):l.index;let Ee=null;if(!t&&i&&(Ee=function b_(r,s,o,l){const e=r.cleanup;if(null!=e)for(let n=0;n<e.length-1;n+=2){const t=e[n];if(t===o&&e[n+1]===l){const i=s[ki],a=e[n+2];return i.length>a?i[a]:null}"string"==typeof t&&(n+=2)}return null}(r,s,e,l.index)),null!==Ee)(Ee.__ngLastListenerFn__||Ee).__ngNextListenerFn__=n,Ee.__ngLastListenerFn__=n,v=!1;else{n=A_(l,s,d,n,!1);const Me=o.listen(R,e,n);g.push(n,Me),u&&u.push(e,L,z,z+1)}}else n=A_(l,s,d,n,!1);const E=l.outputs;let w;if(v&&null!==E&&(w=E[e])){const b=w.length;if(b)for(let R=0;R<b;R+=2){const qe=s[w[R]][w[R+1]].subscribe(n),_t=g.length;g.push(n,qe),u&&u.push(e,l.index,_t,-(_t+1))}}}(n,e,e[He],t,r,s,l),w_}function oC(r,s,o,l){try{return Qr(6,s,o),!1!==o(l)}catch(e){return PE(r,e),!1}finally{Qr(7,s,o)}}function A_(r,s,o,l,e){return function n(t){if(t===Function)return l;It(r.componentOffset>-1?_r(r.index,s):s);let a=oC(s,o,l,t),u=n.__ngNextListenerFn__;for(;u;)a=oC(s,o,u,t)&&a,u=u.__ngNextListenerFn__;return e&&!1===a&&t.preventDefault(),a}}function aC(r=1){return function xo(r){return(Ye.lFrame.contextLView=function iu(r,s){for(;r>0;)s=s[pi],r--;return s}(r,Ye.lFrame.contextLView))[Gt]}(r)}function ll(r,s){return r<<17|s<<2}function yo(r){return r>>17&32767}function R_(r){return 2|r}function sa(r){return(131068&r)>>2}function Ad(r,s){return-131069&r|s<<2}function N_(r){return 1|r}function O_(r,s,o,l,e){const n=r[o+1],t=null===s;let i=l?yo(n):sa(n),a=!1;for(;0!==i&&(!1===a||t);){const d=r[i+1];P_(r[i],s)&&(a=!0,r[i+1]=l?N_(d):R_(d)),i=l?yo(d):sa(d)}a&&(r[o+1]=l?R_(n):N_(n))}function P_(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Lo(r,s)>=0}function Qu(r,s){return function ri(r,s,o,l){const e=fe(),n=it(),t=function Zr(r){const s=Ye.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}(2);n.firstUpdatePass&&function gC(r,s,o,l){const e=r.data;if(null===e[o+1]){const n=e[Mn()],t=function Qp(r,s){return s>=r.expandoStartIndex}(r,o);(function vC(r,s){return 0!=(r.flags&(s?8:16))})(n,l)&&null===s&&!t&&(s=!1),s=function ow(r,s,o,l){const e=function Po(r){const s=Ye.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let n=l?s.residualClasses:s.residualStyles;if(null===e)0===(l?s.classBindings:s.styleBindings)&&(o=ih(o=V_(null,r,s,o,l),s.attrs,l),n=null);else{const t=s.directiveStylingLast;if(-1===t||r[t]!==e)if(o=V_(e,r,s,o,l),null===n){let a=function aw(r,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==sa(l))return r[yo(l)]}(r,s,l);void 0!==a&&Array.isArray(a)&&(a=V_(null,r,s,a[1],l),a=ih(a,s.attrs,l),function mC(r,s,o,l){r[yo(o?s.classBindings:s.styleBindings)]=l}(r,s,l,a))}else n=function lw(r,s,o){let l;const e=s.directiveEnd;for(let n=1+s.directiveStylingLast;n<e;n++)l=ih(l,r[n].hostAttrs,o);return ih(l,s.attrs,o)}(r,s,l)}return void 0!==n&&(l?s.residualClasses=n:s.residualStyles=n),o}(e,n,s,l),function nh(r,s,o,l,e,n){let t=n?s.classBindings:s.styleBindings,i=yo(t),a=sa(t);r[l]=o;let d,u=!1;if(Array.isArray(o)?(d=o[1],(null===d||Lo(o,d)>0)&&(u=!0)):d=o,e)if(0!==a){const v=yo(r[i+1]);r[l+1]=ll(v,i),0!==v&&(r[v+1]=Ad(r[v+1],l)),r[i+1]=function J0(r,s){return 131071&r|s<<17}(r[i+1],l)}else r[l+1]=ll(i,0),0!==i&&(r[i+1]=Ad(r[i+1],l)),i=l;else r[l+1]=ll(a,0),0===i?i=l:r[a+1]=Ad(r[a+1],l),a=l;u&&(r[l+1]=R_(r[l+1])),O_(r,d,l,!0),O_(r,d,l,!1),function ew(r,s,o,l,e){const n=e?r.residualClasses:r.residualStyles;null!=n&&"string"==typeof s&&Lo(n,s)>=0&&(o[l+1]=N_(o[l+1]))}(s,d,r,l,n),t=ll(i,a),n?s.classBindings=t:s.styleBindings=t}(e,n,s,o,t,l)}}(n,r,t,l),s!==at&&Nr(e,t,s)&&function aa(r,s,o,l,e,n,t,i){if(!(3&s.type))return;const a=r.data,u=a[i+1],d=function dC(r){return 1==(1&r)}(u)?_C(a,s,o,e,sa(u),t):void 0;Md(d)||(Md(n)||function Z0(r){return 2==(2&r)}(u)&&(n=_C(a,null,o,e,i,t)),function xD(r,s,o,l,e){if(s)e?r.addClass(o,l):r.removeClass(o,l);else{let n=-1===l.indexOf("-")?void 0:za.DashCase;null==e?r.removeStyle(o,l,n):("string"==typeof e&&e.endsWith("!important")&&(e=e.slice(0,-10),n|=za.Important),r.setStyle(o,l,e,n))}}(l,t,ps(Mn(),o),e,n))}(n,n.data[Mn()],e,e[He],r,e[t+1]=function Xp(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=j(qo(r)))),r}(s,o),l,t)}(r,s,null,!0),Qu}function V_(r,s,o,l,e){let n=null;const t=o.directiveEnd;let i=o.directiveStylingLast;for(-1===i?i=o.directiveStart:i++;i<t&&(n=s[i],l=ih(l,n.hostAttrs,e),n!==r);)i++;return null!==r&&(o.directiveStylingLast=i),l}function ih(r,s,o){const l=o?1:2;let e=-1;if(null!==s)for(let n=0;n<s.length;n++){const t=s[n];"number"==typeof t?e=t:e===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Br(r,t,!!o||s[++n]))}return void 0===r?null:r}function _C(r,s,o,l,e,n){const t=null===s;let i;for(;e>0;){const a=r[e],u=Array.isArray(a),d=u?a[1]:a,g=null===d;let v=o[e+1];v===at&&(v=g?Re:void 0);let E=g?df(v,l):d===l?v:void 0;if(u&&!Md(E)&&(E=df(a,l)),Md(E)&&(i=E,t))return i;const w=r[e+1];e=t?yo(w):sa(w)}if(null!==s){let a=n?s.residualClasses:s.residualStyles;null!=a&&(i=df(a,l))}return i}function Md(r){return void 0!==r}function Xu(r,s=""){const o=fe(),l=it(),e=r+pt,n=l.firstCreatePass?Jo(l,e,1,s,null):l.data[e],t=yC(l,o,n,s,r);o[e]=t,vs()&&Ko(l,o,t,n),ir(n,!1)}let yC=(r,s,o,l,e)=>(Dt(!0),function Xi(r,s){return r.createText(s)}(s[He],l));function Zp(r){return Zu("",r,""),Zp}function Zu(r,s,o){const l=fe(),e=function Gu(r,s,o,l){return Nr(r,No(),o)?s+K(o)+l:at}(l,r,s,o);return e!==at&&function _o(r,s,o){const l=ps(s,r);!function Go(r,s,o){r.setValue(s,o)}(r[He],l,o)}(l,Mn(),e),Zu}const cl=void 0;var xC=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Vs(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let Od={};function q_(r){const s=function pw(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=FC(s);if(o)return o;const l=s.split("-")[0];if(o=FC(l),o)return o;if("en"===l)return xC;throw new q(701,!1)}function kC(r){return q_(r)[Pd.PluralCase]}function FC(r){return r in Od||(Od[r]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[r]),Od[r]}var Pd=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Pd||{});const xd="en-US";let LC=xd;function Kn(r,s,o,l,e){if(r=ge(r),Array.isArray(r))for(let n=0;n<r.length;n++)Kn(r[n],s,o,l,e);else{const n=it(),t=fe(),i=ln();let a=td(r)?r:ge(r.provide);const u=Xa(r),d=1048575&i.providerIndexes,g=i.directiveStart,v=i.providerIndexes>>20;if(td(r)||!r.multi){const E=new ji(u,e,ld),w=dh(a,s,e?d:d+v,g);-1===w?(no(Tr(i,t),n,a),Fd(n,r,s.length),s.push(a),i.directiveStart++,i.directiveEnd++,e&&(i.providerIndexes+=1048576),o.push(E),t.push(E)):(o[w]=E,t[w]=E)}else{const E=dh(a,s,d+v,g),w=dh(a,s,d,d+v),R=w>=0&&o[w];if(e&&!R||!e&&!(E>=0&&o[E])){no(Tr(i,t),n,a);const z=function Gw(r,s,o,l,e){const n=new ji(r,o,ld);return n.multi=[],n.index=s,n.componentProviders=0,hg(n,e,l&&!o),n}(e?gg:pg,o.length,e,l,u);!e&&R&&(o[w].providerFactory=z),Fd(n,r,s.length,0),s.push(a),i.directiveStart++,i.directiveEnd++,e&&(i.providerIndexes+=1048576),o.push(z),t.push(z)}else Fd(n,r,E>-1?E:w,hg(o[e?w:E],u,!e&&l));!e&&l&&R&&o[w].componentProviders++}}}function Fd(r,s,o,l){const e=td(s),n=function AA(r){return!!r.useClass}(s);if(e||n){const a=(n?ge(s.useClass):s).prototype.ngOnDestroy;if(a){const u=r.destroyHooks||(r.destroyHooks=[]);if(!e&&s.multi){const d=u.indexOf(o);-1===d?u.push(o,[l,a]):u[d+1].push(l,a)}else u.push(o,a)}}}function hg(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function dh(r,s,o,l){for(let e=o;e<l;e++)if(s[e]===r)return e;return-1}function pg(r,s,o,l){return fh(this.multi,[])}function gg(r,s,o,l){const e=this.multi;let n;if(this.providerFactory){const t=this.providerFactory.componentProviders,i=Sr(o,o[we],this.providerFactory.index,l);n=i.slice(0,t),fh(e,n);for(let a=t;a<i.length;a++)n.push(i[a])}else n=[],fh(e,n);return n}function fh(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function oI(r,s=[]){return o=>{o.providersResolver=(l,e)=>function Ww(r,s,o){const l=it();if(l.firstCreatePass){const e=nr(r);Kn(o,l.data,l.blueprint,e,!0),Kn(s,l.data,l.blueprint,e,!1)}}(l,e?e(r):r,s)}}class fl{}class aI{}function zw(r,s){return new _g(r,s??null,[])}class _g extends fl{constructor(s,o,l){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bu(this);const e=Jn(s);this._bootstrapComponents=mo(e.bootstrap),this._r3Injector=cE(s,o,[{provide:fl,useValue:this},{provide:xf,useValue:this.componentFactoryResolver},...l],j(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Ld extends aI{constructor(s){super(),this.moduleType=s}create(s){return new _g(this.moduleType,s,[])}}class uI extends fl{constructor(s){super(),this.componentFactoryResolver=new Bu(this),this.instance=null;const o=new nd([...s.providers,{provide:fl,useValue:this},{provide:xf,useValue:this.componentFactoryResolver}],s.parent||fp(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function cI(r,s,o=null){return new uI({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let Kw=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const l=Yy(0,o.type),e=l.length>0?cI([l],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,e)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Oe({token:r,providedIn:"environment",factory:()=>new r(Ct(po))})}}return r})();function dI(r){r.getStandaloneInjector=s=>s.get(Kw).getOrCreateStandaloneInjector(r)}function vI(r,s,o,l,e,n,t){const i=s+o;return function Wu(r,s,o,l){const e=Nr(r,s,o);return Nr(r,s+1,l)||e}(r,i,e,n)?function vo(r,s,o){return r[s]=o}(r,i+2,t?l.call(t,e,n):l(e,n)):function Ud(r,s){const o=r[s];return o===at?void 0:o}(r,i+2)}function II(r,s){const o=it();let l;const e=r+pt;o.firstCreatePass?(l=function Zw(r,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(r===l.name)return l}}(s,o.pipeRegistry),o.data[e]=l,l.onDestroy&&(o.destroyHooks??=[]).push(e,l.onDestroy)):l=o.data[e];const n=l.factory||(l.factory=vi(l.type)),i=Ot(ld);try{const a=sn(!1),u=n();return sn(a),function q0(r,s,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),s[o]=l}(o,fe(),e,u),u}finally{Ot(i)}}function cv(r,s,o,l){const e=r+pt,n=fe(),t=function Xr(r,s){return r[s]}(n,e);return function ph(r,s){return r[we].data[s].pure}(n,e)?vI(n,function un(){const r=Ye.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}(),s,t.transform,o,l,t):t.transform(o,l)}function eb(){return this._results[Symbol.iterator]()}class wg{get changes(){return this._changes||(this._changes=new Zi)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=wg.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=eb)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const e=function Mr(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ua(r,s,o){if(r.length!==s.length)return!1;for(let l=0;l<r.length;l++){let e=r[l],n=s[l];if(o&&(e=o(e),n=o(n)),n!==e)return!1}return!0}(l._results,e,o))&&(l._results=e,l.length=e.length,l.last=e[this.length-1],l.first=e[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bI(r,s,o,l=!0){const e=s[we];if(function wf(r,s,o,l){const e=vn+l,n=o.length;l>0&&(o[e-1][gr]=s),l<n-vn?(s[gr]=o[e],Gg(o,vn+l,s)):(o.push(s),s[gr]=null),s[Mt]=o;const t=s[$s];null!==t&&o!==t&&function nm(r,s){const o=r[mi];s[an]!==s[Mt][Mt][an]&&(r[qr]=!0),null===o?r[mi]=[s]:o.push(s)}(t,s);const i=s[tr];null!==i&&i.insertView(r),s[rt]|=128}(e,s,r,o),l){const n=om(o,r),t=s[He],i=ep(t,r[mr]);null!==i&&function zo(r,s,o,l,e,n){l[Wt]=e,l[Wn]=s,wu(r,l,o,1,e,n)}(e,r[Wn],t,s,i,n)}}let bg=(()=>{class r{static{this.__NG_ELEMENT_ID__=aT}}return r})();const rb=bg,oT=class extends rb{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,l){const e=function wI(r,s,o,l){const e=s.tView,i=gt(r,e,o,4096&r[rt]?4096:16,null,s,null,null,null,l?.injector??null,l?.hydrationInfo??null);i[$s]=r[s.index];const u=r[tr];return null!==u&&(i[tr]=u.createEmbeddedView(e)),i_(e,i,o),i}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:l});return new ta(e)}};function aT(){return Bd(ln(),fe())}function Bd(r,s){return 4&r.type?new oT(s,r,Pu(r,s)):null}let hv=(()=>{class r{static{this.__NG_ELEMENT_ID__=ob}}return r})();function ob(){return ab(ln(),fe())}const cT=hv,SI=class extends cT{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Ft(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ki(this._hostTNode,this._hostLView);if(Ar(s)){const o=ko(s,this._hostLView),l=zt(s);return new Ft(o[we].data[l+8],o)}return new Ft(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=MI(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-vn}createEmbeddedView(s,o,l){let e,n;"number"==typeof l?e=l:null!=l&&(e=l.index,n=l.injector);const i=s.createEmbeddedViewImpl(o||{},n,null);return this.insertImpl(i,e,false),i}createComponent(s,o,l,e,n){const t=s&&!function lr(r){return"function"==typeof r}(s);let i;if(t)i=o;else{const b=o||{};i=b.index,l=b.injector,e=b.projectableNodes,n=b.environmentInjector||b.ngModuleRef}const a=t?s:new ra(dt(s)),u=l||this.parentInjector;if(!n&&null==a.ngModule){const R=(t?u:this.parentInjector).get(po,null);R&&(n=R)}dt(a.componentType??{});const E=a.create(u,e,null,n);return this.insertImpl(E.hostView,i,false),E}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,l){const e=s._lView;if(function gs(r){return xn(r[Mt])}(e)){const a=this.indexOf(s);if(-1!==a)this.detach(a);else{const u=e[Mt],d=new SI(u,u[Wn],u[Mt]);d.detach(d.indexOf(s))}}const t=this._adjustIndex(o),i=this._lContainer;return bI(i,e,t,!l),s.attachToViewContainerRef(),Gg(RI(i),t,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=MI(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Zh(this._lContainer,o);l&&(io(RI(this._lContainer),o),vy(l[we],l))}detach(s){const o=this._adjustIndex(s,-1),l=Zh(this._lContainer,o);return l&&null!=io(RI(this._lContainer),o)?new ta(l):null}_adjustIndex(s,o=0){return s??this.length+o}};function MI(r){return r[8]}function RI(r){return r[8]||(r[8]=[])}function ab(r,s){let o;const l=s[r.index];return xn(l)?o=l:(o=NE(l,s,null,r),s[r.index]=o,wp(s,o)),ub(o,s,r,l),new SI(o,r,s)}let ub=function cb(r,s,o,l){if(r[mr])return;let e;e=8&o.type?At(l):function lb(r,s){const o=r[He],l=o.createComment(""),e=rr(s,r);return Du(o,ep(o,e),l,function OD(r,s){return r.nextSibling(s)}(o,e),!1),l}(s,o),r[mr]=e};class NI{constructor(s){this.queryList=s,this.matches=null}clone(){return new NI(this.queryList)}setDirty(){this.queryList.setDirty()}}class pv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,e=[];for(let n=0;n<l;n++){const t=o.getByIndex(n);e.push(this.queries[t.indexInDeclarationView].clone())}return new pv(e)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==UI(s,o).matches&&this.queries[o].setDirty()}}class OI{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class Sg{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const e=null!==o?o.length:0,n=this.getByIndex(l).embeddedTView(s,e);n&&(n.indexInDeclarationView=l,null!==o?o.push(n):o=[n])}return null!==o?new Sg(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mg{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Mg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let e=0;e<l.length;e++){const n=l[e];this.matchTNodeWithReadOption(s,o,PI(o,n)),this.matchTNodeWithReadOption(s,o,Va(o,s,n,!1,!1))}else l===bg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Va(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const e=this.metadata.read;if(null!==e)if(e===sd||e===hv||e===bg&&4&o.type)this.addMatch(o.index,-2);else{const n=Va(o,s,e,!1,!1);null!==n&&this.addMatch(o.index,n)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function PI(r,s){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function kI(r,s,o,l){return-1===o?function xI(r,s){return 11&r.type?Pu(r,s):4&r.type?Bd(r,s):null}(s,r):-2===o?function FI(r,s,o){return o===sd?Pu(s,r):o===bg?Bd(s,r):o===hv?ab(s,r):void 0}(r,s,l):Sr(r,r[we],o,s)}function gv(r,s,o,l){const e=s[tr].queries[l];if(null===e.matches){const n=r.data,t=o.matches,i=[];for(let a=0;a<t.length;a+=2){const u=t[a];i.push(u<0?null:kI(s,n[u],t[a+1],o.metadata.read))}e.matches=i}return e.matches}function Rg(r,s,o,l){const e=r.queries.getByIndex(o),n=e.matches;if(null!==n){const t=gv(r,s,e,o);for(let i=0;i<n.length;i+=2){const a=n[i];if(a>0)l.push(t[i/2]);else{const u=n[i+1],d=s[-a];for(let g=vn;g<d.length;g++){const v=d[g];v[$s]===v[Mt]&&Rg(v[we],v,u,l)}if(null!==d[mi]){const g=d[mi];for(let v=0;v<g.length;v++){const E=g[v];Rg(E[we],E,u,l)}}}}}return l}function db(r){const s=fe(),o=it(),l=uf();Oa(l+1);const e=UI(o,l);if(r.dirty&&function Qs(r){return 4==(4&r[rt])}(s)===(2==(2&e.metadata.flags))){if(null===e.matches)r.reset([]);else{const n=e.crossesNgTemplate?Rg(o,s,l,[]):gv(o,s,e,l);r.reset(n,rE),r.notifyOnChanges()}return!0}return!1}function LI(r,s,o,l){const e=it();if(e.firstCreatePass){const n=ln();(function vv(r,s,o){null===r.queries&&(r.queries=new Sg),r.queries.track(new Mg(s,o))})(e,new OI(s,o,l),n.index),function mh(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(e,r),2==(2&o)&&(e.staticContentQueries=!0)}!function _v(r,s,o){const l=new wg(4==(4&o));(function fd(r,s,o,l){const e=bp(s);e.push(o),r.firstCreatePass&&OE(r).push(l,e.length-1)})(r,s,l,l.destroy),null===s[tr]&&(s[tr]=new pv),s[tr].queries.push(new NI(l))}(e,fe(),o)}function mv(){return function VI(r,s){return r[tr].queries[s].queryList}(fe(),uf())}function UI(r,s){return r.queries.getByIndex(s)}function yv(r){return!!Jn(r)}const Fv=new Fe("Application Initializer");let rD=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,l)=>{this.resolve=o,this.reject=l}),this.appInits=et(Fv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const e of this.appInits){const n=e();if(Yu(n))o.push(n);else if(iC(n)){const t=new Promise((i,a)=>{n.subscribe({complete:i,error:a})});o.push(t)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{l()}).catch(e=>{this.reject(e)}),0===o.length&&l(),this.initialized=!0}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Tb=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const Pg=new Fe("LocaleId",{providedIn:"root",factory:()=>et(Pg,$e.Optional|$e.SkipSelf)||function iD(){return typeof $localize<"u"&&$localize.locale||xd}()}),Lv=new Fe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let sD=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Y.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class _T{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let vT=(()=>{class r{compileModuleSync(o){return new Ld(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),n=mo(Jn(o).declarations).reduce((t,i)=>{const a=dt(i);return a&&t.push(new ra(a)),t},[]);return new _T(l,n)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const Eh=new Fe(""),Ch=new Fe("");let zv,Pb=(()=>{class r{constructor(o,l,e){this._ngZone=o,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zv||(function Lg(r){zv=r}(e),e.addToWindow(l)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,e){let n=-1;l&&l>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==n),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:n,updateCb:e})}whenStable(o,l,e){if(e&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,e),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,l,e){return[]}static{this.\u0275fac=function(l){return new(l||r)(Ct(fn),Ct(Fg),Ct(Ch))}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac})}}return r})(),Fg=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return zv?.findTestabilityInTree(this,o,l)??null}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})(),gl=null;const Kv=new Fe("AllowMultipleToken"),qv=new Fe("PlatformDestroyListeners"),Vg=new Fe("appBootstrapListener");class bT{constructor(s,o){this.name=s,this.token=o}}function Ug(r,s,o=[]){const l=`Platform: ${s}`,e=new Fe(l);return(n=[])=>{let t=sc();if(!t||t.injector.get(Kv,!1)){const i=[...o,...n,{provide:e,useValue:!0}];r?r(i):function AT(r){if(gl&&!gl.get(Kv,!1))throw new q(400,!1);(function cD(){!function ba(r){Bl=r}(()=>{throw new q(600,!1)})})(),gl=r;const s=r.get(Bg);(function dD(r){r.get(Im,null)?.forEach(o=>o())})(r)}(function Lb(r=[],s){return Ns.create({name:s,providers:[{provide:bi,useValue:"platform"},{provide:qv,useValue:new Set([()=>gl=null])},...r]})}(i,l))}return function Fb(r){const s=sc();if(!s)throw new q(401,!1);return s}()}}function sc(){return gl?.get(Bg)??null}let Bg=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const e=function fD(r="zone.js",s){return"noop"===r?new v0:"zone.js"===r?new fn(s):r}(l?.ngZone,function Xv(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return e.run(()=>{const n=function lI(r,s,o){return new _g(r,s,o)}(o.moduleType,this.injector,function Jv(r){return[{provide:fn,useFactory:r},{provide:ed,multi:!0,useFactory:()=>{const s=et(MT,{optional:!0});return()=>s.initialize()}},{provide:Bb,useFactory:ST},{provide:Bm,useFactory:pE}]}(()=>e)),t=n.injector.get(Xo,null);return e.runOutsideAngular(()=>{const i=e.onError.subscribe({next:a=>{t.handleError(a)}});n.onDestroy(()=>{Ih(this._modules,n),i.unsubscribe()})}),function Zv(r,s,o){try{const l=o();return Yu(l)?l.catch(e=>{throw s.runOutsideAngular(()=>r.handleError(e)),e}):l}catch(l){throw s.runOutsideAngular(()=>r.handleError(l)),l}}(t,e,()=>{const i=n.injector.get(rD);return i.runInitializers(),i.donePromise.then(()=>(function VC(r){de(r,"Expected localeId to be defined"),"string"==typeof r&&(LC=r.toLowerCase().replace(/_/g,"-"))}(n.injector.get(Pg,xd)||xd),this._moduleDoBootstrap(n),n))})})}bootstrapModule(o,l=[]){const e=Vb({},l);return function xb(r,s,o){const l=new Ld(o);return Promise.resolve(l)}(0,0,o).then(n=>this.bootstrapModuleFactory(n,e))}_moduleDoBootstrap(o){const l=o.injector.get(Gd);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(e=>l.bootstrap(e));else{if(!o.instance.ngDoBootstrap)throw new q(-403,!1);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const o=this._injector.get(qv,null);o&&(o.forEach(l=>l()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(l){return new(l||r)(Ct(Ns))}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function Vb(r,s){return Array.isArray(s)?s.reduce(Vb,r):{...r,...s}}let Gd=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=et(Bb),this.zoneIsStable=et(Bm),this.componentTypes=[],this.components=[],this.isStable=et(sD).hasPendingTasks.pipe((0,me.n)(o=>o?(0,ie.of)(!1):this.zoneIsStable),(0,re.F)(),(0,oe.u)()),this._injector=et(po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,l){const e=o instanceof eE;if(!this._injector.get(rD).done)throw!e&&xi(o),new q(405,!1);let t;t=e?o:this._injector.get(xf).resolveComponentFactory(o),this.componentTypes.push(t.componentType);const i=function Yv(r){return r.isBoundToModule}(t)?void 0:this._injector.get(fl),u=t.create(Ns.NULL,[],l||t.selector,i),d=u.location.nativeElement,g=u.injector.get(Eh,null);return g?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ih(this.components,u),g?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Ih(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const l=this._injector.get(Vg,[]);l.push(...this._bootstrapListeners),l.forEach(e=>e(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ih(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new q(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function Ih(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}const Bb=new Fe("",{providedIn:"root",factory:()=>et(Xo).handleError.bind(void 0)});function ST(){const r=et(fn),s=et(Xo);return o=>r.runOutsideAngular(()=>s.handleError(o))}let MT=(()=>{class r{constructor(){this.zone=et(fn),this.applicationRef=et(Gd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(l){return new(l||r)}}static{this.\u0275prov=Oe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function hD(){return!1}let Hb=(()=>{class r{static{this.__NG_ELEMENT_ID__=PT}}return r})();function PT(r){return function gD(r,s,o){if(kn(r)&&!o){const l=_r(r.index,s);return new ta(l,l)}return 47&r.type?new ta(s[an],s):null}(ln(),fe(),16==(16&r))}class ED{constructor(){}supports(s){return Pp(s)}create(s){return new qb(s)}}const CD=(r,s)=>s;class qb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||CD}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,e=0,n=null;for(;o||l;){const t=!l||o&&o.currentIndex<iy(l,e,n)?o:l,i=iy(t,e,n),a=t.currentIndex;if(t===l)e--,l=l._nextRemoved;else if(o=o._next,null==t.previousIndex)e++;else{n||(n=[]);const u=i-e,d=a-e;if(u!=d){for(let v=0;v<u;v++){const E=v<n.length?n[v]:n[v]=0,w=E+v;d<=w&&w<u&&(n[v]=E+1)}n[t.previousIndex]=d-u}}i!==a&&s(t,i,a)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Pp(s))throw new q(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let e,n,t,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let i=0;i<this.length;i++)n=s[i],t=this._trackByFn(i,n),null!==o&&Object.is(o.trackById,t)?(l&&(o=this._verifyReinsertion(o,n,t,i)),Object.is(o.item,n)||this._addIdentityChange(o,n)):(o=this._mismatch(o,n,t,i),l=!0),o=o._next}else e=0,function x0(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,i=>{t=this._trackByFn(e,i),null!==o&&Object.is(o.trackById,t)?(l&&(o=this._verifyReinsertion(o,i,t,e)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,t,e),l=!0),o=o._next,e++}),this.length=e;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,e){let n;return null===s?n=this._itTail:(n=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,n,e)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,e))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,n,e)):s=this._addAfter(new VT(o,l),n,e),s}_verifyReinsertion(s,o,l,e){let n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==n?s=this._reinsertAfter(n,s._prev,e):s.currentIndex!=e&&(s.currentIndex=e,this._addToMoves(s,e)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const e=s._prevRemoved,n=s._nextRemoved;return null===e?this._removalsHead=n:e._nextRemoved=n,null===n?this._removalsTail=e:n._prevRemoved=e,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const e=null===o?this._itHead:o._next;return s._next=e,s._prev=o,null===e?this._itTail=s:e._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new ID),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ID),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class VT{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ry{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class ID{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new ry,this.map.set(o,l)),l.add(s)}get(s,o){const e=this.map.get(s);return e?e.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iy(r,s,o){const l=r.previousIndex;if(null===l)return l;let e=0;return o&&l<o.length&&(e=o[l]),l+s+e}class sy{constructor(){}supports(s){return s instanceof Map||xp(s)}create(){return new oc}}class oc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||xp(s)))throw new q(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,e)=>{if(o&&o.key===e)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const n=this._getOrCreateRecordForKey(e,l);o=this._insertBeforeOrAppend(o,n)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const e=this._records.get(s);this._maybeAddToChanges(e,o);const n=e._prev,t=e._next;return n&&(n._next=t),t&&(t._prev=n),e._next=null,e._prev=null,e}const l=new Yb(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class Yb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oy(){return new ay([new ED])}let ay=(()=>{class r{static{this.\u0275prov=Oe({token:r,providedIn:"root",factory:oy})}constructor(o){this.factories=o}static create(o,l){if(null!=l){const e=l.factories.slice();o=o.concat(e)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||oy()),deps:[[r,new Bc,new Uc]]}}find(o){const l=this.factories.find(e=>e.supports(o));if(null!=l)return l;throw new q(901,!1)}}return r})();function DD(){return new ly([new sy])}let ly=(()=>{class r{static{this.\u0275prov=Oe({token:r,providedIn:"root",factory:DD})}constructor(o){this.factories=o}static create(o,l){if(l){const e=l.factories.slice();o=o.concat(e)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||DD()),deps:[[r,new Bc,new Uc]]}}find(o){const l=this.factories.find(e=>e.supports(o));if(l)return l;throw new q(901,!1)}}return r})();const Zb=Ug(null,"core",[]);let bD=(()=>{class r{constructor(o){}static{this.\u0275fac=function(l){return new(l||r)(Ct(Gd))}}static{this.\u0275mod=ga({type:r})}static{this.\u0275inj=wt({})}}return r})();function uA(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function dA(r){const s=dt(r);if(!s)return null;const o=new ra(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3345:(Ue,ce,T)=>{T.d(ce,{A:()=>Te});var f=T(1076),H=T(1362),S=T(7852),G=T(8041);class Y{constructor(be,ye){this._delegate=be,this.firebase=ye,(0,S._addComponent)(be,new H.uA("app-compat",()=>this,"PUBLIC")),this.container=be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(be){this._delegate.automaticDataCollectionEnabled=be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(be=>{this._delegate.checkDestroyed(),be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(be,ye=S._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(be);return!Be.isInitialized()&&"EXPLICIT"===(null===(We=Be.getComponent())||void 0===We?void 0:We.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ye})}_removeServiceInstance(be,ye=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(be).clearInstance(ye)}_addComponent(be){(0,S._addComponent)(this._delegate,be)}_addOrOverwriteComponent(be){(0,S._addOrOverwriteComponent)(this._delegate,be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new f.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),N=function re(){const ge=function me(ge){const be={},ye={__esModule:!0,initializeApp:function q(ve,Ae={}){const J=S.initializeApp(ve,Ae);if((0,f.gR)(be,J.name))return be[J.name];const Ke=new ge(J,ye);return be[J.name]=Ke,Ke},app:Be,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function K(ve){const Ae=ve.name,J=Ae.replace("-compat","");if(S._registerComponent(ve)&&"PUBLIC"===ve.type){const Ke=(lt=Be())=>{if("function"!=typeof lt[J])throw oe.create("invalid-app-argument",{appName:Ae});return lt[J]()};void 0!==ve.serviceProps&&(0,f.zw)(Ke,ve.serviceProps),ye[J]=Ke,ge.prototype[J]=function(...lt){return this._getService.bind(this,Ae).apply(this,ve.multipleInstances?lt:[])}}return"PUBLIC"===ve.type?ye[J]:null},removeApp:function We(ve){delete be[ve]},useAsService:function ue(ve,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:S}};function Be(ve){if(!(0,f.gR)(be,ve=ve||S._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:ve});return be[ve]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function ae(){return Object.keys(be).map(ve=>be[ve])}}),Be.App=ge,ye}(Y);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function be(ye){(0,f.zw)(ge,ye)},createSubscribe:f.tD,ErrorFactory:f.FA,deepExtend:f.zw}),ge}(),k=new G.Vy("@firebase/app-compat");if((0,f.Bd)()&&void 0!==self.firebase){k.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&k.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=N;!function he(ge){(0,S.registerVersion)("@firebase/app-compat","0.2.13",ge)}()},7852:(Ue,ce,T)=>{T.r(ce),T.d(ce,{FirebaseError:()=>G.g,SDK_VERSION:()=>Gr,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>jt,_addOrOverwriteComponent:()=>Yn,_apps:()=>Xe,_clearComponents:()=>Fe,_components:()=>Ot,_getProvider:()=>wn,_registerComponent:()=>bt,_removeServiceInstance:()=>Us,deleteApp:()=>Or,getApp:()=>Hn,getApps:()=>Pi,initializeApp:()=>Bs,onLog:()=>di,registerVersion:()=>mn,setLogLevel:()=>$t});var f=T(467),H=T(1362),S=T(8041),G=T(1076);const Y=(se,$)=>$.some(_e=>se instanceof _e);let ie,oe;const N=new WeakMap,k=new WeakMap,j=new WeakMap,Ce=new WeakMap,he=new WeakMap;let be={get(se,$,_e){if(se instanceof IDBTransaction){if("done"===$)return k.get(se);if("objectStoreNames"===$)return se.objectStoreNames||j.get(se);if("store"===$)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return q(se[$])},set:(se,$,_e)=>(se[$]=_e,!0),has:(se,$)=>se instanceof IDBTransaction&&("done"===$||"store"===$)||$ in se};function Be(se){return"function"==typeof se?function We(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...$){return se.apply(ae(this),$),q(N.get(this))}:function(...$){return q(se.apply(ae(this),$))}:function($,..._e){const ke=se.call(ae(this),$,..._e);return j.set(ke,$.sort?$.sort():[$]),q(ke)}}(se):(se instanceof IDBTransaction&&function ge(se){if(k.has(se))return;const $=new Promise((_e,ke)=>{const je=()=>{se.removeEventListener("complete",Re),se.removeEventListener("error",vt),se.removeEventListener("abort",vt)},Re=()=>{_e(),je()},vt=()=>{ke(se.error||new DOMException("AbortError","AbortError")),je()};se.addEventListener("complete",Re),se.addEventListener("error",vt),se.addEventListener("abort",vt)});k.set(se,$)}(se),Y(se,function me(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,be):se)}function q(se){if(se instanceof IDBRequest)return function Te(se){const $=new Promise((_e,ke)=>{const je=()=>{se.removeEventListener("success",Re),se.removeEventListener("error",vt)},Re=()=>{_e(q(se.result)),je()},vt=()=>{ke(se.error),je()};se.addEventListener("success",Re),se.addEventListener("error",vt)});return $.then(_e=>{_e instanceof IDBCursor&&N.set(_e,se)}).catch(()=>{}),he.set($,se),$}(se);if(Ce.has(se))return Ce.get(se);const $=Be(se);return $!==se&&(Ce.set(se,$),he.set($,se)),$}const ae=se=>he.get(se),ve=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],J=new Map;function Ke(se,$){if(!(se instanceof IDBDatabase)||$ in se||"string"!=typeof $)return;if(J.get($))return J.get($);const _e=$.replace(/FromIndex$/,""),ke=$!==_e,je=Ae.includes(_e);if(!(_e in(ke?IDBIndex:IDBObjectStore).prototype)||!je&&!ve.includes(_e))return;const Re=function(){var vt=(0,f.A)(function*(nn,...Yt){const zr=this.transaction(nn,je?"readwrite":"readonly");let Zn=zr.store;return ke&&(Zn=Zn.index(Yt.shift())),(yield Promise.all([Zn[_e](...Yt),je&&zr.done]))[0]});return function(Yt){return vt.apply(this,arguments)}}();return J.set($,Re),Re}!function ye(se){be=se(be)}(se=>({...se,get:($,_e,ke)=>Ke($,_e)||se.get($,_e,ke),has:($,_e)=>!!Ke($,_e)||se.has($,_e)}));class lt{constructor($){this.container=$}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function Dn(se){const $=se.getComponent();return"VERSION"===$?.type}(_e)){const ke=_e.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(_e=>_e).join(" ")}}const qn="@firebase/app",en=new S.Vy("@firebase/app"),$e="[DEFAULT]",ut={[qn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ot=new Map;function jt(se,$){try{se.container.addComponent($)}catch(_e){en.debug(`Component ${$.name} failed to register with FirebaseApp ${se.name}`,_e)}}function Yn(se,$){se.container.addOrOverwriteComponent($)}function bt(se){const $=se.name;if(Ot.has($))return en.debug(`There were multiple attempts to register component ${$}.`),!1;Ot.set($,se);for(const _e of Xe.values())jt(_e,se);return!0}function wn(se,$){const _e=se.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),se.container.getProvider($)}function Us(se,$,_e=$e){wn(se,$).clearInstance(_e)}function Fe(){Ot.clear()}const ot=new G.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ci{constructor($,_e,ke){this._isDeleted=!1,this._options=Object.assign({},$),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new H.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled($){this.checkDestroyed(),this._automaticDataCollectionEnabled=$}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted($){this._isDeleted=$}checkDestroyed(){if(this.isDeleted)throw ot.create("app-deleted",{appName:this._name})}}const Gr="9.23.0";function Bs(se,$={}){let _e=se;"object"!=typeof $&&($={name:$});const ke=Object.assign({name:$e,automaticDataCollectionEnabled:!1},$),je=ke.name;if("string"!=typeof je||!je)throw ot.create("bad-app-name",{appName:String(je)});if(_e||(_e=(0,G.T9)()),!_e)throw ot.create("no-options");const Re=Xe.get(je);if(Re){if((0,G.bD)(_e,Re.options)&&(0,G.bD)(ke,Re.config))return Re;throw ot.create("duplicate-app",{appName:je})}const vt=new H.h1(je);for(const Yt of Ot.values())vt.addComponent(Yt);const nn=new ci(_e,ke,vt);return Xe.set(je,nn),nn}function Hn(se=$e){const $=Xe.get(se);if(!$&&se===$e&&(0,G.T9)())return Bs();if(!$)throw ot.create("no-app",{appName:se});return $}function Pi(){return Array.from(Xe.values())}function Or(se){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.A)(function*(se){const $=se.name;Xe.has($)&&(Xe.delete($),yield Promise.all(se.container.getProviders().map(_e=>_e.delete())),se.isDeleted=!0)})).apply(this,arguments)}function mn(se,$,_e){var ke;let je=null!==(ke=ut[se])&&void 0!==ke?ke:se;_e&&(je+=`-${_e}`);const Re=je.match(/\s|\//),vt=$.match(/\s|\//);if(Re||vt){const nn=[`Unable to register library "${je}" with version "${$}":`];return Re&&nn.push(`library name "${je}" contains illegal characters (whitespace or "/")`),Re&&vt&&nn.push("and"),vt&&nn.push(`version name "${$}" contains illegal characters (whitespace or "/")`),void en.warn(nn.join(" "))}bt(new H.uA(`${je}-version`,()=>({library:je,version:$}),"VERSION"))}function di(se,$){if(null!==se&&"function"!=typeof se)throw ot.create("invalid-log-argument");(0,S.Ey)(se,$)}function $t(se){(0,S.He)(se)}const Pr="firebase-heartbeat-database",$n=1,P="firebase-heartbeat-store";let O=null;function V(){return O||(O=function K(se,$,{blocked:_e,upgrade:ke,blocking:je,terminated:Re}={}){const vt=indexedDB.open(se,$),nn=q(vt);return ke&&vt.addEventListener("upgradeneeded",Yt=>{ke(q(vt.result),Yt.oldVersion,Yt.newVersion,q(vt.transaction),Yt)}),_e&&vt.addEventListener("blocked",Yt=>_e(Yt.oldVersion,Yt.newVersion,Yt)),nn.then(Yt=>{Re&&Yt.addEventListener("close",()=>Re()),je&&Yt.addEventListener("versionchange",zr=>je(zr.oldVersion,zr.newVersion,zr))}).catch(()=>{}),nn}(Pr,$n,{upgrade:(se,$)=>{0===$&&se.createObjectStore(P)}}).catch(se=>{throw ot.create("idb-open",{originalErrorMessage:se.message})})),O}function Q(){return(Q=(0,f.A)(function*(se){try{return yield(yield V()).transaction(P).objectStore(P).get(mt(se))}catch($){if($ instanceof G.g)en.warn($.message);else{const _e=ot.create("idb-get",{originalErrorMessage:$?.message});en.warn(_e.message)}}})).apply(this,arguments)}function Pe(se,$){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,f.A)(function*(se,$){try{const ke=(yield V()).transaction(P,"readwrite");yield ke.objectStore(P).put($,mt(se)),yield ke.done}catch(_e){if(_e instanceof G.g)en.warn(_e.message);else{const ke=ot.create("idb-set",{originalErrorMessage:_e?.message});en.warn(ke.message)}}})).apply(this,arguments)}function mt(se){return`${se.name}!${se.options.appId}`}class et{constructor($){this.container=$,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new Xn(_e),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var $=this;return(0,f.A)(function*(){const ke=$.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=ht();if(null===$._heartbeatsCache&&($._heartbeatsCache=yield $._heartbeatsCachePromise),$._heartbeatsCache.lastSentHeartbeatDate!==je&&!$._heartbeatsCache.heartbeats.some(Re=>Re.date===je))return $._heartbeatsCache.heartbeats.push({date:je,agent:ke}),$._heartbeatsCache.heartbeats=$._heartbeatsCache.heartbeats.filter(Re=>{const vt=new Date(Re.date).valueOf();return Date.now()-vt<=2592e6}),$._storage.overwrite($._heartbeatsCache)})()}getHeartbeatsHeader(){var $=this;return(0,f.A)(function*(){if(null===$._heartbeatsCache&&(yield $._heartbeatsCachePromise),null===$._heartbeatsCache||0===$._heartbeatsCache.heartbeats.length)return"";const _e=ht(),{heartbeatsToSend:ke,unsentEntries:je}=function bn(se,$=1024){const _e=[];let ke=se.slice();for(const je of se){const Re=_e.find(vt=>vt.agent===je.agent);if(Re){if(Re.dates.push(je.date),fi(_e)>$){Re.dates.pop();break}}else if(_e.push({agent:je.agent,dates:[je.date]}),fi(_e)>$){_e.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:_e,unsentEntries:ke}}($._heartbeatsCache.heartbeats),Re=(0,G.Uj)(JSON.stringify({version:2,heartbeats:ke}));return $._heartbeatsCache.lastSentHeartbeatDate=_e,je.length>0?($._heartbeatsCache.heartbeats=je,yield $._storage.overwrite($._heartbeatsCache)):($._heartbeatsCache.heartbeats=[],$._storage.overwrite($._heartbeatsCache)),Re})()}}function ht(){return(new Date).toISOString().substring(0,10)}class Xn{constructor($){this.app=$,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.A)(function*(){return!!(0,G.zW)()&&(0,G.eX)().then(()=>!0).catch(()=>!1)})()}read(){var $=this;return(0,f.A)(function*(){return(yield $._canUseIndexedDBPromise)&&(yield function le(se){return Q.apply(this,arguments)}($.app))||{heartbeats:[]}})()}overwrite($){var _e=this;return(0,f.A)(function*(){var ke;if(yield _e._canUseIndexedDBPromise){const Re=yield _e.read();return Pe(_e.app,{lastSentHeartbeatDate:null!==(ke=$.lastSentHeartbeatDate)&&void 0!==ke?ke:Re.lastSentHeartbeatDate,heartbeats:$.heartbeats})}})()}add($){var _e=this;return(0,f.A)(function*(){var ke;if(yield _e._canUseIndexedDBPromise){const Re=yield _e.read();return Pe(_e.app,{lastSentHeartbeatDate:null!==(ke=$.lastSentHeartbeatDate)&&void 0!==ke?ke:Re.lastSentHeartbeatDate,heartbeats:[...Re.heartbeats,...$.heartbeats]})}})()}}function fi(se){return(0,G.Uj)(JSON.stringify({version:2,heartbeats:se})).length}!function Co(se){bt(new H.uA("platform-logger",$=>new lt($),"PRIVATE")),bt(new H.uA("heartbeat",$=>new et($),"PRIVATE")),mn(qn,"0.9.13",se),mn(qn,"0.9.13","esm2017"),mn("fire-js","")}("")},1362:(Ue,ce,T)=>{T.d(ce,{Kq:()=>Y,h1:()=>me,uA:()=>S});var f=T(467),H=T(1076);class S{constructor(N,k,j){this.name=N,this.instanceFactory=k,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const G="[DEFAULT]";class Y{constructor(N,k){this.name=N,this.container=k,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const k=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(k)){const j=new H.cY;if(this.instancesDeferred.set(k,j),this.isInitialized(k)||this.shouldAutoInitialize())try{const Ce=this.getOrInitializeService({instanceIdentifier:k});Ce&&j.resolve(Ce)}catch{}}return this.instancesDeferred.get(k).promise}getImmediate(N){var k;const j=this.normalizeInstanceIdentifier(N?.identifier),Ce=null!==(k=N?.optional)&&void 0!==k&&k;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(Ce)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(he){if(Ce)return null;throw he}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if(function oe(re){return"EAGER"===re.instantiationMode}(N))try{this.getOrInitializeService({instanceIdentifier:G})}catch{}for(const[k,j]of this.instancesDeferred.entries()){const Ce=this.normalizeInstanceIdentifier(k);try{const he=this.getOrInitializeService({instanceIdentifier:Ce});j.resolve(he)}catch{}}}}clearInstance(N=G){this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}delete(){var N=this;return(0,f.A)(function*(){const k=Array.from(N.instances.values());yield Promise.all([...k.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...k.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(N=G){return this.instances.has(N)}getOptions(N=G){return this.instancesOptions.get(N)||{}}initialize(N={}){const{options:k={}}=N,j=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ce=this.getOrInitializeService({instanceIdentifier:j,options:k});for(const[he,Te]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(he)&&Te.resolve(Ce);return Ce}onInit(N,k){var j;const Ce=this.normalizeInstanceIdentifier(k),he=null!==(j=this.onInitCallbacks.get(Ce))&&void 0!==j?j:new Set;he.add(N),this.onInitCallbacks.set(Ce,he);const Te=this.instances.get(Ce);return Te&&N(Te,Ce),()=>{he.delete(N)}}invokeOnInitCallbacks(N,k){const j=this.onInitCallbacks.get(k);if(j)for(const Ce of j)try{Ce(N,k)}catch{}}getOrInitializeService({instanceIdentifier:N,options:k={}}){let j=this.instances.get(N);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(re=N,re===G?void 0:re),options:k}),this.instances.set(N,j),this.instancesOptions.set(N,k),this.invokeOnInitCallbacks(j,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,j)}catch{}var re;return j||null}normalizeInstanceIdentifier(N=G){return this.component?this.component.multipleInstances?N:G:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(N){this.name=N,this.providers=new Map}addComponent(N){const k=this.getProvider(N.name);if(k.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);k.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const k=new Y(N,this);return this.providers.set(N,k),k}getProviders(){return Array.from(this.providers.values())}}},8041:(Ue,ce,T)=>{T.d(ce,{$b:()=>H,Ey:()=>re,He:()=>me,Vy:()=>oe});const f=[];var H=function(N){return N[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",N}(H||{});const S={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},G=H.INFO,Y={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ie=(N,k,...j)=>{if(k<N.logLevel)return;const Ce=(new Date).toISOString(),he=Y[k];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${k})`);console[he](`[${Ce}]  ${N.name}:`,...j)};class oe{constructor(k){this.name=k,this._logLevel=G,this._logHandler=ie,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(k){if(!(k in H))throw new TypeError(`Invalid value "${k}" assigned to \`logLevel\``);this._logLevel=k}setLogLevel(k){this._logLevel="string"==typeof k?S[k]:k}get logHandler(){return this._logHandler}set logHandler(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k}get userLogHandler(){return this._userLogHandler}set userLogHandler(k){this._userLogHandler=k}debug(...k){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...k),this._logHandler(this,H.DEBUG,...k)}log(...k){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...k),this._logHandler(this,H.VERBOSE,...k)}info(...k){this._userLogHandler&&this._userLogHandler(this,H.INFO,...k),this._logHandler(this,H.INFO,...k)}warn(...k){this._userLogHandler&&this._userLogHandler(this,H.WARN,...k),this._logHandler(this,H.WARN,...k)}error(...k){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...k),this._logHandler(this,H.ERROR,...k)}}function me(N){f.forEach(k=>{k.setLogLevel(N)})}function re(N,k){for(const j of f){let Ce=null;k&&k.level&&(Ce=S[k.level]),j.userLogHandler=null===N?null:(he,Te,...ge)=>{const be=ge.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Te>=(Ce??he.logLevel)&&N({level:H[Te].toLowerCase(),message:be,args:ge,type:he.name})}}}},2214:(Ue,ce,T)=>{T.d(ce,{Dk:()=>f.getApps,Sx:()=>f.getApp});var f=T(7852);(0,f.registerVersion)("firebase","9.23.0","app")},7935:(Ue,ce,T)=>{T.d(ce,{A:()=>f.A});var f=T(3345);f.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Ue,ce,T)=>{var f=T(467),H=T(3345),S=T(1076),G=T(7852),Y=T(1635),ie=T(8041),oe=T(1362);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Te=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ge=function he(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},be=new S.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ie.Vy("@firebase/auth");function q(p,...c){We.logLevel<=ie.$b.ERROR&&We.error(`Auth (${G.SDK_VERSION}): ${p}`,...c)}function ae(p,...c){throw Ae(p,...c)}function K(p,...c){return Ae(p,...c)}function ue(p,c,h){const m=Object.assign(Object.assign({},ge()),{[c]:h});return new S.FA("auth","Firebase",m).create(c,{appName:p.name})}function ve(p,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&ae(p,"argument-error"),ue(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(p,...c){if("string"!=typeof p){const h=c[0],m=[...c.slice(1)];return m[0]&&(m[0].appName=p.name),p._errorFactory.create(h,...m)}return be.create(p,...c)}function J(p,c,...h){if(!p)throw Ae(c,...h)}function Ke(p){const c="INTERNAL ASSERTION FAILED: "+p;throw q(c),new Error(c)}function lt(p,c){p||Ke(c)}function Dn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function qn(){return"http:"===ai()||"https:"===ai()}function ai(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class li{constructor(c,h){this.shortDelay=c,this.longDelay=h,lt(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,S.jZ)()||(0,S.lV)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qn()||(0,S.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ni(p,c){lt(p.emulator,"Emulator should always be set here");const{url:h}=p.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class ui{static initialize(c,h,m){this.fetchImpl=c,h&&(this.headersImpl=h),m&&(this.responseImpl=m)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ne=new li(3e4,6e4);function W(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function Z(p,c,h,m){return de.apply(this,arguments)}function de(){return(de=(0,f.A)(function*(p,c,h,m,C={}){return ee(p,C,(0,f.A)(function*(){let D={},x={};m&&("GET"===c?x=m:D={body:JSON.stringify(m)});const U=(0,S.Am)(Object.assign({key:p.config.apiKey},x)).slice(1),pe=yield p._getAdditionalHeaders();return pe["Content-Type"]="application/json",p.languageCode&&(pe["X-Firebase-Locale"]=p.languageCode),ui.fetch()(Oe(p,p.config.apiHost,h,U),Object.assign({method:c,headers:pe,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function ee(p,c,h){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,f.A)(function*(p,c,h){p._canInitEmulator=!1;const m=Object.assign(Object.assign({},X),c);try{const C=new xt(p),D=yield Promise.race([h(),C.promise]);C.clearNetworkTimeout();const x=yield D.json();if("needConfirmation"in x)throw wt(p,"account-exists-with-different-credential",x);if(D.ok&&!("errorMessage"in x))return x;{const U=D.ok?x.errorMessage:x.error.message,[pe,Ie]=U.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pe)throw wt(p,"credential-already-in-use",x);if("EMAIL_EXISTS"===pe)throw wt(p,"email-already-in-use",x);if("USER_DISABLED"===pe)throw wt(p,"user-disabled",x);const Ne=m[pe]||pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ie)throw ue(p,Ne,Ie);ae(p,Ne)}}catch(C){if(C instanceof S.g)throw C;ae(p,"network-request-failed",{message:String(C)})}})).apply(this,arguments)}function st(p,c,h,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,f.A)(function*(p,c,h,m,C={}){const D=yield Z(p,c,h,m,C);return"mfaPendingCredential"in D&&ae(p,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function Oe(p,c,h,m){const C=`${c}${h}?${m}`;return p.config.emulator?Ni(p.config,C):`${p.config.apiScheme}://${C}`}class xt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,m)=>{this.timer=setTimeout(()=>m(K(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wt(p,c,h){const m={appName:p.name};h.email&&(m.email=h.email),h.phoneNumber&&(m.phoneNumber=h.phoneNumber);const C=K(p,c,m);return C.customData._tokenResponse=h,C}function Je(){return(Je=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function on(){return(on=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function qt(){return(qt=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function pr(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function $e(){return($e=(0,f.A)(function*(p,c=!1){const h=(0,S.Ku)(p),m=yield h.getIdToken(c),C=Xe(m);J(C&&C.exp&&C.auth_time&&C.iat,h.auth,"internal-error");const D="object"==typeof C.firebase?C.firebase:void 0,x=D?.sign_in_provider;return{claims:C,token:m,authTime:pr(ut(C.auth_time)),issuedAtTime:pr(ut(C.iat)),expirationTime:pr(ut(C.exp)),signInProvider:x||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function ut(p){return 1e3*Number(p)}function Xe(p){const[c,h,m]=p.split(".");if(void 0===c||void 0===h||void 0===m)return q("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,S.u)(h);return C?JSON.parse(C):(q("Failed to decode base64 JWT payload"),null)}catch(C){return q("Caught error parsing JWT payload as JSON",C?.toString()),null}}function jt(p,c){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.A)(function*(p,c,h=!1){if(h)return c;try{return yield c}catch(m){throw m instanceof S.g&&function bt({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(m)&&p.auth.currentUser===p&&(yield p.auth.signOut()),m}})).apply(this,arguments)}class wn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const m=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),m}{this.errorBackoff=3e4;const C=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const m=this.getInterval(c);this.timerId=setTimeout((0,f.A)(function*(){yield h.iteration()}),m)}iteration(){var c=this;return(0,f.A)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&c.schedule(!0))}c.schedule()})()}}class Us{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(p){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,f.A)(function*(p){var c;const h=p.auth,m=yield p.getIdToken(),C=yield jt(p,function pn(p,c){return qt.apply(this,arguments)}(h,{idToken:m}));J(C?.users.length,h,"internal-error");const D=C.users[0];p._notifyReloadListener(D);const x=null!==(c=D.providerUserInfo)&&void 0!==c&&c.length?function Bs(p){return p.map(c=>{var{providerId:h}=c,m=(0,Y.Tt)(c,["providerId"]);return{providerId:h,uid:m.rawId||"",displayName:m.displayName||null,email:m.email||null,phoneNumber:m.phoneNumber||null,photoURL:m.photoUrl||null}})}(D.providerUserInfo):[],U=function Gr(p,c){return[...p.filter(m=>!c.some(C=>C.providerId===m.providerId)),...c]}(p.providerData,x),Ne=!!p.isAnonymous&&!(p.email&&D.passwordHash||U?.length),xe={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:U,metadata:new Us(D.createdAt,D.lastLoginAt),isAnonymous:Ne};Object.assign(p,xe)}),Qn.apply(this,arguments)}function ci(){return(ci=(0,f.A)(function*(p){const c=(0,S.Ku)(p);yield Fe(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Pi(){return(Pi=(0,f.A)(function*(p,c){const h=yield ee(p,{},(0,f.A)(function*(){const m=(0,S.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:C,apiKey:D}=p.config,x=Oe(p,C,"/v1/token",`key=${D}`),U=yield p._getAdditionalHeaders();return U["Content-Type"]="application/x-www-form-urlencoded",ui.fetch()(x,{method:"POST",headers:U,body:m})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class Or{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){J(c.idToken,"internal-error"),J(typeof c.idToken<"u","internal-error"),J(typeof c.refreshToken<"u","internal-error");const h="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Ot(p){const c=Xe(p);return J(c,"internal-error"),J(typeof c.exp<"u","internal-error"),J(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var m=this;return(0,f.A)(function*(){return J(!m.accessToken||m.refreshToken,c,"user-token-expired"),h||!m.accessToken||m.isExpired?m.refreshToken?(yield m.refresh(c,m.refreshToken),m.accessToken):null:m.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var m=this;return(0,f.A)(function*(){const{accessToken:C,refreshToken:D,expiresIn:x}=yield function Hn(p,c){return Pi.apply(this,arguments)}(c,h);m.updateTokensAndExpiration(C,D,Number(x))})()}updateTokensAndExpiration(c,h,m){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*m}static fromJSON(c,h){const{refreshToken:m,accessToken:C,expirationTime:D}=h,x=new Or;return m&&(J("string"==typeof m,"internal-error",{appName:c}),x.refreshToken=m),C&&(J("string"==typeof C,"internal-error",{appName:c}),x.accessToken=C),D&&(J("number"==typeof D,"internal-error",{appName:c}),x.expirationTime=D),x}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Or,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function gn(p,c){J("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class mn{constructor(c){var{uid:h,auth:m,stsTokenManager:C}=c,D=(0,Y.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=m,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new Us(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,f.A)(function*(){const m=yield jt(h,h.stsTokenManager.getToken(h.auth,c));return J(m,h.auth,"internal-error"),h.accessToken!==m&&(h.accessToken=m,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),m})()}getIdTokenResult(c){return function Eo(p){return $e.apply(this,arguments)}(this,c)}reload(){return function ot(p){return ci.apply(this,arguments)}(this)}_assign(c){this!==c&&(J(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const h=new mn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(c){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var m=this;return(0,f.A)(function*(){let C=!1;c.idToken&&c.idToken!==m.stsTokenManager.accessToken&&(m.stsTokenManager.updateFromServerResponse(c),C=!0),h&&(yield Fe(m)),yield m.auth._persistUserIfCurrent(m),C&&m.auth._notifyListenersIfCurrent(m)})()}delete(){var c=this;return(0,f.A)(function*(){const h=yield c.getIdToken();return yield jt(c,function jn(p,c){return Je.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var m,C,D,x,U,pe,Ie,Ne;const xe=null!==(m=h.displayName)&&void 0!==m?m:void 0,Xt=null!==(C=h.email)&&void 0!==C?C:void 0,jr=null!==(D=h.phoneNumber)&&void 0!==D?D:void 0,co=null!==(x=h.photoURL)&&void 0!==x?x:void 0,Df=null!==(U=h.tenantId)&&void 0!==U?U:void 0,fo=null!==(pe=h._redirectEventId)&&void 0!==pe?pe:void 0,Xi=null!==(Ie=h.createdAt)&&void 0!==Ie?Ie:void 0,Go=null!==(Ne=h.lastLoginAt)&&void 0!==Ne?Ne:void 0,{uid:Cu,emailVerified:Iu,isAnonymous:qa,providerData:zo,stsTokenManager:Xh}=h;J(Cu&&Xh,c,"internal-error");const tm=Or.fromJSON(this.name,Xh);J("string"==typeof Cu,c,"internal-error"),gn(xe,c.name),gn(Xt,c.name),J("boolean"==typeof Iu,c,"internal-error"),J("boolean"==typeof qa,c,"internal-error"),gn(jr,c.name),gn(co,c.name),gn(Df,c.name),gn(fo,c.name),gn(Xi,c.name),gn(Go,c.name);const wf=new mn({uid:Cu,auth:c,email:Xt,emailVerified:Iu,displayName:xe,isAnonymous:qa,photoURL:co,phoneNumber:jr,tenantId:Df,stsTokenManager:tm,createdAt:Xi,lastLoginAt:Go});return zo&&Array.isArray(zo)&&(wf.providerData=zo.map(nm=>Object.assign({},nm))),fo&&(wf._redirectEventId=fo),wf}static _fromIdTokenResponse(c,h,m=!1){return(0,f.A)(function*(){const C=new Or;C.updateFromServerResponse(h);const D=new mn({uid:h.localId,auth:c,stsTokenManager:C,isAnonymous:m});return yield Fe(D),D})()}}const di=new Map;function $t(p){lt(p instanceof Function,"Expected a class definition");let c=di.get(p);return c?(lt(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,di.set(p,c),c)}const $n=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.A)(function*(){return!0})()}_set(h,m){var C=this;return(0,f.A)(function*(){C.storage[h]=m})()}_get(h){var m=this;return(0,f.A)(function*(){const C=m.storage[h];return void 0===C?null:C})()}_remove(h){var m=this;return(0,f.A)(function*(){delete m.storage[h]})()}_addListener(h,m){}_removeListener(h,m){}}return p.type="NONE",p})();function P(p,c,h){return`firebase:${p}:${c}:${h}`}class O{constructor(c,h,m){this.persistence=c,this.auth=h,this.userKey=m;const{config:C,name:D}=this.auth;this.fullUserKey=P(this.userKey,C.apiKey,D),this.fullPersistenceKey=P("persistence",C.apiKey,D),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,f.A)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?mn._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,f.A)(function*(){if(h.persistence===c)return;const m=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,m?h.setCurrentUser(m):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,m="authUser"){return(0,f.A)(function*(){if(!h.length)return new O($t($n),c,m);const C=(yield Promise.all(h.map(function(){var Ie=(0,f.A)(function*(Ne){if(yield Ne._isAvailable())return Ne});return function(Ne){return Ie.apply(this,arguments)}}()))).filter(Ie=>Ie);let D=C[0]||$t($n);const x=P(m,c.config.apiKey,c.name);let U=null;for(const Ie of h)try{const Ne=yield Ie._get(x);if(Ne){const xe=mn._fromJSON(c,Ne);Ie!==D&&(U=xe),D=Ie;break}}catch{}const pe=C.filter(Ie=>Ie._shouldAllowMigration);return D._shouldAllowMigration&&pe.length?(D=pe[0],U&&(yield D._set(x,U.toJSON())),yield Promise.all(h.map(function(){var Ie=(0,f.A)(function*(Ne){if(Ne!==D)try{yield Ne._remove(x)}catch{}});return function(Ne){return Ie.apply(this,arguments)}}())),new O(D,c,m)):new O(D,c,m)})()}}function V(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Ge(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(le(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Ct(c))return"Blackberry";if(tn(c))return"Webos";if(Q(c))return"Safari";if((c.includes("chrome/")||Pe(c))&&!c.includes("edge/"))return"Chrome";if(mt(c))return"Android";{const m=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===m?.length)return m[1]}return"Other"}function le(p=(0,S.ZQ)()){return/firefox\//i.test(p)}function Q(p=(0,S.ZQ)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Pe(p=(0,S.ZQ)()){return/crios\//i.test(p)}function Ge(p=(0,S.ZQ)()){return/iemobile/i.test(p)}function mt(p=(0,S.ZQ)()){return/android/i.test(p)}function Ct(p=(0,S.ZQ)()){return/blackberry/i.test(p)}function tn(p=(0,S.ZQ)()){return/webos/i.test(p)}function et(p=(0,S.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function fi(p=(0,S.ZQ)()){return et(p)||mt(p)||tn(p)||Ct(p)||/windows phone/i.test(p)||Ge(p)}function se(p,c=[]){let h;switch(p){case"Browser":h=V((0,S.ZQ)());break;case"Worker":h=`${V((0,S.ZQ)())}-${p}`;break;default:h=p}const m=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${G.SDK_VERSION}/${m}`}function _e(){return(_e=(0,f.A)(function*(p){return(yield Z(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ke(p,c){return je.apply(this,arguments)}function je(){return(je=(0,f.A)(function*(p,c){return Z(p,"GET","/v2/recaptchaConfig",W(p,c))})).apply(this,arguments)}function Re(p){return void 0!==p&&void 0!==p.getResponse}function vt(p){return void 0!==p&&void 0!==p.enterprise}class nn{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(h=>"EMAIL_PASSWORD_PROVIDER"===h.provider&&"OFF"!==h.enforcementState)}}function zr(p){return new Promise((c,h)=>{const m=document.createElement("script");m.setAttribute("src",p),m.onload=c,m.onerror=C=>{const D=K("internal-error");D.customData=C,h(D)},m.type="text/javascript",m.charset="UTF-8",function Yt(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(m)})}function Zn(p){return`__${p}${Math.floor(1e6*Math.random())}`}class ca{constructor(c){this.type="recaptcha-enterprise",this.auth=Qt(c)}verify(c="verify",h=!1){var m=this;return(0,f.A)(function*(){function D(){return D=(0,f.A)(function*(U){if(!h){if(null==U.tenantId&&null!=U._agentRecaptchaConfig)return U._agentRecaptchaConfig.siteKey;if(null!=U.tenantId&&void 0!==U._tenantRecaptchaConfigs[U.tenantId])return U._tenantRecaptchaConfigs[U.tenantId].siteKey}return new Promise(function(){var pe=(0,f.A)(function*(Ie,Ne){ke(U,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(xe=>{if(void 0!==xe.recaptchaKey){const Xt=new nn(xe);return null==U.tenantId?U._agentRecaptchaConfig=Xt:U._tenantRecaptchaConfigs[U.tenantId]=Xt,Ie(Xt.siteKey)}Ne(new Error("recaptcha Enterprise site key undefined"))}).catch(xe=>{Ne(xe)})});return function(Ie,Ne){return pe.apply(this,arguments)}}())}),D.apply(this,arguments)}function x(U,pe,Ie){const Ne=window.grecaptcha;vt(Ne)?Ne.enterprise.ready(()=>{Ne.enterprise.execute(U,{action:c}).then(xe=>{pe(xe)}).catch(()=>{pe("NO_RECAPTCHA")})}):Ie(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((U,pe)=>{(function C(U){return D.apply(this,arguments)})(m.auth).then(Ie=>{if(!h&&vt(window.grecaptcha))x(Ie,U,pe);else{if(typeof window>"u")return void pe(new Error("RecaptchaVerifier is only supported in browser"));zr("https://www.google.com/recaptcha/enterprise.js?render="+Ie).then(()=>{x(Ie,U,pe)}).catch(Ne=>{pe(Ne)})}}).catch(Ie=>{pe(Ie)})})})()}}function Cr(p,c,h){return da.apply(this,arguments)}function da(){return(da=(0,f.A)(function*(p,c,h,m=!1){const C=new ca(p);let D;try{D=yield C.verify(h)}catch{D=yield C.verify(h,!0)}const x=Object.assign({},c);return Object.assign(x,m?{captchaResp:D}:{captchaResponse:D}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x})).apply(this,arguments)}class ss{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,h){const m=D=>new Promise((x,U)=>{try{x(c(D))}catch(pe){U(pe)}});m.onAbort=h,this.queue.push(m);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(c){var h=this;return(0,f.A)(function*(){if(h.auth.currentUser===c)return;const m=[];try{for(const C of h.queue)yield C(c),C.onAbort&&m.push(C.onAbort)}catch(C){m.reverse();for(const D of m)try{D()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:C?.message})}})()}}class _l{constructor(c,h,m,C){this.app=c,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Io(this),this.idTokenSubscription=new Io(this),this.beforeStateQueue=new ss(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(c,h){var m=this;return h&&(this._popupRedirectResolver=$t(h)),this._initializationPromise=this.queue((0,f.A)(function*(){var C,D;if(!m._deleted&&(m.persistenceManager=yield O.create(m,c),!m._deleted)){if(null!==(C=m._popupRedirectResolver)&&void 0!==C&&C._shouldInitProactively)try{yield m._popupRedirectResolver._initialize(m)}catch{}yield m.initializeCurrentUser(h),m.lastNotifiedUid=(null===(D=m.currentUser)||void 0===D?void 0:D.uid)||null,!m._deleted&&(m._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,f.A)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h,!0)}})()}initializeCurrentUser(c){var h=this;return(0,f.A)(function*(){var m;const C=yield h.assertedPersistence.getCurrentUser();let D=C,x=!1;if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const U=null===(m=h.redirectUser)||void 0===m?void 0:m._redirectEventId,pe=D?._redirectEventId,Ie=yield h.tryRedirectSignIn(c);(!U||U===pe)&&Ie?.user&&(D=Ie.user,x=!0)}if(!D)return h.directlySetCurrentUser(null);if(!D._redirectEventId){if(x)try{yield h.beforeStateQueue.runMiddleware(D)}catch(U){D=C,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(U))}return D?h.reloadAndSetCurrentUserOrClear(D):h.directlySetCurrentUser(null)}return J(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===D._redirectEventId?h.directlySetCurrentUser(D):h.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(c){var h=this;return(0,f.A)(function*(){let m=null;try{m=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch{yield h._setRedirectUser(null)}return m})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,f.A)(function*(){try{yield Fe(c)}catch(m){if("auth/network-request-failed"!==m?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function is(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,f.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,f.A)(function*(){const m=c?(0,S.Ku)(c):null;return m&&J(m.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(m&&m._clone(h))})()}_updateCurrentUser(c,h=!1){var m=this;return(0,f.A)(function*(){if(!m._deleted)return c&&J(m.tenantId===c.tenantId,m,"tenant-id-mismatch"),h||(yield m.beforeStateQueue.runMiddleware(c)),m.queue((0,f.A)(function*(){yield m.directlySetCurrentUser(c),m.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,f.A)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var h=this;return this.queue((0,f.A)(function*(){yield h.assertedPersistence.setPersistence($t(c))}))}initializeRecaptchaConfig(){var c=this;return(0,f.A)(function*(){const h=yield ke(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),m=new nn(h);null==c.tenantId?c._agentRecaptchaConfig=m:c._tenantRecaptchaConfigs[c.tenantId]=m,m.emailPasswordEnabled&&new ca(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new S.FA("auth","Firebase",c())}onAuthStateChanged(c,h,m){return this.registerStateListener(this.authStateSubscription,c,h,m)}beforeAuthStateChanged(c,h){return this.beforeStateQueue.pushCallback(c,h)}onIdTokenChanged(c,h,m){return this.registerStateListener(this.idTokenSubscription,c,h,m)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var m=this;return(0,f.A)(function*(){const C=yield m.getOrInitRedirectPersistenceManager(h);return null===c?C.removeCurrentUser():C.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,f.A)(function*(){if(!h.redirectPersistenceManager){const m=c&&$t(c)||h._popupRedirectResolver;J(m,h,"argument-error"),h.redirectPersistenceManager=yield O.create(h,[$t(m._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,f.A)(function*(){var m,C;return h._isInitialized&&(yield h.queue((0,f.A)(function*(){}))),(null===(m=h._currentUser)||void 0===m?void 0:m._redirectEventId)===c?h._currentUser:(null===(C=h.redirectUser)||void 0===C?void 0:C._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,f.A)(function*(){if(c===h.currentUser)return h.queue((0,f.A)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const m=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==m&&(this.lastNotifiedUid=m,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,m,C){if(this._deleted)return()=>{};const D="function"==typeof h?h:h.next.bind(h),x=this._isInitialized?Promise.resolve():this._initializationPromise;return J(x,this,"internal-error"),x.then(()=>D(this.currentUser)),"function"==typeof h?c.addObserver(h,m,C):c.addObserver(h)}directlySetCurrentUser(c){var h=this;return(0,f.A)(function*(){h.currentUser&&h.currentUser!==c&&h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh(),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,f.A)(function*(){var h;const m={"X-Client-Version":c.clientVersion};c.app.options.appId&&(m["X-Firebase-gmpid"]=c.app.options.appId);const C=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();C&&(m["X-Firebase-Client"]=C);const D=yield c._getAppCheckToken();return D&&(m["X-Firebase-AppCheck"]=D),m})()}_getAppCheckToken(){var c=this;return(0,f.A)(function*(){var h;const m=yield null===(h=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return m?.error&&function Be(p,...c){We.logLevel<=ie.$b.WARN&&We.warn(`Auth (${G.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${m.error}`),m?.token})()}}function Qt(p){return(0,S.Ku)(p)}class Io{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,S.tD)(h=>this.observer=h)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function vl(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class os{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return Ke("not implemented")}_getIdTokenResponse(c){return Ke("not implemented")}_linkToIdToken(c,h){return Ke("not implemented")}_getReauthenticationResolver(c){return Ke("not implemented")}}function qd(p,c){return ha.apply(this,arguments)}function ha(){return(ha=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:resetPassword",W(p,c))})).apply(this,arguments)}function yl(p,c){return uc.apply(this,arguments)}function uc(){return(uc=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function El(){return(El=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:update",W(p,c))})).apply(this,arguments)}function An(p,c){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPassword",W(p,c))})).apply(this,arguments)}function pa(p,c){return Il.apply(this,arguments)}function Il(){return(Il=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:sendOobCode",W(p,c))})).apply(this,arguments)}function Dl(){return(Dl=(0,f.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function js(p,c){return wl.apply(this,arguments)}function wl(){return(wl=(0,f.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function ma(p,c){return dt.apply(this,arguments)}function dt(){return(dt=(0,f.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function _n(){return(_n=(0,f.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function Jn(){return(Jn=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithEmailLink",W(p,c))})).apply(this,arguments)}function bl(){return(bl=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithEmailLink",W(p,c))})).apply(this,arguments)}class as extends os{constructor(c,h,m,C=null){super("password",m),this._email=c,this._password=h,this._tenantId=C}static _fromEmailAndPassword(c,h){return new as(c,h,"password")}static _fromEmailAndCode(c,h,m=null){return new as(c,h,"emailLink",m)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,f.A)(function*(){var m;switch(h.signInMethod){case"password":const C={returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=c._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const D=yield Cr(c,C,"signInWithPassword");return An(c,D)}return An(c,C).catch(function(){var D=(0,f.A)(function*(x){if("auth/missing-recaptcha-token"===x.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const U=yield Cr(c,C,"signInWithPassword");return An(c,U)}return Promise.reject(x)});return function(x){return D.apply(this,arguments)}}());case"emailLink":return function xi(p,c){return Jn.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:ae(c,"internal-error")}})()}_linkToIdToken(c,h){var m=this;return(0,f.A)(function*(){switch(m.signInMethod){case"password":return yl(c,{idToken:h,returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Yd(p,c){return bl.apply(this,arguments)}(c,{idToken:h,email:m._email,oobCode:m._password});default:ae(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Dr(p,c){return Al.apply(this,arguments)}function Al(){return(Al=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithIdp",W(p,c))})).apply(this,arguments)}class we extends os{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new we(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):ae("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:C}=h,D=(0,Y.Tt)(h,["providerId","signInMethod"]);if(!m||!C)return null;const x=new we(m,C);return x.idToken=D.idToken||void 0,x.accessToken=D.accessToken||void 0,x.secret=D.secret,x.nonce=D.nonce,x.pendingToken=D.pendingToken||null,x}_getIdTokenResponse(c){return Dr(c,this.buildRequest())}_linkToIdToken(c,h){const m=this.buildRequest();return m.idToken=h,Dr(c,m)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Dr(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,S.Am)(h)}return c}}function Mt(){return(Mt=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:sendVerificationCode",W(p,c))})).apply(this,arguments)}function Hs(){return(Hs=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPhoneNumber",W(p,c))})).apply(this,arguments)}function ki(){return(ki=(0,f.A)(function*(p,c){const h=yield st(p,"POST","/v1/accounts:signInWithPhoneNumber",W(p,c));if(h.temporaryProof)throw wt(p,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Gt={USER_NOT_FOUND:"user-not-found"};function xr(){return(xr=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPhoneNumber",W(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Gt)})).apply(this,arguments)}class He extends os{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new He({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new He({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function gr(p,c){return Hs.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function Wn(p,c){return ki.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Fi(p,c){return xr.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:m,verificationCode:C}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:m,code:C}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:m,phoneNumber:C,temporaryProof:D}=c;return m||h||C||D?new He({verificationId:h,verificationCode:m,phoneNumber:C,temporaryProof:D}):null}}class pi{constructor(c){var h,m,C,D,x,U;const pe=(0,S.I9)((0,S.hp)(c)),Ie=null!==(h=pe.apiKey)&&void 0!==h?h:null,Ne=null!==(m=pe.oobCode)&&void 0!==m?m:null,xe=function _a(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=pe.mode)&&void 0!==C?C:null);J(Ie&&Ne&&xe,"argument-error"),this.apiKey=Ie,this.operation=xe,this.code=Ne,this.continueUrl=null!==(D=pe.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(x=pe.languageCode)&&void 0!==x?x:null,this.tenantId=null!==(U=pe.tenantId)&&void 0!==U?U:null}static parseLink(c){const h=function va(p){const c=(0,S.I9)((0,S.hp)(p)).link,h=c?(0,S.I9)((0,S.hp)(c)).deep_link_id:null,m=(0,S.I9)((0,S.hp)(p)).deep_link_id;return(m?(0,S.I9)((0,S.hp)(m)).link:null)||m||h||c||p}(c);try{return new pi(h)}catch{return null}}}let $s=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(h,m){return as._fromEmailAndPassword(h,m)}static credentialWithLink(h,m){const C=pi.parseLink(m);return J(C,"argument-error"),as._fromEmailAndCode(h,C.code,C.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class er{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class tr extends er{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class wr extends tr{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return J("providerId"in h&&"signInMethod"in h,"argument-error"),we._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return J(c.idToken||c.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return wr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return wr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:m,oauthTokenSecret:C,pendingToken:D,nonce:x,providerId:U}=c;if(!m&&!C&&!h&&!D||!U)return null;try{return new wr(U)._credential({idToken:h,accessToken:m,nonce:x,pendingToken:D})}catch{return null}}}let cc=(()=>{class p extends tr{constructor(){super("facebook.com")}static credential(h){return we._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),kr=(()=>{class p extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(h,m){return we._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:C}=h;if(!m&&!C)return null;try{return p.credential(m,C)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),gi=(()=>{class p extends tr{constructor(){super("github.com")}static credential(h){return we._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return p.credential(h.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Kr extends os{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return Dr(c,this.buildRequest())}_linkToIdToken(c,h){const m=this.buildRequest();return m.idToken=h,Dr(c,m)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Dr(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:m,signInMethod:C,pendingToken:D}=h;return m&&C&&D&&m===C?new Kr(m,D):null}static _create(c,h){return new Kr(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tl extends er{constructor(c){J(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Tl.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Tl.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=Kr.fromJSON(c);return J(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:m}=c;if(!h||!m)return null;try{return Kr._create(m,h)}catch{return null}}}let Do=(()=>{class p extends tr{constructor(){super("twitter.com")}static credential(h,m){return we._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:m})}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:m,oauthTokenSecret:C}=h;if(!m||!C)return null;try{return p.credential(m,C)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function qr(p,c){return mr.apply(this,arguments)}function mr(){return(mr=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signUp",W(p,c))})).apply(this,arguments)}class Pn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,m,C=!1){return(0,f.A)(function*(){const D=yield mn._fromIdTokenResponse(c,m,C),x=mi(m);return new Pn({user:D,providerId:x,_tokenResponse:m,operationType:h})})()}static _forOperation(c,h,m){return(0,f.A)(function*(){yield c._updateTokensIfNecessary(m,!0);const C=mi(m);return new Pn({user:c,providerId:C,_tokenResponse:m,operationType:h})})()}}function mi(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function vn(){return(vn=(0,f.A)(function*(p){var c;const h=Qt(p);if(yield h._initializationPromise,null!==(c=h.currentUser)&&void 0!==c&&c.isAnonymous)return new Pn({user:h.currentUser,providerId:null,operationType:"signIn"});const m=yield qr(h,{returnSecureToken:!0}),C=yield Pn._fromIdTokenResponse(h,"signIn",m,!0);return yield h._updateCurrentUser(C.user),C})).apply(this,arguments)}class ya extends S.g{constructor(c,h,m,C){var D;super(h.code,h.message),this.operationType=m,this.user=C,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:c.name,tenantId:null!==(D=c.tenantId)&&void 0!==D?D:void 0,_serverResponse:h.customData._serverResponse,operationType:m}}static _fromErrorAndOperation(c,h,m,C){return new ya(c,h,m,C)}}function Gn(p,c,h,m){return("reauthenticate"===c?h._getReauthenticationResolver(p):h._getIdTokenResponse(p)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?ya._fromErrorAndOperation(p,D,c,m):D})}function xn(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function kn(){return kn=(0,f.A)(function*(p,c){const h=(0,S.Ku)(p);yield Vi(!0,h,c);const{providerUserInfo:m}=yield function Ht(p,c){return on.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),C=xn(m||[]);return h.providerData=h.providerData.filter(D=>C.has(D.providerId)),C.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),kn.apply(this,arguments)}function ls(p,c){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.A)(function*(p,c,h=!1){const m=yield jt(p,c._linkToIdToken(p.auth,yield p.getIdToken()),h);return Pn._forOperation(p,"link",m)})).apply(this,arguments)}function Vi(p,c,h){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.A)(function*(p,c,h){yield Fe(c);const C=!1===p?"provider-already-linked":"no-such-provider";J(xn(c.providerData).has(h)===p,c.auth,C)})).apply(this,arguments)}function Qd(p,c){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,f.A)(function*(p,c,h=!1){const{auth:m}=p,C="reauthenticate";try{const D=yield jt(p,Gn(m,C,c,p),h);J(D.idToken,m,"internal-error");const x=Xe(D.idToken);J(x,m,"internal-error");const{sub:U}=x;return J(p.uid===U,m,"user-mismatch"),Pn._forOperation(p,C,D)}catch(D){throw"auth/user-not-found"===D?.code&&ae(m,"user-mismatch"),D}})).apply(this,arguments)}function Nl(p,c){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,f.A)(function*(p,c,h=!1){const m="signIn",C=yield Gn(p,m,c),D=yield Pn._fromIdTokenResponse(p,m,C);return h||(yield p._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Pl(p,c){return dc.apply(this,arguments)}function dc(){return(dc=(0,f.A)(function*(p,c){return Nl(Qt(p),c)})).apply(this,arguments)}function Th(p,c){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.A)(function*(p,c){const h=(0,S.Ku)(p);return yield Vi(!1,h,c.providerId),ls(h,c)})).apply(this,arguments)}function Sh(p,c){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,f.A)(function*(p,c){return Qd((0,S.Ku)(p),c)})).apply(this,arguments)}function Zd(){return(Zd=(0,f.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithCustomToken",W(p,c))})).apply(this,arguments)}function _i(){return _i=(0,f.A)(function*(p,c){const h=Qt(p),m=yield function $g(p,c){return Zd.apply(this,arguments)}(h,{token:c,returnSecureToken:!0}),C=yield Pn._fromIdTokenResponse(h,"signIn",m);return yield h._updateCurrentUser(C.user),C}),_i.apply(this,arguments)}class xl{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?Ea._fromServerResponse(c,h):"totpInfo"in h?kl._fromServerResponse(c,h):ae(c,"internal-error")}}class Ea extends xl{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new Ea(h)}}class kl extends xl{constructor(c){super("totp",c)}static _fromServerResponse(c,h){return new kl(h)}}function us(p,c,h){var m;J((null===(m=h.url)||void 0===m?void 0:m.length)>0,p,"invalid-continue-uri"),J(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(J(h.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(J(h.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function bo(){return bo=(0,f.A)(function*(p,c,h){var m;const C=Qt(p),D={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const x=yield Cr(C,D,"getOobCode",!0);h&&us(C,x,h),yield js(C,x)}else h&&us(C,D,h),yield js(C,D).catch(function(){var x=(0,f.A)(function*(U){if("auth/missing-recaptcha-token"!==U.code)return Promise.reject(U);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const pe=yield Cr(C,D,"getOobCode",!0);h&&us(C,pe,h),yield js(C,pe)}});return function(U){return x.apply(this,arguments)}}())}),bo.apply(this,arguments)}function vi(){return(vi=(0,f.A)(function*(p,c,h){yield qd((0,S.Ku)(p),{oobCode:c,newPassword:h})})).apply(this,arguments)}function br(){return br=(0,f.A)(function*(p,c){yield function Ir(p,c){return El.apply(this,arguments)}((0,S.Ku)(p),{oobCode:c})}),br.apply(this,arguments)}function hc(p,c){return rn.apply(this,arguments)}function rn(){return(rn=(0,f.A)(function*(p,c){const h=(0,S.Ku)(p),m=yield qd(h,{oobCode:c}),C=m.requestType;switch(J(C,h,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(m.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(m.mfaInfo,h,"internal-error");default:J(m.email,h,"internal-error")}let D=null;return m.mfaInfo&&(D=xl._fromServerResponse(Qt(h),m.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.newEmail:m.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===m.requestType?m.email:m.newEmail)||null,multiFactorInfo:D},operation:C}})).apply(this,arguments)}function Sn(){return(Sn=(0,f.A)(function*(p,c){const{data:h}=yield hc((0,S.Ku)(p),c);return h.email})).apply(this,arguments)}function Ao(){return Ao=(0,f.A)(function*(p,c,h){var m;const C=Qt(p),D={returnSecureToken:!0,email:c,password:h,clientType:"CLIENT_TYPE_WEB"};let x;if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const Ie=yield Cr(C,D,"signUpPassword");x=qr(C,Ie)}else x=qr(C,D).catch(function(){var Ie=(0,f.A)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const xe=yield Cr(C,D,"signUpPassword");return qr(C,xe)}return Promise.reject(Ne)});return function(Ne){return Ie.apply(this,arguments)}}());const U=yield x.catch(Ie=>Promise.reject(Ie)),pe=yield Pn._fromIdTokenResponse(C,"signIn",U);return yield C._updateCurrentUser(pe.user),pe}),Ao.apply(this,arguments)}function Gs(){return Gs=(0,f.A)(function*(p,c,h){var m;const C=Qt(p),D={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function x(U,pe){J(pe.handleCodeInApp,C,"argument-error"),pe&&us(C,U,pe)}if(null!==(m=C._getRecaptchaConfig())&&void 0!==m&&m.emailPasswordEnabled){const U=yield Cr(C,D,"getOobCode",!0);x(U,h),yield ma(C,U)}else x(D,h),yield ma(C,D).catch(function(){var U=(0,f.A)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ie=yield Cr(C,D,"getOobCode",!0);x(Ie,h),yield ma(C,Ie)}});return function(pe){return U.apply(this,arguments)}}())}),Gs.apply(this,arguments)}function Ca(){return(Ca=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p),C=$s.credentialWithLink(c,h||Dn());return J(C._tenantId===(m.tenantId||null),m,"tenant-id-mismatch"),Pl(m,C)})).apply(this,arguments)}function Vl(){return(Vl=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:createAuthUri",W(p,c))})).apply(this,arguments)}function zs(){return zs=(0,f.A)(function*(p,c){const m={identifier:c,continueUri:qn()?Dn():"http://localhost"},{signinMethods:C}=yield function Ll(p,c){return Vl.apply(this,arguments)}((0,S.Ku)(p),m);return C||[]}),zs.apply(this,arguments)}function yi(){return yi=(0,f.A)(function*(p,c){const h=(0,S.Ku)(p),C={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&us(h.auth,C,c);const{email:D}=yield function ga(p,c){return Dl.apply(this,arguments)}(h.auth,C);D!==p.email&&(yield p.reload())}),yi.apply(this,arguments)}function Da(){return Da=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};h&&us(m.auth,D,h);const{email:x}=yield function Tn(p,c){return _n.apply(this,arguments)}(m.auth,D);x!==p.email&&(yield p.reload())}),Da.apply(this,arguments)}function ef(){return(ef=(0,f.A)(function*(p,c){return Z(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function wa(){return wa=(0,f.A)(function*(p,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const m=(0,S.Ku)(p),D={idToken:yield m.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},x=yield jt(m,function Rh(p,c){return ef.apply(this,arguments)}(m.auth,D));m.displayName=x.displayName||null,m.photoURL=x.photoUrl||null;const U=m.providerData.find(({providerId:pe})=>"password"===pe);U&&(U.displayName=m.displayName,U.photoURL=m.photoURL),yield m._updateTokensIfNecessary(x)}),wa.apply(this,arguments)}function jl(p,c,h){return ba.apply(this,arguments)}function ba(){return(ba=(0,f.A)(function*(p,c,h){const{auth:m}=p,D={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(D.email=c),h&&(D.password=h);const x=yield jt(p,yl(m,D));yield p._updateTokensIfNecessary(x,!0)})).apply(this,arguments)}class Ks{constructor(c,h,m={}){this.isNewUser=c,this.providerId=h,this.profile=m}}class Aa extends Ks{constructor(c,h,m,C){super(c,h,m),this.username=C}}class gc extends Ks{constructor(c,h){super(c,"facebook.com",h)}}class mc extends Aa{constructor(c,h){super(c,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class So extends Ks{constructor(c,h){super(c,"google.com",h)}}class Mo extends Aa{constructor(c,h,m){super(c,"twitter.com",h,m)}}function tf(p){const{user:c,_tokenResponse:h}=p;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Hl(p){var c,h;if(!p)return null;const{providerId:m}=p,C=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},D=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!m&&p?.idToken){const x=null===(h=null===(c=Xe(p.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(x)return new Ks(D,"anonymous"!==x&&"custom"!==x?x:null)}if(!m)return null;switch(m){case"facebook.com":return new gc(D,C);case"github.com":return new mc(D,C);case"google.com":return new So(D,C);case"twitter.com":return new Mo(D,C,p.screenName||null);case"custom":case"anonymous":return new Ks(D,null);default:return new Ks(D,m,C)}}(h)}class Ei{constructor(c,h,m){this.type=c,this.credential=h,this.auth=m}static _fromIdtoken(c,h){return new Ei("enroll",c,h)}static _fromMfaPendingCredential(c){return new Ei("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,m;if(c?.multiFactorSession){if(null!==(h=c.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Ei._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(m=c.multiFactorSession)&&void 0!==m&&m.idToken)return Ei._fromIdtoken(c.multiFactorSession.idToken)}return null}}class fs{constructor(c,h,m){this.session=c,this.hints=h,this.signInResolver=m}static _fromError(c,h){const m=Qt(c),C=h.customData._serverResponse,D=(C.mfaInfo||[]).map(U=>xl._fromServerResponse(m,U));J(C.mfaPendingCredential,m,"internal-error");const x=Ei._fromMfaPendingCredential(C.mfaPendingCredential);return new fs(x,D,function(){var U=(0,f.A)(function*(pe){const Ie=yield pe._process(m,x);delete C.mfaInfo,delete C.mfaPendingCredential;const Ne=Object.assign(Object.assign({},C),{idToken:Ie.idToken,refreshToken:Ie.refreshToken});switch(h.operationType){case"signIn":const xe=yield Pn._fromIdTokenResponse(m,h.operationType,Ne);return yield m._updateCurrentUser(xe.user),xe;case"reauthenticate":return J(h.user,m,"internal-error"),Pn._forOperation(h.user,h.operationType,Ne);default:ae(m,"internal-error")}});return function(pe){return U.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,f.A)(function*(){return h.signInResolver(c)})()}}class hs{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(m=>xl._fromServerResponse(c.auth,m)))})}static _fromUser(c){return new hs(c)}getSession(){var c=this;return(0,f.A)(function*(){return Ei._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,h){var m=this;return(0,f.A)(function*(){const C=c,D=yield m.getSession(),x=yield jt(m.user,C._process(m.user.auth,D,h));return yield m.user._updateTokensIfNecessary(x),m.user.reload()})()}unenroll(c){var h=this;return(0,f.A)(function*(){const m="string"==typeof c?c:c.uid,C=yield h.user.getIdToken();try{const D=yield jt(h.user,function Ic(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:withdraw",W(p,c))}(h.user.auth,{idToken:C,mfaEnrollmentId:m}));h.enrolledFactors=h.enrolledFactors.filter(({uid:x})=>x!==m),yield h.user._updateTokensIfNecessary(D),yield h.user.reload()}catch(D){throw D}})()}}const At=new WeakMap,ps="__sak";class rr{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ps,"1"),this.storage.removeItem(ps),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qs=(()=>{class p extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,m)=>this.onStorageEvent(h,m),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const p=(0,S.ZQ)();return Q(p)||et(p)}()&&function Co(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const m of Object.keys(this.listeners)){const C=this.storage.getItem(m),D=this.localCache[m];C!==D&&h(m,D,C)}}onStorageEvent(h,m=!1){if(!h.key)return void this.forAllChangedKeys((U,pe,Ie)=>{this.notifyListeners(U,Ie)});const C=h.key;if(m?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const U=this.storage.getItem(C);if(h.newValue!==U)null!==h.newValue?this.storage.setItem(C,h.newValue):this.storage.removeItem(C);else if(this.localCache[C]===h.newValue&&!m)return}const D=()=>{const U=this.storage.getItem(C);!m&&this.localCache[C]===U||this.notifyListeners(C,U)},x=this.storage.getItem(C);!function Xn(){return(0,S.lT)()&&10===document.documentMode}()||x===h.newValue||h.newValue===h.oldValue?D():setTimeout(D,10)}notifyListeners(h,m){this.localCache[h]=m;const C=this.listeners[h];if(C)for(const D of Array.from(C))D(m&&JSON.parse(m))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,m,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:m,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,m){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,m){var C=()=>super._set,D=this;return(0,f.A)(function*(){yield C().call(D,h,m),D.localCache[h]=JSON.stringify(m)})()}_get(h){var m=()=>super._get,C=this;return(0,f.A)(function*(){const D=yield m().call(C,h);return C.localCache[h]=JSON.stringify(D),D})()}_remove(h){var m=()=>super._remove,C=this;return(0,f.A)(function*(){yield m().call(C,h),delete C.localCache[h]})()}}return p.type="LOCAL",p})(),gs=(()=>{class p extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,m){}_removeListener(h,m){}}return p.type="SESSION",p})();let Sa=(()=>{class p{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const m=this.receivers.find(D=>D.isListeningto(h));if(m)return m;const C=new p(h);return this.receivers.push(C),C}isListeningto(h){return this.eventTarget===h}handleEvent(h){var m=this;return(0,f.A)(function*(){const C=h,{eventId:D,eventType:x,data:U}=C.data,pe=m.handlersMap[x];if(!pe?.size)return;C.ports[0].postMessage({status:"ack",eventId:D,eventType:x});const Ie=Array.from(pe).map(function(){var xe=(0,f.A)(function*(Xt){return Xt(C.origin,U)});return function(Xt){return xe.apply(this,arguments)}}()),Ne=yield function ms(p){return Promise.all(p.map(function(){var c=(0,f.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(m){return{fulfilled:!1,reason:m}}});return function(h){return c.apply(this,arguments)}}()))}(Ie);C.ports[0].postMessage({status:"done",eventId:D,eventType:x,response:Ne})})()}_subscribe(h,m){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(m)}_unsubscribe(h,m){this.handlersMap[h]&&m&&this.handlersMap[h].delete(m),(!m||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function ql(p="",c=10){let h="";for(let m=0;m<c;m++)h+=Math.floor(10*Math.random());return p+h}class kh{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,m=50){var C=this;return(0,f.A)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let x,U;return new Promise((pe,Ie)=>{const Ne=ql("",20);D.port1.start();const xe=setTimeout(()=>{Ie(new Error("unsupported_event"))},m);U={messageChannel:D,onMessage(Xt){const jr=Xt;if(jr.data.eventId===Ne)switch(jr.data.status){case"ack":clearTimeout(xe),x=setTimeout(()=>{Ie(new Error("timeout"))},3e3);break;case"done":clearTimeout(x),pe(jr.data.response);break;default:clearTimeout(xe),clearTimeout(x),Ie(new Error("invalid_response"))}}},C.handlers.add(U),D.port1.addEventListener("message",U.onMessage),C.target.postMessage({eventType:c,eventId:Ne,data:h},[D.port2])}).finally(()=>{U&&C.removeMessageHandler(U)})})()}}function kt(){return window}function Yl(){return typeof kt().WorkerGlobalScope<"u"&&"function"==typeof kt().importScripts}function Ma(){return(Ma=(0,f.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wc="firebaseLocalStorageDb",Xs="firebaseLocalStorage",Ui="fbase_key";class Ra{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Na(p,c){return p.transaction([Xs],c?"readwrite":"readonly").objectStore(Xs)}function Xl(){const p=indexedDB.open(wc,1);return new Promise((c,h)=>{p.addEventListener("error",()=>{h(p.error)}),p.addEventListener("upgradeneeded",()=>{const m=p.result;try{m.createObjectStore(Xs,{keyPath:Ui})}catch(C){h(C)}}),p.addEventListener("success",(0,f.A)(function*(){const m=p.result;m.objectStoreNames.contains(Xs)?c(m):(m.close(),yield function Fh(){const p=indexedDB.deleteDatabase(wc);return new Ra(p).toPromise()}(),c(yield Xl()))}))})}function Ro(p,c,h){return fe.apply(this,arguments)}function fe(){return(fe=(0,f.A)(function*(p,c,h){const m=Na(p,!0).put({[Ui]:c,value:h});return new Ra(m).toPromise()})).apply(this,arguments)}function Zl(){return(Zl=(0,f.A)(function*(p,c){const h=Na(p,!1).get(c),m=yield new Ra(h).toPromise();return void 0===m?null:m.value})).apply(this,arguments)}function bc(p,c){const h=Na(p,!0).delete(c);return new Ra(h).toPromise()}const ir=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,f.A)(function*(){return h.db||(h.db=yield Xl()),h.db})()}_withRetries(h){var m=this;return(0,f.A)(function*(){let C=0;for(;;)try{const D=yield m._openDb();return yield h(D)}catch(D){if(C++>3)throw D;m.db&&(m.db.close(),m.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,f.A)(function*(){return Yl()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,f.A)(function*(){h.receiver=Sa._getInstance(function En(){return Yl()?self:null}()),h.receiver._subscribe("keyChanged",function(){var m=(0,f.A)(function*(C,D){return{keyProcessed:(yield h._poll()).includes(D.key)}});return function(C,D){return m.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var m=(0,f.A)(function*(C,D){return["keyChanged"]});return function(C,D){return m.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,f.A)(function*(){var m,C;if(h.activeServiceWorker=yield function Ye(){return Ma.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new kh(h.activeServiceWorker);const D=yield h.sender._send("ping",{},800);D&&null!==(m=D[0])&&void 0!==m&&m.fulfilled&&null!==(C=D[0])&&void 0!==C&&C.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var m=this;return(0,f.A)(function*(){if(m.sender&&m.activeServiceWorker&&function Ql(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===m.activeServiceWorker)try{yield m.sender._send("keyChanged",{key:h},m.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.A)(function*(){try{if(!indexedDB)return!1;const h=yield Xl();return yield Ro(h,ps,"1"),yield bc(h,ps),!0}catch{}return!1})()}_withPendingWrite(h){var m=this;return(0,f.A)(function*(){m.pendingWrites++;try{yield h()}finally{m.pendingWrites--}})()}_set(h,m){var C=this;return(0,f.A)(function*(){return C._withPendingWrite((0,f.A)(function*(){return yield C._withRetries(D=>Ro(D,h,m)),C.localCache[h]=m,C.notifyServiceWorker(h)}))})()}_get(h){var m=this;return(0,f.A)(function*(){const C=yield m._withRetries(D=>function it(p,c){return Zl.apply(this,arguments)}(D,h));return m.localCache[h]=C,C})()}_remove(h){var m=this;return(0,f.A)(function*(){return m._withPendingWrite((0,f.A)(function*(){return yield m._withRetries(C=>bc(C,h)),delete m.localCache[h],m.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,f.A)(function*(){const m=yield h._withRetries(x=>{const U=Na(x,!1).getAll();return new Ra(U).toPromise()});if(!m)return[];if(0!==h.pendingWrites)return[];const C=[],D=new Set;for(const{fbase_key:x,value:U}of m)D.add(x),JSON.stringify(h.localCache[x])!==JSON.stringify(U)&&(h.notifyListeners(x,U),C.push(x));for(const x of Object.keys(h.localCache))h.localCache[x]&&!D.has(x)&&(h.notifyListeners(x,null),C.push(x));return C})()}notifyListeners(h,m){this.localCache[h]=m;const C=this.listeners[h];if(C)for(const D of Array.from(C))D(m)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,f.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,m){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(m)}_removeListener(h,m){this.listeners[h]&&(this.listeners[h].delete(m),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),un=1e12;class Ci{constructor(c){this.auth=c,this.counter=un,this._widgets=new Map}render(c,h){const m=this.counter;return this._widgets.set(m,new ru(c,this.auth.name,h||{})),this.counter++,m}reset(c){var h;const m=c||un;null===(h=this._widgets.get(m))||void 0===h||h.delete(),this._widgets.delete(m)}getResponse(c){var h;return(null===(h=this._widgets.get(c||un))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,f.A)(function*(){var m;return null===(m=h._widgets.get(c||un))||void 0===m||m.execute(),""})()}}class ru{constructor(c,h,m){this.params=m,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof c?document.getElementById(c):c;J(C,"argument-error",{appName:h}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function No(p){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<p;m++)c.push(h.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Zr=Zn("rcb"),lf=new li(3e4,6e4);class Vh{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=kt().grecaptcha)||void 0===c||!c.render)}load(c,h=""){return J(function Ac(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(h),c,"argument-error"),this.shouldResolveImmediately(h)&&Re(kt().grecaptcha)?Promise.resolve(kt().grecaptcha):new Promise((m,C)=>{const D=kt().setTimeout(()=>{C(K(c,"network-request-failed"))},lf.get());kt()[Zr]=()=>{kt().clearTimeout(D),delete kt()[Zr];const U=kt().grecaptcha;if(!U||!Re(U))return void C(K(c,"internal-error"));const pe=U.render;U.render=(Ie,Ne)=>{const xe=pe(Ie,Ne);return this.counter++,xe},this.hostLanguage=h,m(U)},zr(`https://www.google.com/recaptcha/api.js??${(0,S.Am)({onload:Zr,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(D),C(K(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var h;return!(null===(h=kt().grecaptcha)||void 0===h||!h.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tc{load(c){return(0,f.A)(function*(){return new Ci(c)})()}clearedOneInstance(){}}const Po="recaptcha",uf={theme:"light",type:"image"};class Oa{constructor(c,h=Object.assign({},uf),m){this.parameters=h,this.type=Po,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(m),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof c?document.getElementById(c):c;J(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tc:new Vh,this.validateStartingState()}verify(){var c=this;return(0,f.A)(function*(){c.assertNotDestroyed();const h=yield c.render(),m=c.getAssertedRecaptcha();return m.getResponse(h)||new Promise(D=>{const x=U=>{U&&(c.tokenChangeListeners.delete(x),D(U))};c.tokenChangeListeners.add(x),c.isInvisible&&m.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(m=>m(h)),"function"==typeof c)c(h);else if("string"==typeof c){const m=kt()[c];"function"==typeof m&&m(h)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,f.A)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const m=document.createElement("div");h.appendChild(m),h=m}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,f.A)(function*(){J(qn()&&!Yl(),c.auth,"internal-error"),yield function Uh(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function $(p){return _e.apply(this,arguments)}(c.auth);J(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=He._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function Zs(){return(Zs=(0,f.A)(function*(p,c,h){const m=Qt(p),C=yield xo(m,c,(0,S.Ku)(h));return new sr(C,D=>Pl(m,D))})).apply(this,arguments)}function ze(){return(ze=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p);yield Vi(!1,m,"phone");const C=yield xo(m.auth,c,(0,S.Ku)(h));return new sr(C,D=>Th(m,D))})).apply(this,arguments)}function Js(){return(Js=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p),C=yield xo(m.auth,c,(0,S.Ku)(h));return new sr(C,D=>Sh(m,D))})).apply(this,arguments)}function xo(p,c,h){return iu.apply(this,arguments)}function iu(){return iu=(0,f.A)(function*(p,c,h){var m;const C=yield h.verify();try{let D;if(J("string"==typeof C,p,"argument-error"),J(h.type===Po,p,"argument-error"),D="string"==typeof c?{phoneNumber:c}:c,"session"in D){const x=D.session;if("phoneNumber"in D)return J("enroll"===x.type,p,"internal-error"),(yield function Gl(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:start",W(p,c))}(p,{idToken:x.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{J("signin"===x.type,p,"internal-error");const U=(null===(m=D.multiFactorHint)||void 0===m?void 0:m.uid)||D.multiFactorUid;return J(U,p,"missing-multi-factor-info"),(yield function tu(p,c){return Z(p,"POST","/v2/accounts/mfaSignIn:start",W(p,c))}(p,{mfaPendingCredential:x.credential,mfaEnrollmentId:U,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:x}=yield function rt(p,c){return Mt.apply(this,arguments)}(p,{phoneNumber:D.phoneNumber,recaptchaToken:C});return x}}finally{h._reset()}}),iu.apply(this,arguments)}function Jr(){return(Jr=(0,f.A)(function*(p,c){yield ls((0,S.Ku)(p),c)})).apply(this,arguments)}let Tt=(()=>{class p{constructor(h){this.providerId=p.PROVIDER_ID,this.auth=Qt(h)}verifyPhoneNumber(h,m){return xo(this.auth,h,(0,S.Ku)(m))}static credential(h,m){return He._fromVerification(h,m)}static credentialFromResult(h){return p.credentialFromTaggedObject(h)}static credentialFromError(h){return p.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:m,temporaryProof:C}=h;return m&&C?He._fromTokenResponse(m,C):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Fr(p,c){return c?$t(c):(J(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Ze extends os{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Dr(c,this._buildIdpRequest())}_linkToIdToken(c,h){return Dr(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return Dr(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function Sc(p){return Nl(p.auth,new Ze(p),p.bypassAuthState)}function Mc(p){const{auth:c,user:h}=p;return J(h,c,"internal-error"),Qd(h,new Ze(p),p.bypassAuthState)}function eo(p){return ei.apply(this,arguments)}function ei(){return(ei=(0,f.A)(function*(p){const{auth:c,user:h}=p;return J(h,c,"internal-error"),ls(h,new Ze(p),p.bypassAuthState)})).apply(this,arguments)}class vs{constructor(c,h,m,C,D=!1){this.auth=c,this.resolver=m,this.user=C,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,f.A)(function*(m,C){c.pendingPromise={resolve:m,reject:C};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(D){c.reject(D)}});return function(m,C){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,f.A)(function*(){const{urlResponse:m,sessionId:C,postBody:D,tenantId:x,error:U,type:pe}=c;if(U)return void h.reject(U);const Ie={auth:h.auth,requestUri:m,sessionId:C,tenantId:x||void 0,postBody:D||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(pe)(Ie))}catch(Ne){h.reject(Ne)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Sc;case"linkViaPopup":case"linkViaRedirect":return eo;case"reauthViaPopup":case"reauthViaRedirect":return Mc;default:ae(this.auth,"internal-error")}}resolve(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){lt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dt=new li(2e3,1e4);function ys(){return(ys=(0,f.A)(function*(p,c,h){const m=Qt(p);ve(p,c,er);const C=Fr(m,h);return new Bi(m,"signInViaPopup",c,C).executeNotNull()})).apply(this,arguments)}function Es(){return(Es=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p);ve(m.auth,c,er);const C=Fr(m.auth,h);return new Bi(m.auth,"reauthViaPopup",c,C,m).executeNotNull()})).apply(this,arguments)}function Cs(){return(Cs=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p);ve(m.auth,c,er);const C=Fr(m.auth,h);return new Bi(m.auth,"linkViaPopup",c,C,m).executeNotNull()})).apply(this,arguments)}let Bi=(()=>{class p extends vs{constructor(h,m,C,D,x){super(h,m,D,x),this.provider=C,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var h=this;return(0,f.A)(function*(){const m=yield h.execute();return J(m,h.auth,"internal-error"),m})()}onExecution(){var h=this;return(0,f.A)(function*(){lt(1===h.filter.length,"Popup operations only handle one event");const m=ql();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],m),h.authWindow.associatedEvent=m,h.resolver._originValidation(h.auth).catch(C=>{h.reject(C)}),h.resolver._isIframeWebStorageSupported(h.auth,C=>{C||h.reject(K(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(K(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const h=()=>{var m,C;this.pollId=null!==(C=null===(m=this.authWindow)||void 0===m?void 0:m.window)&&void 0!==C&&C.closed?window.setTimeout(()=>{this.pollId=null,this.reject(K(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Dt.get())};h()}}return p.currentPopupAction=null,p})();const ou="pendingRedirect",Lr=new Map;class ji extends vs{constructor(c,h,m=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,m),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,f.A)(function*(){let m=Lr.get(h.auth._key());if(!m){try{const D=(yield function xa(p,c){return cf.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;m=()=>Promise.resolve(D)}catch(C){m=()=>Promise.reject(C)}Lr.set(h.auth._key(),m)}return h.bypassAuthState||Lr.set(h.auth._key(),()=>Promise.resolve(null)),m()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,m=this;return(0,f.A)(function*(){if("signInViaRedirect"===c.type)return h().call(m,c);if("unknown"!==c.type){if(c.eventId){const C=yield m.auth._redirectUserForId(c.eventId);if(C)return m.user=C,h().call(m,c);m.resolve(null)}}else m.resolve(null)})()}onExecution(){return(0,f.A)(function*(){})()}cleanUp(){}}function cf(){return(cf=(0,f.A)(function*(p,c){const h=au(c),m=Oc(p);if(!(yield m._isAvailable()))return!1;const C="true"===(yield m._get(h));return yield m._remove(h),C})).apply(this,arguments)}function Hi(p,c){return $i.apply(this,arguments)}function $i(){return($i=(0,f.A)(function*(p,c){return Oc(p)._set(au(c),"true")})).apply(this,arguments)}function Ln(p,c){Lr.set(p._key(),c)}function Oc(p){return $t(p._redirectPersistence)}function au(p){return P(ou,p.config.apiKey,p.name)}function Ar(p,c,h){return function zt(p,c,h){return Wi.apply(this,arguments)}(p,c,h)}function Wi(){return(Wi=(0,f.A)(function*(p,c,h){const m=Qt(p);ve(p,c,er),yield m._initializationPromise;const C=Fr(m,h);return yield Hi(C,m),C._openRedirect(m,c,"signInViaRedirect")})).apply(this,arguments)}function ko(p,c,h){return function Vr(p,c,h){return sn.apply(this,arguments)}(p,c,h)}function sn(){return(sn=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p);ve(m.auth,c,er),yield m.auth._initializationPromise;const C=Fr(m.auth,h);yield Hi(C,m.auth);const D=yield to(m);return C._openRedirect(m.auth,c,"reauthViaRedirect",D)})).apply(this,arguments)}function lu(p,c,h){return function Pc(p,c,h){return ka.apply(this,arguments)}(p,c,h)}function ka(){return(ka=(0,f.A)(function*(p,c,h){const m=(0,S.Ku)(p);ve(m.auth,c,er),yield m.auth._initializationPromise;const C=Fr(m.auth,h);yield Vi(!1,m,c.providerId),yield Hi(C,m.auth);const D=yield to(m);return C._openRedirect(m.auth,c,"linkViaRedirect",D)})).apply(this,arguments)}function Vn(){return(Vn=(0,f.A)(function*(p,c){return yield Qt(p)._initializationPromise,dn(p,c,!1)})).apply(this,arguments)}function dn(p,c){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.A)(function*(p,c,h=!1){const m=Qt(p),C=Fr(m,c),x=yield new ji(m,C,h).execute();return x&&!h&&(delete x.user._redirectEventId,yield m._persistUserIfCurrent(x.user),yield m._setRedirectUser(null,c)),x})).apply(this,arguments)}function to(p){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.A)(function*(p){const c=ql(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class no{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(m=>{this.isEventForConsumer(c,m)&&(h=!0,this.sendToConsumer(c,m),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Fo(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Is(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var m;if(c.error&&!Is(c)){const C=(null===(m=c.error.code)||void 0===m?void 0:m.split("auth/")[1])||"internal-error";h.onError(K(this.auth,C))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const m=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&m}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fa(c))}saveEventToCache(c){this.cachedEventUids.add(Fa(c)),this.lastProcessedEventTime=Date.now()}}function Fa(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function Is({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function xc(p){return nt.apply(this,arguments)}function nt(){return(nt=(0,f.A)(function*(p,c={}){return Z(p,"GET","/v1/projects",c)})).apply(this,arguments)}const La=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function qi(){return(qi=(0,f.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield xc(p);for(const h of c)try{if(uu(h))return}catch{}ae(p,"unauthorized-domain")})).apply(this,arguments)}function uu(p){const c=Dn(),{protocol:h,hostname:m}=new URL(c);if(p.startsWith("chrome-extension://")){const x=new URL(p);return""===x.hostname&&""===m?"chrome-extension:"===h&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&x.hostname===m}if(!Va.test(h))return!1;if(La.test(p))return m===p;const C=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(m)}const Ur=new li(3e4,6e4);function Ds(){const p=kt().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let h=0;h<p.CP.length;h++)p.CP[h]=null}let Ft=null;const kc=new li(5e3,15e3),cu="__/auth/iframe",Fc="emulator/auth/iframe",du={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ro(p){const c=p.config;J(c.authDomain,p,"auth-domain-config-required");const h=c.emulator?Ni(c,Fc):`https://${p.config.authDomain}/${cu}`,m={apiKey:c.apiKey,appName:p.name,v:G.SDK_VERSION},C=fu.get(p.config.apiHost);C&&(m.eid=C);const D=p._getFrameworks();return D.length&&(m.fw=D.join(",")),`${h}?${(0,S.Am)(m).slice(1)}`}function y(){return y=(0,f.A)(function*(p){const c=yield function ws(p){return Ft=Ft||function Yi(p){return new Promise((c,h)=>{var m,C,D;function x(){Ds(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Ds(),h(K(p,"network-request-failed"))},timeout:Ur.get()})}if(null!==(C=null===(m=kt().gapi)||void 0===m?void 0:m.iframes)&&void 0!==C&&C.Iframe)c(gapi.iframes.getContext());else{if(null===(D=kt().gapi)||void 0===D||!D.load){const U=Zn("iframefcb");return kt()[U]=()=>{gapi.load?x():h(K(p,"network-request-failed"))},zr(`https://apis.google.com/js/api.js?onload=${U}`).catch(pe=>h(pe))}x()}}).catch(c=>{throw Ft=null,c})}(p),Ft}(p),h=kt().gapi;return J(h,p,"internal-error"),c.open({where:document.body,url:ro(p),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:du,dontclear:!0},m=>new Promise(function(){var C=(0,f.A)(function*(D,x){yield m.restyle({setHideOnLeave:!1});const U=K(p,"network-request-failed"),pe=kt().setTimeout(()=>{x(U)},kc.get());function Ie(){kt().clearTimeout(pe),D(m)}m.ping(Ie).then(Ie,()=>{x(U)})});return function(D,x){return C.apply(this,arguments)}}()))}),y.apply(this,arguments)}const I={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Se{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tt="__/auth/handler",Qe="emulator/auth/handler",zn=encodeURIComponent("fac");function Lt(p,c,h,m,C,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,f.A)(function*(p,c,h,m,C,D){J(p.config.authDomain,p,"auth-domain-config-required"),J(p.config.apiKey,p,"invalid-api-key");const x={apiKey:p.config.apiKey,appName:p.name,authType:h,redirectUrl:m,v:G.SDK_VERSION,eventId:C};if(c instanceof er){c.setDefaultLanguage(p.languageCode),x.providerId=c.providerId||"",(0,S.Im)(c.getCustomParameters())||(x.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Ne,xe]of Object.entries(D||{}))x[Ne]=xe}if(c instanceof tr){const Ne=c.getScopes().filter(xe=>""!==xe);Ne.length>0&&(x.scopes=Ne.join(","))}p.tenantId&&(x.tid=p.tenantId);const U=x;for(const Ne of Object.keys(U))void 0===U[Ne]&&delete U[Ne];const pe=yield p._getAppCheckToken(),Ie=pe?`#${zn}=${encodeURIComponent(pe)}`:"";return`${function hu({config:p}){return p.emulator?Ni(p,Qe):`https://${p.authDomain}/${tt}`}(p)}?${(0,S.Am)(U).slice(1)}${Ie}`})).apply(this,arguments)}const Pt="webStorageSupport",lr=class ar{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=dn,this._overrideRedirectResult=Ln}_openPopup(c,h,m,C){var D=this;return(0,f.A)(function*(){var x;lt(null===(x=D.eventManagers[c._key()])||void 0===x?void 0:x.manager,"_initialize() not called before _openPopup()");const U=yield Lt(c,h,m,Dn(),C);return function De(p,c,h,m=500,C=600){const D=Math.max((window.screen.availHeight-C)/2,0).toString(),x=Math.max((window.screen.availWidth-m)/2,0).toString();let U="";const pe=Object.assign(Object.assign({},I),{width:m.toString(),height:C.toString(),top:D,left:x}),Ie=(0,S.ZQ)().toLowerCase();h&&(U=Pe(Ie)?"_blank":h),le(Ie)&&(c=c||"http://localhost",pe.scrollbars="yes");const Ne=Object.entries(pe).reduce((Xt,[jr,co])=>`${Xt}${jr}=${co},`,"");if(function bn(p=(0,S.ZQ)()){var c;return et(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ie)&&"_self"!==U)return function Le(p,c){const h=document.createElement("a");h.href=p,h.target=c;const m=document.createEvent("MouseEvent");m.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(m)}(c||"",U),new Se(null);const xe=window.open(c||"",U,Ne);J(xe,p,"popup-blocked");try{xe.focus()}catch{}return new Se(xe)}(c,U,ql())})()}_openRedirect(c,h,m,C){var D=this;return(0,f.A)(function*(){return yield D._originValidation(c),function rf(p){kt().location.href=p}(yield Lt(c,h,m,Dn(),C)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:C,promise:D}=this.eventManagers[h];return C?Promise.resolve(C):(lt(D,"If manager is not set, promise should be"),D)}const m=this.initAndGetManager(c);return this.eventManagers[h]={promise:m},m.catch(()=>{delete this.eventManagers[h]}),m}initAndGetManager(c){var h=this;return(0,f.A)(function*(){const m=yield function _(p){return y.apply(this,arguments)}(c),C=new no(c);return m.register("authEvent",D=>(J(D?.authEvent,c,"invalid-auth-event"),{status:C.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:C},h.iframes[c._key()]=m,C})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(Pt,{type:Pt},C=>{var D;const x=null===(D=C?.[0])||void 0===D?void 0:D[Pt];void 0!==x&&h(!!x),ae(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Sr(p){return qi.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return fi()||Q()||et()}};class Ua{constructor(c){this.factorId=c}_process(c,h,m){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,m);case"signin":return this._finalizeSignIn(c,h.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class Mr extends Ua{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Mr(c)}_finalizeEnroll(c,h,m){return function zl(p,c){return Z(p,"POST","/v2/accounts/mfaEnrollment:finalize",W(p,c))}(c,{idToken:h,displayName:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function nu(p,c){return Z(p,"POST","/v2/accounts/mfaSignIn:finalize",W(p,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ba=(()=>{class p{constructor(){}static assertion(h){return Mr._fromCredential(h)}}return p.FACTOR_ID="phone",p})();var zg="@firebase/auth";class fy{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,f.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(m=>{c(m?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);h&&(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function so(){return window}(0,S.XA)("authIdTokenMaxAge"),function df(p){(0,G._registerComponent)(new oe.uA("auth",(c,{options:h})=>{const m=c.getProvider("app").getImmediate(),C=c.getProvider("heartbeat"),D=c.getProvider("app-check-internal"),{apiKey:x,authDomain:U}=m.options;J(x&&!x.includes(":"),"invalid-api-key",{appName:m.name});const pe={apiKey:x,authDomain:U,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:se(p)},Ie=new _l(m,C,D,pe);return function Kd(p,c){const h=c?.persistence||[],m=(Array.isArray(h)?h:[h]).map($t);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(m,c?.popupRedirectResolver)}(Ie,h),Ie},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,m)=>{c.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new oe.uA("auth-internal",c=>{const h=Qt(c.getProvider("auth").getImmediate());return new fy(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(zg,"0.23.2",function Br(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,G.registerVersion)(zg,"0.23.2","esm2017")}("Browser");function Uo(){return Uo=(0,f.A)(function*(p,c,h){var m;const{BuildInfo:C}=so();lt(c.sessionId,"AuthEvent did not contain a session ID");const D=yield function qg(p){return jc.apply(this,arguments)}(c.sessionId),x={};return et()?x.ibi=C.packageName:mt()?x.apn=C.packageName:ae(p,"operation-not-supported-in-this-environment"),C.displayName&&(x.appDisplayName=C.displayName),x.sessionId=D,Lt(p,h,c.type,void 0,null!==(m=c.eventId)&&void 0!==m?m:void 0,x)}),Uo.apply(this,arguments)}function Bo(){return(Bo=(0,f.A)(function*(p){const{BuildInfo:c}=so(),h={};et()?h.iosBundleId=c.packageName:mt()?h.androidPackageName=c.packageName:ae(p,"operation-not-supported-in-this-environment"),yield xc(p,h)})).apply(this,arguments)}function Ha(){return(Ha=(0,f.A)(function*(p,c,h){const{cordova:m}=so();let C=()=>{};try{yield new Promise((D,x)=>{let U=null;function pe(){var xe;D();const Xt=null===(xe=m.plugins.browsertab)||void 0===xe?void 0:xe.close;"function"==typeof Xt&&Xt(),"function"==typeof h?.close&&h.close()}function Ie(){U||(U=window.setTimeout(()=>{x(K(p,"redirect-cancelled-by-user"))},2e3))}function Ne(){"visible"===document?.visibilityState&&Ie()}c.addPassiveListener(pe),document.addEventListener("resume",Ie,!1),mt()&&document.addEventListener("visibilitychange",Ne,!1),C=()=>{c.removePassiveListener(pe),document.removeEventListener("resume",Ie,!1),document.removeEventListener("visibilitychange",Ne,!1),U&&window.clearTimeout(U)}})}finally{C()}})).apply(this,arguments)}function jc(){return(jc=(0,f.A)(function*(p){const c=function Hc(p){if(lt(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const c=new ArrayBuffer(p.length),h=new Uint8Array(c);for(let m=0;m<p.length;m++)h[m]=p.charCodeAt(m);return h}(p),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(C=>C.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class $h extends no{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,f.A)(function*(){yield c.initPromise})()}}function ao(p){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.A)(function*(p){const c=yield jo()._get(Qi(p));return c&&(yield jo()._remove(Qi(p))),c})).apply(this,arguments)}function bs(){const p=[];for(let h=0;h<20;h++){const m=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(m))}return p.join("")}function jo(){return $t(Qs)}function Qi(p){return P("authEvent",p.config.apiKey,p.name)}function Ho(p){if(!p?.includes("?"))return{};const[c,...h]=p.split("?");return(0,S.I9)(h.join("?"))}const Gh=class Wc{constructor(){this._redirectPersistence=gs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dn,this._overrideRedirectResult=Ln}_initialize(c){var h=this;return(0,f.A)(function*(){const m=c._key();let C=h.eventManagers.get(m);return C||(C=new $h(c),h.eventManagers.set(m,C),h.attachCallbackListeners(c,C)),C})()}_openPopup(c){ae(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,m,C){var D=this;return(0,f.A)(function*(){!function Bc(p){var c,h,m,C,D,x,U,pe,Ie,Ne;const xe=so();J("function"==typeof(null===(c=xe?.universalLinks)||void 0===c?void 0:c.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(h=xe?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(D=null===(C=null===(m=xe?.cordova)||void 0===m?void 0:m.plugins)||void 0===C?void 0:C.browsertab)||void 0===D?void 0:D.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(pe=null===(U=null===(x=xe?.cordova)||void 0===x?void 0:x.plugins)||void 0===U?void 0:U.browsertab)||void 0===pe?void 0:pe.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(Ne=null===(Ie=xe?.cordova)||void 0===Ie?void 0:Ie.InAppBrowser)||void 0===Ne?void 0:Ne.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const x=yield D._initialize(c);yield x.initialized(),x.resetRedirect(),function Nc(){Lr.clear()}(),yield D._originValidation(c);const U=function hf(p,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:bs(),postBody:null,tenantId:p.tenantId,error:K(p,"no-auth-event")}}(c,m,C);yield function Yg(p,c){return jo()._set(Qi(p),c)}(c,U);const pe=yield function Vc(p,c,h){return Uo.apply(this,arguments)}(c,U,h),Ie=yield function Hh(p){const{cordova:c}=so();return new Promise(h=>{c.plugins.browsertab.isAvailable(m=>{let C=null;m?c.plugins.browsertab.openUrl(p):C=c.InAppBrowser.open(p,function ht(p=(0,S.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),h(C)})})}(pe);return function Uc(p,c,h){return Ha.apply(this,arguments)}(c,x,Ie)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function pu(p){return Bo.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:m,handleOpenURL:C,BuildInfo:D}=so(),x=setTimeout((0,f.A)(function*(){yield ao(c),h.onEvent(zh())}),500),U=function(){var Ne=(0,f.A)(function*(xe){clearTimeout(x);const Xt=yield ao(c);let jr=null;Xt&&xe?.url&&(jr=function gu(p,c){var h,m;const C=function $a(p){const c=Ho(p),h=c.link?decodeURIComponent(c.link):void 0,m=Ho(h).link,C=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Ho(C).link||C||m||h||p}(c);if(C.includes("/__/auth/callback")){const D=Ho(C),x=D.firebaseError?function $c(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(D.firebaseError)):null,U=null===(m=null===(h=x?.code)||void 0===h?void 0:h.split("auth/"))||void 0===m?void 0:m[1],pe=U?K(U):null;return pe?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:pe,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:C,postBody:null}}return null}(Xt,xe.url)),h.onEvent(jr||zh())});return function(Xt){return Ne.apply(this,arguments)}}();typeof m<"u"&&"function"==typeof m.subscribe&&m.subscribe(null,U);const pe=C,Ie=`${D.packageName.toLowerCase()}://`;so().handleOpenURL=function(){var Ne=(0,f.A)(function*(xe){if(xe.toLowerCase().startsWith(Ie)&&U({url:xe}),"function"==typeof pe)try{pe(xe)}catch(Xt){console.error(Xt)}});return function(xe){return Ne.apply(this,arguments)}}()}};function zh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:K("no-auth-event")}}function mu(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Gc(p=(0,S.ZQ)()){return!("file:"!==mu()&&"ionic:"!==mu()&&"capacitor:"!==mu()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zg(){try{const p=self.localStorage,c=ql();if(p)return p.setItem(c,"1"),p.removeItem(c),!function RD(p=(0,S.ZQ)()){return function Yh(){return(0,S.lT)()&&11===document?.documentMode}()||function _u(p=(0,S.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,S.zW)()}catch{return Wa()&&(0,S.zW)()}return!1}function Wa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function pf(){return(function Qg(){return"http:"===mu()||"https:"===mu()}()||(0,S.sr)()||Gc())&&!function Xg(){return(0,S.lV)()||(0,S.Ll)()}()&&Zg()&&!Wa()}function gf(){return Gc()&&typeof document<"u"}function Rr(){return(Rr=(0,f.A)(function*(){return!!gf()&&new Promise(p=>{const c=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),p(!0)})})})).apply(this,arguments)}const vr={LOCAL:"local",NONE:"none",SESSION:"session"},$o=J,_f="persistence";function vu(p){return zc.apply(this,arguments)}function zc(){return(zc=(0,f.A)(function*(p){yield p._initializationPromise;const c=Ga(),h=P(_f,p.config.apiKey,p.name);c&&c.setItem(h,p._getPersistence())})).apply(this,arguments)}function Ga(){var p;try{return(null===(p=function As(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const za=J;class Ts{constructor(){this.browserResolver=$t(lr),this.cordovaResolver=$t(Gh),this.underlyingResolver=null,this._redirectPersistence=gs,this._completeRedirectFn=dn,this._overrideRedirectResult=Ln}_initialize(c){var h=this;return(0,f.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,m,C){var D=this;return(0,f.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openPopup(c,h,m,C)})()}_openRedirect(c,h,m,C){var D=this;return(0,f.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openRedirect(c,h,m,C)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return gf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return za(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,f.A)(function*(){if(c.underlyingResolver)return;const h=yield function mf(){return Rr.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function Kc(p){return p.unwrap()}function yf(p){return yu(p)}function yu(p){const{_tokenResponse:c}=p instanceof S.g?p.customData:p;if(!c)return null;if(!(p instanceof S.g)&&"temporaryProof"in c&&"phoneNumber"in c)return Tt.credentialFromResult(p);const h=c.providerId;if(!h||h===re.PASSWORD)return null;let m;switch(h){case re.GOOGLE:m=kr;break;case re.FACEBOOK:m=cc;break;case re.GITHUB:m=gi;break;case re.TWITTER:m=Do;break;default:const{oauthIdToken:C,oauthAccessToken:D,oauthTokenSecret:x,pendingToken:U,nonce:pe}=c;return D||x||C||U?U?h.startsWith("saml.")?Kr._create(h,U):we._fromParams({providerId:h,signInMethod:h,pendingToken:U,idToken:C,accessToken:D}):new wr(h).credential({idToken:C,accessToken:D,rawNonce:pe}):null}return p instanceof S.g?m.credentialFromError(p):m.credentialFromResult(p)}function yr(p,c){return c.catch(h=>{throw h instanceof S.g&&function Ef(p,c){var h;const m=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new Jg(p,function Wl(p,c){var h;const m=(0,S.Ku)(p),C=c;return J(c.customData.operationType,m,"argument-error"),J(null===(h=C.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,m,"argument-error"),fs._fromError(m,C)}(p,c));else if(m){const C=yu(c),D=c;C&&(D.credential=C,D.tenantId=m.tenantId||void 0,D.email=m.email||void 0,D.phoneNumber=m.phoneNumber||void 0)}}(p,h),h}).then(h=>{const C=h.user;return{operationType:h.operationType,credential:yf(h),additionalUserInfo:tf(h),user:Ss.getOrCreate(C)}})}function Cf(p,c){return uo.apply(this,arguments)}function uo(){return(uo=(0,f.A)(function*(p,c){const h=yield c;return{verificationId:h.verificationId,confirm:m=>yr(p,h.confirm(m))}})).apply(this,arguments)}class Jg{constructor(c,h){this.resolver=h,this.auth=function vf(p){return p.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return yr(Kc(this.auth),this.resolver.resolveSignIn(c))}}class Ss{constructor(c){this._delegate=c,this.multiFactor=function Ys(p){const c=(0,S.Ku)(p);return At.has(c)||At.set(c,hs._fromUser(c)),At.get(c)}(c)}static getOrCreate(c){return Ss.USER_MAP.has(c)||Ss.USER_MAP.set(c,new Ss(c)),Ss.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,f.A)(function*(){return yr(h.auth,Th(h._delegate,c))})()}linkWithPhoneNumber(c,h){var m=this;return(0,f.A)(function*(){return Cf(m.auth,function cn(p,c,h){return ze.apply(this,arguments)}(m._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,f.A)(function*(){return yr(h.auth,function Rc(p,c,h){return Cs.apply(this,arguments)}(h._delegate,c,Ts))})()}linkWithRedirect(c){var h=this;return(0,f.A)(function*(){return yield vu(Qt(h.auth)),lu(h._delegate,c,Ts)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,f.A)(function*(){return yr(h.auth,Sh(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return Cf(this.auth,function or(p,c,h){return Js.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return yr(this.auth,function Pa(p,c,h){return Es.apply(this,arguments)}(this._delegate,c,Ts))}reauthenticateWithRedirect(c){var h=this;return(0,f.A)(function*(){return yield vu(Qt(h.auth)),ko(h._delegate,c,Ts)})()}sendEmailVerification(c){return function cs(p,c){return yi.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,f.A)(function*(){return yield function Sl(p,c){return kn.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function Oh(p,c){return jl((0,S.Ku)(p),c,null)}(this._delegate,c)}updatePassword(c){return function Bl(p,c){return jl((0,S.Ku)(p),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Mn(p,c){return Jr.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Nh(p,c){return wa.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function Ia(p,c,h){return Da.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ss.USER_MAP=new WeakMap;const Cn=J;let Eu=(()=>{class p{constructor(h,m){if(this.app=h,m.isInitialized())return this._delegate=m.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:C}=h.options;Cn(C,"invalid-api-key",{appName:h.name}),Cn(C,"invalid-api-key",{appName:h.name});const D=typeof window<"u"?Ts:void 0;this._delegate=m.initialize({options:{persistence:If(C,h.name),popupRedirectResolver:D}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ss.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,m){!function fa(p,c,h){const m=Qt(p);J(m._canInitEmulator,m,"emulator-config-failed"),J(/^https?:\/\//.test(c),m,"invalid-emulator-scheme");const C=!!h?.disableWarnings,D=On(c),{host:x,port:U}=function lc(p){const c=On(p),h=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!h)return{host:"",port:null};const m=h[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(m);if(C){const D=C[1];return{host:D,port:vl(m.substr(D.length+1))}}{const[D,x]=m.split(":");return{host:D,port:vl(x)}}}(c);m.config.emulator={url:`${D}//${x}${null===U?"":`:${U}`}/`},m.settings.appVerificationDisabledForTesting=!0,m.emulatorConfig=Object.freeze({host:x,port:U,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Ah(){function p(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,h,m)}applyActionCode(h){return function Yr(p,c){return br.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return hc(this._delegate,h)}confirmPasswordReset(h,m){return function Mh(p,c,h){return vi.apply(this,arguments)}(this._delegate,h,m)}createUserWithEmailAndPassword(h,m){var C=this;return(0,f.A)(function*(){return yr(C._delegate,function Fl(p,c,h){return Ao.apply(this,arguments)}(C._delegate,h,m))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Ul(p,c){return zs.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function Jd(p,c){const h=pi.parseLink(c);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,f.A)(function*(){Cn(pf(),h._delegate,"operation-not-supported-in-this-environment");const m=yield function Gi(p,c){return Vn.apply(this,arguments)}(h._delegate,Ts);return m?yr(h._delegate,Promise.resolve(m)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Kh(p,c){Qt(p)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,m,C){const{next:D,error:x,complete:U}=qc(h,m,C);return this._delegate.onAuthStateChanged(D,x,U)}onIdTokenChanged(h,m,C){const{next:D,error:x,complete:U}=qc(h,m,C);return this._delegate.onIdTokenChanged(D,x,U)}sendSignInLinkToEmail(h,m){return function To(p,c,h){return Gs.apply(this,arguments)}(this._delegate,h,m)}sendPasswordResetEmail(h,m){return function Wg(p,c,h){return bo.apply(this,arguments)}(this._delegate,h,m||void 0)}setPersistence(h){var m=this;return(0,f.A)(function*(){let C;switch(function Di(p,c){$o(Object.values(vr).includes(c),p,"invalid-persistence-type"),(0,S.lV)()?$o(c!==vr.SESSION,p,"unsupported-persistence-type"):(0,S.Ll)()?$o(c===vr.NONE,p,"unsupported-persistence-type"):Wa()?$o(c===vr.NONE||c===vr.LOCAL&&(0,S.zW)(),p,"unsupported-persistence-type"):$o(c===vr.NONE||Zg(),p,"unsupported-persistence-type")}(m._delegate,h),h){case vr.SESSION:C=gs;break;case vr.LOCAL:C=(yield $t(ir)._isAvailable())?ir:Qs;break;case vr.NONE:C=$n;break;default:return ae("argument-error",{appName:m._delegate.name})}return m._delegate.setPersistence(C)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return yr(this._delegate,function wo(p){return vn.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return yr(this._delegate,Pl(this._delegate,h))}signInWithCustomToken(h){return yr(this._delegate,function fc(p,c){return _i.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,m){return yr(this._delegate,function pc(p,c,h){return Pl((0,S.Ku)(p),$s.credential(c,h))}(this._delegate,h,m))}signInWithEmailLink(h,m){return yr(this._delegate,function yn(p,c,h){return Ca.apply(this,arguments)}(this._delegate,h,m))}signInWithPhoneNumber(h,m){return Cf(this._delegate,function _s(p,c,h){return Zs.apply(this,arguments)}(this._delegate,h,m))}signInWithPopup(h){var m=this;return(0,f.A)(function*(){return Cn(pf(),m._delegate,"operation-not-supported-in-this-environment"),yr(m._delegate,function su(p,c,h){return ys.apply(this,arguments)}(m._delegate,h,Ts))})()}signInWithRedirect(h){var m=this;return(0,f.A)(function*(){return Cn(pf(),m._delegate,"operation-not-supported-in-this-environment"),yield vu(m._delegate),Ar(m._delegate,h,Ts)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function Ws(p,c){return Sn.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=vr,p})();function qc(p,c,h){let m=p;"function"!=typeof p&&({next:m,error:c,complete:h}=p);const C=m;return{next:x=>C(x&&Ss.getOrCreate(x)),error:c,complete:h}}function If(p,c){const h=function Wo(p,c){const h=Ga();if(!h)return[];const m=P(_f,p,c);switch(h.getItem(m)){case vr.NONE:return[$n];case vr.LOCAL:return[ir,gs];case vr.SESSION:return[gs];default:return[]}}(p,c);if(typeof self<"u"&&!h.includes(ir)&&h.push(ir),typeof window<"u")for(const m of[Qs,gs])h.includes(m)||h.push(m);return h.includes($n)||h.push($n),h}class Rn{constructor(){this.providerId="phone",this._delegate=new Tt(Kc(H.A.auth()))}static credential(c,h){return Tt.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}Rn.PHONE_SIGN_IN_METHOD=Tt.PHONE_SIGN_IN_METHOD,Rn.PROVIDER_ID=Tt.PROVIDER_ID;const Ka=J;class Qh{constructor(c,h,m=H.A.app()){var C;Ka(null===(C=m.options)||void 0===C?void 0:C.apiKey,"invalid-api-key",{appName:m.name}),this._delegate=new Oa(c,h,m.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function my(p){p.INTERNAL.registerComponent(new oe.uA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),m=c.getProvider("auth");return new Eu(h,m)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$s,FacebookAuthProvider:cc,GithubAuthProvider:gi,GoogleAuthProvider:kr,OAuthProvider:wr,SAMLAuthProvider:Tl,PhoneAuthProvider:Rn,PhoneMultiFactorGenerator:Ba,RecaptchaVerifier:Qh,TwitterAuthProvider:Do,Auth:Eu,AuthCredential:os,Error:S.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.2")}(H.A)},467:(Ue,ce,T)=>{function f(S,G,Y,ie,oe,me,re){try{var N=S[me](re),k=N.value}catch(j){return void Y(j)}N.done?G(k):Promise.resolve(k).then(ie,oe)}function H(S){return function(){var G=this,Y=arguments;return new Promise(function(ie,oe){var me=S.apply(G,Y);function re(k){f(me,ie,oe,re,N,"next",k)}function N(k){f(me,ie,oe,re,N,"throw",k)}re(void 0)})}}T.d(ce,{A:()=>H})},1635:(Ue,ce,T)=>{function G(X,ne){var W={};for(var Z in X)Object.prototype.hasOwnProperty.call(X,Z)&&ne.indexOf(Z)<0&&(W[Z]=X[Z]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(Z=Object.getOwnPropertySymbols(X);de<Z.length;de++)ne.indexOf(Z[de])<0&&Object.prototype.propertyIsEnumerable.call(X,Z[de])&&(W[Z[de]]=X[Z[de]])}return W}function j(X,ne,W,Z){return new(W||(W=Promise))(function(ee,Ve){function st(xt){try{Oe(Z.next(xt))}catch(wt){Ve(wt)}}function Nt(xt){try{Oe(Z.throw(xt))}catch(wt){Ve(wt)}}function Oe(xt){xt.done?ee(xt.value):function de(ee){return ee instanceof W?ee:new W(function(Ve){Ve(ee)})}(xt.value).then(st,Nt)}Oe((Z=Z.apply(X,ne||[])).next())})}function q(X){return this instanceof q?(this.v=X,this):new q(X)}function ae(X,ne,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,Z=W.apply(X,ne||[]),ee=[];return de=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function Ve(Je){return function(Ht){return Promise.resolve(Ht).then(Je,wt)}}),de[Symbol.asyncIterator]=function(){return this},de;function st(Je,Ht){Z[Je]&&(de[Je]=function(on){return new Promise(function(pn,qt){ee.push([Je,on,pn,qt])>1||Nt(Je,on)})},Ht&&(de[Je]=Ht(de[Je])))}function Nt(Je,Ht){try{!function Oe(Je){Je.value instanceof q?Promise.resolve(Je.value.v).then(xt,wt):jn(ee[0][2],Je)}(Z[Je](Ht))}catch(on){jn(ee[0][3],on)}}function xt(Je){Nt("next",Je)}function wt(Je){Nt("throw",Je)}function jn(Je,Ht){Je(Ht),ee.shift(),ee.length&&Nt(ee[0][0],ee[0][1])}}function ue(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,ne=X[Symbol.asyncIterator];return ne?ne.call(X):(X=function ge(X){var ne="function"==typeof Symbol&&Symbol.iterator,W=ne&&X[ne],Z=0;if(W)return W.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Z>=X.length&&(X=void 0),{value:X&&X[Z++],done:!X}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),W={},Z("next"),Z("throw"),Z("return"),W[Symbol.asyncIterator]=function(){return this},W);function Z(ee){W[ee]=X[ee]&&function(Ve){return new Promise(function(st,Nt){!function de(ee,Ve,st,Nt){Promise.resolve(Nt).then(function(Oe){ee({value:Oe,done:st})},Ve)}(st,Nt,(Ve=X[ee](Ve)).done,Ve.value)})}}}T.d(ce,{AQ:()=>ae,N3:()=>q,Tt:()=>G,sH:()=>j,xN:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},Ue=>{Ue(Ue.s=3322)}]);