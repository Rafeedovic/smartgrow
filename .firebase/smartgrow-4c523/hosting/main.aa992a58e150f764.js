"use strict";(self.webpackChunksmartgrow=self.webpackChunksmartgrow||[]).push([[792],{4783:(Ue,ce,A)=>{A.d(ce,{BM:()=>he,Gt:()=>K,bf:()=>Ee,e7:()=>ie,iB:()=>R,rx:()=>me,uP:()=>re});var d=A(7705),j=A(7935),T=A(1161);Ue=A.hmd(Ue);const W=["ngOnDestroy"],K=(ye,We,Be,z={})=>new Proxy(ye,{get:(ae,G)=>Be.runOutsideAngular(()=>{var le;if(ye[G])return!(null===(le=z?.spy)||void 0===le)&&le.get&&z.spy.get(G,ye[G]),ye[G];if(W.indexOf(G)>-1)return()=>{};const ve=We.toPromise().then(Ae=>{const Z=Ae&&Ae[G];return"function"==typeof Z?Z.bind(Ae):Z&&Z.then?Z.then(Ke=>Be.run(()=>Ke)):Be.run(()=>Z)});return new Proxy(()=>{},{get:(Ae,Z)=>ve[Z],apply:(Ae,Z,Ke)=>ve.then(ut=>{var In;const qn=ut&&ut(...Ke);return!(null===(In=z?.spy)||void 0===In)&&In.apply&&z.spy.apply(G,Ke,qn),qn})})})}),ie=(ye,We)=>{We.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(z=>{Object.defineProperty(ye.prototype,z,Object.getOwnPropertyDescriptor(Be.prototype||Be,z))})})};class oe{constructor(We){return We}}const me=new d.nKC("angularfire2.app.options"),re=new d.nKC("angularfire2.app.name");function R(ye,We,Be){const ae="object"==typeof Be&&Be||{};ae.name=ae.name||"string"==typeof Be&&Be||"[DEFAULT]";const le=j.A.apps.filter(ve=>ve&&ve.name===ae.name)[0]||We.runOutsideAngular(()=>j.A.initializeApp(ye,ae));try{JSON.stringify(ye)!==JSON.stringify(le.options)&&x("error",`${le.name} Firebase App already initialized with different options${Ue.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(le)}const x=(ye,...We)=>{(0,d.naY)()&&typeof console<"u"&&console[ye](...We)},B={provide:oe,useFactory:R,deps:[me,d.SKi,[new d.Xx1,re]]};let Ee=(()=>{class ye{constructor(Be){j.A.registerVersion("angularfire",T.xv.full,"core"),j.A.registerVersion("angularfire",T.xv.full,"app-compat"),j.A.registerVersion("angular",d.xvI.full,Be.toString())}static initializeApp(Be,z){return{ngModule:ye,providers:[{provide:me,useValue:Be},{provide:re,useValue:z}]}}}return ye.\u0275fac=function(Be){return new(Be||ye)(d.KVO(d.Agw))},ye.\u0275mod=d.$C({type:ye}),ye.\u0275inj=d.G2t({providers:[B]}),ye})();function he(ye,We,Be,z,ae){const[,G,le]=globalThis.\u0275AngularfireInstanceCache.find(ve=>ve[0]===ye)||[];if(G)return function Te(ye,We){try{return ye.toString()===We.toString()}catch{return ye===We}}(ae,le)||(we("error",`${We} was already initialized on the ${Be} Firebase App with different settings.${ge?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:ae,was:le})),G;{const ve=z();return globalThis.\u0275AngularfireInstanceCache.push([ye,ve,ae]),ve}}const ge=!!Ue.hot,we=(ye,...We)=>{(0,d.naY)()&&typeof console<"u"&&console[ye](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Ue,ce,A)=>{A.d(ce,{xv:()=>Ar,U0:()=>kc,u0:()=>Is,CA:()=>Tr,lR:()=>Va});var d=A(7705),j=A(2214),T=A(467),W=A(7852),K=A(1076),ie=A(1362),oe=A(8041);const me=(_,v)=>v.some(C=>_ instanceof C);let re,R;const Ee=new WeakMap,he=new WeakMap,Te=new WeakMap,ge=new WeakMap,we=new WeakMap;let Be={get(_,v,C){if(_ instanceof IDBTransaction){if("done"===v)return he.get(_);if("objectStoreNames"===v)return _.objectStoreNames||Te.get(_);if("store"===v)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return le(_[v])},set:(_,v,C)=>(_[v]=C,!0),has:(_,v)=>_ instanceof IDBTransaction&&("done"===v||"store"===v)||v in _};function G(_){return"function"==typeof _?function ae(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function B(){return R||(R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...v){return _.apply(ve(this),v),le(Ee.get(this))}:function(...v){return le(_.apply(ve(this),v))}:function(v,...C){const b=_.call(ve(this),v,...C);return Te.set(b,v.sort?v.sort():[v]),le(b)}}(_):(_ instanceof IDBTransaction&&function We(_){if(he.has(_))return;const v=new Promise((C,b)=>{const k=()=>{_.removeEventListener("complete",U),_.removeEventListener("error",ee),_.removeEventListener("abort",ee)},U=()=>{C(),k()},ee=()=>{b(_.error||new DOMException("AbortError","AbortError")),k()};_.addEventListener("complete",U),_.addEventListener("error",ee),_.addEventListener("abort",ee)});he.set(_,v)}(_),me(_,function x(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,Be):_)}function le(_){if(_ instanceof IDBRequest)return function ye(_){const v=new Promise((C,b)=>{const k=()=>{_.removeEventListener("success",U),_.removeEventListener("error",ee)},U=()=>{C(le(_.result)),k()},ee=()=>{b(_.error),k()};_.addEventListener("success",U),_.addEventListener("error",ee)});return v.then(C=>{C instanceof IDBCursor&&Ee.set(C,_)}).catch(()=>{}),we.set(v,_),v}(_);if(ge.has(_))return ge.get(_);const v=G(_);return v!==_&&(ge.set(_,v),we.set(v,_)),v}const ve=_=>we.get(_),Ke=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],In=new Map;function qn(_,v){if(!(_ instanceof IDBDatabase)||v in _||"string"!=typeof v)return;if(In.get(v))return In.get(v);const C=v.replace(/FromIndex$/,""),b=v!==C,k=ut.includes(C);if(!(C in(b?IDBIndex:IDBObjectStore).prototype)||!k&&!Ke.includes(C))return;const U=function(){var ee=(0,T.A)(function*(Se,...Ie){const Le=this.transaction(Se,k?"readwrite":"readonly");let tt=Le.store;return b&&(tt=tt.index(Ie.shift())),(yield Promise.all([tt[C](...Ie),k&&Le.done]))[0]});return function(Ie){return ee.apply(this,arguments)}}();return In.set(v,U),U}!function z(_){Be=_(Be)}(_=>({..._,get:(v,C,b)=>qn(v,C)||_.get(v,C,b),has:(v,C)=>!!qn(v,C)||_.has(v,C)}));const oi="@firebase/installations",Jt="0.6.4",rs=1e4,ai=`w:${Jt}`,Ri="FIS_v2",ui="https://firebaseinstallations.googleapis.com/v1",Q=36e5,de=new K.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J(_){return _ instanceof K.g&&_.code.includes("request-failed")}function Ve({projectId:_}){return`${ui}/projects/${_}/installations`}function st(_){return{token:_.token,requestStatus:2,expiresIn:Ht(_.expiresIn),creationTime:Date.now()}}function Rt(_,v){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,T.A)(function*(_,v){const b=(yield v.json()).error;return de.create("request-failed",{requestName:_,serverCode:b.code,serverMessage:b.message,serverStatus:b.status})})).apply(this,arguments)}function xt({apiKey:_}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_})}function jn(_){return Je.apply(this,arguments)}function Je(){return(Je=(0,T.A)(function*(_){const v=yield _();return v.status>=500&&v.status<600?_():v})).apply(this,arguments)}function Ht(_){return Number(_.replace("s","000"))}function Kt(){return(Kt=(0,T.A)(function*({appConfig:_,heartbeatServiceProvider:v},{fid:C}){const b=Ve(_),k=xt(_),U=v.getImmediate({optional:!0});if(U){const Le=yield U.getHeartbeatsHeader();Le&&k.append("x-firebase-client",Le)}const Se={method:"POST",headers:k,body:JSON.stringify({fid:C,authVersion:Ri,appId:_.appId,sdkVersion:ai})},Ie=yield jn(()=>fetch(b,Se));if(Ie.ok){const Le=yield Ie.json();return{fid:Le.fid||C,registrationStatus:2,refreshToken:Le.refreshToken,authToken:st(Le.authToken)}}throw yield Rt("Create Installation",Ie)})).apply(this,arguments)}function hr(_){return new Promise(v=>{setTimeout(v,_)})}const yo=/^[cdef][\w-]{21}$/,$e="";function lt(){try{const _=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_),_[0]=112+_[0]%16;const C=function Xe(_){return function Ni(_){return btoa(String.fromCharCode(..._)).replace(/\+/g,"-").replace(/\//g,"_")}(_).substr(0,22)}(_);return yo.test(C)?C:$e}catch{return $e}}function Nt(_){return`${_.appName}!${_.appId}`}const jt=new Map;function Yn(_,v){const C=Nt(_);Vs(C,v),function Fe(_,v){const C=function ot(){return!Qn&&"BroadcastChannel"in self&&(Qn=new BroadcastChannel("[Firebase] FID Change"),Qn.onmessage=_=>{Vs(_.data.key,_.data.fid)}),Qn}();C&&C.postMessage({key:_,fid:v}),function li(){0===jt.size&&Qn&&(Qn.close(),Qn=null)}()}(C,v)}function Vs(_,v){const C=jt.get(_);if(C)for(const b of C)b(v)}let Qn=null;const Wr="firebase-installations-database",Us=1,Hn="firebase-installations-store";let Oi=null;function Nr(){return Oi||(Oi=function Ae(_,v,{blocked:C,upgrade:b,blocking:k,terminated:U}={}){const ee=indexedDB.open(_,v),Se=le(ee);return b&&ee.addEventListener("upgradeneeded",Ie=>{b(le(ee.result),Ie.oldVersion,Ie.newVersion,le(ee.transaction))}),C&&ee.addEventListener("blocked",()=>C()),Se.then(Ie=>{U&&Ie.addEventListener("close",()=>U()),k&&Ie.addEventListener("versionchange",()=>k())}).catch(()=>{}),Se}(Wr,Us,{upgrade:(_,v)=>{0===v&&_.createObjectStore(Hn)}})),Oi}function pn(_,v){return gn.apply(this,arguments)}function gn(){return(gn=(0,T.A)(function*(_,v){const C=Nt(_),k=(yield Nr()).transaction(Hn,"readwrite"),U=k.objectStore(Hn),ee=yield U.get(C);return yield U.put(v,C),yield k.done,(!ee||ee.fid!==v.fid)&&Yn(_,v.fid),v})).apply(this,arguments)}function ci(_){return $t.apply(this,arguments)}function $t(){return($t=(0,T.A)(function*(_){const v=Nt(_),b=(yield Nr()).transaction(Hn,"readwrite");yield b.objectStore(Hn).delete(v),yield b.done})).apply(this,arguments)}function Or(_,v){return $n.apply(this,arguments)}function $n(){return($n=(0,T.A)(function*(_,v){const C=Nt(_),k=(yield Nr()).transaction(Hn,"readwrite"),U=k.objectStore(Hn),ee=yield U.get(C),Se=v(ee);return void 0===Se?yield U.delete(C):yield U.put(Se,C),yield k.done,Se&&(!ee||ee.fid!==Se.fid)&&Yn(_,Se.fid),Se})).apply(this,arguments)}function O(_){return N.apply(this,arguments)}function N(){return N=(0,T.A)(function*(_){let v;const C=yield Or(_.appConfig,b=>{const k=function F(_){return en(_||{fid:lt(),registrationStatus:0})}(b),U=function ue(_,v){if(0===v.registrationStatus){if(!navigator.onLine)return{installationEntry:v,registrationPromise:Promise.reject(de.create("app-offline"))};const C={fid:v.fid,registrationStatus:1,registrationTime:Date.now()},b=function Y(_,v){return Oe.apply(this,arguments)}(_,C);return{installationEntry:C,registrationPromise:b}}return 1===v.registrationStatus?{installationEntry:v,registrationPromise:Ge(_)}:{installationEntry:v}}(_,k);return v=U.registrationPromise,U.installationEntry});return C.fid===$e?{installationEntry:yield v}:{installationEntry:C,registrationPromise:v}}),N.apply(this,arguments)}function Oe(){return Oe=(0,T.A)(function*(_,v){try{const C=yield function hn(_,v){return Kt.apply(this,arguments)}(_,v);return pn(_.appConfig,C)}catch(C){throw J(C)&&409===C.customData.serverCode?yield ci(_.appConfig):yield pn(_.appConfig,{fid:v.fid,registrationStatus:0}),C}}),Oe.apply(this,arguments)}function Ge(_){return mt.apply(this,arguments)}function mt(){return(mt=(0,T.A)(function*(_){let v=yield Et(_.appConfig);for(;1===v.registrationStatus;)yield hr(100),v=yield Et(_.appConfig);if(0===v.registrationStatus){const{installationEntry:C,registrationPromise:b}=yield O(_);return b||C}return v})).apply(this,arguments)}function Et(_){return Or(_,v=>{if(!v)throw de.create("installation-not-found");return en(v)})}function en(_){return function et(_){return 1===_.registrationStatus&&_.registrationTime+rs<Date.now()}(_)?{fid:_.fid,registrationStatus:0}:_}function wn(){return(wn=(0,T.A)(function*({appConfig:_,heartbeatServiceProvider:v},C){const b=function Xn(_,{fid:v}){return`${Ve(_)}/${v}/authTokens:generate`}(_,C),k=function wt(_,{refreshToken:v}){const C=xt(_);return C.append("Authorization",function sn(_){return`${Ri} ${_}`}(v)),C}(_,C),U=v.getImmediate({optional:!0});if(U){const Le=yield U.getHeartbeatsHeader();Le&&k.append("x-firebase-client",Le)}const Se={method:"POST",headers:k,body:JSON.stringify({installation:{sdkVersion:ai,appId:_.appId}})},Ie=yield jn(()=>fetch(b,Se));if(Ie.ok)return st(yield Ie.json());throw yield Rt("Generate Auth Token",Ie)})).apply(this,arguments)}function di(_){return Eo.apply(this,arguments)}function Eo(){return Eo=(0,T.A)(function*(_,v=!1){let C;const b=yield Or(_.appConfig,U=>{if(!Me(U))throw de.create("not-registered");const ee=U.authToken;if(!v&&function _t(_){return 2===_.requestStatus&&!function tn(_){const v=Date.now();return v<_.creationTime||_.creationTime+_.expiresIn<v+Q}(_)}(ee))return U;if(1===ee.requestStatus)return C=function se(_,v){return H.apply(this,arguments)}(_,v),U;{if(!navigator.onLine)throw de.create("app-offline");const Se=function qt(_){const v={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_),{authToken:v})}(U);return C=function xe(_,v){return je.apply(this,arguments)}(_,Se),Se}});return C?yield C:b.authToken}),Eo.apply(this,arguments)}function H(){return(H=(0,T.A)(function*(_,v){let C=yield _e(_.appConfig);for(;1===C.authToken.requestStatus;)yield hr(100),C=yield _e(_.appConfig);const b=C.authToken;return 0===b.requestStatus?di(_,v):b})).apply(this,arguments)}function _e(_){return Or(_,v=>{if(!Me(v))throw de.create("not-registered");return function Gr(_){return 1===_.requestStatus&&_.requestTime+rs<Date.now()}(v.authToken)?Object.assign(Object.assign({},v),{authToken:{requestStatus:0}}):v})}function je(){return je=(0,T.A)(function*(_,v){try{const C=yield function ht(_,v){return wn.apply(this,arguments)}(_,v),b=Object.assign(Object.assign({},v),{authToken:C});return yield pn(_.appConfig,b),C}catch(C){if(!J(C)||401!==C.customData.serverCode&&404!==C.customData.serverCode){const b=Object.assign(Object.assign({},v),{authToken:{requestStatus:0}});yield pn(_.appConfig,b)}else yield ci(_.appConfig);throw C}}),je.apply(this,arguments)}function Me(_){return void 0!==_&&2===_.registrationStatus}function fi(){return(fi=(0,T.A)(function*(_){const v=_,{installationEntry:C,registrationPromise:b}=yield O(v);return b?b.catch(console.error):di(v).catch(console.error),C.fid})).apply(this,arguments)}function la(){return la=(0,T.A)(function*(_,v=!1){const C=_;return yield function ca(_){return Er.apply(this,arguments)}(C),(yield di(C,v)).token}),la.apply(this,arguments)}function Er(){return(Er=(0,T.A)(function*(_){const{registrationPromise:v}=yield O(_);v&&(yield v)})).apply(this,arguments)}function On(_){return de.create("missing-app-config-values",{valueName:_})}const ac="installations",bh=_=>{const v=_.getProvider("app").getImmediate(),C=function fa(_){if(!_||!_.options)throw On("App Configuration");if(!_.name)throw On("App Name");const v=["projectId","apiKey","appId"];for(const C of v)if(!_.options[C])throw On(C);return{appName:_.name,projectId:_.options.projectId,apiKey:_.options.apiKey,appId:_.options.appId}}(v);return{app:v,appConfig:C,heartbeatServiceProvider:(0,W._getProvider)(v,"heartbeat"),_delete:()=>Promise.resolve()}},ss=_=>{const v=_.getProvider("app").getImmediate(),C=(0,W._getProvider)(v,ac).getImmediate();return{getId:()=>function Zn(_){return fi.apply(this,arguments)}(C),getToken:k=>function mu(_){return la.apply(this,arguments)}(C,k)}};(function Kd(){(0,W._registerComponent)(new ie.uA(ac,bh,"PUBLIC")),(0,W._registerComponent)(new ie.uA("installations-internal",ss,"PRIVATE"))})(),(0,W.registerVersion)(oi,Jt),(0,W.registerVersion)(oi,Jt,"esm2017");const ha="@firebase/remote-config",bn=new K.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class De{constructor(v,C,b,k){this.client=v,this.storage=C,this.storageCache=b,this.logger=k}isCachedDataFresh(v,C){if(!C)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const b=Date.now()-C,k=b<=v;return this.logger.debug(`Config fetch cache check. Cache age millis: ${b}. Cache max age millis (minimumFetchIntervalMillis setting): ${v}. Is cache hit: ${k}.`),k}fetch(v){var C=this;return(0,T.A)(function*(){const[b,k]=yield Promise.all([C.storage.getLastSuccessfulFetchTimestampMillis(),C.storage.getLastSuccessfulFetchResponse()]);if(k&&C.isCachedDataFresh(v.cacheMaxAgeMillis,b))return k;v.eTag=k&&k.eTag;const U=yield C.client.fetch(v),ee=[C.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===U.status&&ee.push(C.storage.setLastSuccessfulFetchResponse(U)),yield Promise.all(ee),U})()}}function rt(_=navigator){return _.languages&&_.languages[0]||_.language}class St{constructor(v,C,b,k,U,ee){this.firebaseInstallations=v,this.sdkVersion=C,this.namespace=b,this.projectId=k,this.apiKey=U,this.appId=ee}fetch(v){var C=this;return(0,T.A)(function*(){const[b,k]=yield Promise.all([C.firebaseInstallations.getId(),C.firebaseInstallations.getToken()]),ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${C.projectId}/namespaces/${C.namespace}:fetch?key=${C.apiKey}`,Se={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":v.eTag||"*"},Ie={sdk_version:C.sdkVersion,app_instance_id:b,app_instance_id_token:k,app_id:C.appId,language_code:rt()},Le={method:"POST",headers:Se,body:JSON.stringify(Ie)},tt=fetch(ee,Le),Qe=new Promise((ar,ur)=>{v.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",ur(Ua)})});let zn;try{yield Promise.race([tt,Qe]),zn=yield tt}catch(ar){let ur="fetch-client-network";throw"AbortError"===ar?.name&&(ur="fetch-timeout"),bn.create(ur,{originalErrorMessage:ar?.message})}let Lt=zn.status;const Ci=zn.headers.get("ETag")||void 0;let hl,Ot;if(200===zn.status){let ar;try{ar=yield zn.json()}catch(ur){throw bn.create("fetch-client-parse",{originalErrorMessage:ur?.message})}hl=ar.entries,Ot=ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Ot?Lt=500:"NO_CHANGE"===Ot?Lt=304:("NO_TEMPLATE"===Ot||"EMPTY_CONFIG"===Ot)&&(hl={}),304!==Lt&&200!==Lt)throw bn.create("fetch-status",{httpStatus:Lt});return{status:Lt,eTag:Ci,config:hl}})()}}class Wn{constructor(v,C){this.client=v,this.storage=C}fetch(v){var C=this;return(0,T.A)(function*(){const b=(yield C.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return C.attemptFetch(v,b)})()}attemptFetch(v,{throttleEndTimeMillis:C,backoffCount:b}){var k=this;return(0,T.A)(function*(){yield function pr(_,v){return new Promise((C,b)=>{const k=Math.max(v-Date.now(),0),U=setTimeout(C,k);_.addEventListener(()=>{clearTimeout(U),b(bn.create("fetch-throttle",{throttleEndTimeMillis:v}))})})}(v.signal,C);try{const U=yield k.client.fetch(v);return yield k.storage.deleteThrottleMetadata(),U}catch(U){if(!function js(_){if(!(_ instanceof K.g&&_.customData))return!1;const v=Number(_.customData.httpStatus);return 429===v||500===v||503===v||504===v}(U))throw U;const ee={throttleEndTimeMillis:Date.now()+(0,K.p9)(b),backoffCount:b+1};return yield k.storage.setThrottleMetadata(ee),k.attemptFetch(v,ee)}})()}}class ki{constructor(v,C,b,k,U){this.app=v,this._client=C,this._storageCache=b,this._storage=k,this._logger=U,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pr(_,v){const C=_.target.error||void 0;return bn.create(v,{originalErrorMessage:C&&C?.message})}const He="app_namespace_store";class on{constructor(v,C,b,k=function hi(){return new Promise((_,v)=>{try{const C=indexedDB.open("firebase_remote_config",1);C.onerror=b=>{v(Pr(b,"storage-open"))},C.onsuccess=b=>{_(b.target.result)},C.onupgradeneeded=b=>{0===b.oldVersion&&b.target.result.createObjectStore(He,{keyPath:"compositeKey"})}}catch(C){v(bn.create("storage-open",{originalErrorMessage:C?.message}))}})}()){this.appId=v,this.appName=C,this.namespace=b,this.openDbPromise=k}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(v){return this.set("last_fetch_status",v)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(v){return this.set("last_successful_fetch_timestamp_millis",v)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(v){return this.set("last_successful_fetch_response",v)}getActiveConfig(){return this.get("active_config")}setActiveConfig(v){return this.set("active_config",v)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(v){return this.set("active_config_etag",v)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(v){return this.set("throttle_metadata",v)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(v){var C=this;return(0,T.A)(function*(){const b=yield C.openDbPromise;return new Promise((k,U)=>{const Se=b.transaction([He],"readonly").objectStore(He),Ie=C.createCompositeKey(v);try{const Le=Se.get(Ie);Le.onerror=tt=>{U(Pr(tt,"storage-get"))},Le.onsuccess=tt=>{const Qe=tt.target.result;k(Qe?Qe.value:void 0)}}catch(Le){U(bn.create("storage-get",{originalErrorMessage:Le?.message}))}})})()}set(v,C){var b=this;return(0,T.A)(function*(){const k=yield b.openDbPromise;return new Promise((U,ee)=>{const Ie=k.transaction([He],"readwrite").objectStore(He),Le=b.createCompositeKey(v);try{const tt=Ie.put({compositeKey:Le,value:C});tt.onerror=Qe=>{ee(Pr(Qe,"storage-set"))},tt.onsuccess=()=>{U()}}catch(tt){ee(bn.create("storage-set",{originalErrorMessage:tt?.message}))}})})()}delete(v){var C=this;return(0,T.A)(function*(){const b=yield C.openDbPromise;return new Promise((k,U)=>{const Se=b.transaction([He],"readwrite").objectStore(He),Ie=C.createCompositeKey(v);try{const Le=Se.delete(Ie);Le.onerror=tt=>{U(Pr(tt,"storage-delete"))},Le.onsuccess=()=>{k()}}catch(Le){U(bn.create("storage-delete",{originalErrorMessage:Le?.message}))}})})()}createCompositeKey(v){return[this.appId,this.appName,this.namespace,v].join()}}class Hs{constructor(v){this.storage=v}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var v=this;return(0,T.A)(function*(){const C=v.storage.getLastFetchStatus(),b=v.storage.getLastSuccessfulFetchTimestampMillis(),k=v.storage.getActiveConfig(),U=yield C;U&&(v.lastFetchStatus=U);const ee=yield b;ee&&(v.lastSuccessfulFetchTimestampMillis=ee);const Se=yield k;Se&&(v.activeConfig=Se)})()}setLastFetchStatus(v){return this.lastFetchStatus=v,this.storage.setLastFetchStatus(v)}setLastSuccessfulFetchTimestampMillis(v){return this.lastSuccessfulFetchTimestampMillis=v,this.storage.setLastSuccessfulFetchTimestampMillis(v)}setActiveConfig(v){return this.activeConfig=v,this.storage.setActiveConfig(v)}}function lc(){return xr.apply(this,arguments)}function xr(){return(xr=(0,T.A)(function*(){if(!(0,K.zW)())return!1;try{return yield(0,K.eX)()}catch{return!1}})).apply(this,arguments)}!function er(){(0,W._registerComponent)(new ie.uA("remote-config",function _(v,{instanceIdentifier:C}){const b=v.getProvider("app").getImmediate(),k=v.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bn.create("registration-window");if(!(0,K.zW)())throw bn.create("indexed-db-unavailable");const{projectId:U,apiKey:ee,appId:Se}=b.options;if(!U)throw bn.create("registration-project-id");if(!ee)throw bn.create("registration-api-key");if(!Se)throw bn.create("registration-app-id");const Ie=new on(Se,b.name,C=C||"firebase"),Le=new Hs(Ie),tt=new oe.Vy(ha);tt.logLevel=oe.$b.ERROR;const Qe=new St(k,W.SDK_VERSION,C,U,ee,Se),zn=new Wn(Qe,Ie),Lt=new De(zn,Ie,Le,tt),Ci=new ki(b,Lt,Le,Ie,tt);return function An(_){const v=(0,K.Ku)(_);v._initializePromise||(v._initializePromise=v._storageCache.loadFromStorage().then(()=>{v._isInitializationComplete=!0}))}(Ci),Ci},"PUBLIC").setMultipleInstances(!0)),(0,W.registerVersion)(ha,"0.4.4"),(0,W.registerVersion)(ha,"0.4.4","esm2017")}();const pi=(_,v)=>v.some(C=>_ instanceof C);let Fi,zr;const Io=new WeakMap,Kr=new WeakMap,gr=new WeakMap,Pn=new WeakMap,gi=new WeakMap;let ya={get(_,v,C){if(_ instanceof IDBTransaction){if("done"===v)return Kr.get(_);if("objectStoreNames"===v)return _.objectStoreNames||gr.get(_);if("store"===v)return C.objectStoreNames[1]?void 0:C.objectStore(C.objectStoreNames[0])}return kn(_[v])},set:(_,v,C)=>(_[v]=C,!0),has:(_,v)=>_ instanceof IDBTransaction&&("done"===v||"store"===v)||v in _};function Su(_){return"function"==typeof _?function xn(_){return _!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Tu(){return zr||(zr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_)?function(...v){return _.apply(as(this),v),kn(Io.get(this))}:function(...v){return kn(_.apply(as(this),v))}:function(v,...C){const b=_.call(as(this),v,...C);return gr.set(b,v.sort?v.sort():[v]),kn(b)}}(_):(_ instanceof IDBTransaction&&function _n(_){if(Kr.has(_))return;const v=new Promise((C,b)=>{const k=()=>{_.removeEventListener("complete",U),_.removeEventListener("error",ee),_.removeEventListener("abort",ee)},U=()=>{C(),k()},ee=()=>{b(_.error||new DOMException("AbortError","AbortError")),k()};_.addEventListener("complete",U),_.addEventListener("error",ee),_.addEventListener("abort",ee)});Kr.set(_,v)}(_),pi(_,function pt(){return Fi||(Fi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_,ya):_)}function kn(_){if(_ instanceof IDBRequest)return function Do(_){const v=new Promise((C,b)=>{const k=()=>{_.removeEventListener("success",U),_.removeEventListener("error",ee)},U=()=>{C(kn(_.result)),k()},ee=()=>{b(_.error),k()};_.addEventListener("success",U),_.addEventListener("error",ee)});return v.then(C=>{C instanceof IDBCursor&&Io.set(C,_)}).catch(()=>{}),gi.set(v,_),v}(_);if(Pn.has(_))return Pn.get(_);const v=Su(_);return v!==_&&(Pn.set(_,v),gi.set(v,_)),v}const as=_=>gi.get(_);function nr(_,v,{blocked:C,upgrade:b,blocking:k,terminated:U}={}){const ee=indexedDB.open(_,v),Se=kn(ee);return b&&ee.addEventListener("upgradeneeded",Ie=>{b(kn(ee.result),Ie.oldVersion,Ie.newVersion,kn(ee.transaction))}),C&&ee.addEventListener("blocked",()=>C()),Se.then(Ie=>{U&&Ie.addEventListener("close",()=>U()),k&&Ie.addEventListener("versionchange",()=>k())}).catch(()=>{}),Se}function Li(_,{blocked:v}={}){const C=indexedDB.deleteDatabase(_);return v&&C.addEventListener("blocked",()=>v()),kn(C).then(()=>{})}const Mu=["get","getKey","getAll","getAllKeys","count"],Yd=["put","add","delete","clear"],Ru=new Map;function Nu(_,v){if(!(_ instanceof IDBDatabase)||v in _||"string"!=typeof v)return;if(Ru.get(v))return Ru.get(v);const C=v.replace(/FromIndex$/,""),b=v!==C,k=Yd.includes(C);if(!(C in(b?IDBIndex:IDBObjectStore).prototype)||!k&&!Mu.includes(C))return;const U=function(){var ee=(0,T.A)(function*(Se,...Ie){const Le=this.transaction(Se,k?"readwrite":"readonly");let tt=Le.store;return b&&(tt=tt.index(Ie.shift())),(yield Promise.all([tt[C](...Ie),k&&Le.done]))[0]});return function(Ie){return ee.apply(this,arguments)}}();return Ru.set(v,U),U}!function Gn(_){ya=_(ya)}(_=>({..._,get:(v,C,b)=>Nu(v,C)||_.get(v,C,b),has:(v,C)=>!!Nu(v,C)||_.has(v,C)}));const Ou="/firebase-messaging-sw.js",Pu="/firebase-cloud-messaging-push-scope",cc="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ah="https://fcmregistrations.googleapis.com/v1",Vt="google.c.a.c_id",Th="google.c.a.c_l",Qd="google.c.a.ts";var dc=function(_){return _.PUSH_RECEIVED="push-received",_.NOTIFICATION_CLICKED="notification-clicked",_}(dc||{});function mi(_){const v=new Uint8Array(_);return btoa(String.fromCharCode(...v)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xu(_){const C=(_+"=".repeat((4-_.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),b=atob(C),k=new Uint8Array(b.length);for(let U=0;U<b.length;++U)k[U]=b.charCodeAt(U);return k}const Ea="fcm_token_details_db",ku=5,us="fcm_token_object_Store";function wo(){return wo=(0,T.A)(function*(_){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(U=>U.name).includes(Ea))return null;let v=null;return(yield nr(Ea,ku,{upgrade:(b=(0,T.A)(function*(k,U,ee,Se){var Ie;if(U<2||!k.objectStoreNames.contains(us))return;const Le=Se.objectStore(us),tt=yield Le.index("fcmSenderId").get(_);if(yield Le.clear(),tt)if(2===U){const Qe=tt;if(!Qe.auth||!Qe.p256dh||!Qe.endpoint)return;v={token:Qe.fcmToken,createTime:null!==(Ie=Qe.createTime)&&void 0!==Ie?Ie:Date.now(),subscriptionOptions:{auth:Qe.auth,p256dh:Qe.p256dh,endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:"string"==typeof Qe.vapidKey?Qe.vapidKey:mi(Qe.vapidKey)}}}else if(3===U){const Qe=tt;v={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:mi(Qe.auth),p256dh:mi(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:mi(Qe.vapidKey)}}}else if(4===U){const Qe=tt;v={token:Qe.fcmToken,createTime:Qe.createTime,subscriptionOptions:{auth:mi(Qe.auth),p256dh:mi(Qe.p256dh),endpoint:Qe.endpoint,swScope:Qe.swScope,vapidKey:mi(Qe.vapidKey)}}}}),function(U,ee,Se,Ie){return b.apply(this,arguments)})})).close(),yield Li(Ea),yield Li("fcm_vapid_details_db"),yield Li("undefined"),function Sh(_){if(!_||!_.subscriptionOptions)return!1;const{subscriptionOptions:v}=_;return"number"==typeof _.createTime&&_.createTime>0&&"string"==typeof _.token&&_.token.length>0&&"string"==typeof v.auth&&v.auth.length>0&&"string"==typeof v.p256dh&&v.p256dh.length>0&&"string"==typeof v.endpoint&&v.endpoint.length>0&&"string"==typeof v.swScope&&v.swScope.length>0&&"string"==typeof v.vapidKey&&v.vapidKey.length>0}(v)?v:null;var b}),wo.apply(this,arguments)}const _i="firebase-messaging-database",qr=1,wr="firebase-messaging-store";let fc=null;function nn(){return fc||(fc=nr(_i,qr,{upgrade:(_,v)=>{0===v&&_.createObjectStore(wr)}})),fc}function $s(_){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,T.A)(function*(_){const v=Ws(_),b=yield(yield nn()).transaction(wr).objectStore(wr).get(v);if(b)return b;{const k=yield function $g(_){return wo.apply(this,arguments)}(_.appConfig.senderId);if(k)return yield Fu(_,k),k}}),Tn.apply(this,arguments)}function Fu(_,v){return bo.apply(this,arguments)}function bo(){return(bo=(0,T.A)(function*(_,v){const C=Ws(_),k=(yield nn()).transaction(wr,"readwrite");return yield k.objectStore(wr).put(v,C),yield k.done,v})).apply(this,arguments)}function Ao(){return(Ao=(0,T.A)(function*(_){const v=Ws(_),b=(yield nn()).transaction(wr,"readwrite");yield b.objectStore(wr).delete(v),yield b.done})).apply(this,arguments)}function Ws({appConfig:_}){return _.appId}const vn=new K.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ca(_,v){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,T.A)(function*(_,v){const C=yield Ia(_),b=Mh(v),k={method:"POST",headers:C,body:JSON.stringify(b)};let U;try{U=yield(yield fetch(vi(_.appConfig),k)).json()}catch(ee){throw vn.create("token-subscribe-failed",{errorInfo:ee?.toString()})}if(U.error)throw vn.create("token-subscribe-failed",{errorInfo:U.error.message});if(!U.token)throw vn.create("token-subscribe-no-token");return U.token})).apply(this,arguments)}function Uu(){return(Uu=(0,T.A)(function*(_,v){const C=yield Ia(_),b=Mh(v.subscriptionOptions),k={method:"PATCH",headers:C,body:JSON.stringify(b)};let U;try{U=yield(yield fetch(`${vi(_.appConfig)}/${v.token}`,k)).json()}catch(ee){throw vn.create("token-update-failed",{errorInfo:ee?.toString()})}if(U.error)throw vn.create("token-update-failed",{errorInfo:U.error.message});if(!U.token)throw vn.create("token-update-no-token");return U.token})).apply(this,arguments)}function Gs(_,v){return ls.apply(this,arguments)}function ls(){return(ls=(0,T.A)(function*(_,v){const b={method:"DELETE",headers:yield Ia(_)};try{const U=yield(yield fetch(`${vi(_.appConfig)}/${v}`,b)).json();if(U.error)throw vn.create("token-unsubscribe-failed",{errorInfo:U.error.message})}catch(k){throw vn.create("token-unsubscribe-failed",{errorInfo:k?.toString()})}})).apply(this,arguments)}function vi({projectId:_}){return`${Ah}/projects/${_}/registrations`}function Ia(_){return Da.apply(this,arguments)}function Da(){return(Da=(0,T.A)(function*({appConfig:_,installations:v}){const C=yield v.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_.apiKey,"x-goog-firebase-installations-auth":`FIS ${C}`})})).apply(this,arguments)}function Mh({p256dh:_,auth:v,endpoint:C,vapidKey:b}){const k={web:{endpoint:C,auth:v,p256dh:_}};return b!==cc&&(k.web.applicationPubKey=b),k}const Jd=6048e5;function wa(){return wa=(0,T.A)(function*(_){const v=yield function Aa(_,v){return pc.apply(this,arguments)}(_.swRegistration,_.vapidKey),C={vapidKey:_.vapidKey,swScope:_.swRegistration.scope,endpoint:v.endpoint,auth:mi(v.getKey("auth")),p256dh:mi(v.getKey("p256dh"))},b=yield $s(_.firebaseDependencies);if(b){if(function gc(_,v){return v.vapidKey===_.vapidKey&&v.endpoint===_.endpoint&&v.auth===_.auth&&v.p256dh===_.p256dh}(b.subscriptionOptions,C))return Date.now()>=b.createTime+Jd?function ju(_,v){return ba.apply(this,arguments)}(_,{token:b.token,createTime:Date.now(),subscriptionOptions:C}):b.token;try{yield Gs(_.firebaseDependencies,b.token)}catch(k){console.warn(k)}return Hu(_.firebaseDependencies,C)}return Hu(_.firebaseDependencies,C)}),wa.apply(this,arguments)}function Bu(){return Bu=(0,T.A)(function*(_){const v=yield $s(_.firebaseDependencies);v&&(yield Gs(_.firebaseDependencies,v.token),yield function hc(_){return Ao.apply(this,arguments)}(_.firebaseDependencies));const C=yield _.swRegistration.pushManager.getSubscription();return!C||C.unsubscribe()}),Bu.apply(this,arguments)}function ba(){return ba=(0,T.A)(function*(_,v){try{const C=yield function Vu(_,v){return Uu.apply(this,arguments)}(_.firebaseDependencies,v),b=Object.assign(Object.assign({},v),{token:C,createTime:Date.now()});return yield Fu(_.firebaseDependencies,b),C}catch(C){throw yield function Nh(_){return Bu.apply(this,arguments)}(_),C}}),ba.apply(this,arguments)}function Hu(_,v){return zs.apply(this,arguments)}function zs(){return(zs=(0,T.A)(function*(_,v){const b={token:yield Ca(_,v),createTime:Date.now(),subscriptionOptions:v};return yield Fu(_,b),b.token})).apply(this,arguments)}function pc(){return(pc=(0,T.A)(function*(_,v){return(yield _.pushManager.getSubscription())||_.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xu(v)})})).apply(this,arguments)}function To(_){const v={from:_.from,collapseKey:_.collapse_key,messageId:_.fcmMessageId};return function So(_,v){if(!v.notification)return;_.notification={};const C=v.notification.title;C&&(_.notification.title=C);const b=v.notification.body;b&&(_.notification.body=b);const k=v.notification.image;k&&(_.notification.image=k);const U=v.notification.icon;U&&(_.notification.icon=U)}(v,_),function ef(_,v){v.data&&(_.data=v.data)}(v,_),function $u(_,v){var C,b,k,U,ee;if(!(v.fcmOptions||null!==(C=v.notification)&&void 0!==C&&C.click_action))return;_.fcmOptions={};const Se=null!==(k=null===(b=v.fcmOptions)||void 0===b?void 0:b.link)&&void 0!==k?k:null===(U=v.notification)||void 0===U?void 0:U.click_action;Se&&(_.fcmOptions.link=Se);const Ie=null===(ee=v.fcmOptions)||void 0===ee?void 0:ee.analytics_label;Ie&&(_.fcmOptions.analyticsLabel=Ie)}(v,_),v}function mc(_,v){const C=[];for(let b=0;b<_.length;b++)C.push(_.charAt(b)),b<v.length&&C.push(v.charAt(b));return C.join("")}function Ta(_){return vn.create("missing-app-config-values",{valueName:_})}mc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ph{constructor(v,C,b){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const k=function _c(_){if(!_||!_.options)throw Ta("App Configuration Object");if(!_.name)throw Ta("App Name");const v=["projectId","apiKey","appId","messagingSenderId"],{options:C}=_;for(const b of v)if(!C[b])throw Ta(b);return{appName:_.name,projectId:C.projectId,apiKey:C.apiKey,appId:C.appId,senderId:C.messagingSenderId}}(v);this.firebaseDependencies={app:v,appConfig:k,installations:C,analyticsProvider:b}}_delete(){return Promise.resolve()}}function Ks(){return(Ks=(0,T.A)(function*(_){try{_.swRegistration=yield navigator.serviceWorker.register(Ou,{scope:Pu}),_.swRegistration.update().catch(()=>{})}catch(v){throw vn.create("failed-service-worker-registration",{browserErrorMessage:v?.message})}})).apply(this,arguments)}function cs(){return(cs=(0,T.A)(function*(_,v){if(!v&&!_.swRegistration&&(yield function vc(_){return Ks.apply(this,arguments)}(_)),v||!_.swRegistration){if(!(v instanceof ServiceWorkerRegistration))throw vn.create("invalid-sw-registration");_.swRegistration=v}})).apply(this,arguments)}function ds(){return(ds=(0,T.A)(function*(_,v){v?_.vapidKey=v:_.vapidKey||(_.vapidKey=cc)})).apply(this,arguments)}function Gu(){return Gu=(0,T.A)(function*(_,v){if(!navigator)throw vn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw vn.create("permission-blocked");return yield function yi(_,v){return ds.apply(this,arguments)}(_,v?.vapidKey),yield function yc(_,v){return cs.apply(this,arguments)}(_,v?.serviceWorkerRegistration),function Rh(_){return wa.apply(this,arguments)}(_)}),Gu.apply(this,arguments)}function Ec(){return(Ec=(0,T.A)(function*(_,v,C){const b=function Yr(_){switch(_){case dc.NOTIFICATION_CLICKED:return"notification_open";case dc.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(v);(yield _.firebaseDependencies.analyticsProvider.get()).logEvent(b,{message_id:C[Vt],message_name:C[Th],message_time:C[Qd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fs(){return fs=(0,T.A)(function*(_,v){const C=v.data;if(!C.isFirebaseMessaging)return;_.onMessageHandler&&C.messageType===dc.PUSH_RECEIVED&&("function"==typeof _.onMessageHandler?_.onMessageHandler(To(C)):_.onMessageHandler.next(To(C)));const b=C.data;(function Oh(_){return"object"==typeof _&&!!_&&Vt in _})(b)&&"1"===b["google.c.a.e"]&&(yield function zu(_,v,C){return Ec.apply(this,arguments)}(_,C.messageType,b))}),fs.apply(this,arguments)}const At="@firebase/messaging",hs=_=>{const v=new Ph(_.getProvider("app").getImmediate(),_.getProvider("installations-internal").getImmediate(),_.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",C=>function Cc(_,v){return fs.apply(this,arguments)}(v,C)),v},rr=_=>{const v=_.getProvider("messaging").getImmediate();return{getToken:b=>function Wu(_,v){return Gu.apply(this,arguments)}(v,b)}};function Ku(){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,T.A)(function*(){try{yield(0,K.eX)()}catch{return!1}return typeof window<"u"&&(0,K.zW)()&&(0,K.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ic(){(0,W._registerComponent)(new ie.uA("messaging",hs,"PUBLIC")),(0,W._registerComponent)(new ie.uA("messaging-internal",rr,"PRIVATE")),(0,W.registerVersion)(At,"0.12.4"),(0,W.registerVersion)(At,"0.12.4","esm2017")}();const kt="analytics",nf="firebase_id",Yu="origin",Ye=6e4,Ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qu="https://www.googletagmanager.com/gtag/js",yn=new oe.Vy("@firebase/analytics"),Fn=new K.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Qs(_){if(!_.startsWith(Qu)){const v=Fn.create("invalid-gtag-resource",{gtagURL:_});return yn.warn(v.message),""}return _}function Vi(_){return Promise.all(_.map(v=>v.catch(C=>C)))}function Mo(){return(Mo=(0,T.A)(function*(_,v,C,b,k,U){const ee=b[k];try{if(ee)yield v[ee];else{const Ie=(yield Vi(C)).find(Le=>Le.measurementId===k);Ie&&(yield v[Ie.appId])}}catch(Se){yn.error(Se)}_("config",k,U)})).apply(this,arguments)}function it(){return(it=(0,T.A)(function*(_,v,C,b,k){try{let U=[];if(k&&k.send_to){let ee=k.send_to;Array.isArray(ee)||(ee=[ee]);const Se=yield Vi(C);for(const Ie of ee){const Le=Se.find(Qe=>Qe.measurementId===Ie),tt=Le&&v[Le.appId];if(!tt){U=[];break}U.push(tt)}}0===U.length&&(U=Object.values(v)),yield Promise.all(U),_("event",b,k||{})}catch(U){yn.error(U)}})).apply(this,arguments)}const Ju=30,tl=new class ir{constructor(v={},C=1e3){this.throttleMetadata=v,this.intervalMillis=C}getThrottleMetadata(v){return this.throttleMetadata[v]}setThrottleMetadata(v,C){this.throttleMetadata[v]=C}deleteThrottleMetadata(v){delete this.throttleMetadata[v]}};function nl(_){return new Headers({Accept:"application/json","x-goog-api-key":_})}function rf(){return(rf=(0,T.A)(function*(_){var v;const{appId:C,apiKey:b}=_,k={method:"GET",headers:nl(b)},U=Ma.replace("{app-id}",C),ee=yield fetch(U,k);if(200!==ee.status&&304!==ee.status){let Se="";try{const Ie=yield ee.json();null!==(v=Ie.error)&&void 0!==v&&v.message&&(Se=Ie.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:ee.status,responseMessage:Se})}return ee.json()})).apply(this,arguments)}function un(){return(un=(0,T.A)(function*(_,v=tl,C){const{appId:b,apiKey:k,measurementId:U}=_.options;if(!b)throw Fn.create("no-app-id");if(!k){if(U)return{measurementId:U,appId:b};throw Fn.create("no-api-key")}const ee=v.getThrottleMetadata(b)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new af;return setTimeout((0,T.A)(function*(){Se.abort()}),void 0!==C?C:Ye),Ei({appId:b,apiKey:k,measurementId:U},ee,Se,v)})).apply(this,arguments)}function Ei(_,v,C){return rl.apply(this,arguments)}function rl(){return rl=(0,T.A)(function*(_,{throttleEndTimeMillis:v,backoffCount:C},b,k=tl){var U;const{appId:ee,measurementId:Se}=_;try{yield function Ro(_,v){return new Promise((C,b)=>{const k=Math.max(v-Date.now(),0),U=setTimeout(C,k);_.addEventListener(()=>{clearTimeout(U),b(Fn.create("fetch-throttle",{throttleEndTimeMillis:v}))})})}(b,v)}catch(Ie){if(Se)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Ie?.message}]`),{appId:ee,measurementId:Se};throw Ie}try{const Ie=yield function Fh(_){return rf.apply(this,arguments)}(_);return k.deleteThrottleMetadata(ee),Ie}catch(Ie){const Le=Ie;if(!function Xr(_){if(!(_ instanceof K.g&&_.customData))return!1;const v=Number(_.customData.httpStatus);return 429===v||500===v||503===v||504===v}(Le)){if(k.deleteThrottleMetadata(ee),Se)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${Le?.message}]`),{appId:ee,measurementId:Se};throw Ie}const tt=503===Number(null===(U=Le?.customData)||void 0===U?void 0:U.httpStatus)?(0,K.p9)(C,k.intervalMillis,Ju):(0,K.p9)(C,k.intervalMillis),Qe={throttleEndTimeMillis:Date.now()+tt,backoffCount:C+1};return k.setThrottleMetadata(ee,Qe),yn.debug(`Calling attemptFetch again in ${tt} millis`),Ei(_,Qe,b,k)}}),rl.apply(this,arguments)}class af{constructor(){this.listeners=[]}addEventListener(v){this.listeners.push(v)}abort(){this.listeners.forEach(v=>v())}}let No,or;function bc(){return(bc=(0,T.A)(function*(_,v,C,b,k){if(k&&k.global)_("event",C,b);else{const U=yield v;_("event",C,Object.assign(Object.assign({},b),{send_to:U}))}})).apply(this,arguments)}function Sn(){return(Sn=(0,T.A)(function*(){if(!(0,K.zW)())return yn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eX)()}catch(_){return yn.warn(Fn.create("indexeddb-unavailable",{errorInfo:_?.toString()}).message),!1}return!0})).apply(this,arguments)}function Tt(){return Tt=(0,T.A)(function*(_,v,C,b,k,U,ee){var Se;const Ie=function sf(_){return un.apply(this,arguments)}(_);Ie.then(Lt=>{C[Lt.measurementId]=Lt.appId,_.options.measurementId&&Lt.measurementId!==_.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${_.options.measurementId}) does not match the measurement ID fetched from the server (${Lt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Lt=>yn.error(Lt)),v.push(Ie);const Le=function il(){return Sn.apply(this,arguments)}().then(Lt=>{if(Lt)return b.getId()}),[tt,Qe]=yield Promise.all([Ie,Le]);(function an(_){const v=window.document.getElementsByTagName("script");for(const C of Object.values(v))if(C.src&&C.src.includes(Qu)&&C.src.includes(_))return C;return null})(U)||function Na(_,v){const C=function Ra(_,v){let C;return window.trustedTypes&&(C=window.trustedTypes.createPolicy(_,v)),C}("firebase-js-sdk-policy",{createScriptURL:Qs}),b=document.createElement("script"),k=`${Qu}?l=${_}&id=${v}`;b.src=C?C?.createScriptURL(k):k,b.async=!0,document.head.appendChild(b)}(U,tt.measurementId),or&&(k("consent","default",or),function Zs(_){or=_}(void 0)),k("js",new Date);const zn=null!==(Se=ee?.config)&&void 0!==Se?Se:{};return zn[Yu]="firebase",zn.update=!0,null!=Qe&&(zn[nf]=Qe),k("config",tt.measurementId,zn),No&&(k("set",No),function Po(_){No=_}(void 0)),tt.measurementId}),Tt.apply(this,arguments)}class kr{constructor(v){this.app=v}_delete(){return delete Ze[this.app.options.appId],Promise.resolve()}}let Ze={},Tc=[];const Sc={};let _s,Dt,Js="dataLayer",sl=!1;function ys(_,v,C){!function Pa(){const _=[];if((0,K.sr)()&&_.push("This is a browser extension environment."),(0,K.dM)()||_.push("Cookies are not available."),_.length>0){const v=_.map((b,k)=>`(${k+1}) ${b}`).join(" "),C=Fn.create("invalid-analytics-context",{errorInfo:v});yn.warn(C.message)}}();const b=_.options.appId;if(!b)throw Fn.create("no-app-id");if(!_.options.apiKey){if(!_.options.measurementId)throw Fn.create("no-api-key");yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${_.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ze[b])throw Fn.create("already-exists",{id:b});if(!sl){!function kh(_){let v=[];Array.isArray(window[_])?v=window[_]:window[_]=v}(Js);const{wrappedGtag:U,gtagCore:ee}=function wc(_,v,C,b,k){let U=function(...ee){window[b].push(arguments)};return window[k]&&"function"==typeof window[k]&&(U=window[k]),window[k]=function Zu(_,v,C,b){function U(){return U=(0,T.A)(function*(ee,...Se){try{if("event"===ee){const[Ie,Le]=Se;yield function fe(_,v,C,b,k){return it.apply(this,arguments)}(_,v,C,Ie,Le)}else if("config"===ee){const[Ie,Le]=Se;yield function Xu(_,v,C,b,k,U){return Mo.apply(this,arguments)}(_,v,C,b,Ie,Le)}else if("consent"===ee){const[Ie]=Se;_("consent","update",Ie)}else if("get"===ee){const[Ie,Le,tt]=Se;_("get",Ie,Le,tt)}else if("set"===ee){const[Ie]=Se;_("set",Ie)}else _(ee,...Se)}catch(Ie){yn.error(Ie)}}),U.apply(this,arguments)}return function k(ee){return U.apply(this,arguments)}}(U,_,v,C),{gtagCore:U,wrappedGtag:window[k]}}(Ze,Tc,Sc,Js,"gtag");Dt=U,_s=ee,sl=!0}return Ze[b]=function Zr(_,v,C,b,k,U,ee){return Tt.apply(this,arguments)}(_,Tc,Sc,v,_s,Js,C),new kr(_)}function Ui(){return ol.apply(this,arguments)}function ol(){return(ol=(0,T.A)(function*(){if((0,K.sr)()||!(0,K.dM)()||!(0,K.zW)())return!1;try{return yield(0,K.eX)()}catch{return!1}})).apply(this,arguments)}const al="@firebase/analytics";!function zt(){(0,W._registerComponent)(new ie.uA(kt,(v,{options:C})=>ys(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),C),"PUBLIC")),(0,W._registerComponent)(new ie.uA("analytics-internal",function _(v){try{const C=v.getProvider(kt).getImmediate();return{logEvent:(b,k,U)=>function Ln(_,v,C,b){_=(0,K.Ku)(_),function Lh(_,v,C,b,k){return bc.apply(this,arguments)}(Dt,Ze[_.app.options.appId],v,C,b).catch(k=>yn.error(k))}(C,b,k,U)}}catch(C){throw Fn.create("interop-component-reg-failed",{reason:C})}},"PRIVATE")),(0,W.registerVersion)(al,"0.10.0"),(0,W.registerVersion)(al,"0.10.0","esm2017")}();var $i=A(6780),Lr=A(9687);const ul=new class rn extends Lr.q{}(class xo extends $i.R{constructor(v,C){super(v,C),this.scheduler=v,this.work=C}schedule(v,C=0){return C>0?super.schedule(v,C):(this.delay=C,this.state=v,this.scheduler.flush(this),this)}execute(v,C){return C>0||this.closed?super.execute(v,C):this._execute(v,C)}requestAsyncId(v,C,b=0){return null!=b&&b>0||null==b&&this.delay>0?super.requestAsyncId(v,C,b):(v.flush(this),0)}});var ka=A(3236),Wi=A(8141),Vn=A(6745),cn=A(941);const Ar=new d.RxE("7.6.1"),eo="__angularfire_symbol__analyticsIsSupportedValue",Gi="__angularfire_symbol__analyticsIsSupported",zi="__angularfire_symbol__remoteConfigIsSupportedValue",to="__angularfire_symbol__remoteConfigIsSupported",Fa="__angularfire_symbol__messagingIsSupportedValue",Cs="__angularfire_symbol__messagingIsSupported";function Va(_,v,C){if(v){if(1===v.length)return v[0];const U=v.filter(ee=>ee.app===C);if(1===U.length)return U[0]}return C.container.getProvider(_).getImmediate({optional:!0})}globalThis[Gi]||(globalThis[Gi]=Ui().then(_=>globalThis[eo]=_).catch(()=>globalThis[eo]=!1)),globalThis[Cs]||(globalThis[Cs]=Ku().then(_=>globalThis[Fa]=_).catch(()=>globalThis[Fa]=!1)),globalThis[to]||(globalThis[to]=lc().then(_=>globalThis[zi]=_).catch(()=>globalThis[zi]=!1));const Tr=(_,v)=>{const C=v?[v]:(0,j.Dk)(),b=[];return C.forEach(k=>{k.container.getProvider(_).instances.forEach(ee=>{b.includes(ee)||b.push(ee)})}),b};function Ki(){}class ll{constructor(v,C=ul){this.zone=v,this.delegate=C}now(){return this.delegate.now()}schedule(v,C,b){const k=this.zone;return this.delegate.schedule(function(ee){k.runGuarded(()=>{v.apply(this,[ee])})},C,b)}}class Vr{constructor(v){this.zone=v,this.task=null}call(v,C){const b=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),C.pipe((0,Wi.M)({next:b,complete:b,error:b})).subscribe(v).add(b)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Is=(()=>{class _{constructor(C){this.ngZone=C,this.outsideAngular=C.runOutsideAngular(()=>new ll(Zone.current)),this.insideAngular=C.run(()=>new ll(Zone.current,ka.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return _.\u0275fac=function(C){return new(C||_)(d.KVO(d.SKi))},_.\u0275prov=d.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function qi(){const _=globalThis.\u0275AngularFireScheduler;if(!_)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return _}function kc(_){return qi(),function dl(_){return function(C){return(C=C.lift(new Vr(_.ngZone))).pipe((0,Vn._)(_.outsideAngular),(0,cn.Q)(_.insideAngular))}}(qi())(_)}},1076:(Ue,ce,A)=>{A.d(ce,{$L:()=>Ve,$g:()=>rs,A4:()=>x,Am:()=>yo,As:()=>st,Bd:()=>Ke,Cv:()=>wt,FA:()=>X,Fy:()=>le,HN:()=>li,Hk:()=>T,I9:()=>$e,Im:()=>sn,K3:()=>ie,KA:()=>me,Ku:()=>$n,Ll:()=>Z,OE:()=>Us,T9:()=>z,Uj:()=>re,XA:()=>ae,ZQ:()=>ve,bD:()=>Kt,cY:()=>G,dI:()=>Fe,dM:()=>Q,eX:()=>ui,g:()=>$,gR:()=>Je,gz:()=>Xe,hp:()=>lt,jZ:()=>Ae,kH:()=>hn,kj:()=>Wr,lT:()=>oi,lV:()=>In,oD:()=>ot,od:()=>Vs,p9:()=>ci,qc:()=>jn,sr:()=>ut,tD:()=>Nt,u:()=>R,vA:()=>j,yw:()=>Ht,zW:()=>Ri,zw:()=>B});const d={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},j=function(O,N){if(!O)throw T(N)},T=function(O){return new Error("Firebase Database ("+d.SDK_VERSION+") INTERNAL ASSERT FAILED: "+O)},W=function(O){const N=[];let F=0;for(let ue=0;ue<O.length;ue++){let Y=O.charCodeAt(ue);Y<128?N[F++]=Y:Y<2048?(N[F++]=Y>>6|192,N[F++]=63&Y|128):55296==(64512&Y)&&ue+1<O.length&&56320==(64512&O.charCodeAt(ue+1))?(Y=65536+((1023&Y)<<10)+(1023&O.charCodeAt(++ue)),N[F++]=Y>>18|240,N[F++]=Y>>12&63|128,N[F++]=Y>>6&63|128,N[F++]=63&Y|128):(N[F++]=Y>>12|224,N[F++]=Y>>6&63|128,N[F++]=63&Y|128)}return N},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,N){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const F=N?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let Y=0;Y<O.length;Y+=3){const Oe=O[Y],Ge=Y+1<O.length,mt=Ge?O[Y+1]:0,Et=Y+2<O.length,en=Et?O[Y+2]:0;let wn=(15&mt)<<2|en>>6,Xn=63&en;Et||(Xn=64,Ge||(wn=64)),ue.push(F[Oe>>2],F[(3&Oe)<<4|mt>>4],F[wn],F[Xn])}return ue.join("")},encodeString(O,N){return this.HAS_NATIVE_SUPPORT&&!N?btoa(O):this.encodeByteArray(W(O),N)},decodeString(O,N){return this.HAS_NATIVE_SUPPORT&&!N?atob(O):function(O){const N=[];let F=0,ue=0;for(;F<O.length;){const Y=O[F++];if(Y<128)N[ue++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Oe=O[F++];N[ue++]=String.fromCharCode((31&Y)<<6|63&Oe)}else if(Y>239&&Y<365){const Et=((7&Y)<<18|(63&O[F++])<<12|(63&O[F++])<<6|63&O[F++])-65536;N[ue++]=String.fromCharCode(55296+(Et>>10)),N[ue++]=String.fromCharCode(56320+(1023&Et))}else{const Oe=O[F++],Ge=O[F++];N[ue++]=String.fromCharCode((15&Y)<<12|(63&Oe)<<6|63&Ge)}}return N.join("")}(this.decodeStringToByteArray(O,N))},decodeStringToByteArray(O,N){this.init_();const F=N?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let Y=0;Y<O.length;){const Oe=F[O.charAt(Y++)],mt=Y<O.length?F[O.charAt(Y)]:0;++Y;const en=Y<O.length?F[O.charAt(Y)]:64;++Y;const ht=Y<O.length?F[O.charAt(Y)]:64;if(++Y,null==Oe||null==mt||null==en||null==ht)throw new oe;ue.push(Oe<<2|mt>>4),64!==en&&(ue.push(mt<<4&240|en>>2),64!==ht&&ue.push(en<<6&192|ht))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const me=function(O){const N=W(O);return ie.encodeByteArray(N,!0)},re=function(O){return me(O).replace(/\./g,"")},R=function(O){try{return ie.decodeString(O,!0)}catch(N){console.error("base64Decode failed: ",N)}return null};function x(O){return B(void 0,O)}function B(O,N){if(!(N instanceof Object))return N;switch(N.constructor){case Date:return new Date(N.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return N}for(const F in N)!N.hasOwnProperty(F)||!Ee(F)||(O[F]=B(O[F],N[F]));return O}function Ee(O){return"__proto__"!==O}const ye=()=>{try{return function he(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const N=O&&R(O[1]);return N&&JSON.parse(N)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},z=()=>{var O;return null===(O=ye())||void 0===O?void 0:O.config},ae=O=>{var N;return null===(N=ye())||void 0===N?void 0:N[`_${O}`]};class G{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((N,F)=>{this.resolve=N,this.reject=F})}wrapCallback(N){return(F,ue)=>{F?this.reject(F):this.resolve(ue),"function"==typeof N&&(this.promise.catch(()=>{}),1===N.length?N(F):N(F,ue))}}}function le(O,N){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=N||"demo-project",Y=O.iat||0,Oe=O.sub||O.user_id;if(!Oe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:Y,exp:Y+3600,auth_time:Y,sub:Oe,user_id:Oe,firebase:{sign_in_provider:"custom",identities:{}}},O);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(Ge)),""].join(".")}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Z(){var O;const N=null===(O=ye())||void 0===O?void 0:O.forceEnvironment;if("node"===N)return!0;if("browser"===N)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function ut(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function In(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oi(){const O=ve();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function rs(){return!0===d.NODE_CLIENT||!0===d.NODE_ADMIN}function Ri(){try{return"object"==typeof indexedDB}catch{return!1}}function ui(){return new Promise((O,N)=>{try{let F=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(ue);Y.onsuccess=()=>{Y.result.close(),F||self.indexedDB.deleteDatabase(ue),O(!0)},Y.onupgradeneeded=()=>{F=!1},Y.onerror=()=>{var Oe;N((null===(Oe=Y.error)||void 0===Oe?void 0:Oe.message)||"")}}catch(F){N(F)}})}function Q(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $ extends Error{constructor(N,F,ue){super(F),this.code=N,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,$.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,X.prototype.create)}}class X{constructor(N,F,ue){this.service=N,this.serviceName=F,this.errors=ue}create(N,...F){const ue=F[0]||{},Y=`${this.service}/${N}`,Oe=this.errors[N],Ge=Oe?function de(O,N){return O.replace(J,(F,ue)=>{const Y=N[ue];return null!=Y?String(Y):`<${ue}?>`})}(Oe,ue):"Error";return new $(Y,`${this.serviceName}: ${Ge} (${Y}).`,ue)}}const J=/\{\$([^}]+)}/g;function Ve(O){return JSON.parse(O)}function st(O){return JSON.stringify(O)}const Rt=function(O){let N={},F={},ue={},Y="";try{const Oe=O.split(".");N=Ve(R(Oe[0])||""),F=Ve(R(Oe[1])||""),Y=Oe[2],ue=F.d||{},delete F.d}catch{}return{header:N,claims:F,data:ue,signature:Y}},wt=function(O){const F=Rt(O).claims;return!!F&&"object"==typeof F&&F.hasOwnProperty("iat")},jn=function(O){const N=Rt(O).claims;return"object"==typeof N&&!0===N.admin};function Je(O,N){return Object.prototype.hasOwnProperty.call(O,N)}function Ht(O,N){if(Object.prototype.hasOwnProperty.call(O,N))return O[N]}function sn(O){for(const N in O)if(Object.prototype.hasOwnProperty.call(O,N))return!1;return!0}function hn(O,N,F){const ue={};for(const Y in O)Object.prototype.hasOwnProperty.call(O,Y)&&(ue[Y]=N.call(F,O[Y],Y,O));return ue}function Kt(O,N){if(O===N)return!0;const F=Object.keys(O),ue=Object.keys(N);for(const Y of F){if(!ue.includes(Y))return!1;const Oe=O[Y],Ge=N[Y];if(hr(Oe)&&hr(Ge)){if(!Kt(Oe,Ge))return!1}else if(Oe!==Ge)return!1}for(const Y of ue)if(!F.includes(Y))return!1;return!0}function hr(O){return null!==O&&"object"==typeof O}function yo(O){const N=[];for(const[F,ue]of Object.entries(O))Array.isArray(ue)?ue.forEach(Y=>{N.push(encodeURIComponent(F)+"="+encodeURIComponent(Y))}):N.push(encodeURIComponent(F)+"="+encodeURIComponent(ue));return N.length?"&"+N.join("&"):""}function $e(O){const N={};return O.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[Y,Oe]=ue.split("=");N[decodeURIComponent(Y)]=decodeURIComponent(Oe)}}),N}function lt(O){const N=O.indexOf("?");if(!N)return"";const F=O.indexOf("#",N);return O.substring(N,F>0?F:void 0)}class Xe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let N=1;N<this.blockSize;++N)this.pad_[N]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(N,F){F||(F=0);const ue=this.W_;if("string"==typeof N)for(let ht=0;ht<16;ht++)ue[ht]=N.charCodeAt(F)<<24|N.charCodeAt(F+1)<<16|N.charCodeAt(F+2)<<8|N.charCodeAt(F+3),F+=4;else for(let ht=0;ht<16;ht++)ue[ht]=N[F]<<24|N[F+1]<<16|N[F+2]<<8|N[F+3],F+=4;for(let ht=16;ht<80;ht++){const wn=ue[ht-3]^ue[ht-8]^ue[ht-14]^ue[ht-16];ue[ht]=4294967295&(wn<<1|wn>>>31)}let en,et,Y=this.chain_[0],Oe=this.chain_[1],Ge=this.chain_[2],mt=this.chain_[3],Et=this.chain_[4];for(let ht=0;ht<80;ht++){ht<40?ht<20?(en=mt^Oe&(Ge^mt),et=1518500249):(en=Oe^Ge^mt,et=1859775393):ht<60?(en=Oe&Ge|mt&(Oe|Ge),et=2400959708):(en=Oe^Ge^mt,et=3395469782);const wn=(Y<<5|Y>>>27)+en+Et+et+ue[ht]&4294967295;Et=mt,mt=Ge,Ge=4294967295&(Oe<<30|Oe>>>2),Oe=Y,Y=wn}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Oe&4294967295,this.chain_[2]=this.chain_[2]+Ge&4294967295,this.chain_[3]=this.chain_[3]+mt&4294967295,this.chain_[4]=this.chain_[4]+Et&4294967295}update(N,F){if(null==N)return;void 0===F&&(F=N.length);const ue=F-this.blockSize;let Y=0;const Oe=this.buf_;let Ge=this.inbuf_;for(;Y<F;){if(0===Ge)for(;Y<=ue;)this.compress_(N,Y),Y+=this.blockSize;if("string"==typeof N){for(;Y<F;)if(Oe[Ge]=N.charCodeAt(Y),++Ge,++Y,Ge===this.blockSize){this.compress_(Oe),Ge=0;break}}else for(;Y<F;)if(Oe[Ge]=N[Y],++Ge,++Y,Ge===this.blockSize){this.compress_(Oe),Ge=0;break}}this.inbuf_=Ge,this.total_+=F}digest(){const N=[];let F=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&F,F/=256;this.compress_(this.buf_);let ue=0;for(let Y=0;Y<5;Y++)for(let Oe=24;Oe>=0;Oe-=8)N[ue]=this.chain_[Y]>>Oe&255,++ue;return N}}function Nt(O,N){const F=new jt(O,N);return F.subscribe.bind(F)}class jt{constructor(N,F){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=F,this.task.then(()=>{N(this)}).catch(ue=>{this.error(ue)})}next(N){this.forEachObserver(F=>{F.next(N)})}error(N){this.forEachObserver(F=>{F.error(N)}),this.close(N)}complete(){this.forEachObserver(N=>{N.complete()}),this.close()}subscribe(N,F,ue){let Y;if(void 0===N&&void 0===F&&void 0===ue)throw new Error("Missing Observer.");Y=function bt(O,N){if("object"!=typeof O||null===O)return!1;for(const F of N)if(F in O&&"function"==typeof O[F])return!0;return!1}(N,["next","error","complete"])?N:{next:N,error:F,complete:ue},void 0===Y.next&&(Y.next=Dn),void 0===Y.error&&(Y.error=Dn),void 0===Y.complete&&(Y.complete=Dn);const Oe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Oe}unsubscribeOne(N){void 0===this.observers||void 0===this.observers[N]||(delete this.observers[N],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(N){if(!this.finalized)for(let F=0;F<this.observers.length;F++)this.sendOne(F,N)}sendOne(N,F){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[N])try{F(this.observers[N])}catch(ue){typeof console<"u"&&console.error&&console.error(ue)}})}close(N){this.finalized||(this.finalized=!0,void 0!==N&&(this.finalError=N),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}const Vs=function(O,N,F,ue){let Y;if(ue<N?Y="at least "+N:ue>F&&(Y=0===F?"none":"no more than "+F),Y)throw new Error(O+" failed: Was called with "+ue+(1===ue?" argument.":" arguments.")+" Expects "+Y+".")};function Fe(O,N){return`${O} failed: ${N} argument `}function ot(O,N,F,ue){if((!ue||F)&&"function"!=typeof F)throw new Error(Fe(O,N)+"must be a valid function.")}function li(O,N,F,ue){if((!ue||F)&&("object"!=typeof F||null===F))throw new Error(Fe(O,N)+"must be a valid context object.")}const Wr=function(O){const N=[];let F=0;for(let ue=0;ue<O.length;ue++){let Y=O.charCodeAt(ue);if(Y>=55296&&Y<=56319){const Oe=Y-55296;ue++,j(ue<O.length,"Surrogate pair missing trail surrogate."),Y=65536+(Oe<<10)+(O.charCodeAt(ue)-56320)}Y<128?N[F++]=Y:Y<2048?(N[F++]=Y>>6|192,N[F++]=63&Y|128):Y<65536?(N[F++]=Y>>12|224,N[F++]=Y>>6&63|128,N[F++]=63&Y|128):(N[F++]=Y>>18|240,N[F++]=Y>>12&63|128,N[F++]=Y>>6&63|128,N[F++]=63&Y|128)}return N},Us=function(O){let N=0;for(let F=0;F<O.length;F++){const ue=O.charCodeAt(F);ue<128?N++:ue<2048?N+=2:ue>=55296&&ue<=56319?(N+=4,F++):N+=3}return N},Oi=1e3,Nr=2,pn=144e5,gn=.5;function ci(O,N=Oi,F=Nr){const ue=N*Math.pow(F,O),Y=Math.round(gn*ue*(Math.random()-.5)*2);return Math.min(pn,ue+Y)}function $n(O){return O&&O._delegate?O._delegate:O}},3322:(Ue,ce,A)=>{var d=A(7705);let j=null;function T(){return j}class K{}const ie=new d.nKC("DocumentToken");let oe=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return(0,d.WQX)(re)},providedIn:"platform"})}}return e})();const me=new d.nKC("Location Initialized");let re=(()=>{class e extends oe{constructor(){super(),this._doc=(0,d.WQX)(ie),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(t){const r=T().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=T().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function R(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function x(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function B(e){return e&&"?"!==e[0]?"?"+e:e}let Ee=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return(0,d.WQX)(Te)},providedIn:"root"})}}return e})();const he=new d.nKC("appBaseHref");let Te=(()=>{class e extends Ee{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.WQX)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return R(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+B(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const l=this.prepareExternalUrl(o+B(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){const l=this.prepareExternalUrl(o+B(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(oe),d.KVO(he,8))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ge=(()=>{class e extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=R(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let l=this.prepareExternalUrl(o+B(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,o,u){let l=this.prepareExternalUrl(o+B(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(oe),d.KVO(he,8))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})(),we=(()=>{class e{constructor(t){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function z(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(x(Be(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+B(r))}normalize(t){return e.stripTrailingSlash(function We(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,Be(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+B(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+B(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static{this.normalizeQueryParams=B}static{this.joinWithSlash=R}static{this.stripTrailingSlash=x}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Ee))}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return function ye(){return new we((0,d.KVO)(Ee))}()},providedIn:"root"})}}return e})();function Be(e){return e.replace(/\/index.html$/,"")}var ve=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(ve||{}),Ae=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ae||{}),Z=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Z||{}),Ke=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ke||{});function ui(e,n){return Je((0,d.H5H)(e)[d.KH2.DateFormat],n)}function Q(e,n){return Je((0,d.H5H)(e)[d.KH2.TimeFormat],n)}function te(e,n){return Je((0,d.H5H)(e)[d.KH2.DateTimeFormat],n)}function $(e,n){const t=(0,d.H5H)(e),r=t[d.KH2.NumberSymbols][n];if(typeof r>"u"){if(n===Ke.CurrencyDecimal)return t[d.KH2.NumberSymbols][Ke.Decimal];if(n===Ke.CurrencyGroup)return t[d.KH2.NumberSymbols][Ke.Group]}return r}function Ne(e){if(!e[d.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[d.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Je(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new Error("Locale data API: locale data undefined")}function Ht(e){const[n,t]=e.split(":");return{hours:+n,minutes:+t}}const hr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ni={},yo=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $e=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}($e||{}),lt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(lt||{}),Xe=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(Xe||{});function Nt(e,n,t,r){let o=function N(e){if(ue(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[o,u=1,l=1]=e.split("-").map(h=>+h);return jt(o,u-1,l)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(hr))return function F(e){const n=new Date(0);let t=0,r=0;const o=e[8]?n.setUTCFullYear:n.setFullYear,u=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),o.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));const l=Number(e[4]||0)-t,h=Number(e[5]||0)-r,m=Number(e[6]||0),y=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return u.call(n,l,h,m,y),n}(r)}const n=new Date(e);if(!ue(n))throw new Error(`Unable to convert "${e}" into a date`);return n}(e);n=Yn(t,n)||n;let h,l=[];for(;n;){if(h=yo.exec(n),!h){l.push(n);break}{l=l.concat(h.slice(1));const I=l.pop();if(!I)break;n=I}}let m=o.getTimezoneOffset();r&&(m=Or(r,m),o=function O(e,n,t){const r=t?-1:1,o=e.getTimezoneOffset();return function $n(e,n){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+n),e}(e,r*(Or(n,o)-o))}(o,r,!0));let y="";return l.forEach(I=>{const w=function $t(e){if(ci[e])return ci[e];let n;switch(e){case"G":case"GG":case"GGG":n=ot(Xe.Eras,Ae.Abbreviated);break;case"GGGG":n=ot(Xe.Eras,Ae.Wide);break;case"GGGGG":n=ot(Xe.Eras,Ae.Narrow);break;case"y":n=Fe(lt.FullYear,1,0,!1,!0);break;case"yy":n=Fe(lt.FullYear,2,0,!0,!0);break;case"yyy":n=Fe(lt.FullYear,3,0,!1,!0);break;case"yyyy":n=Fe(lt.FullYear,4,0,!1,!0);break;case"Y":n=gn(1);break;case"YY":n=gn(2,!0);break;case"YYY":n=gn(3);break;case"YYYY":n=gn(4);break;case"M":case"L":n=Fe(lt.Month,1,1);break;case"MM":case"LL":n=Fe(lt.Month,2,1);break;case"MMM":n=ot(Xe.Months,Ae.Abbreviated);break;case"MMMM":n=ot(Xe.Months,Ae.Wide);break;case"MMMMM":n=ot(Xe.Months,Ae.Narrow);break;case"LLL":n=ot(Xe.Months,Ae.Abbreviated,ve.Standalone);break;case"LLLL":n=ot(Xe.Months,Ae.Wide,ve.Standalone);break;case"LLLLL":n=ot(Xe.Months,Ae.Narrow,ve.Standalone);break;case"w":n=pn(1);break;case"ww":n=pn(2);break;case"W":n=pn(1,!0);break;case"d":n=Fe(lt.Date,1);break;case"dd":n=Fe(lt.Date,2);break;case"c":case"cc":n=Fe(lt.Day,1);break;case"ccc":n=ot(Xe.Days,Ae.Abbreviated,ve.Standalone);break;case"cccc":n=ot(Xe.Days,Ae.Wide,ve.Standalone);break;case"ccccc":n=ot(Xe.Days,Ae.Narrow,ve.Standalone);break;case"cccccc":n=ot(Xe.Days,Ae.Short,ve.Standalone);break;case"E":case"EE":case"EEE":n=ot(Xe.Days,Ae.Abbreviated);break;case"EEEE":n=ot(Xe.Days,Ae.Wide);break;case"EEEEE":n=ot(Xe.Days,Ae.Narrow);break;case"EEEEEE":n=ot(Xe.Days,Ae.Short);break;case"a":case"aa":case"aaa":n=ot(Xe.DayPeriods,Ae.Abbreviated);break;case"aaaa":n=ot(Xe.DayPeriods,Ae.Wide);break;case"aaaaa":n=ot(Xe.DayPeriods,Ae.Narrow);break;case"b":case"bb":case"bbb":n=ot(Xe.DayPeriods,Ae.Abbreviated,ve.Standalone,!0);break;case"bbbb":n=ot(Xe.DayPeriods,Ae.Wide,ve.Standalone,!0);break;case"bbbbb":n=ot(Xe.DayPeriods,Ae.Narrow,ve.Standalone,!0);break;case"B":case"BB":case"BBB":n=ot(Xe.DayPeriods,Ae.Abbreviated,ve.Format,!0);break;case"BBBB":n=ot(Xe.DayPeriods,Ae.Wide,ve.Format,!0);break;case"BBBBB":n=ot(Xe.DayPeriods,Ae.Narrow,ve.Format,!0);break;case"h":n=Fe(lt.Hours,1,-12);break;case"hh":n=Fe(lt.Hours,2,-12);break;case"H":n=Fe(lt.Hours,1);break;case"HH":n=Fe(lt.Hours,2);break;case"m":n=Fe(lt.Minutes,1);break;case"mm":n=Fe(lt.Minutes,2);break;case"s":n=Fe(lt.Seconds,1);break;case"ss":n=Fe(lt.Seconds,2);break;case"S":n=Fe(lt.FractionalSeconds,1);break;case"SS":n=Fe(lt.FractionalSeconds,2);break;case"SSS":n=Fe(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=Wr($e.Short);break;case"ZZZZZ":n=Wr($e.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Wr($e.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=Wr($e.Long);break;default:return null}return ci[e]=n,n}(I);y+=w?w(o,t,m):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function jt(e,n,t){const r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Yn(e,n){const t=function In(e){return(0,d.H5H)(e)[d.KH2.LocaleId]}(e);if(Ni[t]=Ni[t]||{},Ni[t][n])return Ni[t][n];let r="";switch(n){case"shortDate":r=ui(e,Z.Short);break;case"mediumDate":r=ui(e,Z.Medium);break;case"longDate":r=ui(e,Z.Long);break;case"fullDate":r=ui(e,Z.Full);break;case"shortTime":r=Q(e,Z.Short);break;case"mediumTime":r=Q(e,Z.Medium);break;case"longTime":r=Q(e,Z.Long);break;case"fullTime":r=Q(e,Z.Full);break;case"short":const o=Yn(e,"shortTime"),u=Yn(e,"shortDate");r=bt(te(e,Z.Short),[o,u]);break;case"medium":const l=Yn(e,"mediumTime"),h=Yn(e,"mediumDate");r=bt(te(e,Z.Medium),[l,h]);break;case"long":const m=Yn(e,"longTime"),y=Yn(e,"longDate");r=bt(te(e,Z.Long),[m,y]);break;case"full":const I=Yn(e,"fullTime"),w=Yn(e,"fullDate");r=bt(te(e,Z.Full),[I,w])}return r&&(Ni[t][n]=r),r}function bt(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return null!=n&&r in n?n[r]:t})),e}function Dn(e,n,t="-",r,o){let u="";(e<0||o&&e<=0)&&(o?e=1-e:(e=-e,u=t));let l=String(e);for(;l.length<n;)l="0"+l;return r&&(l=l.slice(l.length-n)),u+l}function Fe(e,n,t=0,r=!1,o=!1){return function(u,l){let h=function Qn(e,n){switch(e){case lt.FullYear:return n.getFullYear();case lt.Month:return n.getMonth();case lt.Date:return n.getDate();case lt.Hours:return n.getHours();case lt.Minutes:return n.getMinutes();case lt.Seconds:return n.getSeconds();case lt.FractionalSeconds:return n.getMilliseconds();case lt.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,u);if((t>0||h>-t)&&(h+=t),e===lt.Hours)0===h&&-12===t&&(h=12);else if(e===lt.FractionalSeconds)return function Vs(e,n){return Dn(e,3).substring(0,n)}(h,n);const m=$(l,Ke.MinusSign);return Dn(h,n,m,r,o)}}function ot(e,n,t=ve.Format,r=!1){return function(o,u){return function li(e,n,t,r,o,u){switch(t){case Xe.Months:return function Jt(e,n,t){const r=(0,d.H5H)(e),u=Je([r[d.KH2.MonthsFormat],r[d.KH2.MonthsStandalone]],n);return Je(u,t)}(n,o,r)[e.getMonth()];case Xe.Days:return function oi(e,n,t){const r=(0,d.H5H)(e),u=Je([r[d.KH2.DaysFormat],r[d.KH2.DaysStandalone]],n);return Je(u,t)}(n,o,r)[e.getDay()];case Xe.DayPeriods:const l=e.getHours(),h=e.getMinutes();if(u){const y=function xt(e){const n=(0,d.H5H)(e);return Ne(n),(n[d.KH2.ExtraData][2]||[]).map(r=>"string"==typeof r?Ht(r):[Ht(r[0]),Ht(r[1])])}(n),I=function wt(e,n,t){const r=(0,d.H5H)(e);Ne(r);const u=Je([r[d.KH2.ExtraData][0],r[d.KH2.ExtraData][1]],n)||[];return Je(u,t)||[]}(n,o,r),w=y.findIndex(M=>{if(Array.isArray(M)){const[L,ne]=M,q=l>=L.hours&&h>=L.minutes,be=l<ne.hours||l===ne.hours&&h<ne.minutes;if(L.hours<ne.hours){if(q&&be)return!0}else if(q||be)return!0}else if(M.hours===l&&M.minutes===h)return!0;return!1});if(-1!==w)return I[w]}return function qn(e,n,t){const r=(0,d.H5H)(e),u=Je([r[d.KH2.DayPeriodsFormat],r[d.KH2.DayPeriodsStandalone]],n);return Je(u,t)}(n,o,r)[l<12?0:1];case Xe.Eras:return function rs(e,n){return Je((0,d.H5H)(e)[d.KH2.Eras],n)}(n,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,e,n,t,r)}}function Wr(e){return function(n,t,r){const o=-1*r,u=$(t,Ke.MinusSign),l=o>0?Math.floor(o/60):Math.ceil(o/60);switch(e){case $e.Short:return(o>=0?"+":"")+Dn(l,2,u)+Dn(Math.abs(o%60),2,u);case $e.ShortGMT:return"GMT"+(o>=0?"+":"")+Dn(l,1,u);case $e.Long:return"GMT"+(o>=0?"+":"")+Dn(l,2,u)+":"+Dn(Math.abs(o%60),2,u);case $e.Extended:return 0===r?"Z":(o>=0?"+":"")+Dn(l,2,u)+":"+Dn(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${e}"`)}}}const Us=0,Hn=4;function Nr(e){return jt(e.getFullYear(),e.getMonth(),e.getDate()+(Hn-e.getDay()))}function pn(e,n=!1){return function(t,r){let o;if(n){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,l=t.getDate();o=1+Math.floor((l+u)/7)}else{const u=Nr(t),l=function Oi(e){const n=jt(e,Us,1).getDay();return jt(e,0,1+(n<=Hn?Hn:Hn+7)-n)}(u.getFullYear()),h=u.getTime()-l.getTime();o=1+Math.round(h/6048e5)}return Dn(o,e,$(r,Ke.MinusSign))}}function gn(e,n=!1){return function(t,r){return Dn(Nr(t).getFullYear(),e,$(r,Ke.MinusSign),n)}}const ci={};function Or(e,n){e=e.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function ue(e){return e instanceof Date&&!isNaN(e.valueOf())}let Co=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new Gd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(d.c1b),d.rXU(d.C4Q))}}static{this.\u0275dir=d.FsC({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class Gd{constructor(){this.$implicit=null,this.ngIf=null}}function zd(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,d.Tbb)(n)}'.`)}const dt=new d.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),An=new d.nKC("DATE_PIPE_DEFAULT_OPTIONS");let mn=(()=>{class e{constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,u){if(null==t||""===t||t!=t)return null;try{return Nt(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(l){throw function Cr(e,n){return new d.wOt(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(d.xe9,16),d.rXU(dt,24),d.rXU(An,24))}}static{this.\u0275pipe=d.EJ8({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),xi=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({})}}return e})();function va(e){return"server"===e}let er=(()=>{class e{static{this.\u0275prov=(0,d.jDH)({token:e,providedIn:"root",factory:()=>new tr((0,d.KVO)(ie),window)})}}return e})();class tr{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Dr(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const l=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(l)return l}o=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class gc extends K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class To extends gc{static makeCurrent(){!function W(e){j||(j=e)}(new To)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function ef(){return So=So||document.querySelector("base"),So?So.getAttribute("href"):null}();return null==t?null:function Oh(e){$u=$u||document.createElement("a"),$u.setAttribute("href",e);const n=$u.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){So=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Zn(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let $u,So=null,_c=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();const Ta=new d.nKC("EventManagerPlugins");let Ph=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new d.wOt(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Ta),d.KVO(d.SKi))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();class vc{constructor(n){this._doc=n}}const Ks="ng-app-id";let yc=(()=>{class e{constructor(t,r,o,u={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=va(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ks}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const u=o.get(t);return u.usage+=r,u.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,u=o?.get(r);if(u?.parentNode===t)return o.delete(r),u.removeAttribute(Ks),u;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Ks,this.appId),l}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const u=this.styleRef,l=u.get(r)?.elements;l?l.push(o):u.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(ie),d.KVO(d.sZ2),d.KVO(d.BIS,8),d.KVO(d.Agw))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();const cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yi=/%COMP%/g,Ec=new d.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fs(e,n){return n.map(t=>t.replace(yi,e))}let At=(()=>{class e{constructor(t,r,o,u,l,h,m,y=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=l,this.platformId=h,this.ngZone=m,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=va(h),this.defaultRenderer=new qs(t,l,m,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===d.gXe.ShadowDom&&(r={...r,encapsulation:d.gXe.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof mr?o.applyToHost(t):o instanceof Qr&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let u=o.get(r.id);if(!u){const l=this.doc,h=this.ngZone,m=this.eventManager,y=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(r.encapsulation){case d.gXe.Emulated:u=new mr(m,y,r,this.appId,I,l,h,w);break;case d.gXe.ShadowDom:return new Ku(m,y,t,r,l,h,this.nonce,w);default:u=new Qr(m,y,r,I,l,h,w)}o.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Ph),d.KVO(yc),d.KVO(d.sZ2),d.KVO(Ec),d.KVO(ie),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(d.BIS))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();class qs{constructor(n,t,r,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(cs[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Ic(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Ic(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new d.wOt(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;const u=cs[o];u?n.setAttributeNS(u,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const o=cs[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(d.czy.DashCase|d.czy.Important)?n.style.setProperty(t,r,o&d.czy.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&d.czy.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=T().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function Ic(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Ku extends qs{constructor(n,t,r,o,u,l,h,m){super(n,u,l,m),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=fs(o.id,o.styles);for(const I of y){const w=document.createElement("style");h&&w.setAttribute("nonce",h),w.textContent=I,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Qr extends qs{constructor(n,t,r,o,u,l,h,m){super(n,u,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=m?fs(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mr extends Qr{constructor(n,t,r,o,u,l,h,m){const y=o+"-"+r.id;super(n,t,r,u,l,h,m,y),this.contentAttr=function Yr(e){return"_ngcontent-%COMP%".replace(yi,e)}(y),this.hostAttr=function Cc(e){return"_nghost-%COMP%".replace(yi,e)}(y)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let Ys=(()=>{class e extends vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(ie))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();const tf=["alt","control","meta","shift"],ps={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gs={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Sa=(()=>{class e extends vc{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o){const u=e.parseEventName(r),l=e.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>T().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=e._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),tf.forEach(y=>{const I=r.indexOf(y);I>-1&&(r.splice(I,1),l+=y+".")}),l+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=l,m}static matchEventFullKeyCode(t,r){let o=ps[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(o=t.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),tf.forEach(l=>{l!==o&&(0,gs[l])(t)&&(u+=l+".")}),u+=o,u===r)}static eventCallback(t,r,o){return u=>{e.matchEventFullKeyCode(u,t)&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(ie))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();const yn=(0,d.oH4)(d.fpN,"browser",[{provide:d.Agw,useValue:"browser"},{provide:d.PLl,useValue:function Yu(){To.makeCurrent()},multi:!0},{provide:ie,useFactory:function Ma(){return(0,d.TL$)(document),document},deps:[]}]),Dc=new d.nKC(""),Fn=[{provide:d.e01,useClass:class mc{addToWindow(n){d.JZv.getAngularTestability=(r,o=!0)=>{const u=n.findTestabilityInTree(r,o);if(null==u)throw new d.wOt(5103,!1);return u},d.JZv.getAllAngularTestabilities=()=>n.getAllTestabilities(),d.JZv.getAllAngularRootElements=()=>n.getAllRootElements(),d.JZv.frameworkStabilizers||(d.JZv.frameworkStabilizers=[]),d.JZv.frameworkStabilizers.push(r=>{const o=d.JZv.getAllAngularTestabilities();let u=o.length,l=!1;const h=function(m){l=l||m,u--,0==u&&r(l)};o.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?T().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:d.WHO,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]},{provide:d.NYb,useClass:d.NYb,deps:[d.SKi,d.giA,d.e01]}],Qs=[{provide:d.H8p,useValue:"root"},{provide:d.zcH,useFactory:function Ye(){return new d.zcH},deps:[]},{provide:Ta,useClass:Ys,multi:!0,deps:[ie,d.SKi,d.Agw]},{provide:Ta,useClass:Sa,multi:!0,deps:[ie]},At,yc,Ph,{provide:d._9s,useExisting:At},{provide:class xr{},useClass:_c,deps:[]},[]];let Vi=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:d.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Dc,12))}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({providers:[...Qs,...Fn],imports:[xi,d.Hbi]})}}return e})(),Mo=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(ie))}}static{this.\u0275prov=d.jDH({token:e,factory:function(r){let o=null;return o=r?new r:function Xu(){return new Mo((0,d.KVO)(ie))}(),o},providedIn:"root"})}}return e})();typeof window<"u"&&window;var sr=A(1985),ms=A(8071),ln=A(8455),ze=A(7673),or=A(4412);const{isArray:Zs}=Array,{getPrototypeOf:Po,prototype:il,keys:Sn}=Object;function Zr(e){if(1===e.length){const n=e[0];if(Zs(n))return{args:n,keys:null};if(function Tt(e){return e&&"object"==typeof e&&Po(e)===il}(n)){const t=Sn(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}var kr=A(3669),Ze=A(6354);const{isArray:Tc}=Array;function Js(e){return(0,Ze.T)(n=>function Sc(e,n){return Tc(n)?e(...n):e(n)}(e,n))}var Jr=A(3794);function _s(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}var Dt=A(4360),sl=A(5225);function vs(...e){const n=(0,Jr.lI)(e),t=(0,Jr.ms)(e),{args:r,keys:o}=Zr(e);if(0===r.length)return(0,ln.H)([],n);const u=new sr.c(function Pa(e,n,t=kr.D){return r=>{ys(n,()=>{const{length:o}=e,u=new Array(o);let l=o,h=o;for(let m=0;m<o;m++)ys(n,()=>{const y=(0,ln.H)(e[m],n);let I=!1;y.subscribe((0,Dt._)(r,w=>{u[m]=w,I||(I=!0,h--),h||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,n,o?l=>_s(o,l):kr.D));return t?u.pipe(Js(t)):u}function ys(e,n,t){e?(0,sl.N)(t,e,n):n()}const Es=(0,A(1853).L)(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});var Ui=A(6365);function Fr(...e){return function ol(){return(0,Ui.U)(1)}()((0,ln.H)(e,(0,Jr.lI)(e)))}var Bi=A(8750);function xa(e){return new sr.c(n=>{(0,Bi.Tg)(e()).subscribe(n)})}var lf=A(1203);function ji(e,n){const t=(0,ms.T)(e)?e:()=>e,r=o=>o.error(t());return new sr.c(n?o=>n.schedule(r,0,o):r)}var Hi=A(983),Rc=A(8359),Ln=A(9974);function Nc(){return(0,Ln.N)((e,n)=>{let t=null;e._refCount++;const r=(0,Dt._)(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class al extends sr.c{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.S)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Rc.yU;const t=this.getSubject();n.add(this.source.subscribe((0,Dt._)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Rc.yU.EMPTY)}return n}refCount(){return Nc()(this)}}var br=A(1413),zt=A(5558);function $i(e){return e<=0?()=>Hi.w:(0,Ln.N)((n,t)=>{let r=0;n.subscribe((0,Dt._)(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function Lr(e,n){return(0,Ln.N)((t,r)=>{let o=0;t.subscribe((0,Dt._)(r,u=>e.call(n,u,o++)&&r.next(u)))})}var rn=A(1397);function ul(e){return(0,Ln.N)((n,t)=>{let r=!1;n.subscribe((0,Dt._)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function Oc(e=ka){return(0,Ln.N)((n,t)=>{let r=!1;n.subscribe((0,Dt._)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function ka(){return new Es}function Wi(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Lr((o,u)=>e(o,u,r)):kr.D,$i(1),t?ul(n):Oc(()=>new Es))}function Vn(e,n){return(0,ms.T)(n)?(0,rn.Z)(e,n,1):(0,rn.Z)(e,1)}var cn=A(8141);function Ar(e){return(0,Ln.N)((n,t)=>{let u,r=null,o=!1;r=n.subscribe((0,Dt._)(t,void 0,void 0,l=>{u=(0,Bi.Tg)(e(l,Ar(e)(n))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Gi(e,n){return(0,Ln.N)(function eo(e,n,t,r,o){return(u,l)=>{let h=t,m=n,y=0;u.subscribe((0,Dt._)(l,I=>{const w=y++;m=h?e(m,I,w):(h=!0,I),r&&l.next(m)},o&&(()=>{h&&l.next(m),l.complete()})))}}(e,n,arguments.length>=2,!0))}function zi(e){return e<=0?()=>Hi.w:(0,Ln.N)((n,t)=>{let r=[];n.subscribe((0,Dt._)(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Cs(e){return(0,Ln.N)((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}var ko=A(5343);const nt="primary",La=Symbol("RouteTitle");class Va{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Tr(e){return new Va(e)}function Ki(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const o={};for(let u=0;u<r.length;u++){const l=r[u],h=e[u];if(l.startsWith(":"))o[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Vr(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Is(e[o],n[o]))return!1;return!0}function Is(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((o,u)=>r[u]===o)}return e===n}function qi(e){return e.length>0?e[e.length-1]:null}function Ft(e){return function Xs(e){return!!e&&(e instanceof sr.c||(0,ms.T)(e.lift)&&(0,ms.T)(e.subscribe))}(e)?e:(0,d.jNT)(e)?(0,ln.H)(Promise.resolve(e)):(0,ze.of)(e)}const Ds={exact:function dl(e,n,t){if(!ee(e.segments,n.segments)||!v(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!dl(e.children[r],n.children[r],t))return!1;return!0},subset:no},xc={exact:function kc(e,n){return Vr(e,n)},subset:function fl(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Is(e[t],n[t]))},ignored:()=>!0};function cl(e,n,t){return Ds[t.paths](e.root,n.root,t.matrixParams)&&xc[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function no(e,n,t){return _(e,n,n.segments,t)}function _(e,n,t,r){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!ee(o,t)||n.hasChildren()||!v(o,t,r))}if(e.segments.length===t.length){if(!ee(e.segments,t)||!v(e.segments,t,r))return!1;for(const o in n.children)if(!e.children[o]||!no(e.children[o],n.children[o],r))return!1;return!0}{const o=t.slice(0,e.segments.length),u=t.slice(e.segments.length);return!!(ee(e.segments,o)&&v(e.segments,o,r)&&e.children[nt])&&_(e.children[nt],n,u,r)}}function v(e,n,t){return n.every((r,o)=>xc[t](e[o].parameters,r.parameters))}class C{constructor(n=new b([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return tt.serialize(this)}}class b{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qe(this)}}class k{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Tr(this.parameters)),this._parameterMap}toString(){return Ua(this)}}function ee(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Ie=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return new Le},providedIn:"root"})}}return e})();class Le{parse(n){const t=new cf(n);return new C(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${zn(n.root,!0)}`,r=function Ba(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(o=>`${Ci(t)}=${Ci(o)}`).join("&"):`${Ci(t)}=${Ci(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function hl(e){return encodeURI(e)}(n.fragment)}`:""}`}}const tt=new Le;function Qe(e){return e.segments.map(n=>Ua(n)).join("/")}function zn(e,n){if(!e.hasChildren())return Qe(e);if(n){const t=e.children[nt]?zn(e.children[nt],!1):"",r=[];return Object.entries(e.children).forEach(([o,u])=>{o!==nt&&r.push(`${o}:${zn(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Se(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===nt&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==nt&&(t=t.concat(n(o,r)))}),t}(e,(r,o)=>o===nt?[zn(e.children[nt],!1)]:[`${o}:${zn(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[nt]?`${Qe(e)}/${t[0]}`:`${Qe(e)}/(${t.join("//")})`}}function Lt(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ci(e){return Lt(e).replace(/%3B/gi,";")}function Ot(e){return Lt(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ar(e){return decodeURIComponent(e)}function ur(e){return ar(e.replace(/\+/g,"%20"))}function Ua(e){return`${Ot(e.path)}${function Sr(e){return Object.keys(e).map(n=>`;${Ot(n)}=${Ot(e[n])}`).join("")}(e.parameters)}`}const Wg=/^[^\/()?;#]+/;function ro(e){const n=e.match(Wg);return n?n[0]:""}const ja=/^[^\/()?;=#]+/,Gg=/^[^=?&#]+/,dy=/^[^&#]+/;class cf{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new b([],{}):new b([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[nt]=new b(n,t)),r}parseSegment(){const n=ro(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(n),new k(ar(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function Fc(e){const n=e.match(ja);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=ro(this.remaining);o&&(r=o,this.capture(r))}n[ar(t)]=ar(r)}parseQueryParam(n){const t=function Uh(e){const n=e.match(Gg);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Ur(e){const n=e.match(dy);return n?n[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=ur(t),u=ur(r);if(n.hasOwnProperty(o)){let l=n[o];Array.isArray(l)||(l=[l],n[o]=l),l.push(u)}else n[o]=u}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ro(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new d.wOt(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=nt);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[nt]:new b([],l),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new d.wOt(4011,!1)}}function Fo(e){return e.segments.length>0?new b([],{[nt]:e}):e}function zg(e){const n={};for(const r of Object.keys(e.children)){const u=zg(e.children[r]);if(r===nt&&0===u.segments.length&&u.hasChildren())for(const[l,h]of Object.entries(u.children))n[l]=h;else(u.segments.length>0||u.hasChildren())&&(n[r]=u)}return function df(e){if(1===e.numberOfChildren&&e.children[nt]){const n=e.children[nt];return new b(e.segments.concat(n.segments),n.children)}return e}(new b(e.segments,n))}function Lo(e){return e instanceof C}function io(e){let n;const o=Fo(function t(u){const l={};for(const m of u.children){const y=t(m);l[m.outlet]=y}const h=new b(u.url,l);return u===e&&(n=h),h}(e.root));return n??o}function Bh(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(0===n.length)return pl(o,o,o,t,r);const u=function Vc(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new jh(!0,0,e);let n=0,t=!1;const r=e.reduce((o,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const h={};return Object.entries(u.outlets).forEach(([m,y])=>{h[m]="string"==typeof y?y.split("/"):y}),[...o,{outlets:h}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===l?(u.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?n++:""!=h&&o.push(h))}),o):[...o,u]},[]);return new jh(t,n,r)}(n);if(u.toRoot())return pl(o,o,new b([],{}),t,r);const l=function Uc(e,n,t){if(e.isAbsolute)return new Ha(n,!0,0);if(!t)return new Ha(n,!1,NaN);if(null===t.parent)return new Ha(t,!0,0);const r=Lc(e.commands[0])?0:1;return function Kg(e,n,t){let r=e,o=n,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new d.wOt(4005,!1);o=r.segments.length}return new Ha(r,!1,o-u)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(u,o,e),h=l.processChildren?so(l.segmentGroup,l.index,u.commands):jc(l.segmentGroup,l.index,u.commands);return pl(o,l.segmentGroup,h,t,r)}function Lc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Vo(e){return"object"==typeof e&&null!=e&&e.outlets}function pl(e,n,t,r,o){let l,u={};r&&Object.entries(r).forEach(([m,y])=>{u[m]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),l=e===n?t:Uo(e,n,t);const h=Fo(zg(l));return new C(h,u,o)}function Uo(e,n,t){const r={};return Object.entries(e.children).forEach(([o,u])=>{r[o]=u===n?t:Uo(u,n,t)}),new b(e.segments,r)}class jh{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Lc(r[0]))throw new d.wOt(4003,!1);const o=r.find(Vo);if(o&&o!==qi(r))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ha{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function jc(e,n,t){if(e||(e=new b([],{})),0===e.segments.length&&e.hasChildren())return so(e,n,t);const r=function Hh(e,n,t){let r=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return u;const l=e.segments[o],h=t[r];if(Vo(h))break;const m=`${h}`,y=r<t.length-1?t[r+1]:null;if(o>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!ao(m,y,l))return u;r+=2}else{if(!ao(m,{},l))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const u=new b(e.segments.slice(0,r.pathIndex),{});return u.children[nt]=new b(e.segments.slice(r.pathIndex),e.children),so(u,0,o)}return r.match&&0===o.length?new b(e.segments,{}):r.match&&!e.hasChildren()?ff(e,n,t):r.match?so(e,0,o):ff(e,n,t)}function so(e,n,t){if(0===t.length)return new b(e.segments,{});{const r=function Bc(e){return Vo(e[0])?e[0].outlets:{[nt]:e}}(t),o={};if(Object.keys(r).some(u=>u!==nt)&&e.children[nt]&&1===e.numberOfChildren&&0===e.children[nt].segments.length){const u=so(e.children[nt],n,t);return new b(e.segments,u.children)}return Object.entries(r).forEach(([u,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(o[u]=jc(e.children[u],n,l))}),Object.entries(e.children).forEach(([u,l])=>{void 0===r[u]&&(o[u]=l)}),new b(e.segments,o)}}function ff(e,n,t){const r=e.segments.slice(0,n);let o=0;for(;o<t.length;){const u=t[o];if(Vo(u)){const m=qg(u.outlets);return new b(r,m)}if(0===o&&Lc(t[0])){r.push(new k(e.segments[n].path,oo(t[0]))),o++;continue}const l=Vo(u)?u.outlets[nt]:`${u}`,h=o<t.length-1?t[o+1]:null;l&&h&&Lc(h)?(r.push(new k(l,oo(h))),o+=2):(r.push(new k(l,{})),o++)}return new b(r,{})}function qg(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=ff(new b([],{}),0,r))}),n}function oo(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function ao(e,n,t){return e==t.path&&Vr(n,t.parameters)}const gl="imperative";class ws{constructor(n,t){this.id=n,this.url=t}}class Bo extends ws{constructor(n,t,r="imperative",o=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yi extends ws{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hc extends ws{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $a extends ws{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=16}}class jo extends ws{constructor(n,t,r,o){super(n,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $h extends ws{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $c extends ws{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wh extends ws{constructor(n,t,r,o,u){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gh extends ws{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zh extends ws{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hy{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kh{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class py{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ml{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yg{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wc{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qh{}class _l{constructor(n){this.url=n}}class Xg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wa,this.attachRef=null}}let Wa=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Xg,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class hf{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=pf(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=pf(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=gf(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return gf(n,this._root).map(t=>t.value)}}function pf(e,n){if(e===n.value)return n;for(const t of n.children){const r=pf(e,t);if(r)return r}return null}function gf(e,n){if(e===n.value)return[n];for(const t of n.children){const r=gf(e,t);if(r.length)return r.unshift(n),r}return[]}class Mr{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function bs(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class _r extends hf{constructor(n,t){super(n),this.snapshot=t,za(this,n)}toString(){return this.snapshot.toString()}}function Ho(e,n){const t=function mf(e,n){const l=new $o([],{},{},"",{},nt,n,null,{});return new Ga("",new Mr(l,[]))}(0,n),r=new or.t([new k("",{})]),o=new or.t({}),u=new or.t({}),l=new or.t({}),h=new or.t(""),m=new Ii(r,o,l,h,u,nt,n,t.root);return m.snapshot=t.root,new _r(new Mr(m,[]),t)}class Ii{constructor(n,t,r,o,u,l,h,m){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=u,this.outlet=l,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,Ze.T)(y=>y[La]))??(0,ze.of)(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.T)(n=>Tr(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.T)(n=>Tr(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vl(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Gc(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $o{get title(){return this.data?.[La]}constructor(n,t,r,o,u,l,h,m,y){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=l,this.component=h,this.routeConfig=m,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Tr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Tr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ga extends hf{constructor(n,t){super(t),this.url=n,za(this,t)}toString(){return As(this._root)}}function za(e,n){n.value._routerState=e,n.children.forEach(t=>za(e,t))}function As(e){const n=e.children.length>0?` { ${e.children.map(As).join(", ")} } `:"";return`${e.value}${n}`}function zc(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Vr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Vr(n.params,t.params)||e.paramsSubject.next(t.params),function ll(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Vr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Vr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _f(e,n){const t=Vr(e.params,n.params)&&function U(e,n){return ee(e,n)&&e.every((t,r)=>Vr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||_f(e.parent,n.parent))}let vf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(Wa),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.environmentInjector=(0,d.WQX)(d.uvJ),this.inputBinder=(0,d.WQX)(yl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=t;const o=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new yf(t,h,o.injector);this.activated=o.createComponent(l,{index:o.length,injector:m,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=d.FsC({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]})}}return e})();class yf{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ii?this.route:n===Wa?this.childContexts:this.parent.get(n,t)}}const yl=new d.nKC("");let vr=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=vs([r.queryParams,r.params,r.data]).pipe((0,zt.n)(([u,l,h],m)=>(h={...u,...l,...h},0===m?(0,ze.of)(h):Promise.resolve(h)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,d.HJs)(r.component);if(l)for(const{templateName:h}of l.inputs)t.activatedComponentRef.setInput(h,u[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();function uo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const o=function Zg(e,n,t){return n.children.map(r=>{for(const o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return uo(e,r,o);return uo(e,r)})}(e,n,t);return new Mr(r,o)}{if(e.shouldAttach(n.value)){const u=e.retrieve(n.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=n.value,l.children=n.children.map(h=>uo(e,h)),l}}const r=function Ts(e){return new Ii(new or.t(e.url),new or.t(e.params),new or.t(e.queryParams),new or.t(e.fragment),new or.t(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map(u=>uo(e,u));return new Mr(r,o)}}const En="ngNavigationCancelingError";function El(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Lo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=Kc(!1,0,n);return o.url=t,o.navigationBehaviorOptions=r,o}function Kc(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[En]=!0,r.cancellationCode=n,t&&(r.url=t),r}function Mn(e){return e&&e[En]}let Ka=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(r,o){1&r&&d.nrm(0,"router-outlet")},dependencies:[vf],encapsulation:2})}}return e})();function P(e){const n=e.children&&e.children.map(P),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=Ka),t}function V(e){return e.outlet||nt}function Ce(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Qt{constructor(n,t,r,o,u){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),zc(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const o=bs(t);n.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,o[l],r),delete o[l]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(n,t,r){const o=n.value,u=t?t.value:null;if(o===u)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(n,t,l.children)}else this.deactivateChildRoutes(n,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,u=bs(n);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:h})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,u=bs(n);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const o=bs(t);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Wc(u.value.snapshot))}),n.children.length&&this.forwardEvent(new ml(n.value.snapshot))}activateRoutes(n,t,r){const o=n.value,u=t?t.value:null;if(zc(o),o===u)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,l.children)}else this.activateChildRoutes(n,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),zc(h.route.value),this.activateChildRoutes(n,null,l.children)}else{const h=Ce(o.snapshot);l.attachRef=null,l.route=o,l.injector=h,l.outlet&&l.outlet.activateWith(o,l.injector),this.activateChildRoutes(n,null,l.children)}}else this.activateChildRoutes(n,null,r)}}class Br{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class lo{constructor(n,t){this.component=n,this.route=t}}function If(e,n,t){const r=e._root;return Wo(r,n?n._root:null,t,[r.value])}function Qi(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||(0,d.LfX)(e)?n.get(e):e:r}function Wo(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=bs(n);return e.children.forEach(l=>{(function Cl(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=e.value,l=n?n.value:null,h=t?t.getContext(e.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const m=function Il(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!ee(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ee(e.url,n.url)||!Vr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_f(e,n)||!Vr(e.queryParams,n.queryParams);default:return!_f(e,n)}}(l,u,u.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new Br(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Wo(e,n,u.component?h?h.children:null:t,r,o),m&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new lo(h.outlet.component,l))}else l&&qa(n,h,o),o.canActivateChecks.push(new Br(r)),Wo(e,null,u.component?h?h.children:null:t,r,o)})(l,u[l.value.outlet],t,r.concat([l.value]),o),delete u[l.value.outlet]}),Object.entries(u).forEach(([l,h])=>qa(h,t.getContext(l),o)),o}function qa(e,n,t){const r=bs(e),o=e.value;Object.entries(r).forEach(([u,l])=>{qa(l,o.component?n?n.children.getContext(u):null:n,t)}),t.canDeactivateChecks.push(new lo(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function Go(e){return"function"==typeof e}function vy(e){return e instanceof Es||"EmptyError"===e?.name}const Zh=Symbol("INITIAL_VALUE");function Ya(){return(0,zt.n)(e=>vs(e.map(n=>n.pipe($i(1),function xo(...e){const n=(0,Jr.lI)(e);return(0,Ln.N)((t,r)=>{(n?Fr(e,t,n):Fr(e,t)).subscribe(r)})}(Zh)))).pipe((0,Ze.T)(n=>{for(const t of n)if(!0!==t){if(t===Zh)return Zh;if(!1===t||t instanceof C)return t}return!0}),Lr(n=>n!==Zh),$i(1)))}function rm(e){return(0,lf.F)((0,cn.M)(n=>{if(Lo(n))throw El(0,n)}),(0,Ze.T)(n=>!0===n))}class qc{constructor(n){this.segmentGroup=n||null}}class im{constructor(n){this.urlTree=n}}function zo(e){return ji(new qc(e))}function Yc(e){return ji(new im(e))}class ep{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new d.wOt(4002,!1)}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,ze.of)(r);if(o.numberOfChildren>1||!o.children[nt])return ji(new d.wOt(4e3,!1));o=o.children[nt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,o){const u=this.createSegmentGroup(n,t.root,r,o);return new C(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const h=u.substring(1);r[o]=t[h]}else r[o]=u}),r}createSegmentGroup(n,t,r,o){const u=this.createSegments(n,t.segments,r,o);let l={};return Object.entries(t.children).forEach(([h,m])=>{l[h]=this.createSegmentGroup(n,m,r,o)}),new b(u,l)}createSegments(n,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,r))}findPosParam(n,t,r){const o=r[t.path.substring(1)];if(!o)throw new d.wOt(4001,!1);return o}findOrReturn(n,t){let r=0;for(const o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}}const tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function om(e,n,t,r,o){const u=wl(e,n,t);return u.matched?(r=function Yh(e,n){return e.providers&&!e._injector&&(e._injector=(0,d.Ol2)(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function Dy(e,n,t,r){const o=n.canMatch;if(!o||0===o.length)return(0,ze.of)(!0);const u=o.map(l=>{const h=Qi(l,e);return Ft(function Xh(e){return e&&Go(e.canMatch)}(h)?h.canMatch(n,t):e.runInContext(()=>h(n,t)))});return(0,ze.of)(u).pipe(Ya(),rm())}(r,n,t).pipe((0,Ze.T)(l=>!0===l?u:{...tp}))):(0,ze.of)(u)}function wl(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...tp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||Ki)(t,e,n);if(!o)return{...tp};const u={};Object.entries(o.posParams??{}).forEach(([h,m])=>{u[h]=m.path});const l=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:l,positionalParamSegments:o.posParams??{}}}function by(e,n,t,r){return t.length>0&&function PD(e,n,t){return t.some(r=>wf(e,n,r)&&V(r)!==nt)}(e,t,r)?{segmentGroup:new b(n,OD(r,new b(t,e.children))),slicedSegments:[]}:0===t.length&&function xD(e,n,t){return t.some(r=>wf(e,n,r))}(e,t,r)?{segmentGroup:new b(e.segments,Ay(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new b(e.segments,e.children),slicedSegments:t}}function Ay(e,n,t,r,o){const u={};for(const l of r)if(wf(e,t,l)&&!o[V(l)]){const h=new b([],{});u[V(l)]=h}return{...o,...u}}function OD(e,n){const t={};t[nt]=n;for(const r of e)if(""===r.path&&V(r)!==nt){const o=new b([],{});t[V(r)]=o}return t}function wf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class Qc{constructor(n,t,r,o,u,l,h){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new ep(this.urlSerializer,this.urlTree)}noMatchError(n){return new d.wOt(4002,!1)}recognize(){const n=by(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,nt).pipe(Ar(t=>{if(t instanceof im)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof qc?this.noMatchError(t):t}),(0,Ze.T)(t=>{const r=new $o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),o=new Mr(r,t),u=new Ga("",o),l=function fy(e,n,t=null,r=null){return Bh(io(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(u._root),{state:u,tree:l}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,nt).pipe(Ar(r=>{throw r instanceof qc?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=vl(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,o,!0)}processChildren(n,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,ln.H)(o).pipe(Vn(u=>{const l=r.children[u],h=function pe(e,n){const t=e.filter(r=>V(r)===n);return t.push(...e.filter(r=>V(r)!==n)),t}(t,u);return this.processSegmentGroup(n,h,l,u)}),Gi((u,l)=>(u.push(...l),u)),ul(null),function to(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Lr((o,u)=>e(o,u,r)):kr.D,zi(1),t?ul(n):Oc(()=>new Es))}(),(0,rn.Z)(u=>{if(null===u)return zo(r);const l=LD(u);return function kD(e){e.sort((n,t)=>n.value.outlet===nt?-1:t.value.outlet===nt?1:n.value.outlet.localeCompare(t.value.outlet))}(l),(0,ze.of)(l)}))}processSegment(n,t,r,o,u,l){return(0,ln.H)(t).pipe(Vn(h=>this.processSegmentAgainstRoute(h._injector??n,t,h,r,o,u,l).pipe(Ar(m=>{if(m instanceof qc)return(0,ze.of)(null);throw m}))),Wi(h=>!!h),Ar(h=>{if(vy(h))return function np(e,n,t){return 0===n.length&&!e.children[t]}(r,o,u)?(0,ze.of)([]):zo(r);throw h}))}processSegmentAgainstRoute(n,t,r,o,u,l,h){return function Ty(e,n,t,r){return!!(V(e)===r||r!==nt&&wf(n,t,e))&&("**"===e.path||wl(n,e,t).matched)}(r,o,u,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,u,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,u,l):zo(o):zo(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,u,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,o,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,o){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Yc(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,rn.Z)(l=>{const h=new b(l,{});return this.processSegment(n,t,h,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,o,u,l){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:I}=wl(t,o,u);if(!h)return zo(t);const w=this.applyRedirects.applyRedirectCommands(m,o.redirectTo,I);return o.redirectTo.startsWith("/")?Yc(w):this.applyRedirects.lineralizeSegments(o,w).pipe((0,rn.Z)(M=>this.processSegment(n,r,t,M.concat(y),l,!1)))}matchSegmentAgainstRoute(n,t,r,o,u,l){let h;if("**"===r.path){const m=o.length>0?qi(o).parameters:{},y=new $o(o,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rp(r),V(r),r.component??r._loadedComponent??null,r,Sy(r));h=(0,ze.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=om(t,r,o,n).pipe((0,Ze.T)(({matched:m,consumedSegments:y,remainingSegments:I,parameters:w})=>m?{snapshot:new $o(y,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,rp(r),V(r),r.component??r._loadedComponent??null,r,Sy(r)),consumedSegments:y,remainingSegments:I}:null));return h.pipe((0,zt.n)(m=>null===m?zo(t):this.getChildConfig(n=r._injector??n,r,o).pipe((0,zt.n)(({routes:y})=>{const I=r._loadedInjector??n,{snapshot:w,consumedSegments:M,remainingSegments:L}=m,{segmentGroup:ne,slicedSegments:q}=by(t,M,L,y);if(0===q.length&&ne.hasChildren())return this.processChildren(I,y,ne).pipe((0,Ze.T)(ke=>null===ke?null:[new Mr(w,ke)]));if(0===y.length&&0===q.length)return(0,ze.of)([new Mr(w,[])]);const be=V(r)===u;return this.processSegment(I,y,ne,q,be?nt:u,!0).pipe((0,Ze.T)(ke=>[new Mr(w,ke)]))}))))}getChildConfig(n,t,r){return t.children?(0,ze.of)({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?(0,ze.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Iy(e,n,t,r){const o=n.canLoad;if(void 0===o||0===o.length)return(0,ze.of)(!0);const u=o.map(l=>{const h=Qi(l,e);return Ft(function em(e){return e&&Go(e.canLoad)}(h)?h.canLoad(n,t):e.runInContext(()=>h(n,t)))});return(0,ze.of)(u).pipe(Ya(),rm())}(n,t,r).pipe((0,rn.Z)(o=>o?this.configLoader.loadChildren(n,t).pipe((0,cn.M)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function sm(e){return ji(Kc(!1,3))}())):(0,ze.of)({routes:[],injector:n})}}function FD(e){const n=e.value.routeConfig;return n&&""===n.path}function LD(e){const n=[],t=new Set;for(const r of e){if(!FD(r)){n.push(r);continue}const o=n.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):n.push(r)}for(const r of t){const o=LD(r.children);n.push(new Mr(r.value,o))}return n.filter(r=>!t.has(r))}function rp(e){return e.data||{}}function Sy(e){return e.resolve||{}}function lm(e){return"string"==typeof e.title||null===e.title}function cm(e){return(0,zt.n)(n=>{const t=e(n);return t?(0,ln.H)(t).pipe((0,Ze.T)(()=>n)):(0,ze.of)(n)})}const Zc=new d.nKC("ROUTES");let dm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ze.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ft(t.loadComponent()).pipe((0,Ze.T)(Ko),(0,cn.M)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Cs(()=>{this.componentLoaders.delete(t)})),o=new al(r,()=>new br.B).pipe(Nc());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,ze.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=function VD(e,n,t,r){return Ft(e.loadChildren()).pipe((0,Ze.T)(Ko),(0,rn.Z)(o=>o instanceof d.Co$||Array.isArray(o)?(0,ze.of)(o):(0,ln.H)(n.compileModuleAsync(o))),(0,Ze.T)(o=>{r&&r(e);let u,l,h=!1;return Array.isArray(o)?(l=o,!0):(u=o.create(t).injector,l=u.get(Zc,[],{optional:!0,self:!0}).flat()),{routes:l.map(P),injector:u}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Cs(()=>{this.childrenLoaders.delete(r)})),l=new al(u,()=>new br.B).pipe(Nc());return this.childrenLoaders.set(r,l),l}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ko(e){return function UD(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Qa=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new br.B,this.transitionAbortSubject=new br.B,this.configLoader=(0,d.WQX)(dm),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Ie),this.rootContexts=(0,d.WQX)(Wa),this.inputBindingEnabled=null!==(0,d.WQX)(yl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ze.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Kh(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new hy(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new or.t({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lr(u=>0!==u.id),(0,Ze.T)(u=>({...u,extractedUrl:t.urlHandlingStrategy.extract(u.rawUrl)})),(0,zt.n)(u=>{this.currentTransition=u;let l=!1,h=!1;return(0,ze.of)(u).pipe((0,cn.M)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,zt.n)(m=>{const y=m.currentBrowserUrl.toString(),I=!t.navigated||m.extractedUrl.toString()!==y||y!==m.currentUrlTree.toString();if(!I&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new $a(m.id,this.urlSerializer.serialize(m.rawUrl),M,0)),m.resolve(null),Hi.w}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,ze.of)(m).pipe((0,zt.n)(M=>{const L=this.transitions?.getValue();return this.events.next(new Bo(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions?.getValue()?Hi.w:Promise.resolve(M)}),function Xc(e,n,t,r,o,u){return(0,rn.Z)(l=>function am(e,n,t,r,o,u,l="emptyOnly"){return new Qc(e,n,t,r,o,l,u).recognize()}(e,n,t,r,l.extractedUrl,o,u).pipe((0,Ze.T)(({state:h,tree:m})=>({...l,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,cn.M)(M=>{u.targetSnapshot=M.targetSnapshot,u.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects};const L=new $h(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(L)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:M,extractedUrl:L,source:ne,restoredState:q,extras:be}=m,ke=new Bo(M,this.urlSerializer.serialize(L),ne,q);this.events.next(ke);const qe=Ho(0,this.rootComponentType).snapshot;return this.currentTransition=u={...m,targetSnapshot:qe,urlAfterRedirects:L,extras:{...be,skipLocationChange:!1,replaceUrl:!1}},(0,ze.of)(u)}{const M="";return this.events.next(new $a(m.id,this.urlSerializer.serialize(m.extractedUrl),M,1)),m.resolve(null),Hi.w}}),(0,cn.M)(m=>{const y=new $c(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),(0,Ze.T)(m=>(this.currentTransition=u={...m,guards:If(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},u)),function yy(e,n){return(0,rn.Z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?(0,ze.of)({...t,guardsResult:!0}):function Dl(e,n,t,r){return(0,ln.H)(e).pipe((0,rn.Z)(o=>function ND(e,n,t,r,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,ze.of)(!0);const l=u.map(h=>{const m=Ce(n)??o,y=Qi(h,m);return Ft(function my(e){return e&&Go(e.canDeactivate)}(y)?y.canDeactivate(e,n,t,r):m.runInContext(()=>y(e,n,t,r))).pipe(Wi())});return(0,ze.of)(l).pipe(Ya())}(o.component,o.route,t,n,r)),Wi(o=>!0!==o,!0))}(l,r,o,e).pipe((0,rn.Z)(h=>h&&function Qh(e){return"boolean"==typeof e}(h)?function Ey(e,n,t,r){return(0,ln.H)(n).pipe(Vn(o=>Fr(function RD(e,n){return null!==e&&n&&n(new py(e)),(0,ze.of)(!0)}(o.route.parent,r),function Cy(e,n){return null!==e&&n&&n(new Yg(e)),(0,ze.of)(!0)}(o.route,r),function Jh(e,n,t){const r=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(l=>function co(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(l)).filter(l=>null!==l).map(l=>xa(()=>{const h=l.guards.map(m=>{const y=Ce(l.node)??t,I=Qi(m,y);return Ft(function tm(e){return e&&Go(e.canActivateChild)}(I)?I.canActivateChild(r,e):y.runInContext(()=>I(r,e))).pipe(Wi())});return(0,ze.of)(h).pipe(Ya())}));return(0,ze.of)(u).pipe(Ya())}(e,o.path,t),function dA(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ze.of)(!0);const o=r.map(u=>xa(()=>{const l=Ce(n)??t,h=Qi(u,l);return Ft(function Df(e){return e&&Go(e.canActivate)}(h)?h.canActivate(n,e):l.runInContext(()=>h(n,e))).pipe(Wi())}));return(0,ze.of)(o).pipe(Ya())}(e,o.route,t))),Wi(o=>!0!==o,!0))}(r,u,e,n):(0,ze.of)(h)),(0,Ze.T)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),(0,cn.M)(m=>{if(u.guardsResult=m.guardsResult,Lo(m.guardsResult))throw El(0,m.guardsResult);const y=new Wh(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(y)}),Lr(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),cm(m=>{if(m.guards.canActivateChecks.length)return(0,ze.of)(m).pipe((0,cn.M)(y=>{const I=new Gh(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),(0,zt.n)(y=>{let I=!1;return(0,ze.of)(y).pipe(function ip(e,n){return(0,rn.Z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,ze.of)(t);let u=0;return(0,ln.H)(o).pipe(Vn(l=>function um(e,n,t,r){const o=e.routeConfig,u=e._resolve;return void 0!==o?.title&&!lm(o)&&(u[La]=o.title),function My(e,n,t,r){const o=function Ry(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===o.length)return(0,ze.of)({});const u={};return(0,ln.H)(o).pipe((0,rn.Z)(l=>function Ny(e,n,t,r){const o=Ce(n)??r,u=Qi(e,o);return Ft(u.resolve?u.resolve(n,t):o.runInContext(()=>u(n,t)))}(e[l],n,t,r).pipe(Wi(),(0,cn.M)(h=>{u[l]=h}))),zi(1),function Fa(e){return(0,Ze.T)(()=>e)}(u),Ar(l=>vy(l)?Hi.w:ji(l)))}(u,e,n,r).pipe((0,Ze.T)(l=>(e._resolvedData=l,e.data=vl(e,t).resolve,o&&lm(o)&&(e.data[La]=o.title),null)))}(l.route,r,e,n)),(0,cn.M)(()=>u++),zi(1),(0,rn.Z)(l=>u===o.length?(0,ze.of)(t):Hi.w))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,cn.M)({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(y,"",2)}}))}),(0,cn.M)(y=>{const I=new zh(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}))}),cm(m=>{const y=I=>{const w=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,cn.M)(M=>{I.component=M}),(0,Ze.T)(()=>{})));for(const M of I.children)w.push(...y(M));return w};return vs(y(m.targetSnapshot.root)).pipe(ul(),$i(1))}),cm(()=>this.afterPreactivation()),(0,Ze.T)(m=>{const y=function Ef(e,n,t){const r=uo(e,n._root,t?t._root:void 0);return new _r(r,n)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=u={...m,targetRouterState:y},u}),(0,cn.M)(()=>{this.events.next(new qh)}),((e,n,t,r)=>(0,Ze.T)(o=>(new Qt(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),$i(1),(0,cn.M)({next:m=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yi(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{l=!0}}),function Pc(e){return(0,Ln.N)((n,t)=>{(0,Bi.Tg)(e).subscribe((0,Dt._)(t,()=>t.complete(),ko.l)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe((0,cn.M)(m=>{throw m}))),Cs(()=>{l||h||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ar(m=>{if(h=!0,Mn(m))this.events.next(new Hc(u.id,this.urlSerializer.serialize(u.extractedUrl),m.message,m.cancellationCode)),function Cf(e){return Mn(e)&&Lo(e.url)}(m)?this.events.next(new _l(m.url)):u.resolve(!1);else{this.events.next(new jo(u.id,this.urlSerializer.serialize(u.extractedUrl),m,u.targetSnapshot??void 0));try{u.resolve(t.errorHandler(m))}catch(y){u.reject(y)}}return Hi.w}))}))}cancelNavigationTransition(t,r,o){const u=new Hc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(u),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Oy(e){return e!==gl}let BD=(()=>{class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(u=>u.outlet===nt);return r}getResolvedTitleForRoute(t){return t.data[La]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return(0,d.WQX)(hA)},providedIn:"root"})}}return e})(),hA=(()=>{class e extends BD{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Mo))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pA=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return(0,d.WQX)(mA)},providedIn:"root"})}}return e})();class gA{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let mA=(()=>{class e extends gA{static{this.\u0275fac=function(){let t;return function(o){return(t||(t=d.xGo(e)))(o||e)}}()}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bf=new d.nKC("",{providedIn:"root",factory:()=>({})});let jD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:function(){return(0,d.WQX)(HD)},providedIn:"root"})}}return e})(),HD=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Af=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Af||{});function Py(e,n){e.events.pipe(Lr(t=>t instanceof Yi||t instanceof Hc||t instanceof jo||t instanceof $a),(0,Ze.T)(t=>t instanceof Yi||t instanceof $a?Af.COMPLETE:t instanceof Hc&&(0===t.code||1===t.code)?Af.REDIRECTING:Af.FAILED),Lr(t=>t!==Af.REDIRECTING),$i(1)).subscribe(()=>{n()})}function fm(e){throw e}function qo(e,n,t){return n.parse("/")}const Tf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.WQX)(d.H3F),this.isNgZoneEnabled=!1,this._events=new br.B,this.options=(0,d.WQX)(bf,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.$K3),this.errorHandler=this.options.errorHandler||fm,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.WQX)(jD),this.routeReuseStrategy=(0,d.WQX)(pA),this.titleStrategy=(0,d.WQX)(BD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,d.WQX)(Zc,{optional:!0})?.flat()??[],this.navigationTransitions=(0,d.WQX)(Qa),this.urlSerializer=(0,d.WQX)(Ie),this.location=(0,d.WQX)(we),this.componentInputBindingEnabled=!!(0,d.WQX)(yl,{optional:!0}),this.eventsSubscription=new Rc.yU,this.isNgZoneEnabled=(0,d.WQX)(d.SKi)instanceof d.SKi&&d.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new C,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ho(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void($D(r)&&this._events.next(r));if(r instanceof Bo)Oy(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(r instanceof $a)this.rawUrlTree=o.rawUrl;else if(r instanceof $h){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(r instanceof qh)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(r instanceof Hc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(o);else if(r instanceof _l){const u=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Oy(o.source)};this.scheduleNavigation(u,gl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}r instanceof jo&&this.restoreHistory(o,!0),r instanceof Yi&&(this.navigated=!0),$D(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const u={replaceUrl:!0},l=o?.navigationId?o:null;if(o){const m={...o};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(u.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:l,queryParamsHandling:h,preserveFragment:m}=r,y=m?this.currentUrlTree.fragment:l;let w,I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...u};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=u||null}null!==I&&(I=this.removeEmptyProps(I));try{w=io(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),w=this.currentUrlTree.root}return Bh(w,t,I,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Lo(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,gl,null,r)}navigate(t,r={skipLocationChange:!1}){return function ky(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new d.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...Tf}:!1===r?{...xy}:r,Lo(t))return cl(this.currentUrlTree,t,o);const u=this.parseUrl(t);return cl(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}scheduleNavigation(t,r,o,u,l){if(this.disposed)return Promise.resolve(!1);let h,m,y;l?(h=l.resolve,m=l.reject,y=l.promise):y=new Promise((w,M)=>{h=w,m=M});const I=this.pendingTasks.add();return Py(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:u,resolve:h,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",l)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function $D(e){return!(e instanceof qh||e instanceof _l)}class sp{}let Ly=(()=>{class e{constructor(t,r,o,u,l){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Lr(t=>t instanceof Yi),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.Ol2)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,h=u._loadedInjector??l;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(l,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(h,u.children??u._loadedRoutes))}return(0,ln.H)(o).pipe((0,Ui.U)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,ze.of)(null);const u=o.pipe((0,rn.Z)(l=>null===l?(0,ze.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,ln.H)([u,l]).pipe((0,Ui.U)())}return u})}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Di),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(sp),d.KVO(dm))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const pm=new d.nKC("");let Vy=(()=>{class e{constructor(t,r,o,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof $a&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Qg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){d.QTQ()}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac})}}return e})();function fo(e,n){return{\u0275kind:e,\u0275providers:n}}function bl(){const e=(0,d.WQX)(d.zZn);return n=>{const t=e.get(d.o8S);if(n!==t.components[0])return;const r=e.get(Di),o=e.get(jy);1===e.get(gm)&&r.initialNavigation(),e.get(Wy,null,d.$GK.Optional)?.setUpPreloading(),e.get(pm,null,d.$GK.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const jy=new d.nKC("",{factory:()=>new br.B}),gm=new d.nKC("",{providedIn:"root",factory:()=>1}),Wy=new d.nKC("");function WD(e){return fo(0,[{provide:Wy,useExisting:Ly},{provide:sp,useExisting:e}])}const Jc=new d.nKC("ROUTER_FORROOT_GUARD"),Gy=[we,{provide:Ie,useClass:Le},Di,Wa,{provide:Ii,useFactory:function Uy(e){return e.routerState.root},deps:[Di]},dm,[]];function zy(){return new d.NEm("Router",Di)}let mm=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[Gy,[],{provide:Zc,multi:!0,useValue:t},{provide:Jc,useFactory:Yy,deps:[[Di,new d.Xx1,new d.kdw]]},{provide:bf,useValue:r||{}},r?.useHash?{provide:Ee,useClass:ge}:{provide:Ee,useClass:Te},{provide:pm,useFactory:()=>{const e=(0,d.WQX)(er),n=(0,d.WQX)(d.SKi),t=(0,d.WQX)(bf),r=(0,d.WQX)(Qa),o=(0,d.WQX)(Ie);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Vy(o,r,e,n,t)}},r?.preloadingStrategy?WD(r.preloadingStrategy).\u0275providers:[],{provide:d.NEm,multi:!0,useFactory:zy},r?.initialNavigation?up(r):[],r?.bindToComponentInputs?fo(8,[vr,{provide:yl,useExisting:vr}]).\u0275providers:[],[{provide:KD,useFactory:bl},{provide:d.iLQ,multi:!0,useExisting:KD}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Zc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Jc,8))}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({})}}return e})();function Yy(e){return"guarded"}function up(e){return["disabled"===e.initialNavigation?fo(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const n=(0,d.WQX)(Di);return()=>{n.setUpLocationChangeListener()}}},{provide:gm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?fo(2,[{provide:gm,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:n=>{const t=n.get(me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=n.get(Di),u=n.get(jy);Py(o,()=>{r(!0)}),n.get(Qa).afterPreactivation=()=>(r(!0),u.closed?(0,ze.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const KD=new d.nKC("");var wi=A(4783),lp=A(3236),vm=A(7786),cp=A(7647),dp=A(3294),ei=A(1161),QD=(A(6922),A(3345)),Xa=A(1362),bi=A(467),Al=A(7852),S=A(1076),fp=A(8041);const hp="@firebase/database";let Em="";function Cm(e){Em=e}class Im{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,t){null==t?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,S.As)(t))}get(n){const t=this.domStorage_.getItem(this.prefixedName_(n));return null==t?null:(0,S.$L)(t)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class TA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,t){null==t?delete this.cache_[n]:this.cache_[n]=t}get(n){return(0,S.gR)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const XD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const n=window[e];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Im(n)}}catch{}return new TA},Tl=XD("localStorage"),Dm=XD("sessionStorage"),Sf=new fp.Vy("@firebase/database"),ZD=function(){let e=1;return function(){return e++}}(),Mf=function(e){const n=(0,S.kj)(e),t=new S.gz;t.update(n);const r=t.digest();return S.K3.encodeByteArray(r)},Rf=function(...e){let n="";for(let t=0;t<e.length;t++){const r=e[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=Rf.apply(null,r):n+="object"==typeof r?(0,S.As)(r):r,n+=" "}return n};let Yo=null,pp=!0;const Sl=function(e,n){(0,S.vA)(!n||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Sf.logLevel=fp.$b.VERBOSE,Yo=Sf.log.bind(Sf),n&&Dm.set("logging_enabled",!0)):"function"==typeof e?Yo=e:(Yo=null,Dm.remove("logging_enabled"))},Un=function(...e){if(!0===pp&&(pp=!1,null===Yo&&!0===Dm.get("logging_enabled")&&Sl(!0)),Yo){const n=Rf.apply(null,e);Yo(n)}},Ml=function(e){return function(...n){Un(e,...n)}},Rl=function(...e){const n="FIREBASE INTERNAL ERROR: "+Rf(...e);Sf.error(n)},Ai=function(...e){const n=`FIREBASE FATAL ERROR: ${Rf(...e)}`;throw Sf.error(n),new Error(n)},Rn=function(...e){const n="FIREBASE WARNING: "+Rf(...e);Sf.warn(n)},nd=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Nl="[MIN_NAME]",Ss="[MAX_NAME]",Ms=function(e,n){if(e===n)return 0;if(e===Nl||n===Ss)return-1;if(n===Nl||e===Ss)return 1;{const t=Zy(e),r=Zy(n);return null!==t?null!==r?t-r==0?e.length-n.length:t-r:-1:null!==r?1:e<n?-1:1}},JD=function(e,n){return e===n?0:e<n?-1:1},rd=function(e,n){if(n&&e in n)return n[e];throw new Error("Missing required key ("+e+") in object: "+(0,S.As)(n))},bm=function(e){if("object"!=typeof e||null===e)return(0,S.As)(e);const n=[];for(const r in e)n.push(r);n.sort();let t="{";for(let r=0;r<n.length;r++)0!==r&&(t+=","),t+=(0,S.As)(n[r]),t+=":",t+=bm(e[n[r]]);return t+="}",t},Xy=function(e,n){const t=e.length;if(t<=n)return[e];const r=[];for(let o=0;o<t;o+=n)r.push(e.substring(o,o+n>t?t:o+n));return r};function Bn(e,n){for(const t in e)e.hasOwnProperty(t)&&n(t,e[t])}const Am=function(e){(0,S.vA)(!nd(e),"Invalid JSON number");const r=1023;let o,u,l,h,m;0===e?(u=0,l=0,o=1/e==-1/0?1:0):(o=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(e)/Math.LN2),r),u=h+r,l=Math.round(e*Math.pow(2,52-h)-Math.pow(2,52))):(u=0,l=Math.round(e/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)y.push(u%2?1:0),u=Math.floor(u/2);y.push(o?1:0),y.reverse();const I=y.join("");let w="";for(m=0;m<64;m+=8){let M=parseInt(I.substr(m,8),2).toString(16);1===M.length&&(M="0"+M),w+=M}return w.toLowerCase()},n0=new RegExp("^-?(0*)\\d{1,10}$"),Zy=function(e){if(n0.test(e)){const n=Number(e);if(n>=-2147483648&&n<=2147483647)return n}return null},Ol=function(e){try{e()}catch(n){setTimeout(()=>{throw Rn("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Za=function(e,n){const t=setTimeout(e,n);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class r0{constructor(n,t){this.appName_=n,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){Rn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Jy{constructor(n,t,r){this.appName_=n,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(t=>t&&"auth/token-not-initialized"===t.code?(Un("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(t,r):t(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(t=>t.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(t=>t.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rn(n)}}let Nf=(()=>{class e{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const Pl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rE="websocket",iE="long_polling";class Mm{constructor(n,t,r,o,u=!1,l="",h=!1,m=!1){this.secure=t,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Tl.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Tl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Rm(e,n,t){let r;if((0,S.vA)("string"==typeof n,"typeof type must == string"),(0,S.vA)("object"==typeof t,"typeof params must == object"),n===rE)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(n!==iE)throw new Error("Unknown connection type: "+n);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function sE(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(t.ns=e.namespace);const o=[];return Bn(t,(u,l)=>{o.push(u+"="+l)}),r+o.join("&")}class Nm{constructor(){this.counters_={}}incrementCounter(n,t=1){(0,S.gR)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=t}get(){return(0,S.A4)(this.counters_)}}const oE={},xf={};function vp(e){const n=e.toString();return oE[n]||(oE[n]=new Nm),oE[n]}class a0{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,t){this.closeAfterResponse=n,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,t){for(this.pendingResponses[n]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Ol(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class po{constructor(n,t,r,o,u,l,h){this.connId=n,this.repoInfo=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(n),this.stats_=vp(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),Rm(t,iE,m))}open(n,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new a0(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,S.$g)()||"complete"===document.readyState)e();else{let n=!1;const t=function(){document.body?n||(n=!0,e()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xi((...u)=>{const[l,h,m,y,I]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[l,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Pl.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){po.forceAllow_=!0}static forceDisallow(){po.forceDisallow_=!0}static isAvailable(){return!((0,S.$g)()||!po.forceAllow_&&(po.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const t=(0,S.As)(n);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,S.KA)(t),o=Xy(r,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,t){if((0,S.$g)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=n,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const t=(0,S.As)(n).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Xi{constructor(n,t,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,S.$g)())this.commandCB=n,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ZD(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xi.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Un("frame writing exception"),h.stack&&Un(h.stack),Un(h)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Un("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,t){for(this.myID=n,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let t=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+o+"="+l.seg+"&ts"+o+"="+l.ts+"&d"+o+"="+l.d,o++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(n,t,r){this.pendingSegs.push({seg:n,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),r()})}addTag(n,t){(0,S.$g)()?this.doNodeLongPoll(n,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Un("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let km=null;typeof MozWebSocket<"u"?km=MozWebSocket:typeof WebSocket<"u"&&(km=WebSocket);let dn=(()=>{class e{constructor(t,r,o,u,l,h,m){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=vp(r),this.connURL=e.connectionURL_(r,h,m,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,l){const h={v:"5"};return!(0,S.$g)()&&typeof location<"u"&&location.hostname&&Pl.test(location.hostname)&&(h.r="f"),r&&(h.s=r),o&&(h.ls=o),u&&(h.ac=u),l&&(h.p=l),Rm(t,rE,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Tl.set("previous_websocket_failure",!0);try{let o;if((0,S.$g)()){o={headers:{"User-Agent":`Firebase/5/${Em}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(o.proxy={origin:h})}this.mySock=new km(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&null!==km&&!e.forceDisallow_}static previouslyFailed(){return Tl.isInMemoryStorage||!0===Tl.get("previous_websocket_failure")}markConnectionHealthy(){Tl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,S.$L)(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,S.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=(0,S.As)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Xy(r,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),fE=(()=>{class e{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[po,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=dn&&dn.isAvailable();let o=r&&!dn.previouslyFailed();if(t.webSocketOnly&&(r||Rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[dn];else{const u=this.transports_=[];for(const l of e.ALL_TRANSPORTS)l&&l.isAvailable()&&u.push(l);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class go{constructor(n,t,r,o,u,l,h,m,y,I){this.id=n,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new fE(t),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Za(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return t=>{n===this.conn_?this.onConnectionLost_(t):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return t=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(t):n===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const t=n.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const t=rd("t",n),r=rd("d",n);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const t=rd("t",n),r=rd("d",n);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const t=rd("t",n);if("d"in n){const r=n.d;if("h"===t){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Rl("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rl("Unknown control packet command: "+t)}}onHandshake_(n){const t=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Za(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,t){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Za(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Tl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xl{put(n,t,r,o){}merge(n,t,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,t,r){}onDisconnectMerge(n,t,r){}onDisconnectCancel(n,t){}reportStats(n){}}class _E{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,S.vA)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...t){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)}}on(n,t,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:t,context:r});const o=this.getInitialEvent(n);o&&t.apply(r,o)}off(n,t,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===t&&(!r||r===o[u].context))return void o.splice(u,1)}validateEventType_(n){(0,S.vA)(this.allowedEvents_.find(t=>t===n),"Unknown event: "+n)}}class Ep extends _E{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,S.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ep}getInitialEvent(n){return(0,S.vA)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Mt{constructor(n,t){if(void 0===t){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=t}toString(){let n="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(n+="/"+this.pieces_[t]);return n||"/"}}function Ct(){return new Mt("")}function ft(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Xo(e){return e.pieces_.length-e.pieceNum_}function Ut(e){let n=e.pieceNum_;return n<e.pieces_.length&&n++,new Mt(e.pieces_,n)}function $m(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ff(e,n=0){return e.pieces_.slice(e.pieceNum_+n)}function vE(e){if(e.pieceNum_>=e.pieces_.length)return null;const n=[];for(let t=e.pieceNum_;t<e.pieces_.length-1;t++)n.push(e.pieces_[t]);return new Mt(n,0)}function Xt(e,n){const t=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);if(n instanceof Mt)for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&t.push(r[o])}return new Mt(t,0)}function vt(e){return e.pieceNum_>=e.pieces_.length}function jr(e,n){const t=ft(e),r=ft(n);if(null===t)return n;if(t===r)return jr(Ut(e),Ut(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")}function RA(e,n){const t=Ff(e,0),r=Ff(n,0);for(let o=0;o<t.length&&o<r.length;o++){const u=Ms(t[o],r[o]);if(0!==u)return u}return t.length===r.length?0:t.length<r.length?-1:1}function yE(e,n){if(Xo(e)!==Xo(n))return!1;for(let t=e.pieceNum_,r=n.pieceNum_;t<=e.pieces_.length;t++,r++)if(e.pieces_[t]!==n.pieces_[r])return!1;return!0}function Ti(e,n){let t=e.pieceNum_,r=n.pieceNum_;if(Xo(e)>Xo(n))return!1;for(;t<e.pieces_.length;){if(e.pieces_[t]!==n.pieces_[r])return!1;++t,++r}return!0}class EE{constructor(n,t){this.errorPrefix_=t,this.parts_=Ff(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,S.OE)(this.parts_[r]);Wm(this)}}function Wm(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ja(e))}function Ja(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Gm extends _E{constructor(){let n,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Gm}getInitialEvent(n){return(0,S.vA)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const od=1e3;let ud,kl=(()=>{class e extends xl{constructor(t,r,o,u,l,h,m,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=e.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=od,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,S.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Gm.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Ep.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,l={r:u,a:t,b:r};this.log_((0,S.As)(l)),(0,S.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new S.cY,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?r.resolve(m):r.reject(m)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,o,u){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,S.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,S.vA)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const l={p:o};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const y=m.d,I=m.s;e.warnOnListenWarnings_(y,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",m),"ok"!==I&&this.removeListen_(o,u),t.onComplete&&t.onComplete(I,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,S.gR)(t,"w")){const o=(0,S.yw)(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,S.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,S.Cv)(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const l=u.s,h=u.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,S.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const l={p:t};u&&(l.q=o,l.t=u),this.sendRequest("n",l)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const l={p:r,d:o};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,l){this.initConnection_();const h={p:r,d:o};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,S.As)(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Rl("Unrecognized action received from server: "+(0,S.As)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,S.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=od),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,bi.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),o=t.onReady_.bind(t),u=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+e.nextConnectionId_++,h=t.lastSessionId;let m=!1,y=null;const I=function(){y?y.close():(m=!0,u())};t.realtime_={close:I,sendRequest:function(L){(0,S.vA)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(L)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[L,ne]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);m?Un("getToken() completed but was canceled"):(Un("getToken() completed. Creating connection."),t.authToken_=L&&L.accessToken,t.appCheckToken_=ne&&ne.token,y=new go(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,o,u,q=>{Rn(q+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(L){t.log_("Failed to get token: "+L),m||(t.repoInfo_.nodeAdmin&&Rn(L),I())}}})()}interrupt(t){Un("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Un("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,S.Im)(this.interruptReasons_)&&(this.reconnectDelay_=od,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;o=r?r.map(l=>bm(l)).join("$"):"default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new Mt(t).toString();let u;if(this.listens.has(o)){const l=this.listens.get(o);u=l.get(r),l.delete(r),0===l.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){Un("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Un("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,S.$g)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Em.replace(/\./g,"-")]=1,(0,S.jZ)()?t["framework.cordova"]=1:(0,S.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ep.getInstance().currentlyOnline();return(0,S.Im)(this.interruptReasons_)&&t}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class gt{constructor(n,t){this.name=n,this.node=t}static Wrap(n,t){return new gt(n,t)}}class Zo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,t){const r=new gt(Nl,n),o=new gt(Nl,t);return 0!==this.compare(r,o)}minPost(){return gt.MIN}}class ld extends Zo{static get __EMPTY_NODE(){return ud}static set __EMPTY_NODE(n){ud=n}compare(n,t){return Ms(n.name,t.name)}isDefinedOn(n){throw(0,S.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,t){return!1}minPost(){return gt.MIN}maxPost(){return new gt(Ss,ud)}makePost(n,t){return(0,S.vA)("string"==typeof n,"KeyIndex indexValue must always be a string."),new gt(n,ud)}toString(){return".key"}}const Ns=new ld;class cd{constructor(n,t,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let l=1;for(;!n.isEmpty();)if(l=t?r(n.key,t):1,o&&(l*=-1),l<0)n=this.isReverse_?n.left:n.right;else{if(0===l){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,n=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let Qm,Si=(()=>{class e{constructor(t,r,o,u,l){this.key=t,this.value=r,this.color=o??e.RED,this.left=u??Hr.EMPTY_NODE,this.right=l??Hr.EMPTY_NODE}copy(t,r,o,u,l){return new e(t??this.key,r??this.value,o??this.color,u??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const l=o(t,u.key);return u=l<0?u.copy(null,null,null,u.left.insert(t,r,o),null):0===l?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Hr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(t,o.key)){if(o.right.isEmpty())return Hr.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Hr{constructor(n,t=Hr.EMPTY_NODE){this.comparator_=n,this.root_=t}insert(n,t){return new Hr(this.comparator_,this.root_.insert(n,t,this.comparator_).copy(null,null,Si.BLACK,null,null))}remove(n){return new Hr(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Si.BLACK,null,null))}get(n){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(n){let t,r=this.root_,o=null;for(;!r.isEmpty();){if(t=this.comparator_(n,r.key),0===t){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new cd(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,t){return new cd(this.root_,n,this.comparator_,!1,t)}getReverseIteratorFrom(n,t){return new cd(this.root_,n,this.comparator_,!0,t)}getReverseIterator(n){return new cd(this.root_,null,this.comparator_,!0,n)}}function qm(e,n){return Ms(e.name,n.name)}function Ym(e,n){return Ms(e,n)}Hr.EMPTY_NODE=new class Km{copy(n,t,r,o,u){return this}insert(n,t,r){return new Si(n,t,null)}remove(n,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xm=function(e){return"number"==typeof e?"number:"+Am(e):"string:"+e},wE=function(e){if(e.isLeafNode()){const n=e.val();(0,S.vA)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,S.gR)(n,".sv"),"Priority must be a string or number.")}else(0,S.vA)(e===Qm||e.isEmpty(),"priority of unexpected type.");(0,S.vA)(e===Qm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let bE,AE,Zm,dd=(()=>{class e{constructor(t,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,S.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),wE(this.priorityNode_)}static set __childrenNodeConstructor(t){bE=t}static get __childrenNodeConstructor(){return bE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return vt(t)?this:".priority"===ft(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ft(t);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,S.vA)(".priority"!==o||1===Xo(t),".priority must be the last token in a path"),this.updateImmediateChild(o,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Xm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?Am(this.value_):this.value_,this.lazyHash_=Mf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,S.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=e.VALUE_TYPE_ORDER.indexOf(r),l=e.VALUE_TYPE_ORDER.indexOf(o);return(0,S.vA)(u>=0,"Unknown leaf type: "+r),(0,S.vA)(l>=0,"Unknown leaf type: "+o),u===l?"object"===o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-u}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const yt=new class C0 extends Zo{compare(n,t){const r=n.node.getPriority(),o=t.node.getPriority(),u=r.compareTo(o);return 0===u?Ms(n.name,t.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,t){return!n.getPriority().equals(t.getPriority())}minPost(){return gt.MIN}maxPost(){return new gt(Ss,new dd("[PRIORITY-POST]",Zm))}makePost(n,t){const r=AE(n);return new gt(t,new dd("[PRIORITY-POST]",r))}toString(){return".priority"}},I0=Math.log(2);class D0{constructor(n){this.count=parseInt(Math.log(n+1)/I0,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Jm=function(e,n,t,r){e.sort(n);const o=function(m,y){const I=y-m;let w,M;if(0===I)return null;if(1===I)return w=e[m],M=t?t(w):w,new Si(M,w.node,Si.BLACK,null,null);{const L=parseInt(I/2,10)+m,ne=o(m,L),q=o(L+1,y);return w=e[L],M=t?t(w):w,new Si(M,w.node,Si.BLACK,ne,q)}},h=function(m){let y=null,I=null,w=e.length;const M=function(ne,q){const be=w-ne,ke=w;w-=ne;const qe=o(be+1,ke),Pt=e[be],It=t?t(Pt):Pt;L(new Si(It,Pt.node,q,null,qe))},L=function(ne){y?(y.left=ne,y=ne):(I=ne,y=ne)};for(let ne=0;ne<m.count;++ne){const q=m.nextBitIsOne(),be=Math.pow(2,m.count-(ne+1));q?M(be,Si.BLACK):(M(be,Si.BLACK),M(be,Si.RED))}return I}(new D0(e.length));return new Hr(r||n,h)};let Lf;const Fl={};class Jo{constructor(n,t){this.indexes_=n,this.indexSet_=t}static get Default(){return(0,S.vA)(Fl&&yt,"ChildrenNode.ts has not been loaded"),Lf=Lf||new Jo({".priority":Fl},{".priority":yt}),Lf}get(n){const t=(0,S.yw)(this.indexes_,n);if(!t)throw new Error("No index defined for "+n);return t instanceof Hr?t:null}hasIndex(n){return(0,S.gR)(this.indexSet_,n.toString())}addIndex(n,t){(0,S.vA)(n!==Ns,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=t.getIterator(gt.Wrap);let h,l=u.getNext();for(;l;)o=o||n.isDefinedOn(l.node),r.push(l),l=u.getNext();h=o?Jm(r,n.getCompare()):Fl;const m=n.toString(),y=Object.assign({},this.indexSet_);y[m]=n;const I=Object.assign({},this.indexes_);return I[m]=h,new Jo(I,y)}addToIndexes(n,t){const r=(0,S.kH)(this.indexes_,(o,u)=>{const l=(0,S.yw)(this.indexSet_,u);if((0,S.vA)(l,"Missing index implementation for "+u),o===Fl){if(l.isDefinedOn(n.node)){const h=[],m=t.getIterator(gt.Wrap);let y=m.getNext();for(;y;)y.name!==n.name&&h.push(y),y=m.getNext();return h.push(n),Jm(h,l.getCompare())}return Fl}{const h=t.get(n.name);let m=o;return h&&(m=m.remove(new gt(n.name,h))),m.insert(n,n.node)}});return new Jo(r,this.indexSet_)}removeFromIndexes(n,t){const r=(0,S.kH)(this.indexes_,o=>{if(o===Fl)return o;{const u=t.get(n.name);return u?o.remove(new gt(n.name,u)):o}});return new Jo(r,this.indexSet_)}}let Vf,ct=(()=>{class e{constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&wE(this.priorityNode_),this.children_.isEmpty()&&(0,S.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vf||(Vf=new e(new Hr(Ym),null,Jo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vf}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Vf:r}}getChild(t){const r=ft(t);return null===r?this:this.getImmediateChild(r).getChild(Ut(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,S.vA)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const o=new gt(t,r);let u,l;r.isEmpty()?(u=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(o,this.children_));const h=u.isEmpty()?Vf:this.priorityNode_;return new e(u,h,l)}}updateChild(t,r){const o=ft(t);if(null===o)return r;{(0,S.vA)(".priority"!==ft(t)||1===Xo(t),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Ut(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,l=!0;if(this.forEachChild(yt,(h,m)=>{r[h]=m.val(t),o++,l&&e.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):l=!1}),!t&&l&&u<2*o){const h=[];for(const m in r)h[m]=r[m];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Xm(this.getPriority().val())+":"),this.forEachChild(yt,(r,o)=>{const u=o.hash();""!==u&&(t+=":"+r+":"+u)}),this.lazyHash_=""===t?"":Mf(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const l=u.getPredecessorKey(new gt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new gt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new gt(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,gt.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)<0;)u.getNext(),l=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,gt.Wrap);let l=u.peek();for(;null!=l&&r.compare(l,t)>0;)u.getNext(),l=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Uf?-1:0}withIndex(t){if(t===Ns||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Ns||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(yt),u=r.getIterator(yt);let l=o.getNext(),h=u.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=o.getNext(),h=u.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Ns?null:this.indexMap_.get(t.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Uf=new class SE extends ct{constructor(){super(new Hr(Ym),ct.EMPTY_NODE,Jo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ct.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(gt,{MIN:{value:new gt(Nl,ct.EMPTY_NODE)},MAX:{value:new gt(Ss,Uf)}}),ld.__EMPTY_NODE=ct.EMPTY_NODE,dd.__childrenNodeConstructor=ct,function y0(e){Qm=e}(Uf),function E0(e){Zm=e}(Uf);const w0=!0;function Zt(e,n=null){if(null===e)return ct.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(n=e[".priority"]),(0,S.vA)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new dd(e,Zt(n));if(e instanceof Array||!w0){let t=ct.EMPTY_NODE;return Bn(e,(r,o)=>{if((0,S.gR)(e,r)&&"."!==r.substring(0,1)){const u=Zt(o);(u.isLeafNode()||!u.isEmpty())&&(t=t.updateImmediateChild(r,u))}}),t.updatePriority(Zt(n))}{const t=[];let r=!1;if(Bn(e,(l,h)=>{if("."!==l.substring(0,1)){const m=Zt(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),t.push(new gt(l,m)))}}),0===t.length)return ct.EMPTY_NODE;const u=Jm(t,qm,l=>l.name,Ym);if(r){const l=Jm(t,yt.getCompare());return new ct(u,Zt(n),new Jo({".priority":l},{".priority":yt}))}return new ct(u,Zt(n),Jo.Default)}}!function TE(e){AE=e}(Zt);class e_ extends Zo{constructor(n){super(),this.indexPath_=n,(0,S.vA)(!vt(n)&&".priority"!==ft(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,t){const r=this.extractChild(n.node),o=this.extractChild(t.node),u=r.compareTo(o);return 0===u?Ms(n.name,t.name):u}makePost(n,t){const r=Zt(n),o=ct.EMPTY_NODE.updateChild(this.indexPath_,r);return new gt(t,o)}maxPost(){const n=ct.EMPTY_NODE.updateChild(this.indexPath_,Uf);return new gt(Ss,n)}toString(){return Ff(this.indexPath_,0).join("/")}}const t_=new class b0 extends Zo{compare(n,t){const r=n.node.compareTo(t.node);return 0===r?Ms(n.name,t.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,t){return!n.equals(t)}minPost(){return gt.MIN}maxPost(){return gt.MAX}makePost(n,t){const r=Zt(n);return new gt(t,r)}toString(){return".value"}};function ME(e){return{type:"value",snapshotNode:e}}function fd(e,n){return{type:"child_added",snapshotNode:n,childName:e}}function ti(e,n){return{type:"child_removed",snapshotNode:n,childName:e}}function Ll(e,n,t){return{type:"child_changed",snapshotNode:n,childName:e,oldSnap:t}}class Ip{constructor(n){this.index_=n}updateChild(n,t,r,o,u,l){(0,S.vA)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=n.getImmediateChild(t);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(null!=l&&(r.isEmpty()?n.hasChild(t)?l.trackChildChange(ti(t,h)):(0,S.vA)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(fd(t,r)):l.trackChildChange(Ll(t,r,h))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(n,t,r){return null!=r&&(n.isLeafNode()||n.forEachChild(yt,(o,u)=>{t.hasChild(o)||r.trackChildChange(ti(o,u))}),t.isLeafNode()||t.forEachChild(yt,(o,u)=>{if(n.hasChild(o)){const l=n.getImmediateChild(o);l.equals(u)||r.trackChildChange(Ll(o,u,l))}else r.trackChildChange(fd(o,u))})),t.withIndex(this.index_)}updatePriority(n,t){return n.isEmpty()?ct.EMPTY_NODE:n.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bf{constructor(n){this.indexedFilter_=new Ip(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Bf.getStartPost_(n),this.endPost_=Bf.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return t&&r}updateChild(n,t,r,o,u,l){return this.matches(new gt(t,r))||(r=ct.EMPTY_NODE),this.indexedFilter_.updateChild(n,t,r,o,u,l)}updateFullNode(n,t,r){t.isLeafNode()&&(t=ct.EMPTY_NODE);let o=t.withIndex(this.index_);o=o.updatePriority(ct.EMPTY_NODE);const u=this;return t.forEachChild(yt,(l,h)=>{u.matches(new gt(l,h))||(o=o.updateImmediateChild(l,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const t=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),t)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const t=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),t)}return n.getIndex().maxPost()}}class RE{constructor(n){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{const r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Bf(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,t,r,o,u,l){return this.rangedFilter_.matches(new gt(t,r))||(r=ct.EMPTY_NODE),n.getImmediateChild(t).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,t,r,o,u,l):this.fullLimitUpdateChild_(n,t,r,u,l)}updateFullNode(n,t,r){let o;if(t.isLeafNode()||t.isEmpty())o=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let u;o=ct.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;u.hasNext()&&l<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;o=o.updateImmediateChild(h.name,h.node),l++}}}else{let u;o=t.withIndex(this.index_),o=o.updatePriority(ct.EMPTY_NODE),u=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let l=0;for(;u.hasNext();){const h=u.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:o=o.updateImmediateChild(h.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,t){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,t,r,o,u){let l;if(this.reverse_){const w=this.index_.getCompare();l=(M,L)=>w(L,M)}else l=this.index_.getCompare();const h=n;(0,S.vA)(h.numChildren()===this.limit_,"");const m=new gt(t,r),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),I=this.rangedFilter_.matches(m);if(h.hasChild(t)){const w=h.getImmediateChild(t);let M=o.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===t||h.hasChild(M.name));)M=o.getChildAfterChild(this.index_,M,this.reverse_);const L=null==M?1:l(M,m);if(I&&!r.isEmpty()&&L>=0)return u?.trackChildChange(Ll(t,r,w)),h.updateImmediateChild(t,r);{u?.trackChildChange(ti(t,w));const q=h.updateImmediateChild(t,ct.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(u?.trackChildChange(fd(M.name,M.node)),q.updateImmediateChild(M.name,M.node)):q}}return r.isEmpty()?n:I&&l(y,m)>=0?(null!=u&&(u.trackChildChange(ti(y.name,y.node)),u.trackChildChange(fd(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(y.name,ct.EMPTY_NODE)):n}}class jf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,S.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,S.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Nl}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,S.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,S.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ss}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,S.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const n=new jf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function wp(e,n,t){const r=e.copy();return r.startSet_=!0,void 0===n&&(n=null),r.indexStartValue_=n,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function bp(e,n,t){const r=e.copy();return r.endSet_=!0,void 0===n&&(n=null),r.indexEndValue_=n,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function hd(e,n){const t=e.copy();return t.index_=n,t}function mo(e){const n={};if(e.isDefault())return n;let t;if(e.index_===yt?t="$priority":e.index_===t_?t="$value":e.index_===Ns?t="$key":((0,S.vA)(e.index_ instanceof e_,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,S.As)(t),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";n[r]=(0,S.As)(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+(0,S.As)(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";n[r]=(0,S.As)(e.indexEndValue_),e.endNameSet_&&(n[r]+=","+(0,S.As)(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function PE(e){const n={};if(e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_),n.sin=!e.startAfterSet_),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_),n.ein=!e.endBeforeSet_),e.limitSet_){n.l=e.limit_;let t=e.viewFrom_;""===t&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t}return e.index_!==yt&&(n.i=e.index_.toString()),n}class Ap extends xl{constructor(n,t,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Ml("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,t){return void 0!==t?"tag$"+t:((0,S.vA)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,t,r,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const l=Ap.getListenId_(n,r),h={};this.listens_[l]=h;const m=mo(n._queryParams);this.restRequest_(u+".json",m,(y,I)=>{let w=I;if(404===y&&(w=null,y=null),null===y&&this.onDataUpdate_(u,w,!1,r),(0,S.yw)(this.listens_,l)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",o(M,null)}})}unlisten(n,t){const r=Ap.getListenId_(n,t);delete this.listens_[r]}get(n){const t=mo(n._queryParams),r=n._path.toString(),o=new S.cY;return this.restRequest_(r+".json",t,(u,l)=>{let h=l;404===u&&(h=null,u=null),null===u?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(n){}restRequest_(n,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(t.auth=o.accessToken),u&&u.token&&(t.ac=u.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,S.Am)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,S.$L)(h.responseText)}catch{Rn("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,m)}else 401!==h.status&&404!==h.status&&Rn("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class r_{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,t){this.rootNode_=this.rootNode_.updateChild(n,t)}}function Tp(){return{value:null,children:new Map}}function Vl(e,n,t){if(vt(n))e.value=t,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(n,t);else{const r=ft(n);e.children.has(r)||e.children.set(r,Tp()),Vl(e.children.get(r),n=Ut(n),t)}}function i_(e,n){if(vt(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const t=e.value;return e.value=null,t.forEachChild(yt,(r,o)=>{Vl(e,new Mt(r),o)}),i_(e,n)}}if(e.children.size>0){const t=ft(n);return n=Ut(n),e.children.has(t)&&i_(e.children.get(t),n)&&e.children.delete(t),0===e.children.size}return!0}function pd(e,n,t){null!==e.value?t(n,e.value):function Hf(e,n){e.children.forEach((t,r)=>{n(r,t)})}(e,(r,o)=>{pd(o,new Mt(n.toString()+"/"+r),t)})}class xE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),t=Object.assign({},n);return this.last_&&Bn(this.last_,(r,o)=>{t[r]=t[r]-o}),this.last_=n,t}}class kE{constructor(n,t){this.server_=t,this.statsToReport_={},this.statsListener_=new xE(n);const r=1e4+2e4*Math.random();Za(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),t={};let r=!1;Bn(n,(o,u)=>{u>0&&(0,S.gR)(this.statsToReport_,o)&&(t[o]=u,r=!0)}),r&&this.server_.reportStats(t),Za(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Os=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Os||{});function Sp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Wf{constructor(n,t,r){this.path=n,this.affectedTree=t,this.revert=r,this.type=Os.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(vt(this.path)){if(null!=this.affectedTree.value)return(0,S.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Mt(n));return new Wf(Ct(),t,this.revert)}}return(0,S.vA)(ft(this.path)===n,"operationForChild called for unrelated child."),new Wf(Ut(this.path),this.affectedTree,this.revert)}}class ea{constructor(n,t){this.source=n,this.path=t,this.type=Os.LISTEN_COMPLETE}operationForChild(n){return vt(this.path)?new ea(this.source,Ct()):new ea(this.source,Ut(this.path))}}class Ul{constructor(n,t,r){this.source=n,this.path=t,this.snap=r,this.type=Os.OVERWRITE}operationForChild(n){return vt(this.path)?new Ul(this.source,Ct(),this.snap.getImmediateChild(n)):new Ul(this.source,Ut(this.path),this.snap)}}class Bl{constructor(n,t,r){this.source=n,this.path=t,this.children=r,this.type=Os.MERGE}operationForChild(n){if(vt(this.path)){const t=this.children.subtree(new Mt(n));return t.isEmpty()?null:t.value?new Ul(this.source,Ct(),t.value):new Bl(this.source,Ct(),t)}return(0,S.vA)(ft(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Bl(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ta{constructor(n,t,r){this.node_=n,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(vt(n))return this.isFullyInitialized()&&!this.filtered_;const t=ft(n);return this.isCompleteForChild(t)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class S0{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function na(e,n,t,r,o,u){const l=r.filter(h=>h.type===t);l.sort((h,m)=>function N0(e,n,t){if(null==n.childName||null==t.childName)throw(0,S.Hk)("Should only compare child_ events.");const r=new gt(n.childName,n.snapshotNode),o=new gt(t.childName,t.snapshotNode);return e.index_.compare(r,o)}(e,h,m)),l.forEach(h=>{const m=function R0(e,n,t){return"value"===n.type||"child_removed"===n.type||(n.prevName=t.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n}(e,h,u);o.forEach(y=>{y.respondsTo(h.type)&&n.push(y.createEvent(m,e.query_))})})}function Mp(e,n){return{eventCache:e,serverCache:n}}function Gf(e,n,t,r){return Mp(new ta(n,t,r),e.serverCache)}function FE(e,n,t,r){return Mp(e.eventCache,new ta(n,t,r))}function Rp(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function jl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let a_;class Bt{constructor(n,t=(()=>(a_||(a_=new Hr(JD)),a_))()){this.value=n,this.children=t}static fromObject(n){let t=new Bt(null);return Bn(n,(r,o)=>{t=t.set(new Mt(r),o)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,t){if(null!=this.value&&t(this.value))return{path:Ct(),value:this.value};if(vt(n))return null;{const r=ft(n),o=this.children.get(r);if(null!==o){const u=o.findRootMostMatchingPathAndValue(Ut(n),t);return null!=u?{path:Xt(new Mt(r),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(vt(n))return this;{const t=ft(n),r=this.children.get(t);return null!==r?r.subtree(Ut(n)):new Bt(null)}}set(n,t){if(vt(n))return new Bt(t,this.children);{const r=ft(n),u=(this.children.get(r)||new Bt(null)).set(Ut(n),t),l=this.children.insert(r,u);return new Bt(this.value,l)}}remove(n){if(vt(n))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const t=ft(n),r=this.children.get(t);if(r){const o=r.remove(Ut(n));let u;return u=o.isEmpty()?this.children.remove(t):this.children.insert(t,o),null===this.value&&u.isEmpty()?new Bt(null):new Bt(this.value,u)}return this}}get(n){if(vt(n))return this.value;{const t=ft(n),r=this.children.get(t);return r?r.get(Ut(n)):null}}setTree(n,t){if(vt(n))return t;{const r=ft(n),u=(this.children.get(r)||new Bt(null)).setTree(Ut(n),t);let l;return l=u.isEmpty()?this.children.remove(r):this.children.insert(r,u),new Bt(this.value,l)}}fold(n){return this.fold_(Ct(),n)}fold_(n,t){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(Xt(n,o),t)}),t(n,this.value,r)}findOnPath(n,t){return this.findOnPath_(n,Ct(),t)}findOnPath_(n,t,r){const o=!!this.value&&r(t,this.value);if(o)return o;if(vt(n))return null;{const u=ft(n),l=this.children.get(u);return l?l.findOnPath_(Ut(n),Xt(t,u),r):null}}foreachOnPath(n,t){return this.foreachOnPath_(n,Ct(),t)}foreachOnPath_(n,t,r){if(vt(n))return this;{this.value&&r(t,this.value);const o=ft(n),u=this.children.get(o);return u?u.foreachOnPath_(Ut(n),Xt(t,o),r):new Bt(null)}}foreach(n){this.foreach_(Ct(),n)}foreach_(n,t){this.children.inorderTraversal((r,o)=>{o.foreach_(Xt(n,r),t)}),this.value&&t(n,this.value)}foreachChild(n){this.children.inorderTraversal((t,r)=>{r.value&&n(t,r.value)})}}class Ps{constructor(n){this.writeTree_=n}static empty(){return new Ps(new Bt(null))}}function eu(e,n,t){if(vt(n))return new Ps(new Bt(t));{const r=e.writeTree_.findRootMostValueAndPath(n);if(null!=r){const o=r.path;let u=r.value;const l=jr(o,n);return u=u.updateChild(l,t),new Ps(e.writeTree_.set(o,u))}{const o=new Bt(t),u=e.writeTree_.setTree(n,o);return new Ps(u)}}}function u_(e,n,t){let r=e;return Bn(t,(o,u)=>{r=eu(r,Xt(n,o),u)}),r}function VE(e,n){if(vt(n))return Ps.empty();{const t=e.writeTree_.setTree(n,new Bt(null));return new Ps(t)}}function l_(e,n){return null!=Hl(e,n)}function Hl(e,n){const t=e.writeTree_.findRootMostValueAndPath(n);return null!=t?e.writeTree_.get(t.path).getChild(jr(t.path,n)):null}function UE(e){const n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(yt,(r,o)=>{n.push(new gt(r,o))}):e.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&n.push(new gt(r,o.value))}),n}function tu(e,n){if(vt(n))return e;{const t=Hl(e,n);return new Ps(null!=t?new Bt(t):e.writeTree_.subtree(n))}}function c_(e){return e.writeTree_.isEmpty()}function $l(e,n){return d_(Ct(),e.writeTree_,n)}function d_(e,n,t){if(null!=n.value)return t.updateChild(e,n.value);{let r=null;return n.children.inorderTraversal((o,u)=>{".priority"===o?((0,S.vA)(null!==u.value,"Priority writes must always be leaf nodes"),r=u.value):t=d_(Xt(e,o),u,t)}),!t.getChild(e).isEmpty()&&null!==r&&(t=t.updateChild(Xt(e,".priority"),r)),t}}function Np(e,n){return Kl(n,e)}function Op(e,n){if(e.snap)return Ti(e.path,n);for(const t in e.children)if(e.children.hasOwnProperty(t)&&Ti(Xt(e.path,t),n))return!0;return!1}function P0(e){return e.visible}function Pp(e,n,t){let r=Ps.empty();for(let o=0;o<e.length;++o){const u=e[o];if(n(u)){const l=u.path;let h;if(u.snap)Ti(t,l)?(h=jr(t,l),r=eu(r,h,u.snap)):Ti(l,t)&&(h=jr(l,t),r=eu(r,Ct(),u.snap.getChild(h)));else{if(!u.children)throw(0,S.Hk)("WriteRecord should have .snap or .children");if(Ti(t,l))h=jr(t,l),r=u_(r,h,u.children);else if(Ti(l,t))if(h=jr(l,t),vt(h))r=u_(r,Ct(),u.children);else{const m=(0,S.yw)(u.children,ft(h));if(m){const y=m.getChild(Ut(h));r=eu(r,Ct(),y)}}}}}return r}function HE(e,n,t,r,o){if(r||o){const u=tu(e.visibleWrites,n);return!o&&c_(u)?t:o||null!=t||l_(u,Ct())?$l(Pp(e.allWrites,function(y){return(y.visible||o)&&(!r||!~r.indexOf(y.writeId))&&(Ti(y.path,n)||Ti(n,y.path))},n),t||ct.EMPTY_NODE):null}{const u=Hl(e.visibleWrites,n);if(null!=u)return u;{const l=tu(e.visibleWrites,n);return c_(l)?t:null!=t||l_(l,Ct())?$l(l,t||ct.EMPTY_NODE):null}}}function gd(e,n,t,r){return HE(e.writeTree,e.treePath,n,t,r)}function nu(e,n){return function _o(e,n,t){let r=ct.EMPTY_NODE;const o=Hl(e.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(yt,(u,l)=>{r=r.updateImmediateChild(u,l)}),r;if(t){const u=tu(e.visibleWrites,n);return t.forEachChild(yt,(l,h)=>{const m=$l(tu(u,new Mt(l)),h);r=r.updateImmediateChild(l,m)}),UE(u).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return UE(tu(e.visibleWrites,n)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(e.writeTree,e.treePath,n)}function Gl(e,n,t,r){return function zf(e,n,t,r,o){(0,S.vA)(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=Xt(n,t);if(l_(e.visibleWrites,u))return null;{const l=tu(e.visibleWrites,u);return c_(l)?o.getChild(t):$l(l,o.getChild(t))}}(e.writeTree,e.treePath,n,t,r)}function ra(e,n){return function Wl(e,n){return Hl(e.visibleWrites,n)}(e.writeTree,Xt(e.treePath,n))}function ru(e,n,t){return function Rr(e,n,t,r){const o=Xt(n,t),u=Hl(e.visibleWrites,o);return null!=u?u:r.isCompleteForChild(t)?$l(tu(e.visibleWrites,o),r.getNode().getImmediateChild(t)):null}(e.writeTree,e.treePath,n,t)}function zl(e,n){return Kl(Xt(e.treePath,n),e.writeTree)}function Kl(e,n){return{treePath:e,writeTree:n}}class _d{constructor(){this.changeMap=new Map}trackChildChange(n){const t=n.type,r=n.childName;(0,S.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,S.vA)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if("child_added"===t&&"child_removed"===u)this.changeMap.set(r,Ll(r,n.snapshotNode,o.snapshotNode));else if("child_removed"===t&&"child_added"===u)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===u)this.changeMap.set(r,ti(r,o.oldSnap));else if("child_changed"===t&&"child_added"===u)this.changeMap.set(r,fd(r,n.snapshotNode));else{if("child_changed"!==t||"child_changed"!==u)throw(0,S.Hk)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(r,Ll(r,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}const f_=new class vd{getCompleteChild(n){return null}getChildAfterChild(n,t,r){return null}};class kp{constructor(n,t,r=null){this.writes_=n,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(n){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(n))return t.getNode().getImmediateChild(n);{const r=null!=this.optCompleteServerCache_?new ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ru(this.writes_,n,r)}}getChildAfterChild(n,t,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:jl(this.viewCache_),u=function md(e,n,t,r,o,u){return function xp(e,n,t,r,o,u,l){let h;const m=tu(e.visibleWrites,n),y=Hl(m,Ct());if(null!=y)h=y;else{if(null==t)return[];h=$l(m,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const I=[],w=l.getCompare(),M=u?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let L=M.getNext();for(;L&&I.length<o;)0!==w(L,r)&&I.push(L),L=M.getNext();return I}}(e.writeTree,e.treePath,n,t,r,o,u)}(this.writes_,o,t,1,r,n);return 0===u.length?null:u[0]}}function h_(e,n,t,r,o,u){const l=n.eventCache;if(null!=ra(r,t))return n;{let h,m;if(vt(t))if((0,S.vA)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=jl(n),w=nu(r,y instanceof ct?y:ct.EMPTY_NODE);h=e.filter.updateFullNode(n.eventCache.getNode(),w,u)}else{const y=gd(r,jl(n));h=e.filter.updateFullNode(n.eventCache.getNode(),y,u)}else{const y=ft(t);if(".priority"===y){(0,S.vA)(1===Xo(t),"Can't have a priority with additional path components");const I=l.getNode();m=n.serverCache.getNode();const w=Gl(r,t,I,m);h=null!=w?e.filter.updatePriority(I,w):l.getNode()}else{const I=Ut(t);let w;if(l.isCompleteForChild(y)){m=n.serverCache.getNode();const M=Gl(r,t,l.getNode(),m);w=null!=M?l.getNode().getImmediateChild(y).updateChild(I,M):l.getNode().getImmediateChild(y)}else w=ru(r,y,n.serverCache);h=null!=w?e.filter.updateChild(l.getNode(),y,w,I,o,u):l.getNode()}}return Gf(n,h,l.isFullyInitialized()||vt(t),e.filter.filtersNodes())}}function Kf(e,n,t,r,o,u,l,h){const m=n.serverCache;let y;const I=l?e.filter:e.filter.getIndexedFilter();if(vt(t))y=I.updateFullNode(m.getNode(),r,null);else if(I.filtersNodes()&&!m.isFiltered()){const L=m.getNode().updateChild(t,r);y=I.updateFullNode(m.getNode(),L,null)}else{const L=ft(t);if(!m.isCompleteForPath(t)&&Xo(t)>1)return n;const ne=Ut(t),be=m.getNode().getImmediateChild(L).updateChild(ne,r);y=".priority"===L?I.updatePriority(m.getNode(),be):I.updateChild(m.getNode(),L,be,ne,f_,null)}const w=FE(n,y,m.isFullyInitialized()||vt(t),I.filtersNodes());return h_(e,w,t,o,new kp(o,w,u),h)}function Fp(e,n,t,r,o,u,l){const h=n.eventCache;let m,y;const I=new kp(o,n,u);if(vt(t))y=e.filter.updateFullNode(n.eventCache.getNode(),r,l),m=Gf(n,y,!0,e.filter.filtersNodes());else{const w=ft(t);if(".priority"===w)y=e.filter.updatePriority(n.eventCache.getNode(),r),m=Gf(n,y,h.isFullyInitialized(),h.isFiltered());else{const M=Ut(t),L=h.getNode().getImmediateChild(w);let ne;if(vt(M))ne=r;else{const q=I.getCompleteChild(w);ne=null!=q?".priority"===$m(M)&&q.getChild(vE(M)).isEmpty()?q:q.updateChild(M,r):ct.EMPTY_NODE}m=L.equals(ne)?n:Gf(n,e.filter.updateChild(h.getNode(),w,ne,M,I,l),h.isFullyInitialized(),e.filter.filtersNodes())}}return m}function Lp(e,n){return e.eventCache.isCompleteForChild(n)}function k0(e,n,t){return t.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function KE(e,n,t,r,o,u,l,h){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let y,m=n;y=vt(t)?r:new Bt(null).setTree(t,r);const I=n.serverCache.getNode();return y.children.inorderTraversal((w,M)=>{if(I.hasChild(w)){const ne=k0(0,n.serverCache.getNode().getImmediateChild(w),M);m=Kf(e,m,new Mt(w),ne,o,u,l,h)}}),y.children.inorderTraversal((w,M)=>{const L=!n.serverCache.isCompleteForChild(w)&&null===M.value;if(!I.hasChild(w)&&!L){const q=k0(0,n.serverCache.getNode().getImmediateChild(w),M);m=Kf(e,m,new Mt(w),q,o,u,l,h)}}),m}class V0{constructor(n,t){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Ip(r.getIndex()),u=function Dp(e){return e.loadsAllData()?new Ip(e.getIndex()):e.hasLimit()?new RE(e):new Bf(e)}(r);this.processor_=function $E(e){return{filter:e}}(u);const l=t.serverCache,h=t.eventCache,m=o.updateFullNode(ct.EMPTY_NODE,l.getNode(),null),y=u.updateFullNode(ct.EMPTY_NODE,h.getNode(),null),I=new ta(m,l.isFullyInitialized(),o.filtersNodes()),w=new ta(y,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=Mp(w,I),this.eventGenerator_=new S0(this.query_)}get query(){return this.query_}}function B0(e,n){const t=jl(e.viewCache_);return t&&(e.query._queryParams.loadsAllData()||!vt(n)&&!t.getImmediateChild(ft(n)).isEmpty())?t.getChild(n):null}function qE(e){return 0===e.eventRegistrations_.length}function yd(e,n,t){const r=[];if(t){(0,S.vA)(null==n,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(u=>{const l=u.createCancelEvent(t,o);l&&r.push(l)})}if(n){let o=[];for(let u=0;u<e.eventRegistrations_.length;++u){const l=e.eventRegistrations_[u];if(l.matches(n)){if(n.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(u+1));break}}else o.push(l)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function Vp(e,n,t,r){n.type===Os.MERGE&&null!==n.source.queryId&&((0,S.vA)(jl(e.viewCache_),"We should always have a full cache before handling merges"),(0,S.vA)(Rp(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,u=function GE(e,n,t,r,o){const u=new _d;let l,h;if(t.type===Os.OVERWRITE){const y=t;y.source.fromUser?l=Fp(e,n,y.path,y.snap,r,o,u):((0,S.vA)(y.source.fromServer,"Unknown source."),h=y.source.tagged||n.serverCache.isFiltered()&&!vt(y.path),l=Kf(e,n,y.path,y.snap,r,o,h,u))}else if(t.type===Os.MERGE){const y=t;y.source.fromUser?l=function x0(e,n,t,r,o,u,l){let h=n;return r.foreach((m,y)=>{const I=Xt(t,m);Lp(n,ft(I))&&(h=Fp(e,h,I,y,o,u,l))}),r.foreach((m,y)=>{const I=Xt(t,m);Lp(n,ft(I))||(h=Fp(e,h,I,y,o,u,l))}),h}(e,n,y.path,y.children,r,o,u):((0,S.vA)(y.source.fromServer,"Unknown source."),h=y.source.tagged||n.serverCache.isFiltered(),l=KE(e,n,y.path,y.children,r,o,h,u))}else if(t.type===Os.ACK_USER_WRITE){const y=t;l=y.revert?function FA(e,n,t,r,o,u){let l;if(null!=ra(r,t))return n;{const h=new kp(r,n,o),m=n.eventCache.getNode();let y;if(vt(t)||".priority"===ft(t)){let I;if(n.serverCache.isFullyInitialized())I=gd(r,jl(n));else{const w=n.serverCache.getNode();(0,S.vA)(w instanceof ct,"serverChildren would be complete if leaf node"),I=nu(r,w)}y=e.filter.updateFullNode(m,I,u)}else{const I=ft(t);let w=ru(r,I,n.serverCache);null==w&&n.serverCache.isCompleteForChild(I)&&(w=m.getImmediateChild(I)),y=null!=w?e.filter.updateChild(m,I,w,Ut(t),h,u):n.eventCache.getNode().hasChild(I)?e.filter.updateChild(m,I,ct.EMPTY_NODE,Ut(t),h,u):m,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(l=gd(r,jl(n)),l.isLeafNode()&&(y=e.filter.updateFullNode(y,l,u)))}return l=n.serverCache.isFullyInitialized()||null!=ra(r,Ct()),Gf(n,y,l,e.filter.filtersNodes())}}(e,n,y.path,r,o,u):function F0(e,n,t,r,o,u,l){if(null!=ra(o,t))return n;const h=n.serverCache.isFiltered(),m=n.serverCache;if(null!=r.value){if(vt(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return Kf(e,n,t,m.getNode().getChild(t),o,u,h,l);if(vt(t)){let y=new Bt(null);return m.getNode().forEachChild(Ns,(I,w)=>{y=y.set(new Mt(I),w)}),KE(e,n,t,y,o,u,h,l)}return n}{let y=new Bt(null);return r.foreach((I,w)=>{const M=Xt(t,I);m.isCompleteForPath(M)&&(y=y.set(I,m.getNode().getChild(M)))}),KE(e,n,t,y,o,u,h,l)}}(e,n,y.path,y.affectedTree,r,o,u)}else{if(t.type!==Os.LISTEN_COMPLETE)throw(0,S.Hk)("Unknown operation type: "+t.type);l=function L0(e,n,t,r,o){const u=n.serverCache;return h_(e,FE(n,u.getNode(),u.isFullyInitialized()||vt(t),u.isFiltered()),t,r,f_,o)}(e,n,t.path,r,u)}const m=u.getChanges();return function zE(e,n,t){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=Rp(e);(t.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&t.push(ME(Rp(n)))}}(n,l,m),{viewCache:l,changes:m}}(e.processor_,o,n,t,r);return function WE(e,n){(0,S.vA)(n.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),(0,S.vA)(n.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,u.viewCache),(0,S.vA)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,g_(e,u.changes,u.viewCache.eventCache.getNode(),null)}function g_(e,n,t,r){return function M0(e,n,t,r){const o=[],u=[];return n.forEach(l=>{"child_changed"===l.type&&e.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&u.push(function A0(e,n){return{type:"child_moved",snapshotNode:n,childName:e}}(l.childName,l.snapshotNode))}),na(e,o,"child_removed",n,r,t),na(e,o,"child_added",n,r,t),na(e,o,"child_moved",u,r,t),na(e,o,"child_changed",n,r,t),na(e,o,"value",n,r,t),o}(e.eventGenerator_,n,t,r?[r]:e.eventRegistrations_)}let iu,Bp;class m_{constructor(){this.views=new Map}}function __(e,n,t,r){const o=n.source.queryId;if(null!==o){const u=e.views.get(o);return(0,S.vA)(null!=u,"SyncTree gave us an op for an invalid query."),Vp(u,n,t,r)}{let u=[];for(const l of e.views.values())u=u.concat(Vp(l,n,t,r));return u}}function YE(e,n,t,r,o){const l=e.views.get(n._queryIdentifier);if(!l){let h=gd(t,o?r:null),m=!1;h?m=!0:r instanceof ct?(h=nu(t,r),m=!1):(h=ct.EMPTY_NODE,m=!1);const y=Mp(new ta(h,m,!1),new ta(r,o,!1));return new V0(n,y)}return l}function Yf(e){const n=[];for(const t of e.views.values())t.query._queryParams.loadsAllData()||n.push(t);return n}function xs(e,n){let t=null;for(const r of e.views.values())t=t||B0(r,n);return t}function W0(e,n){return n._queryParams.loadsAllData()?Ed(e):e.views.get(n._queryIdentifier)}function QE(e,n){return null!=W0(e,n)}function su(e){return null!=Ed(e)}function Ed(e){for(const n of e.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let z0=1;class y_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=function Zi(){return{visibleWrites:Ps.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jp(e,n,t,r,o){return function xA(e,n,t,r,o){(0,S.vA)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:n,snap:t,writeId:r,visible:o}),o&&(e.visibleWrites=eu(e.visibleWrites,n,t)),e.lastWriteId=r}(e.pendingWriteTree_,n,t,r,o),o?wd(e,new Ul({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,t)):[]}function ou(e,n,t=!1){const r=function jE(e,n){for(let t=0;t<e.allWrites.length;t++){const r=e.allWrites[t];if(r.writeId===n)return r}return null}(e.pendingWriteTree_,n);if(function kA(e,n){const t=e.allWrites.findIndex(h=>h.writeId===n);(0,S.vA)(t>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[t];e.allWrites.splice(t,1);let o=r.visible,u=!1,l=e.allWrites.length-1;for(;o&&l>=0;){const h=e.allWrites[l];h.visible&&(l>=t&&Op(h,r.path)?o=!1:Ti(r.path,h.path)&&(u=!0)),l--}return!!o&&(u?(function O0(e){e.visibleWrites=Pp(e.allWrites,P0,Ct()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=VE(e.visibleWrites,r.path):Bn(r.children,m=>{e.visibleWrites=VE(e.visibleWrites,Xt(r.path,m))}),!0))}(e.pendingWriteTree_,n)){let u=new Bt(null);return null!=r.snap?u=u.set(Ct(),!0):Bn(r.children,l=>{u=u.set(new Mt(l),!0)}),wd(e,new Wf(r.path,u,t))}return[]}function Qf(e,n,t){return wd(e,new Ul({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,t))}function Cd(e,n,t,r,o=!1){const u=n._path,l=e.syncPointTree_.get(u);let h=[];if(l&&("default"===n._queryIdentifier||QE(l,n))){const m=function v_(e,n,t,r){const o=n._queryIdentifier,u=[];let l=[];const h=su(e);if("default"===o)for(const[m,y]of e.views.entries())l=l.concat(yd(y,t,r)),qE(y)&&(e.views.delete(m),y.query._queryParams.loadsAllData()||u.push(y.query));else{const m=e.views.get(o);m&&(l=l.concat(yd(m,t,r)),qE(m)&&(e.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!su(e)&&u.push(new(function qf(){return(0,S.vA)(iu,"Reference.ts has not been loaded"),iu}())(n._repo,n._path)),{removed:u,events:l}}(l,n,t,r);(function H0(e){return 0===e.views.size})(l)&&(e.syncPointTree_=e.syncPointTree_.remove(u));const y=m.removed;if(h=m.events,!o){const I=-1!==y.findIndex(M=>M._queryParams.loadsAllData()),w=e.syncPointTree_.findOnPath(u,(M,L)=>su(L));if(I&&!w){const M=e.syncPointTree_.subtree(u);if(!M.isEmpty()){const L=function Y0(e){return e.fold((n,t,r)=>{if(t&&su(t))return[Ed(t)];{let o=[];return t&&(o=Yf(t)),Bn(r,(u,l)=>{o=o.concat(l)}),o}})}(M);for(let ne=0;ne<L.length;++ne){const q=L[ne],be=q.query,ke=$p(e,q);e.listenProvider_.startListening(Yl(be),ql(e,be),ke.hashFn,ke.onComplete)}}}!w&&y.length>0&&!r&&(I?e.listenProvider_.stopListening(Yl(n),null):y.forEach(M=>{const L=e.queryToTagMap.get(Xf(M));e.listenProvider_.stopListening(Yl(M),L)}))}!function rC(e,n){for(let t=0;t<n.length;++t){const r=n[t];if(!r._queryParams.loadsAllData()){const o=Xf(r),u=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(u)}}}(e,y)}return h}function JE(e,n,t,r){const o=Wp(e,r);if(null!=o){const u=C_(o),l=u.path,h=u.queryId,m=jr(l,n);return I_(e,l,new Ul(Sp(h),m,t))}return[]}function Id(e,n,t,r=!1){const o=n._path;let u=null,l=!1;e.syncPointTree_.foreachOnPath(o,(M,L)=>{const ne=jr(M,o);u=u||xs(L,ne),l=l||su(L)});let m,h=e.syncPointTree_.get(o);h?(l=l||su(h),u=u||xs(h,Ct())):(h=new m_,e.syncPointTree_=e.syncPointTree_.set(o,h)),null!=u?m=!0:(m=!1,u=ct.EMPTY_NODE,e.syncPointTree_.subtree(o).foreachChild((L,ne)=>{const q=xs(ne,Ct());q&&(u=u.updateImmediateChild(L,q))}));const y=QE(h,n);if(!y&&!n._queryParams.loadsAllData()){const M=Xf(n);(0,S.vA)(!e.queryToTagMap.has(M),"View does not exist, but we have a tag");const L=function D_(){return z0++}();e.queryToTagMap.set(M,L),e.tagToQueryMap.set(L,M)}let w=function $0(e,n,t,r,o,u){const l=YE(e,n,r,o,u);return e.views.has(n._queryIdentifier)||e.views.set(n._queryIdentifier,l),function p_(e,n){e.eventRegistrations_.push(n)}(l,t),function Up(e,n){const t=e.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(yt,(u,l)=>{r.push(fd(u,l))}),t.isFullyInitialized()&&r.push(ME(t.getNode())),g_(e,r,t.getNode(),n)}(l,t)}(h,n,t,Np(e.pendingWriteTree_,o),u,m);if(!y&&!l&&!r){const M=W0(h,n);w=w.concat(function iC(e,n,t){const r=n._path,o=ql(e,n),u=$p(e,t),l=e.listenProvider_.startListening(Yl(n),o,u.hashFn,u.onComplete),h=e.syncPointTree_.subtree(r);if(o)(0,S.vA)(!su(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((y,I,w)=>{if(!vt(y)&&I&&su(I))return[Ed(I).query];{let M=[];return I&&(M=M.concat(Yf(I).map(L=>L.query))),Bn(w,(L,ne)=>{M=M.concat(ne)}),M}});for(let y=0;y<m.length;++y){const I=m[y];e.listenProvider_.stopListening(Yl(I),ql(e,I))}}return l}(e,n,M))}return w}function Dd(e,n,t){const o=e.pendingWriteTree_,u=e.syncPointTree_.findOnPath(n,(l,h)=>{const y=xs(h,jr(l,n));if(y)return y});return HE(o,n,u,t,!0)}function wd(e,n){return tC(n,e.syncPointTree_,null,Np(e.pendingWriteTree_,Ct()))}function tC(e,n,t,r){if(vt(e.path))return nC(e,n,t,r);{const o=n.get(Ct());null==t&&null!=o&&(t=xs(o,Ct()));let u=[];const l=ft(e.path),h=e.operationForChild(l),m=n.children.get(l);if(m&&h){const y=t?t.getImmediateChild(l):null,I=zl(r,l);u=u.concat(tC(h,m,y,I))}return o&&(u=u.concat(__(o,e,r,t))),u}}function nC(e,n,t,r){const o=n.get(Ct());null==t&&null!=o&&(t=xs(o,Ct()));let u=[];return n.children.inorderTraversal((l,h)=>{const m=t?t.getImmediateChild(l):null,y=zl(r,l),I=e.operationForChild(l);I&&(u=u.concat(nC(I,h,m,y)))}),o&&(u=u.concat(__(o,e,r,t))),u}function $p(e,n){const t=n.query,r=ql(e,t);return{hashFn:()=>(function LA(e){return e.viewCache_.serverCache.getNode()}(n)||ct.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function E_(e,n,t){const r=Wp(e,t);if(r){const o=C_(r),u=o.path,l=o.queryId,h=jr(u,n);return I_(e,u,new ea(Sp(l),h))}return[]}(e,t._path,r):function q0(e,n){return wd(e,new ea({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(e,t._path);{const u=function SA(e,n){let t="Unknown Error";"too_big"===e?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?t="Client doesn't have permission to access the desired data.":"unavailable"===e&&(t="The service is unavailable");const r=new Error(e+" at "+n._path.toString()+": "+t);return r.code=e.toUpperCase(),r}(o,t);return Cd(e,t,null,u)}}}}function ql(e,n){const t=Xf(n);return e.queryToTagMap.get(t)}function Xf(e){return e._path.toString()+"$"+e._queryIdentifier}function Wp(e,n){return e.tagToQueryMap.get(n)}function C_(e){const n=e.indexOf("$");return(0,S.vA)(-1!==n&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new Mt(e.substr(0,n))}}function I_(e,n,t){const r=e.syncPointTree_.get(n);return(0,S.vA)(r,"Missing sync point for query tag that we're tracking"),__(r,t,Np(e.pendingWriteTree_,n),null)}function Yl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function G0(){return(0,S.vA)(Bp,"Reference.ts has not been loaded"),Bp}())(e._repo,e._path):e}class w_{constructor(n){this.node_=n}getImmediateChild(n){const t=this.node_.getImmediateChild(n);return new w_(t)}node(){return this.node_}}class Gp{constructor(n,t){this.syncTree_=n,this.path_=t}getImmediateChild(n){const t=Xt(this.path_,n);return new Gp(this.syncTree_,t)}node(){return Dd(this.syncTree_,this.path_)}}const sC=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},b_=function(e,n,t){return e&&"object"==typeof e?((0,S.vA)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?oC(e[".sv"],n,t):"object"==typeof e[".sv"]?Q0(e[".sv"],n):void(0,S.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},oC=function(e,n,t){if("timestamp"===e)return t.timestamp;(0,S.vA)(!1,"Unexpected server value: "+e)},Q0=function(e,n,t){e.hasOwnProperty("increment")||(0,S.vA)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,S.vA)(!1,"Unexpected increment value: "+r);const o=n.node();if((0,S.vA)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const l=o.getValue();return"number"!=typeof l?r:l+r},aC=function(e,n,t,r){return zp(n,new Gp(t,e),r)},A_=function(e,n,t){return zp(e,new w_(n),t)};function zp(e,n,t){const r=e.getPriority().val(),o=b_(r,n.getImmediateChild(".priority"),t);let u;if(e.isLeafNode()){const l=e,h=b_(l.getValue(),n,t);return h!==l.getValue()||o!==l.getPriority().val()?new dd(h,Zt(o)):e}{const l=e;return u=l,o!==l.getPriority().val()&&(u=u.updatePriority(new dd(o))),l.forEachChild(yt,(h,m)=>{const y=zp(m,n.getImmediateChild(h),t);y!==m&&(u=u.updateImmediateChild(h,y))}),u}}class Zf{constructor(n="",t=null,r={children:{},childCount:0}){this.name=n,this.parent=t,this.node=r}}function Jf(e,n){let t=n instanceof Mt?n:new Mt(n),r=e,o=ft(t);for(;null!==o;){const u=(0,S.yw)(r.node.children,o)||{children:{},childCount:0};r=new Zf(o,r,u),t=Ut(t),o=ft(t)}return r}function au(e){return e.node.value}function Kp(e,n){e.node.value=n,vo(e)}function T_(e){return e.node.childCount>0}function eh(e,n){Bn(e.node.children,(t,r)=>{n(new Zf(t,e,r))})}function S_(e,n,t,r){t&&!r&&n(e),eh(e,o=>{S_(o,n,!0,r)}),t&&r&&n(e)}function uu(e){return new Mt(null===e.parent?e.name:uu(e.parent)+"/"+e.name)}function vo(e){null!==e.parent&&function X0(e,n,t){const r=function uC(e){return void 0===au(e)&&!T_(e)}(t),o=(0,S.gR)(e.node.children,n);r&&o?(delete e.node.children[n],e.node.childCount--,vo(e)):!r&&!o&&(e.node.children[n]=t.node,e.node.childCount++,vo(e))}(e.parent,e.name,e)}const Z0=/[\[\].#$\/\u0000-\u001F\u007F]/,M_=/[\[\].#$\u0000-\u001F\u007F]/,ia=10485760,bd=function(e){return"string"==typeof e&&0!==e.length&&!Z0.test(e)},cC=function(e){return"string"==typeof e&&0!==e.length&&!M_.test(e)},qp=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!nd(e)||e&&"object"==typeof e&&(0,S.gR)(e,".sv")},sa=function(e,n,t,r){r&&void 0===n||th((0,S.dI)(e,"value"),n,t)},th=function(e,n,t){const r=t instanceof Mt?new EE(t,e):t;if(void 0===n)throw new Error(e+"contains undefined "+Ja(r));if("function"==typeof n)throw new Error(e+"contains a function "+Ja(r)+" with contents = "+n.toString());if(nd(n))throw new Error(e+"contains "+n.toString()+" "+Ja(r));if("string"==typeof n&&n.length>ia/3&&(0,S.OE)(n)>ia)throw new Error(e+"contains a string greater than "+ia+" utf8 bytes "+Ja(r)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,u=!1;if(Bn(n,(l,h)=>{if(".value"===l)o=!0;else if(".priority"!==l&&".sv"!==l&&(u=!0,!bd(l)))throw new Error(e+" contains an invalid key ("+l+") "+Ja(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function NA(e,n){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=(0,S.OE)(n),Wm(e)})(r,l),th(e,h,r),function Cp(e){const n=e.parts_.pop();e.byteLength_-=(0,S.OE)(n),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),o&&u)throw new Error(e+' contains ".value" child '+Ja(r)+" in addition to actual children.")}},N_=function(e,n,t,r){if(r&&void 0===n)return;const o=(0,S.dI)(e,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];Bn(n,(l,h)=>{const m=new Mt(l);if(th(o,h,Xt(t,m)),".priority"===$m(m)&&!qp(h))throw new Error(o+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(m)}),function(e,n){let t,r;for(t=0;t<n.length;t++){r=n[t];const u=Ff(r);for(let l=0;l<u.length;l++)if((".priority"!==u[l]||l!==u.length-1)&&!bd(u[l]))throw new Error(e+"contains an invalid key ("+u[l]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(RA);let o=null;for(t=0;t<n.length;t++){if(r=n[t],null!==o&&Ti(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,u)},O_=function(e,n,t){if(!t||void 0!==n){if(nd(n))throw new Error((0,S.dI)(e,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qp(n))throw new Error((0,S.dI)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fn=function(e,n,t,r){if(!(r&&void 0===t||bd(t)))throw new Error((0,S.dI)(e,n)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ad=function(e,n,t,r){if(!(r&&void 0===t||cC(t)))throw new Error((0,S.dI)(e,n)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ew=function(e,n,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ad(e,n,t,r)},Ji=function(e,n){if(".info"===ft(n))throw new Error(e+" failed = Can't modify data under /.info/")},P_=function(e,n){const t=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!bd(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==t.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cC(e)}(t))throw new Error((0,S.dI)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class tw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function nh(e,n){let t=null;for(let r=0;r<n.length;r++){const o=n[r],u=o.getPath();null!==t&&!yE(u,t.path)&&(e.eventLists_.push(t),t=null),null===t&&(t={events:[],path:u}),t.events.push(o)}t&&e.eventLists_.push(t)}function x_(e,n,t){nh(e,t),dC(e,r=>yE(r,n))}function lr(e,n,t){nh(e,t),dC(e,r=>Ti(r,n)||Ti(n,r))}function dC(e,n){e.recursionDepth_++;let t=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];o&&(n(o.path)?(nw(e.eventLists_[r]),e.eventLists_[r]=null):t=!1)}t&&(e.eventLists_=[]),e.recursionDepth_--}function nw(e){for(let n=0;n<e.events.length;n++){const t=e.events[n];if(null!==t){e.events[n]=null;const r=t.getEventRunner();Yo&&Un("event: "+t.toString()),Ol(r)}}}const k_="repo_interrupt",rw=25;class fC{constructor(n,t,r,o){this.repoInfo_=n,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tp(),this.transactionQueueTree_=new Zf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function F_(e){const t=e.infoData_.getNode(new Mt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Ql(e){return sC({timestamp:F_(e)})}function ks(e,n,t,r,o){e.dataUpdateCount++;const u=new Mt(n);t=e.interceptServerDataCallback_?e.interceptServerDataCallback_(n,t):t;let l=[];if(o)if(r){const m=(0,S.kH)(t,y=>Zt(y));l=function Hp(e,n,t,r){const o=Wp(e,r);if(o){const u=C_(o),l=u.path,h=u.queryId,m=jr(l,n),y=Bt.fromObject(t);return I_(e,l,new Bl(Sp(h),m,y))}return[]}(e.serverSyncTree_,u,m,o)}else{const m=Zt(t);l=JE(e.serverSyncTree_,u,m,o)}else if(r){const m=(0,S.kH)(t,y=>Zt(y));l=function K0(e,n,t){const r=Bt.fromObject(t);return wd(e,new Bl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,r))}(e.serverSyncTree_,u,m)}else{const m=Zt(t);l=Qf(e.serverSyncTree_,u,m)}let h=u;l.length>0&&(h=Xl(e,u)),lr(e.eventQueue_,h,l)}function hC(e,n){es(e,"connected",n),!1===n&&function sw(e){Td(e,"onDisconnectEvents");const n=Ql(e),t=Tp();pd(e.onDisconnect_,Ct(),(o,u)=>{const l=aC(o,u,e.serverSyncTree_,n);Vl(t,o,l)});let r=[];pd(t,Ct(),(o,u)=>{r=r.concat(Qf(e.serverSyncTree_,o,u));const l=Zp(e,o);Xl(e,l)}),e.onDisconnect_=Tp(),lr(e.eventQueue_,Ct(),r)}(e)}function es(e,n,t){const r=new Mt("/.info/"+n),o=Zt(t);e.infoData_.updateSnapshot(r,o);const u=Qf(e.infoSyncTree_,r,o);lr(e.eventQueue_,r,u)}function ni(e){return e.nextWriteId_++}function Yp(e,n,t,r,o){Td(e,"set",{path:n.toString(),value:t,priority:r});const u=Ql(e),l=Zt(t,r),h=Dd(e.serverSyncTree_,n),m=A_(l,h,u),y=ni(e),I=jp(e.serverSyncTree_,n,m,y,!0);nh(e.eventQueue_,I),e.server_.put(n.toString(),l.val(!0),(M,L)=>{const ne="ok"===M;ne||Rn("set at "+n+" failed: "+M);const q=ou(e.serverSyncTree_,y,!ne);lr(e.eventQueue_,n,q),oa(0,o,M,L)});const w=Zp(e,n);Xl(e,w),lr(e.eventQueue_,w,[])}function ow(e,n,t){e.server_.onDisconnectCancel(n.toString(),(r,o)=>{"ok"===r&&i_(e.onDisconnect_,n),oa(0,t,r,o)})}function gC(e,n,t,r){const o=Zt(t);e.server_.onDisconnectPut(n.toString(),o.val(!0),(u,l)=>{"ok"===u&&Vl(e.onDisconnect_,n,o),oa(0,r,u,l)})}function V_(e,n,t){let r;r=".info"===ft(n._path)?Cd(e.infoSyncTree_,n,t):Cd(e.serverSyncTree_,n,t),x_(e.eventQueue_,n._path,r)}function U_(e){e.persistentConnection_&&e.persistentConnection_.interrupt(k_)}function Td(e,...n){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":"),Un(t,...n)}function oa(e,n,t,r){n&&Ol(()=>{if("ok"===t)n(null);else{const o=(t||"error").toUpperCase();let u=o;r&&(u+=": "+r);const l=new Error(u);l.code=o,n(l)}})}function Sd(e,n,t){return Dd(e.serverSyncTree_,n,t)||ct.EMPTY_NODE}function Qp(e,n=e.transactionQueueTree_){if(n||Zl(e,n),au(n)){const t=EC(e,n);(0,S.vA)(t.length>0,"Sending zero length transaction queue"),t.every(o=>0===o.status)&&function _C(e,n,t){const r=t.map(y=>y.currentWriteId),o=Sd(e,n,r);let u=o;const l=o.hash();for(let y=0;y<t.length;y++){const I=t[y];(0,S.vA)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const w=jr(n,I.path);u=u.updateChild(w,I.currentOutputSnapshotRaw)}const h=u.val(!0),m=n;e.server_.put(m.toString(),h,y=>{Td(e,"transaction put response",{path:m.toString(),status:y});let I=[];if("ok"===y){const w=[];for(let M=0;M<t.length;M++)t[M].status=2,I=I.concat(ou(e.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&w.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();Zl(e,Jf(e.transactionQueueTree_,n)),Qp(e,e.transactionQueueTree_),lr(e.eventQueue_,n,I);for(let M=0;M<w.length;M++)Ol(w[M])}else{if("datastale"===y)for(let w=0;w<t.length;w++)t[w].status=3===t[w].status?4:0;else{Rn("transaction at "+m.toString()+" failed: "+y);for(let w=0;w<t.length;w++)t[w].status=4,t[w].abortReason=y}Xl(e,n)}},l)}(e,uu(n),t)}else T_(n)&&eh(n,t=>{Qp(e,t)})}function Xl(e,n){const t=yC(e,n),r=uu(t);return function vC(e,n,t){if(0===n.length)return;const r=[];let o=[];const l=n.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<n.length;h++){const m=n[h],y=jr(t,m.path);let w,I=!1;if((0,S.vA)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)I=!0,w=m.abortReason,o=o.concat(ou(e.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=rw)I=!0,w="maxretry",o=o.concat(ou(e.serverSyncTree_,m.currentWriteId,!0));else{const M=Sd(e,m.path,l);m.currentInputSnapshot=M;const L=n[h].update(M.val());if(void 0!==L){th("transaction failed: Data returned ",L,m.path);let ne=Zt(L);"object"==typeof L&&null!=L&&(0,S.gR)(L,".priority")||(ne=ne.updatePriority(M.getPriority()));const be=m.currentWriteId,ke=Ql(e),qe=A_(ne,M,ke);m.currentOutputSnapshotRaw=ne,m.currentOutputSnapshotResolved=qe,m.currentWriteId=ni(e),l.splice(l.indexOf(be),1),o=o.concat(jp(e.serverSyncTree_,m.path,qe,m.currentWriteId,m.applyLocally)),o=o.concat(ou(e.serverSyncTree_,be,!0))}else I=!0,w="nodata",o=o.concat(ou(e.serverSyncTree_,m.currentWriteId,!0))}lr(e.eventQueue_,t,o),o=[],I&&(n[h].status=2,setTimeout(n[h].unwatcher,Math.floor(0)),n[h].onComplete&&r.push("nodata"===w?()=>n[h].onComplete(null,!1,n[h].currentInputSnapshot):()=>n[h].onComplete(new Error(w),!1,null)))}Zl(e,e.transactionQueueTree_);for(let h=0;h<r.length;h++)Ol(r[h]);Qp(e,e.transactionQueueTree_)}(e,EC(e,t),r),r}function yC(e,n){let t,r=e.transactionQueueTree_;for(t=ft(n);null!==t&&void 0===au(r);)r=Jf(r,t),t=ft(n=Ut(n));return r}function EC(e,n){const t=[];return Xp(e,n,t),t.sort((r,o)=>r.order-o.order),t}function Xp(e,n,t){const r=au(n);if(r)for(let o=0;o<r.length;o++)t.push(r[o]);eh(n,o=>{Xp(e,o,t)})}function Zl(e,n){const t=au(n);if(t){let r=0;for(let o=0;o<t.length;o++)2!==t[o].status&&(t[r]=t[o],r++);t.length=r,Kp(n,t.length>0?t:void 0)}eh(n,r=>{Zl(e,r)})}function Zp(e,n){const t=uu(yC(e,n)),r=Jf(e.transactionQueueTree_,n);return function lC(e,n,t){let r=t?e:e.parent;for(;null!==r;){if(n(r))return!0;r=r.parent}}(r,o=>{Jp(e,o)}),Jp(e,r),S_(r,o=>{Jp(e,o)}),t}function Jp(e,n){const t=au(n);if(t){const r=[];let o=[],u=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,S.vA)(u===l-1,"All SENT items should be at beginning of queue."),u=l,t[l].status=3,t[l].abortReason="set"):((0,S.vA)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),o=o.concat(ou(e.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===u?Kp(n,void 0):t.length=u+1,lr(e.eventQueue_,uu(n),o);for(let l=0;l<r.length;l++)Ol(r[l])}}const eg=function(e,n){const t=DC(e),r=t.namespace;return"firebase.com"===t.domain&&Ai(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Mm(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,n,"",r!==t.subdomain),path:new Mt(t.pathString)}},DC=function(e){let n="",t="",r="",o="",u="",l=!0,h="https",m=443;if("string"==typeof e){let y=e.indexOf("//");y>=0&&(h=e.substring(0,y-1),e=e.substring(y+2));let I=e.indexOf("/");-1===I&&(I=e.length);let w=e.indexOf("?");-1===w&&(w=e.length),n=e.substring(0,Math.min(I,w)),I<w&&(o=function CC(e){let n="";const t=e.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let o=t[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(e.substring(I,w)));const M=function IC(e){const n={};"?"===e.charAt(0)&&(e=e.substring(1));for(const t of e.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rn(`Invalid query segment '${t}' in query '${e}'`)}return n}(e.substring(Math.min(e.length,w)));y=n.indexOf(":"),y>=0?(l="https"===h||"wss"===h,m=parseInt(n.substring(y+1),10)):y=n.length;const L=n.slice(0,y);if("localhost"===L.toLowerCase())t="localhost";else if(L.split(".").length<=2)t=L;else{const ne=n.indexOf(".");r=n.substring(0,ne).toLowerCase(),t=n.substring(ne+1),u=r}"ns"in M&&(u=M.ns)}return{host:n,port:m,domain:t,subdomain:r,secure:l,scheme:h,pathString:o,namespace:u}},B_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",wC=function(){let e=0;const n=[];return function(t){const r=t===e;let o;e=t;const u=new Array(8);for(o=7;o>=0;o--)u[o]=B_.charAt(t%64),t=Math.floor(t/64);(0,S.vA)(0===t,"Cannot push at time == 0");let l=u.join("");if(r){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)l+=B_.charAt(n[o]);return(0,S.vA)(20===l.length,"nextPushId: Length should be 20."),l}}();class bC{constructor(n,t,r,o){this.eventType=n,this.eventRegistration=t,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,S.As)(this.snapshot.exportVal())}}class AC{constructor(n,t,r){this.eventRegistration=n,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class j_{constructor(n,t){this.snapshotCallback=n,this.cancelCallback=t}onValue(n,t){this.snapshotCallback.call(null,n,t)}onCancel(n){return(0,S.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class TC{constructor(n,t){this._repo=n,this._path=t}cancel(){const n=new S.cY;return ow(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ji("OnDisconnect.remove",this._path);const n=new S.cY;return gC(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ji("OnDisconnect.set",this._path),sa("OnDisconnect.set",n,this._path,!1);const t=new S.cY;return gC(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}setWithPriority(n,t){Ji("OnDisconnect.setWithPriority",this._path),sa("OnDisconnect.setWithPriority",n,this._path,!1),O_("OnDisconnect.setWithPriority",t,!1);const r=new S.cY;return function aw(e,n,t,r,o){const u=Zt(t,r);e.server_.onDisconnectPut(n.toString(),u.val(!0),(l,h)=>{"ok"===l&&Vl(e.onDisconnect_,n,u),oa(0,o,l,h)})}(this._repo,this._path,n,t,r.wrapCallback(()=>{})),r.promise}update(n){Ji("OnDisconnect.update",this._path),N_("OnDisconnect.update",n,this._path,!1);const t=new S.cY;return function L_(e,n,t,r){if((0,S.Im)(t))return Un("onDisconnect().update() called with empty data.  Don't do anything."),void oa(0,r,"ok",void 0);e.server_.onDisconnectMerge(n.toString(),t,(o,u)=>{"ok"===o&&Bn(t,(l,h)=>{const m=Zt(h);Vl(e.onDisconnect_,Xt(n,l),m)}),oa(0,r,o,u)})}(this._repo,this._path,n,t.wrapCallback(()=>{})),t.promise}}class ri{constructor(n,t,r,o){this._repo=n,this._path=t,this._queryParams=r,this._orderByCalled=o}get key(){return vt(this._path)?null:$m(this._path)}get ref(){return new ts(this._repo,this._path)}get _queryIdentifier(){const n=PE(this._queryParams),t=bm(n);return"{}"===t?"default":t}get _queryObject(){return PE(this._queryParams)}isEqual(n){if(!((n=(0,S.Ku)(n))instanceof ri))return!1;const t=this._repo===n._repo,r=yE(this._path,n._path);return t&&r&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function v0(e){let n="";for(let t=e.pieceNum_;t<e.pieces_.length;t++)""!==e.pieces_[t]&&(n+="/"+encodeURIComponent(String(e.pieces_[t])));return n||"/"}(this._path)}}function tg(e,n){if(!0===e._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function lu(e){let n=null,t=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(t=e.getIndexEndValue()),e.getIndex()===Ns){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Nl)throw new Error(r);if("string"!=typeof n)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==Ss)throw new Error(r);if("string"!=typeof t)throw new Error(o)}}else if(e.getIndex()===yt){if(null!=n&&!qp(n)||null!=t&&!qp(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,S.vA)(e.getIndex()instanceof e_||e.getIndex()===t_,"unknown index type."),null!=n&&"object"==typeof n||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ng(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ts extends ri{constructor(n,t){super(n,t,new jf,!1)}get parent(){const n=vE(this._path);return null===n?null:new ts(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Jl{constructor(n,t,r){this._node=n,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const t=new Mt(n),r=ec(this.ref,n);return new Jl(this._node.getChild(t),r,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>n(new Jl(o,ec(this.ref,r),yt)))}hasChild(n){const t=new Mt(n);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function SC(e,n){return(e=(0,S.Ku)(e))._checkNotDeleted("ref"),void 0!==n?ec(e._root,n):e._root}function MC(e,n){(e=(0,S.Ku)(e))._checkNotDeleted("refFromURL");const t=eg(n,e._repo.repoInfo_.nodeAdmin);P_("refFromURL",t);const r=t.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Ai("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),SC(e,t.path.toString())}function ec(e,n){return null===ft((e=(0,S.Ku)(e))._path)?ew("child","path",n,!1):Ad("child","path",n,!1),new ts(e._repo,Xt(e._path,n))}function H_(e,n){e=(0,S.Ku)(e),Ji("set",e._path),sa("set",n,e._path,!1);const t=new S.cY;return Yp(e._repo,e._path,n,null,t.wrapCallback(()=>{})),t.promise}function NC(e,n){N_("update",n,e._path,!1);const t=new S.cY;return function pC(e,n,t,r){Td(e,"update",{path:n.toString(),value:t});let o=!0;const u=Ql(e),l={};if(Bn(t,(h,m)=>{o=!1,l[h]=aC(Xt(n,h),Zt(m),e.serverSyncTree_,u)}),o)Un("update() called with empty data.  Don't do anything."),oa(0,r,"ok",void 0);else{const h=ni(e),m=function ZE(e,n,t,r){!function BE(e,n,t,r){(0,S.vA)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:n,children:t,writeId:r,visible:!0}),e.visibleWrites=u_(e.visibleWrites,n,t),e.lastWriteId=r}(e.pendingWriteTree_,n,t,r);const o=Bt.fromObject(t);return wd(e,new Bl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(e.serverSyncTree_,n,l,h);nh(e.eventQueue_,m),e.server_.merge(n.toString(),t,(y,I)=>{const w="ok"===y;w||Rn("update at "+n+" failed: "+y);const M=ou(e.serverSyncTree_,h,!w),L=M.length>0?Xl(e,n):n;lr(e.eventQueue_,L,M),oa(0,r,y,I)}),Bn(t,y=>{const I=Zp(e,Xt(n,y));Xl(e,I)}),lr(e.eventQueue_,n,[])}}(e._repo,e._path,n,t.wrapCallback(()=>{})),t.promise}function OC(e){e=(0,S.Ku)(e);const n=new j_(()=>{}),t=new Md(n);return function Fs(e,n,t){const r=function eC(e,n){const t=n._path;let r=null;e.syncPointTree_.foreachOnPath(t,(y,I)=>{const w=jr(y,t);r=r||xs(I,w)});let o=e.syncPointTree_.get(t);o?r=r||xs(o,Ct()):(o=new m_,e.syncPointTree_=e.syncPointTree_.set(t,o));const u=null!=r,l=u?new ta(r,!0,!1):null;return function U0(e){return Rp(e.viewCache_)}(YE(o,n,Np(e.pendingWriteTree_,n._path),u?l.getNode():ct.EMPTY_NODE,u))}(e.serverSyncTree_,n);return null!=r?Promise.resolve(r):e.server_.get(n).then(o=>{const u=Zt(o).withIndex(n._queryParams.getIndex());let l;if(Id(e.serverSyncTree_,n,t,!0),n._queryParams.loadsAllData())l=Qf(e.serverSyncTree_,n._path,u);else{const h=ql(e.serverSyncTree_,n);l=JE(e.serverSyncTree_,n._path,u,h)}return lr(e.eventQueue_,n._path,l),Cd(e.serverSyncTree_,n,t,null,!0),u},o=>(Td(e,"get for query "+(0,S.As)(n)+" failed: "+o),Promise.reject(new Error(o))))}(e._repo,e,t).then(r=>new Jl(r,new ts(e._repo,e._path),e._queryParams.getIndex()))}class Md{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,t){const r=t._queryParams.getIndex();return new bC("value",this,new Jl(n.snapshotNode,new ts(t._repo,t._path),r))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new AC(this,n,t):null}matches(n){return n instanceof Md&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ih{constructor(n,t){this.eventType=n,this.callbackContext=t}respondsTo(n){let t="children_added"===n?"child_added":n;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(n,t){return this.callbackContext.hasCancelCallback?new AC(this,n,t):null}createEvent(n,t){(0,S.vA)(null!=n.childName,"Child events should have a childName.");const r=ec(new ts(t._repo,t._path),n.childName),o=t._queryParams.getIndex();return new bC(n.type,this,new Jl(n.snapshotNode,r,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof ih&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Rd(e,n,t,r,o){let u;if("object"==typeof r&&(u=void 0,o=r),"function"==typeof r&&(u=r),o&&o.onlyOnce){const m=t,y=(I,w)=>{V_(e._repo,e,h),m(I,w)};y.userCallback=t.userCallback,y.context=t.context,t=y}const l=new j_(t,u||void 0),h="value"===n?new Md(l):new ih(n,l);return function rh(e,n,t){let r;r=".info"===ft(n._path)?Id(e.infoSyncTree_,n,t):Id(e.serverSyncTree_,n,t),x_(e.eventQueue_,n._path,r)}(e._repo,e,h),()=>V_(e._repo,e,h)}function rg(e,n,t,r){return Rd(e,"value",n,t,r)}function $_(e,n,t,r){return Rd(e,"child_added",n,t,r)}function W_(e,n,t,r){return Rd(e,"child_changed",n,t,r)}function G_(e,n,t,r){return Rd(e,"child_moved",n,t,r)}function z_(e,n,t,r){return Rd(e,"child_removed",n,t,r)}function cu(e,n,t){let r=null;const o=t?new j_(t):null;"value"===n?r=new Md(o):n&&(r=new ih(n,o)),V_(e._repo,e,r)}class Ls{}class PC extends Ls{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){sa("endAt",this._value,n._path,!0);const t=bp(n._queryParams,this._value,this._key);if(ng(t),lu(t),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ri(n._repo,n._path,t,n._orderByCalled)}}class BA extends Ls{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){sa("endBefore",this._value,n._path,!1);const t=function OE(e,n,t){let r;return r=bp(e,n,e.index_===Ns||t?t:Nl),r.endBeforeSet_=!0,r}(n._queryParams,this._value,this._key);if(ng(t),lu(t),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ri(n._repo,n._path,t,n._orderByCalled)}}class fw extends Ls{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){sa("startAt",this._value,n._path,!0);const t=wp(n._queryParams,this._value,this._key);if(ng(t),lu(t),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ri(n._repo,n._path,t,n._orderByCalled)}}class kC extends Ls{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){sa("startAfter",this._value,n._path,!1);const t=function NE(e,n,t){let r;return r=wp(e,n,e.index_===Ns||t?t:Ss),r.startAfterSet_=!0,r}(n._queryParams,this._value,this._key);if(ng(t),lu(t),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ri(n._repo,n._path,t,n._orderByCalled)}}class Od extends Ls{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ri(n._repo,n._path,function n_(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="l",t}(n._queryParams,this._limit),n._orderByCalled)}}class pw extends Ls{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ri(n._repo,n._path,function OA(e,n){const t=e.copy();return t.limitSet_=!0,t.limit_=n,t.viewFrom_="r",t}(n._queryParams,this._limit),n._orderByCalled)}}class Pd extends Ls{constructor(n){super(),this._path=n}_apply(n){tg(n,"orderByChild");const t=new Mt(this._path);if(vt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new e_(t),o=hd(n._queryParams,r);return lu(o),new ri(n._repo,n._path,o,!0)}}class ig extends Ls{_apply(n){tg(n,"orderByKey");const t=hd(n._queryParams,Ns);return lu(t),new ri(n._repo,n._path,t,!0)}}class ii extends Ls{_apply(n){tg(n,"orderByPriority");const t=hd(n._queryParams,yt);return lu(t),new ri(n._repo,n._path,t,!0)}}class FC extends Ls{_apply(n){tg(n,"orderByValue");const t=hd(n._queryParams,t_);return lu(t),new ri(n._repo,n._path,t,!0)}}class _w extends Ls{constructor(n,t){super(),this._value=n,this._key=t}_apply(n){if(sa("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new PC(this._value,this._key)._apply(new fw(this._value,this._key)._apply(n))}}function ns(e,...n){let t=(0,S.Ku)(e);for(const r of n)t=r._apply(t);return t}(function j0(e){(0,S.vA)(!iu,"__referenceConstructor has already been defined"),iu=e})(ts),function XE(e){(0,S.vA)(!Bp,"__referenceConstructor has already been defined"),Bp=e}(ts);const og={};function jC(e,n,t,r,o){let u=r||e.options.databaseURL;void 0===u&&(e.options.projectId||Ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Un("Using default host for project ",e.options.projectId),u=`${e.options.projectId}-default-rtdb.firebaseio.com`);let m,y,l=eg(u,o),h=l.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(m=!0,u=`http://${y}?ns=${h.namespace}`,l=eg(u,o),h=l.repoInfo):m=!l.repoInfo.secure;const I=o&&m?new Nf(Nf.OWNER):new Jy(e.name,e.options,n);P_("Invalid Firebase Database URL",l),vt(l.path)||Ai("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function yw(e,n,t,r){let o=og[n.name];o||(o={},og[n.name]=o);let u=o[e.toURLString()];return u&&Ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new fC(e,false,t,r),o[e.toURLString()]=u,u}(h,e,I,new r0(e.name,t));return new Cw(w,e)}class Cw{constructor(n,t){this._repoInternal=n,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function VA(e,n,t){if(e.stats_=vp(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ap(e.repoInfo_,(r,o,u,l)=>{ks(e,r,o,u,l)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>hC(e,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,S.As)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new kl(e.repoInfo_,n,(r,o,u,l)=>{ks(e,r,o,u,l)},r=>{hC(e,r)},r=>{!function iw(e,n){Bn(n,(t,r)=>{es(e,t,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,t),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function o0(e,n){const t=e.toString();return xf[t]||(xf[t]=n()),xf[t]}(e.repoInfo_,()=>new kE(e.stats_,e.server_)),e.infoData_=new r_,e.infoSyncTree_=new y_({startListening:(r,o,u,l)=>{let h=[];const m=e.infoData_.getNode(r._path);return m.isEmpty()||(h=Qf(e.infoSyncTree_,r._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),es(e,"connected",!1),e.serverSyncTree_=new y_({startListening:(r,o,u,l)=>(e.server_.listen(r,u,o,(h,m)=>{const y=l(h,m);lr(e.eventQueue_,r._path,y)}),[]),stopListening:(r,o)=>{e.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ts(this._repo,Ct())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sh(e,n){const t=og[n];(!t||t[e.key]!==e)&&Ai(`Database ${n}(${e.repoInfo_}) has already been deleted.`),U_(e),delete t[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&Ai("Cannot call "+n+" on a deleted database.")}}function oh(){fE.IS_TRANSPORT_INITIALIZED&&Rn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function HC(){oh(),po.forceDisallow()}function $C(){oh(),dn.forceDisallow(),po.forceAllow()}function Dw(e,n){Sl(e,n)}const bw={".sv":"timestamp"};class KC{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}kl.prototype.simpleListen=function(e,n){this.sendRequest("q",{p:e},n)},kl.prototype.echo=function(e,n){this.sendRequest("echo",{d:e},n)},function ww(e){Cm(Al.SDK_VERSION),(0,Al._registerComponent)(new Xa.uA("database",(n,{instanceIdentifier:t})=>jC(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Al.registerVersion)(hp,"0.14.4",e),(0,Al.registerVersion)(hp,"0.14.4","esm2017")}();const GA=new fp.Vy("@firebase/database-compat"),Mw=function(e){GA.warn("FIREBASE WARNING: "+e)};class ag{constructor(n){this._delegate=n}cancel(n){(0,S.od)("OnDisconnect.cancel",0,1,arguments.length),(0,S.oD)("OnDisconnect.cancel","onComplete",n,!0);const t=this._delegate.cancel();return n&&t.then(()=>n(null),r=>n(r)),t}remove(n){(0,S.od)("OnDisconnect.remove",0,1,arguments.length),(0,S.oD)("OnDisconnect.remove","onComplete",n,!0);const t=this._delegate.remove();return n&&t.then(()=>n(null),r=>n(r)),t}set(n,t){(0,S.od)("OnDisconnect.set",1,2,arguments.length),(0,S.oD)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(n);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(n,t,r){(0,S.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,S.oD)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(n,t);return r&&o.then(()=>r(null),u=>r(u)),o}update(n,t){if((0,S.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Mw("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,S.oD)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(n);return t&&r.then(()=>t(null),o=>t(o)),r}}class Rw{constructor(n,t){this.committed=n,this.snapshot=t}toJSON(){return(0,S.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class du{constructor(n,t){this._database=n,this._delegate=t}val(){return(0,S.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,S.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,S.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,S.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,S.od)("DataSnapshot.child",0,1,arguments.length),n=String(n),Ad("DataSnapshot.child","path",n,!1),new du(this._database,this._delegate.child(n))}hasChild(n){return(0,S.od)("DataSnapshot.hasChild",1,1,arguments.length),Ad("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,S.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,S.od)("DataSnapshot.forEach",1,1,arguments.length),(0,S.oD)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(t=>n(new du(this._database,t)))}hasChildren(){return(0,S.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,S.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,S.od)("DataSnapshot.ref",0,0,arguments.length),new yr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class cr{constructor(n,t){this.database=n,this._delegate=t}on(n,t,r,o){var u;(0,S.od)("Query.on",2,4,arguments.length),(0,S.oD)("Query.on","callback",t,!1);const l=cr.getCancelAndContextArgs_("Query.on",r,o),h=(y,I)=>{t.call(l.context,new du(this.database,y),I)};h.userCallback=t,h.context=l.context;const m=null===(u=l.cancel)||void 0===u?void 0:u.bind(l.context);switch(n){case"value":return rg(this._delegate,h,m),t;case"child_added":return $_(this._delegate,h,m),t;case"child_removed":return z_(this._delegate,h,m),t;case"child_changed":return W_(this._delegate,h,m),t;case"child_moved":return G_(this._delegate,h,m),t;default:throw new Error((0,S.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,t,r){if((0,S.od)("Query.off",0,3,arguments.length),function(e,n,t){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,S.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,S.oD)("Query.off","callback",t,!0),(0,S.HN)("Query.off","context",r,!0),t){const o=()=>{};o.userCallback=t,o.context=r,cu(this._delegate,n,o)}else cu(this._delegate,n)}get(){return OC(this._delegate).then(n=>new du(this.database,n))}once(n,t,r,o){(0,S.od)("Query.once",1,4,arguments.length),(0,S.oD)("Query.once","callback",t,!0);const u=cr.getCancelAndContextArgs_("Query.once",r,o),l=new S.cY,h=(y,I)=>{const w=new du(this.database,y);t&&t.call(u.context,w,I),l.resolve(w)};h.userCallback=t,h.context=u.context;const m=y=>{u.cancel&&u.cancel.call(u.context,y),l.reject(y)};switch(n){case"value":rg(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":$_(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":z_(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":W_(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":G_(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,S.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(n){return(0,S.od)("Query.limitToFirst",1,1,arguments.length),new cr(this.database,ns(this._delegate,function hw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Od(e)}(n)))}limitToLast(n){return(0,S.od)("Query.limitToLast",1,1,arguments.length),new cr(this.database,ns(this._delegate,function gw(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pw(e)}(n)))}orderByChild(n){return(0,S.od)("Query.orderByChild",1,1,arguments.length),new cr(this.database,ns(this._delegate,function mw(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ad("orderByChild","path",e,!1),new Pd(e)}(n)))}orderByKey(){return(0,S.od)("Query.orderByKey",0,0,arguments.length),new cr(this.database,ns(this._delegate,function sg(){return new ig}()))}orderByPriority(){return(0,S.od)("Query.orderByPriority",0,0,arguments.length),new cr(this.database,ns(this._delegate,function HA(){return new ii}()))}orderByValue(){return(0,S.od)("Query.orderByValue",0,0,arguments.length),new cr(this.database,ns(this._delegate,function LC(){return new FC}()))}startAt(n=null,t){return(0,S.od)("Query.startAt",0,2,arguments.length),new cr(this.database,ns(this._delegate,function xC(e=null,n){return fn("startAt","key",n,!0),new fw(e,n)}(n,t)))}startAfter(n=null,t){return(0,S.od)("Query.startAfter",0,2,arguments.length),new cr(this.database,ns(this._delegate,function jA(e,n){return fn("startAfter","key",n,!0),new kC(e,n)}(n,t)))}endAt(n=null,t){return(0,S.od)("Query.endAt",0,2,arguments.length),new cr(this.database,ns(this._delegate,function Nd(e,n){return fn("endAt","key",n,!0),new PC(e,n)}(n,t)))}endBefore(n=null,t){return(0,S.od)("Query.endBefore",0,2,arguments.length),new cr(this.database,ns(this._delegate,function K_(e,n){return fn("endBefore","key",n,!0),new BA(e,n)}(n,t)))}equalTo(n,t){return(0,S.od)("Query.equalTo",1,2,arguments.length),new cr(this.database,ns(this._delegate,function VC(e,n){return fn("equalTo","key",n,!0),new _w(e,n)}(n,t)))}toString(){return(0,S.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,S.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,S.od)("Query.isEqual",1,1,arguments.length),!(n instanceof cr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,t,r){const o={cancel:void 0,context:void 0};if(t&&r)o.cancel=t,(0,S.oD)(n,"cancel",o.cancel,!0),o.context=r,(0,S.HN)(n,"context",o.context,!0);else if(t)if("object"==typeof t&&null!==t)o.context=t;else{if("function"!=typeof t)throw new Error((0,S.dI)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=t}return o}get ref(){return new yr(this.database,new ts(this._delegate._repo,this._delegate._path))}}class yr extends cr{constructor(n,t){super(n,new ri(t._repo,t._path,new jf,!1)),this.database=n,this._delegate=t}getKey(){return(0,S.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,S.od)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new yr(this.database,ec(this._delegate,n))}getParent(){(0,S.od)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new yr(this.database,n):null}getRoot(){return(0,S.od)("Reference.root",0,0,arguments.length),new yr(this.database,this._delegate.root)}set(n,t){(0,S.od)("Reference.set",1,2,arguments.length),(0,S.oD)("Reference.set","onComplete",t,!0);const r=H_(this._delegate,n);return t&&r.then(()=>t(null),o=>t(o)),r}update(n,t){if((0,S.od)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Mw("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ji("Reference.update",this._delegate._path),(0,S.oD)("Reference.update","onComplete",t,!0);const r=NC(this._delegate,n);return t&&r.then(()=>t(null),o=>t(o)),r}setWithPriority(n,t,r){(0,S.od)("Reference.setWithPriority",2,3,arguments.length),(0,S.oD)("Reference.setWithPriority","onComplete",r,!0);const o=function RC(e,n,t){if(Ji("setWithPriority",e._path),sa("setWithPriority",n,e._path,!1),O_("setWithPriority",t,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new S.cY;return Yp(e._repo,e._path,n,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,n,t);return r&&o.then(()=>r(null),u=>r(u)),o}remove(n){(0,S.od)("Reference.remove",0,1,arguments.length),(0,S.oD)("Reference.remove","onComplete",n,!0);const t=function cw(e){return Ji("remove",e._path),H_(e,null)}(this._delegate);return n&&t.then(()=>n(null),r=>n(r)),t}transaction(n,t,r){(0,S.od)("Reference.transaction",1,3,arguments.length),(0,S.oD)("Reference.transaction","transactionUpdate",n,!1),(0,S.oD)("Reference.transaction","onComplete",t,!0),function(e,n,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,S.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function Aw(e,n,t){var r;if(e=(0,S.Ku)(e),Ji("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const o=null===(r=t?.applyLocally)||void 0===r||r,u=new S.cY,h=rg(e,()=>{});return function mC(e,n,t,r,o,u){Td(e,"transaction on "+n);const l={path:n,update:t,onComplete:r,status:null,order:ZD(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=Sd(e,n,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{th("transaction failed: Data returned ",m,l.path),l.status=0;const y=Jf(e.transactionQueueTree_,n),I=au(y)||[];let w;I.push(l),Kp(y,I),"object"==typeof m&&null!==m&&(0,S.gR)(m,".priority")?(w=(0,S.yw)(m,".priority"),(0,S.vA)(qp(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):w=(Dd(e.serverSyncTree_,n)||ct.EMPTY_NODE).getPriority().val();const M=Ql(e),L=Zt(m,w),ne=A_(L,h,M);l.currentOutputSnapshotRaw=L,l.currentOutputSnapshotResolved=ne,l.currentWriteId=ni(e);const q=jp(e.serverSyncTree_,n,ne,l.currentWriteId,l.applyLocally);lr(e.eventQueue_,n,q),Qp(e,e.transactionQueueTree_)}}(e._repo,e._path,n,(m,y,I)=>{let w=null;m?u.reject(m):(w=new Jl(I,new ts(e._repo,e._path),yt),u.resolve(new KC(y,w)))},h,o),u.promise}(this._delegate,n,{applyLocally:r}).then(u=>new Rw(u.committed,new du(this.database,u.snapshot)));return t&&o.then(u=>t(null,u.committed,u.snapshot),u=>t(u,!1,null)),o}setPriority(n,t){(0,S.od)("Reference.setPriority",1,2,arguments.length),(0,S.oD)("Reference.setPriority","onComplete",t,!0);const r=function dw(e,n){e=(0,S.Ku)(e),Ji("setPriority",e._path),O_("setPriority",n,!1);const t=new S.cY;return Yp(e._repo,Xt(e._path,".priority"),n,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,n);return t&&r.then(()=>t(null),o=>t(o)),r}push(n,t){(0,S.od)("Reference.push",0,2,arguments.length),(0,S.oD)("Reference.push","onComplete",t,!0);const r=function lw(e,n){e=(0,S.Ku)(e),Ji("push",e._path),sa("push",n,e._path,!0);const t=F_(e._repo),r=wC(t),o=ec(e,r),u=ec(e,r);let l;return l=null!=n?H_(u,n).then(()=>u):Promise.resolve(u),o.then=l.then.bind(l),o.catch=l.then.bind(l,void 0),o}(this._delegate,n),o=r.then(l=>new yr(this.database,l));t&&o.then(()=>t(null),l=>t(l));const u=new yr(this.database,r);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Ji("Reference.onDisconnect",this._delegate._path),new ag(new TC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class lh{constructor(n,t){this._delegate=n,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:HC,forceLongPolling:$C}}useEmulator(n,t,r={}){!function WC(e,n,t,r={}){(e=(0,S.Ku)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Ai("Cannot call useEmulator() after instance has already been initialized.");const o=e._repoInternal;let u;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new Nf(Nf.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,S.Fy)(r.mockUserToken,e.app.options.projectId);u=new Nf(l)}!function vw(e,n,t,r){e.repoInfo_=new Mm(`${n}:${t}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(o,n,t,u)}(this._delegate,n,t,r)}ref(n){if((0,S.od)("database.ref",0,1,arguments.length),n instanceof yr){const t=MC(this._delegate,n.toString());return new yr(this,t)}{const t=SC(this._delegate,n);return new yr(this,t)}}refFromURL(n){(0,S.od)("database.refFromURL",1,1,arguments.length);const r=MC(this._delegate,n);return new yr(this,r)}goOffline(){return(0,S.od)("database.goOffline",0,0,arguments.length),function ah(e){(e=(0,S.Ku)(e))._checkNotDeleted("goOffline"),U_(e._repo)}(this._delegate)}goOnline(){return(0,S.od)("database.goOnline",0,0,arguments.length),function uh(e){(e=(0,S.Ku)(e))._checkNotDeleted("goOnline"),function uw(e){e.persistentConnection_&&e.persistentConnection_.resume(k_)}(e._repo)}(this._delegate)}}lh.ServerValue={TIMESTAMP:function GC(){return bw}(),increment:e=>function zC(e){return{".sv":{increment:e}}}(e)};var Ow=Object.freeze({__proto__:null,initStandalone:function Nw({app:e,url:n,version:t,customAuthImpl:r,namespace:o,nodeAdmin:u=!1}){Cm(t);const l=new Xa.Kq("auth-internal",new Xa.h1("database-standalone"));return l.setComponent(new Xa.uA("auth-internal",()=>r,"PRIVATE")),{instance:new lh(jC(e,l,void 0,n,u),e),namespace:o}}});const Pw=lh.ServerValue;!function KA(e){e.INTERNAL.registerComponent(new Xa.uA("database-compat",(n,{instanceIdentifier:t})=>{const r=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:t});return new lh(o,r)},"PUBLIC").setServiceProps({Reference:yr,Query:cr,Database:lh,DataSnapshot:du,enableLogging:Dw,INTERNAL:Ow,ServerValue:Pw}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(QD.A);var ug=A(941),YC=A(6129);class xw extends br.B{constructor(n=1/0,t=1/0,r=YC.U){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:l}=this;t||(r.push(n),!o&&r.push(u.now()+l)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let l=0;l<u.length&&!n.closed;l+=r?1:2)n.next(u[l]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const l=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)h=m;h&&r.splice(0,h+1)}}}function QC(e,n,t){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:t}=e):r=e??1/0,(0,cp.u)({connector:()=>new xw(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function xd(e,n){return(0,ms.T)(n)?(0,zt.n)(()=>e,n):(0,zt.n)(()=>e)}var q_=A(6745);A(2214);const X_=new Map,rI={activated:!1,tokenObservers:[]},Fw={initialized:!1,enabled:!1};function Cn(e){return X_.get(e)||Object.assign({},rI)}function cg(){return Fw}const dg="https://content-firebaseappcheck.googleapis.com/v1",Uw="exchangeDebugToken",Z_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class jw{constructor(n,t,r,o,u){if(this.operation=n,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var t=this;return(0,bi.A)(function*(){t.stop();try{t.pending=new S.cY,yield function Hw(e){return new Promise(n=>{setTimeout(n,e)})}(t.getNextRun(n)),t.pending.resolve(),yield t.pending.promise,t.pending=new S.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Kn=new S.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fg(e){if(!Cn(e).activated)throw Kn.create("use-before-activation",{appName:e.name})}function pg(e,n){return dh.apply(this,arguments)}function dh(){return(dh=(0,bi.A)(function*({url:e,body:n},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const w=yield o.getHeartbeatsHeader();w&&(r["X-Firebase-Client"]=w)}const u={method:"POST",body:JSON.stringify(n),headers:r};let l,h;try{l=yield fetch(e,u)}catch(w){throw Kn.create("fetch-network-error",{originalErrorMessage:w?.message})}if(200!==l.status)throw Kn.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(w){throw Kn.create("fetch-parse-error",{originalErrorMessage:w?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Kn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(m[1]),I=Date.now();return{token:h.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}})).apply(this,arguments)}function fu(e,n){const{projectId:t,appId:r,apiKey:o}=e.options;return{url:`${dg}/projects/${t}/apps/${r}:${Uw}?key=${o}`,body:{debug_token:n}}}const oI="firebase-app-check-database",Gw=1,gg="firebase-app-check-store";let Fd=null;function vg(){return(vg=(0,bi.A)(function*(e,n){const r=(yield function aI(){return Fd||(Fd=new Promise((e,n)=>{try{const t=indexedDB.open(oI,Gw);t.onsuccess=r=>{e(r.target.result)},t.onerror=r=>{var o;n(Kn.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gg,{keyPath:"compositeKey"})}}catch(t){n(Kn.create("storage-open",{originalErrorMessage:t?.message}))}}),Fd)}()).transaction(gg,"readwrite"),u=r.objectStore(gg).put({compositeKey:e,value:n});return new Promise((l,h)=>{u.onsuccess=m=>{l()},r.onerror=m=>{var y;h(Kn.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const fh=new fp.Vy("@firebase/app-check");function nv(e,n){return(0,S.zW)()?function lI(e,n){return function _g(e,n){return vg.apply(this,arguments)}(function ev(e){return`${e.options.appId}-${e.name}`}(e),n)}(e,n).catch(t=>{fh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Eg(){return cg().enabled}function rv(){return iv.apply(this,arguments)}function iv(){return(iv=(0,bi.A)(function*(){const e=cg();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const qw={error:"UNKNOWN_ERROR"};function Yw(e){return S.K3.encodeString(JSON.stringify(e),!1)}function Cg(e){return sv.apply(this,arguments)}function sv(){return(sv=(0,bi.A)(function*(e,n=!1){const t=e.app;fg(t);const r=Cn(t);let u,o=r.token;if(o&&!Ld(o)&&(r.token=void 0,o=void 0),!o){const m=yield r.cachedTokenPromise;m&&(Ld(m)?o=m:yield nv(t,void 0))}if(!n&&o&&Ld(o))return{token:o.token};let h,l=!1;if(Eg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pg(fu(t,yield rv()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const m=yield r.exchangeTokenPromise;return yield nv(t,m),r.token=m,{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),o=yield Cn(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?fh.warn(m.message):fh.error(m),u=m}return o?u?h=Ld(o)?{token:o.token,internalError:u}:Vd(u):(h={token:o.token},r.token=o,yield nv(t,o)):h=Vd(u),l&&function gI(e,n){const t=Cn(e).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=n.error?r.error(n.error):r.next(n)}catch{}}(t,h),h})).apply(this,arguments)}function hI(e){return ov.apply(this,arguments)}function ov(){return(ov=(0,bi.A)(function*(e){const n=e.app;fg(n);const{provider:t}=Cn(n);if(Eg()){const r=yield rv(),{token:o}=yield pg(fu(n,r),e.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function uv(e,n){const t=Cn(e),r=t.tokenObservers.filter(o=>o.next!==n);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function pI(e){const{app:n}=e,t=Cn(n);let r=t.tokenRefresher;r||(r=function Qw(e){const{app:n}=e;return new jw((0,bi.A)(function*(){let r;if(r=Cn(n).token?yield Cg(e,!0):yield Cg(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Cn(n);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Z_.RETRIAL_MIN_WAIT,Z_.RETRIAL_MAX_WAIT)}(e),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ld(e){return e.expireTimeMillis-Date.now()>0}function Vd(e){return{token:Yw(qw),error:e}}class mI{constructor(n,t){this.app=n,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:n}=Cn(this.app);for(const t of n)uv(this.app,t.next);return Promise.resolve()}}const ph="app-check-internal";!function ib(){(0,Al._registerComponent)(new Xa.uA("app-check",e=>function _I(e,n){return new mI(e,n)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,t)=>{e.getProvider(ph).initialize()})),(0,Al._registerComponent)(new Xa.uA(ph,e=>function vI(e){return{getToken:n=>Cg(e,n),getLimitedUseToken:()=>hI(e),addTokenListener:n=>function av(e,n,t,r){const{app:o}=e,u=Cn(o);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:n}],u.token&&Ld(u.token)){const h=u.token;Promise.resolve().then(()=>{t({token:h.token}),pI(e)}).catch(()=>{})}u.cachedTokenPromise.then(()=>pI(e))}(e,"INTERNAL",n),removeTokenListener:n=>uv(e.app,n)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Al.registerVersion)("@firebase/app-check","0.8.0")}();class dv{constructor(){return(0,ei.CA)("app-check")}}typeof window<"u"&&window;var hv=A(7935);const Tg=new d.nKC("angularfire2.auth.use-emulator"),Sg=new d.nKC("angularfire2.auth.settings"),OI=new d.nKC("angularfire2.auth.tenant-id"),PI=new d.nKC("angularfire2.auth.langugage-code"),xI=new d.nKC("angularfire2.auth.use-device-language"),kI=new d.nKC("angularfire.auth.persistence"),pv=(e,n,t,r,o,u,l,h)=>(0,wi.BM)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const m=n.runOutsideAngular(()=>e.auth());if(t&&m.useEmulator(...t),r&&(m.tenantId=r),m.languageCode=o,u&&m.useDeviceLanguage(),l)for(const[y,I]of Object.entries(l))m.settings[y]=I;return h&&m.setPersistence(h),m},[t,r,o,u,l,h]);let Mg=(()=>{class e{constructor(t,r,o,u,l,h,m,y,I,w,M,L){const ne=new br.B,q=(0,ze.of)(void 0).pipe((0,ug.Q)(l.outsideAngular),(0,zt.n)(()=>u.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,6922)))),(0,Ze.T)(()=>(0,wi.iB)(t,u,r)),(0,Ze.T)(be=>pv(be,u,h,y,I,w,m,M)),QC({bufferSize:1,refCount:!1}));if(va(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ze.of)(null);else{q.pipe(Wi()).subscribe();const ke=q.pipe((0,zt.n)(It=>It.getRedirectResult().then(Nn=>Nn,()=>null)),ei.U0,QC({bufferSize:1,refCount:!1})),qe=q.pipe((0,zt.n)(It=>new sr.c(Nn=>({unsubscribe:u.runOutsideAngular(()=>It.onAuthStateChanged(ua=>Nn.next(ua),ua=>Nn.error(ua),()=>Nn.complete()))})))),Pt=q.pipe((0,zt.n)(It=>new sr.c(Nn=>({unsubscribe:u.runOutsideAngular(()=>It.onIdTokenChanged(ua=>Nn.next(ua),ua=>Nn.error(ua),()=>Nn.complete()))}))));this.authState=ke.pipe(xd(qe),(0,q_._)(l.outsideAngular),(0,ug.Q)(l.insideAngular)),this.user=ke.pipe(xd(Pt),(0,q_._)(l.outsideAngular),(0,ug.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,zt.n)(It=>It?(0,ln.H)(It.getIdToken()):(0,ze.of)(null))),this.idTokenResult=this.user.pipe((0,zt.n)(It=>It?(0,ln.H)(It.getIdTokenResult()):(0,ze.of)(null))),this.credential=(0,vm.h)(ke,ne,this.authState.pipe(Lr(It=>!It))).pipe((0,Ze.T)(It=>It?.user?It:null),(0,q_._)(l.outsideAngular),(0,ug.Q)(l.insideAngular))}return(0,wi.Gt)(this,q,u,{spy:{apply:(be,ke,qe)=>{(be.startsWith("signIn")||be.startsWith("createUser"))&&qe.then(Pt=>ne.next(Pt))}}})}}return e.\u0275fac=function(t){return new(t||e)(d.KVO(wi.rx),d.KVO(wi.uP,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(ei.u0),d.KVO(Tg,8),d.KVO(Sg,8),d.KVO(OI,8),d.KVO(PI,8),d.KVO(xI,8),d.KVO(kI,8),d.KVO(dv,8))},e.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function gv(e){return null==e}function LI(e){return"function"==typeof e.set}function mv(e,n){return LI(n)?n:e.ref(n)}function _v(e,n){if(function db(e){return"string"==typeof e}(e))return n.stringCase();if(LI(e))return n.firebaseCase();if(function FI(e){return"function"==typeof e.exportVal}(e))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function gh(e,n,t="on",r=lp.E){return new sr.c(o=>{let u=null;return u=e[t](n,(l,h)=>{r.schedule(()=>{o.next({snapshot:l,prevKey:h})}),"once"===t&&r.schedule(()=>o.complete())},l=>{r.schedule(()=>o.error(l))}),"on"===t?{unsubscribe(){null!=u&&e.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Ze.T)(o=>{const{snapshot:u,prevKey:l}=o;let h=null;return u.exists()&&(h=u.key),{type:n,payload:u,prevKey:l,key:h}}),(0,cp.u)())}function UI(e,n){const t=e.length;for(let r=0;r<t;r++)if(e[r].payload.key===n)return r;return-1}function Bd(e,n){const{payload:t,prevKey:r,key:o}=n,u=UI(e,o),l=function $r(e,n){if(gv(n))return 0;{const t=UI(e,n);return-1===t?e.length:t+1}}(e,r);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let h=null;n.payload.forEach(m=>{const y={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,e=[...e,y],!1})}return e;case"child_added":if(u>-1){const h=e[u-1];(h&&h.key||null)!==r&&(e=e.filter(m=>m.payload.key!==t.key)).splice(l,0,n)}else{if(null==r)return[n,...e];(e=e.slice()).splice(l,0,n)}return e;case"child_removed":return e.filter(h=>h.payload.key!==t.key);case"child_changed":return e.map(h=>h.payload.key===o?n:h);case"child_moved":if(u>-1){const h=e.splice(u,1)[0];return(e=e.slice()).splice(l,0,h),e}return e;default:return e}}function BI(e){return(gv(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function jI(e,n,t){return function VI(e,n,t){return gh(e,"value","once",t).pipe((0,zt.n)(r=>{const o=[(0,ze.of)(r)];return n.forEach(u=>o.push(gh(e,u,"on",t))),(0,vm.h)(...o).pipe(Gi(Bd,[]))}),(0,dp.F)())}(e,n=BI(n),t)}function fb(e,n,t){const r=(n=BI(n)).map(o=>gh(e,o,"on",t));return(0,vm.h)(...r)}function hb(e,n){return function(r,o){return _v(r,{stringCase:()=>e.child(r)[n](o),firebaseCase:()=>r[n](o),snapshotCase:()=>r.ref[n](o)})}}function hT(e){return function(t){return t?_v(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function jd(e,n){return function(){return gh(e,"value","on",n)}}const yv=new d.nKC("angularfire2.realtimeDatabaseURL"),gb=new d.nKC("angularfire2.database.use-emulator");let Rg=(()=>{class e{constructor(t,r,o,u,l,h,m,y,I,w,M,L,ne,q,be){this.schedulers=h;const ke=m,qe=(0,wi.iB)(t,l,r);y&&pv(qe,l,I,M,L,ne,w,q),this.database=(0,wi.BM)(`${qe.name}.database.${o}`,"AngularFireDatabase",qe.name,()=>{const Pt=l.runOutsideAngular(()=>qe.database(o||void 0));return ke&&Pt.useEmulator(...ke),Pt},[ke])}list(t,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>mv(this.database,t));let u=o;return r&&(u=r(o)),function pT(e,n){const t=n.schedulers.outsideAngular,r=n.schedulers.ngZone.run(()=>e.ref);return{query:e,update:hb(r,"update"),set:hb(r,"set"),push:o=>r.push(o),remove:hT(r),snapshotChanges:o=>jI(e,o,t).pipe(ei.U0),stateChanges:o=>fb(e,o,t).pipe(ei.U0),auditTrail:o=>function fT(e,n,t){return function vv(e,n,t){return function HI(e,n){return gh(e,"value","on",n).pipe((0,Ze.T)(t=>{let r;return t.payload.forEach(o=>(r=o.key,!1)),{data:t,lastKeyToLoad:r}}))}(e,t).pipe(function ho(...e){const n=(0,Jr.ms)(e);return(0,Ln.N)((t,r)=>{const o=e.length,u=new Array(o);let l=e.map(()=>!1),h=!1;for(let m=0;m<o;m++)(0,Bi.Tg)(e[m]).subscribe((0,Dt._)(r,y=>{u[m]=y,!h&&!l[m]&&(l[m]=!0,(h=l.every(kr.D))&&(l=null))},ko.l));t.subscribe((0,Dt._)(r,m=>{if(h){const y=[m,...u];r.next(n?n(...y):y)}}))})}(n),(0,Ze.T)(([o,u])=>{const l=o.lastKeyToLoad,h=u.map(m=>m.key);return{actions:u,lastKeyToLoad:l,loadedKeys:h}}),function td(e){return(0,Ln.N)((n,t)=>{let r=!1,o=0;n.subscribe((0,Dt._)(t,u=>(r||(r=!e(u,o++)))&&t.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Ze.T)(o=>o.actions))}(e,fb(e,n).pipe(Gi((o,u)=>[...o,u],[])),t)}(e,o,t).pipe(ei.U0),valueChanges:(o,u)=>jI(e,o,t).pipe((0,Ze.T)(h=>h.map(m=>u&&u.idField?Object.assign(Object.assign({},m.payload.val()),{[u.idField]:m.key}):m.payload.val())),ei.U0)}}(u,this)}object(t){return function pb(e,n){return{query:e,snapshotChanges:()=>jd(e,n.schedulers.outsideAngular)().pipe(ei.U0),update:t=>e.ref.update(t),set:t=>e.ref.set(t),remove:()=>e.ref.remove(),valueChanges:()=>jd(e,n.schedulers.outsideAngular)().pipe(ei.U0,(0,Ze.T)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>mv(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(d.KVO(wi.rx),d.KVO(wi.uP,8),d.KVO(yv,8),d.KVO(d.Agw),d.KVO(d.SKi),d.KVO(ei.u0),d.KVO(gb,8),d.KVO(Mg,8),d.KVO(Tg,8),d.KVO(Sg,8),d.KVO(OI,8),d.KVO(PI,8),d.KVO(xI,8),d.KVO(kI,8),d.KVO(dv,8))},e.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),mb=(()=>{class e{constructor(){hv.A.registerVersion("angularfire",ei.xv.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.$C({type:e}),e.\u0275inj=d.G2t({providers:[Rg]}),e})();const _b_firebaseConfig={apiKey:"AIzaSyCS_LkrMcqZxatrXc7HFiHf4cK4QzriT3M",authDomain:"smartgrow-4c523.firebaseapp.com",databaseURL:"https://smartgrow-4c523-default-rtdb.europe-west1.firebasedatabase.app",projectId:"smartgrow-4c523",storageBucket:"smartgrow-4c523.firebasestorage.app",messagingSenderId:"539246249781",appId:"1:539246249781:web:548be1e89823843ad3ee7c"};let vb=(()=>{class e{constructor(t){this.db=t}getSensorData(){return this.db.object("/").valueChanges()}static{this.\u0275fac=function(r){return new(r||e)(d.KVO(Rg))}}static{this.\u0275prov=d.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Cv=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(d.sFG),d.rXU(d.aKT))}}static{this.\u0275dir=d.FsC({type:e})}}return e})(),tc=(()=>{class e extends Cv{static{this.\u0275fac=function(){let t;return function(o){return(t||(t=d.xGo(e)))(o||e)}}()}static{this.\u0275dir=d.FsC({type:e,features:[d.Vt3]})}}return e})();const Mi=new d.nKC("NgValueAccessor"),Iv={provide:Mi,useExisting:(0,d.Rfq)(()=>$I),multi:!0};let $I=(()=>{class e extends tc{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(o){return(t||(t=d.xGo(e)))(o||e)}}()}static{this.\u0275dir=d.FsC({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){1&r&&d.bIt("change",function(l){return o.onChange(l.target.checked)})("blur",function(){return o.onTouched()})},features:[d.Jv_([Iv]),d.Vt3]})}}return e})();const WI={provide:Mi,useExisting:(0,d.Rfq)(()=>hu),multi:!0},GI=new d.nKC("CompositionEventMode");let hu=(()=>{class e extends Cv{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yb(){const e=T()?T().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(GI,8))}}static{this.\u0275dir=d.FsC({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&d.bIt("input",function(l){return o._handleInput(l.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(l){return o._compositionEnd(l.target.value)})},features:[d.Jv_([WI]),d.Vt3]})}}return e})();const dr=new d.nKC("NgValidators"),nc=new d.nKC("NgAsyncValidators");function QI(e){return null!=e}function Sv(e){return(0,d.jNT)(e)?(0,ln.H)(e):e}function XI(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function Mv(e,n){return n.map(t=>t(e))}function Rv(e){return e.map(n=>function ZI(e){return!e.validate}(n)?n:t=>n.validate(t))}function Ov(e){return null!=e?function Nv(e){if(!e)return null;const n=e.filter(QI);return 0==n.length?null:function(t){return XI(Mv(t,n))}}(Rv(e)):null}function eD(e){return null!=e?function JI(e){if(!e)return null;const n=e.filter(QI);return 0==n.length?null:function(t){return function Ev(...e){const n=(0,Jr.ms)(e),{args:t,keys:r}=Zr(e),o=new sr.c(u=>{const{length:l}=t;if(!l)return void u.complete();const h=new Array(l);let m=l,y=l;for(let I=0;I<l;I++){let w=!1;(0,Bi.Tg)(t[I]).subscribe((0,Dt._)(u,M=>{w||(w=!0,y--),h[I]=M},()=>m--,void 0,()=>{(!m||!w)&&(y||u.next(r?_s(r,h):h),u.complete())}))}});return n?o.pipe(Js(n)):o}(Mv(t,n).map(Sv)).pipe((0,Ze.T)(XI))}}(Rv(e)):null}function Pv(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function tD(e){return e?Array.isArray(e)?e:[e]:[]}function xv(e,n){return Array.isArray(e)?e.includes(n):e===n}function Db(e,n){const t=tD(n);return tD(e).forEach(o=>{xv(t,o)||t.push(o)}),t}function wb(e,n){return tD(n).filter(t=>!xv(e,t))}class bb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Ov(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=eD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class si extends bb{get formDirective(){return null}get path(){return null}}class rc extends bb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kv{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rD=(()=>{class e extends kv{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(rc,2))}}static{this.\u0275dir=d.FsC({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&d.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[d.Vt3]})}}return e})();const mh="VALID",Hd="INVALID",$d="PENDING",_h="DISABLED";function xg(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Hv{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===mh}get invalid(){return this.status===Hd}get pending(){return this.status==$d}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(Db(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Db(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(wb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(wb(n,this._rawAsyncValidators))}hasValidator(n){return xv(this._rawValidators,n)}hasAsyncValidator(n){return xv(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=$d,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=_h,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=mh,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mh||this.status===$d)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=$d,this._hasOwnPendingAsyncValidator=!0;const t=Sv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?Hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($d)?$d:this._anyControlsHaveStatus(Hd)?Hd:mh}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){xg(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function Sb(e){return Array.isArray(e)?Ov(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function Mb(e){return Array.isArray(e)?eD(e):e||null}(this._rawAsyncValidators)}}const ic=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>vh}),vh="always";function fr(e,n,t=vh){(function kg(e,n){const t=function Cb(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(Pv(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function Ib(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(Pv(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Eh(n._rawValidators,o),Eh(n._rawAsyncValidators,o)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function Gv(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&zv(e,n)})}(e,n),function Kv(e,n){const t=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function gu(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&zv(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function Ob(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Eh(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function zv(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Qv(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function dD(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Xv=class extends Hv{constructor(n=null,t,r){super(function Bv(e){return(xg(e)?e.validators:e)||null}(t),function jv(e,n){return(xg(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=dD(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){Qv(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){Qv(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){dD(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Bb={provide:rc,useExisting:(0,d.Rfq)(()=>hD)},fD=(()=>Promise.resolve())();let hD=(()=>{class e extends rc{constructor(t,r,o,u,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new Xv,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Vg(e,n){if(!n)return null;let t,r,o;return Array.isArray(n),n.forEach(u=>{u.constructor===hu?t=u:function cD(e){return Object.getPrototypeOf(e.constructor)===tc}(u)?r=u:o=u}),o||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Yv(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){fD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,d.L39)(r);fD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Wv(e,n){return[...n.path,e]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(si,9),d.rXU(dr,10),d.rXU(nc,10),d.rXU(Mi,10),d.rXU(d.gRc,8),d.rXU(ic,8))}}static{this.\u0275dir=d.FsC({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Bb]),d.Vt3,d.OA$]})}}return e})(),pD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({})}}return e})(),BT=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({imports:[pD]})}}return e})(),SD=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ic,useValue:t.callSetDisabledState??vh}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e})}static{this.\u0275inj=d.G2t({imports:[BT]})}}return e})();function WT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Temp\xe9rature : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.temperature," \xb0C")}}function sA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Humidit\xe9 : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.humidite," %")}}function GT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Ventilos actionn\xe9s : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.ventilateur_allume," ")}}function oA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date temp\xe9rature : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.temperature_time,"dd/MM/yyyy HH:mm:ss"))}}function zT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date humidit\xe9 : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.humidite_time,"dd/MM/yyyy HH:mm:ss"))}}function KT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date ventilos : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.ventilateur_allume_time,"dd/MM/yyyy HH:mm:ss"))}}function aA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Humidit\xe9 du sol : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.humidite_sol," %")}}function uA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Irrigation active : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.irrigation_active," ")}}function qT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date humidit\xe9 du sol : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.humidite_sol_time,"dd/MM/yyyy HH:mm:ss"))}}function YT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date irrigation : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",d.i5U(4,1,t.sensorData.irrigation_active_time,"dd/MM/yyyy HH:mm:ss")," ")}}function QT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Luminosit\xe9 : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.luminosite," Lux")}}function XT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Lampes allum\xe9es : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(t.sensorData.lampes_allumees)}}function ZT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date luminosit\xe9 : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.luminosite_time,"dd/MM/yyyy HH:mm:ss"))}}function lA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date etats lampes : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.JRh(d.i5U(4,1,t.sensorData.allumage_lampes_time,"dd/MM/yyyy HH:mm:ss"))}}function JT(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Porte de grange ouverte : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.porte_ouverte," ")}}function eS(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date o/f porte : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",d.i5U(4,1,t.sensorData.porte_ouverte_time,"dd/MM/yyyy HH:mm:ss")," ")}}function tS(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Niveau eau : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.niveau_eau," ")}}function nS(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Alerte eau : "),d.j41(2,"span"),d.EFF(3),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",t.sensorData.alterte_buzzer," ")}}function rS(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date niveau eau : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",d.i5U(4,1,t.sensorData.niveau_eau_time,"dd/MM/yyyy HH:mm:ss")," ")}}function cA(e,n){if(1&e&&(d.j41(0,"p"),d.EFF(1,"Date alerte eau : "),d.j41(2,"span"),d.EFF(3),d.nI1(4,"date"),d.k0s()()),2&e){const t=d.XpG();d.R7$(3),d.SpI("",d.i5U(4,1,t.sensorData.alerte_buzzer_time,"dd/MM/yyyy HH:mm:ss")," ")}}function iS(e,n){1&e&&(d.j41(0,"p"),d.EFF(1," Alerte : Remplir la citerne d'eau "),d.k0s())}const i='body[_ngcontent-%COMP%]{background:url(background.58f5c7491a68dac0.jpg) no-repeat center center fixed;background-size:cover;font-family:Lato,Normal;margin:0;width:100vw;height:100vh;padding:0;display:flex;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]{text-align:left;padding:40px;background-color:#ffffffd9;box-shadow:0 4px 8px #0003;border-radius:15px;width:80%;max-width:1200px}h1[_ngcontent-%COMP%]{color:#333;margin-bottom:30px;display:flex;align-items:center;justify-content:center}.sensor-button[_ngcontent-%COMP%]{background:#f0f0f0;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0000001a;display:flex;justify-content:space-between;align-items:center}.toggle-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%}.sensor-box[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.sensor-data[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]{background:#f0f0f0;padding:20px;border-radius:10px;box-shadow:0 2px 4px #0000001a}.sensor-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;font-size:1.2rem;margin:10px 0}.sensor-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sensor-timestamps[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#4caf50}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:34px}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.toggle-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.switch-label[_ngcontent-%COMP%]{font-size:16px;color:#333}';let s=(()=>{class e{constructor(t,r){this.sensorDataService=t,this.db=r,this.sensorData={},this.title="smartgrow",this.lampStatus=!1,this.ventiloStatus=!1,this.irrigationStatus=!1,this.porteStatus=!1}ngOnInit(){this.sensorDataService.getSensorData().subscribe(t=>{console.log(t),this.sensorData=t},t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t)})}toggleLamps(){const t=(new Date).toISOString(),r={"/lampes_allumees":this.lampStatus,"/allumage_lampes_time":t};this.db.object("/").update(r).then(()=>{console.log(`Lampes ${this.lampStatus?"allum\xe9es":"\xe9teintes"} \xe0 ${t}!`)}).catch(o=>{console.error("Erreur lors de l'allumage/\xe9teignage des lampes:",o)})}toggleVentilo(){const t=(new Date).toISOString(),r={"/ventilateur_allume":this.ventiloStatus,"/ventilateur_allume_time":t};this.db.object("/").update(r).then(()=>{console.log(`Ventilos ${this.ventiloStatus?"actionn\xe9s":"\xe9teintes"} \xe0 ${t}!`)}).catch(o=>{console.error("Erreur lors de l'actionnement/\xe9teignage des ventilos:",o)})}toggleIrrigation(){const t=(new Date).toISOString(),r={"/irrigation_active":this.irrigationStatus,"/irrigation_active_time":t};this.db.object("/").update(r).then(()=>{console.log(`Irrigation ${this.irrigationStatus?"actionn\xe9s":"\xe9teintes"} \xe0 ${t}!`)}).catch(o=>{console.error("Erreur lors de l'irrigation/\xe9teignage:",o)})}togglePorte(){const t=(new Date).toISOString(),r={"/porte_ouverte":this.porteStatus,"/porte_ouverte_time":t};this.db.object("/").update(r).then(()=>{console.log(`Porte ${this.porteStatus?"ouverte":"ferm\xe9s"} \xe0 ${t}!`)}).catch(o=>{console.error("Erreur lors de l'ouverture/fermeture:",o)})}static{this.\u0275fac=function(r){return new(r||e)(d.rXU(vb),d.rXU(Rg))}}static{this.\u0275cmp=d.VBU({type:e,selectors:[["app-root"]],decls:73,vars:25,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"sensor-box"],[1,"sensor-data"],[4,"ngIf"],[1,"sensor-timestamps"],[1,"sensor-button"],[1,"switch-label"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"slider","round"]],template:function(r,o){1&r&&(d.j41(0,"html",0)(1,"head"),d.nrm(2,"meta",1)(3,"meta",2),d.j41(4,"title"),d.EFF(5,"SmartGrow - Surveillance des Capteurs"),d.k0s()(),d.j41(6,"body")(7,"div",3)(8,"h1"),d.EFF(9,"SmartGrow - Surveillance des Capteurs"),d.k0s(),d.j41(10,"div",4)(11,"div",5),d.DNE(12,WT,4,1,"p",6),d.DNE(13,sA,4,1,"p",6),d.DNE(14,GT,4,1,"p",6),d.k0s(),d.j41(15,"div",7),d.DNE(16,oA,5,4,"p",6),d.DNE(17,zT,5,4,"p",6),d.DNE(18,KT,5,4,"p",6),d.k0s(),d.j41(19,"div",8),d.nrm(20,"br")(21,"br"),d.j41(22,"label",9),d.EFF(23,"Actionner Ventilateurs"),d.k0s(),d.j41(24,"label",10)(25,"input",11),d.bIt("ngModelChange",function(l){return o.ventiloStatus=l})("change",function(){return o.toggleVentilo()}),d.k0s(),d.nrm(26,"span",12),d.k0s()(),d.j41(27,"div",5),d.DNE(28,aA,4,1,"p",6),d.DNE(29,uA,4,1,"p",6),d.k0s(),d.j41(30,"div",7),d.DNE(31,qT,5,4,"p",6),d.DNE(32,YT,5,4,"p",6),d.k0s(),d.j41(33,"div",8),d.nrm(34,"br"),d.j41(35,"label",9),d.EFF(36,"Activer l'irrigation"),d.k0s(),d.j41(37,"label",10)(38,"input",11),d.bIt("ngModelChange",function(l){return o.irrigationStatus=l})("change",function(){return o.toggleIrrigation()}),d.k0s(),d.nrm(39,"span",12),d.k0s()(),d.j41(40,"div",5),d.DNE(41,QT,4,1,"p",6),d.DNE(42,XT,4,1,"p",6),d.k0s(),d.j41(43,"div",7),d.DNE(44,ZT,5,4,"p",6),d.DNE(45,lA,5,4,"p",6),d.k0s(),d.j41(46,"div",8),d.nrm(47,"br"),d.j41(48,"label",9),d.EFF(49,"Allumage Lampes"),d.k0s(),d.j41(50,"label",10)(51,"input",11),d.bIt("ngModelChange",function(l){return o.lampStatus=l})("change",function(){return o.toggleLamps()}),d.k0s(),d.nrm(52,"span",12),d.k0s()(),d.j41(53,"div",5),d.DNE(54,JT,4,1,"p",6),d.k0s(),d.j41(55,"div",7),d.DNE(56,eS,5,4,"p",6),d.k0s(),d.j41(57,"div",8),d.nrm(58,"br"),d.j41(59,"label",9),d.EFF(60,"Ouvrir/Fermer la porte de grange"),d.k0s(),d.j41(61,"label",10)(62,"input",11),d.bIt("ngModelChange",function(l){return o.porteStatus=l})("change",function(){return o.togglePorte()}),d.k0s(),d.nrm(63,"span",12),d.k0s()(),d.j41(64,"div",5),d.DNE(65,tS,4,1,"p",6),d.DNE(66,nS,4,1,"p",6),d.k0s(),d.j41(67,"div",7),d.DNE(68,rS,5,4,"p",6),d.DNE(69,cA,5,4,"p",6),d.k0s(),d.j41(70,"div",8),d.nrm(71,"br"),d.DNE(72,iS,2,0,"p",6),d.k0s()()()()()),2&r&&(d.R7$(12),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.temperature),d.R7$(1),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.humidite),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.ventilateur_allume)),d.R7$(2),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.temperature_time),d.R7$(1),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.humidite_time),d.R7$(1),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.ventilateur_allume_time),d.R7$(7),d.Y8G("ngModel",o.ventiloStatus),d.R7$(3),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.humidite_sol),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.irrigation_active)),d.R7$(2),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.humidite_sol_time),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.irrigation_active_time)),d.R7$(6),d.Y8G("ngModel",o.irrigationStatus),d.R7$(3),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.luminosite)),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.lampes_allumees)),d.R7$(2),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.luminosite_time),d.R7$(1),d.Y8G("ngIf",null==o.sensorData?null:o.sensorData.allumage_lampes_time),d.R7$(6),d.Y8G("ngModel",o.lampStatus),d.R7$(3),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.porte_ouverte)),d.R7$(2),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.porte_ouverte_time)),d.R7$(6),d.Y8G("ngModel",o.porteStatus),d.R7$(3),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.niveau_eau)),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.alterte_buzzer)),d.R7$(2),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.niveau_eau_time)),d.R7$(1),d.Y8G("ngIf",null!=(null==o.sensorData?null:o.sensorData.alerte_buzzer_time)),d.R7$(3),d.Y8G("ngIf",1==(null==o.sensorData?null:o.sensorData.alterte_buzzer)))},dependencies:[Co,$I,rD,hD,mn],styles:[i,i]})}}return e})(),a=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=d.$C({type:e,bootstrap:[s]})}static{this.\u0275inj=d.G2t({imports:[Vi,mm,SD,wi.bf.initializeApp(_b_firebaseConfig),mb]})}}return e})();yn().bootstrapModule(a).catch(e=>console.error(e))},4412:(Ue,ce,A)=>{A.d(ce,{t:()=>j});var d=A(1413);class j extends d.B{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const K=super._subscribe(W);return!K.closed&&W.next(this._value),K}getValue(){const{hasError:W,thrownError:K,_value:ie}=this;if(W)throw K;return this._throwIfClosed(),ie}next(W){super.next(this._value=W)}}},1985:(Ue,ce,A)=>{A.d(ce,{c:()=>me});var d=A(7707),j=A(8359),T=A(3494),W=A(1203),K=A(1026),ie=A(8071),oe=A(9786);let me=(()=>{class B{constructor(he){he&&(this._subscribe=he)}lift(he){const Te=new B;return Te.source=this,Te.operator=he,Te}subscribe(he,Te,ge){const we=function x(B){return B&&B instanceof d.vU||function R(B){return B&&(0,ie.T)(B.next)&&(0,ie.T)(B.error)&&(0,ie.T)(B.complete)}(B)&&(0,j.Uv)(B)}(he)?he:new d.Ms(he,Te,ge);return(0,oe.Y)(()=>{const{operator:ye,source:We}=this;we.add(ye?ye.call(we,We):We?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(he){try{return this._subscribe(he)}catch(Te){he.error(Te)}}forEach(he,Te){return new(Te=re(Te))((ge,we)=>{const ye=new d.Ms({next:We=>{try{he(We)}catch(Be){we(Be),ye.unsubscribe()}},error:we,complete:ge});this.subscribe(ye)})}_subscribe(he){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(he)}[T.s](){return this}pipe(...he){return(0,W.m)(he)(this)}toPromise(he){return new(he=re(he))((Te,ge)=>{let we;this.subscribe(ye=>we=ye,ye=>ge(ye),()=>Te(we))})}}return B.create=Ee=>new B(Ee),B})();function re(B){var Ee;return null!==(Ee=B??K.$.Promise)&&void 0!==Ee?Ee:Promise}},1413:(Ue,ce,A)=>{A.d(ce,{B:()=>oe});var d=A(1985),j=A(8359);const W=(0,A(1853).L)(re=>function(){re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=A(7908),ie=A(9786);let oe=(()=>{class re extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(x){const B=new me(this,this);return B.operator=x,B}_throwIfClosed(){if(this.closed)throw new W}next(x){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const B of this.currentObservers)B.next(x)}})}error(x){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=x;const{observers:B}=this;for(;B.length;)B.shift().error(x)}})}complete(){(0,ie.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:x}=this;for(;x.length;)x.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var x;return(null===(x=this.observers)||void 0===x?void 0:x.length)>0}_trySubscribe(x){return this._throwIfClosed(),super._trySubscribe(x)}_subscribe(x){return this._throwIfClosed(),this._checkFinalizedStatuses(x),this._innerSubscribe(x)}_innerSubscribe(x){const{hasError:B,isStopped:Ee,observers:he}=this;return B||Ee?j.Kn:(this.currentObservers=null,he.push(x),new j.yU(()=>{this.currentObservers=null,(0,K.o)(he,x)}))}_checkFinalizedStatuses(x){const{hasError:B,thrownError:Ee,isStopped:he}=this;B?x.error(Ee):he&&x.complete()}asObservable(){const x=new d.c;return x.source=this,x}}return re.create=(R,x)=>new me(R,x),re})();class me extends oe{constructor(R,x){super(),this.destination=R,this.source=x}next(R){var x,B;null===(B=null===(x=this.destination)||void 0===x?void 0:x.next)||void 0===B||B.call(x,R)}error(R){var x,B;null===(B=null===(x=this.destination)||void 0===x?void 0:x.error)||void 0===B||B.call(x,R)}complete(){var R,x;null===(x=null===(R=this.destination)||void 0===R?void 0:R.complete)||void 0===x||x.call(R)}_subscribe(R){var x,B;return null!==(B=null===(x=this.source)||void 0===x?void 0:x.subscribe(R))&&void 0!==B?B:j.Kn}}},7707:(Ue,ce,A)=>{A.d(ce,{Ms:()=>ge,vU:()=>B});var d=A(8071),j=A(8359),T=A(1026),W=A(5334),K=A(5343);const ie=re("C",void 0,void 0);function re(z,ae,G){return{kind:z,value:ae,error:G}}var R=A(9270),x=A(9786);class B extends j.yU{constructor(ae){super(),this.isStopped=!1,ae?(this.destination=ae,(0,j.Uv)(ae)&&ae.add(this)):this.destination=Be}static create(ae,G,le){return new ge(ae,G,le)}next(ae){this.isStopped?We(function me(z){return re("N",z,void 0)}(ae),this):this._next(ae)}error(ae){this.isStopped?We(function oe(z){return re("E",void 0,z)}(ae),this):(this.isStopped=!0,this._error(ae))}complete(){this.isStopped?We(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ae){this.destination.next(ae)}_error(ae){try{this.destination.error(ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ee=Function.prototype.bind;function he(z,ae){return Ee.call(z,ae)}class Te{constructor(ae){this.partialObserver=ae}next(ae){const{partialObserver:G}=this;if(G.next)try{G.next(ae)}catch(le){we(le)}}error(ae){const{partialObserver:G}=this;if(G.error)try{G.error(ae)}catch(le){we(le)}else we(ae)}complete(){const{partialObserver:ae}=this;if(ae.complete)try{ae.complete()}catch(G){we(G)}}}class ge extends B{constructor(ae,G,le){let ve;if(super(),(0,d.T)(ae)||!ae)ve={next:ae??void 0,error:G??void 0,complete:le??void 0};else{let Ae;this&&T.$.useDeprecatedNextContext?(Ae=Object.create(ae),Ae.unsubscribe=()=>this.unsubscribe(),ve={next:ae.next&&he(ae.next,Ae),error:ae.error&&he(ae.error,Ae),complete:ae.complete&&he(ae.complete,Ae)}):ve=ae}this.destination=new Te(ve)}}function we(z){T.$.useDeprecatedSynchronousErrorHandling?(0,x.l)(z):(0,W.m)(z)}function We(z,ae){const{onStoppedNotification:G}=T.$;G&&R.f.setTimeout(()=>G(z,ae))}const Be={closed:!0,next:K.l,error:function ye(z){throw z},complete:K.l}},8359:(Ue,ce,A)=>{A.d(ce,{Kn:()=>ie,yU:()=>K,Uv:()=>oe});var d=A(8071);const T=(0,A(1853).L)(re=>function(x){re(this),this.message=x?`${x.length} errors occurred during unsubscription:\n${x.map((B,Ee)=>`${Ee+1}) ${B.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=x});var W=A(7908);class K{constructor(R){this.initialTeardown=R,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let R;if(!this.closed){this.closed=!0;const{_parentage:x}=this;if(x)if(this._parentage=null,Array.isArray(x))for(const he of x)he.remove(this);else x.remove(this);const{initialTeardown:B}=this;if((0,d.T)(B))try{B()}catch(he){R=he instanceof T?he.errors:[he]}const{_finalizers:Ee}=this;if(Ee){this._finalizers=null;for(const he of Ee)try{me(he)}catch(Te){R=R??[],Te instanceof T?R=[...R,...Te.errors]:R.push(Te)}}if(R)throw new T(R)}}add(R){var x;if(R&&R!==this)if(this.closed)me(R);else{if(R instanceof K){if(R.closed||R._hasParent(this))return;R._addParent(this)}(this._finalizers=null!==(x=this._finalizers)&&void 0!==x?x:[]).push(R)}}_hasParent(R){const{_parentage:x}=this;return x===R||Array.isArray(x)&&x.includes(R)}_addParent(R){const{_parentage:x}=this;this._parentage=Array.isArray(x)?(x.push(R),x):x?[x,R]:R}_removeParent(R){const{_parentage:x}=this;x===R?this._parentage=null:Array.isArray(x)&&(0,W.o)(x,R)}remove(R){const{_finalizers:x}=this;x&&(0,W.o)(x,R),R instanceof K&&R._removeParent(this)}}K.EMPTY=(()=>{const re=new K;return re.closed=!0,re})();const ie=K.EMPTY;function oe(re){return re instanceof K||re&&"closed"in re&&(0,d.T)(re.remove)&&(0,d.T)(re.add)&&(0,d.T)(re.unsubscribe)}function me(re){(0,d.T)(re)?re():re.unsubscribe()}},1026:(Ue,ce,A)=>{A.d(ce,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Ue,ce,A)=>{A.d(ce,{w:()=>j});const j=new(A(1985).c)(K=>K.complete())},8455:(Ue,ce,A)=>{A.d(ce,{H:()=>ae});var d=A(8750),j=A(941),T=A(6745),ie=A(1985),me=A(4761),re=A(8071),R=A(5225);function B(G,le){if(!G)throw new Error("Iterable cannot be null");return new ie.c(ve=>{(0,R.N)(ve,le,()=>{const Ae=G[Symbol.asyncIterator]();(0,R.N)(ve,le,()=>{Ae.next().then(Z=>{Z.done?ve.complete():ve.next(Z.value)})},0,!0)})})}var Ee=A(5055),he=A(9858),Te=A(7441),ge=A(5397),we=A(7953),ye=A(591),We=A(5196);function ae(G,le){return le?function z(G,le){if(null!=G){if((0,Ee.l)(G))return function W(G,le){return(0,d.Tg)(G).pipe((0,T._)(le),(0,j.Q)(le))}(G,le);if((0,Te.X)(G))return function oe(G,le){return new ie.c(ve=>{let Ae=0;return le.schedule(function(){Ae===G.length?ve.complete():(ve.next(G[Ae++]),ve.closed||this.schedule())})})}(G,le);if((0,he.y)(G))return function K(G,le){return(0,d.Tg)(G).pipe((0,T._)(le),(0,j.Q)(le))}(G,le);if((0,we.T)(G))return B(G,le);if((0,ge.x)(G))return function x(G,le){return new ie.c(ve=>{let Ae;return(0,R.N)(ve,le,()=>{Ae=G[me.l](),(0,R.N)(ve,le,()=>{let Z,Ke;try{({value:Z,done:Ke}=Ae.next())}catch(ut){return void ve.error(ut)}Ke?ve.complete():ve.next(Z)},0,!0)}),()=>(0,re.T)(Ae?.return)&&Ae.return()})}(G,le);if((0,We.U)(G))return function Be(G,le){return B((0,We.C)(G),le)}(G,le)}throw(0,ye.L)(G)}(G,le):(0,d.Tg)(G)}},8750:(Ue,ce,A)=>{A.d(ce,{Tg:()=>Ee});var d=A(1635),j=A(7441),T=A(9858),W=A(1985),K=A(5055),ie=A(7953),oe=A(591),me=A(5397),re=A(5196),R=A(8071),x=A(5334),B=A(3494);function Ee(z){if(z instanceof W.c)return z;if(null!=z){if((0,K.l)(z))return function he(z){return new W.c(ae=>{const G=z[B.s]();if((0,R.T)(G.subscribe))return G.subscribe(ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,j.X)(z))return function Te(z){return new W.c(ae=>{for(let G=0;G<z.length&&!ae.closed;G++)ae.next(z[G]);ae.complete()})}(z);if((0,T.y)(z))return function ge(z){return new W.c(ae=>{z.then(G=>{ae.closed||(ae.next(G),ae.complete())},G=>ae.error(G)).then(null,x.m)})}(z);if((0,ie.T)(z))return ye(z);if((0,me.x)(z))return function we(z){return new W.c(ae=>{for(const G of z)if(ae.next(G),ae.closed)return;ae.complete()})}(z);if((0,re.U)(z))return function We(z){return ye((0,re.C)(z))}(z)}throw(0,oe.L)(z)}function ye(z){return new W.c(ae=>{(function Be(z,ae){var G,le,ve,Ae;return(0,d.sH)(this,void 0,void 0,function*(){try{for(G=(0,d.xN)(z);!(le=yield G.next()).done;)if(ae.next(le.value),ae.closed)return}catch(Z){ve={error:Z}}finally{try{le&&!le.done&&(Ae=G.return)&&(yield Ae.call(G))}finally{if(ve)throw ve.error}}ae.complete()})})(z,ae).catch(G=>ae.error(G))})}},7786:(Ue,ce,A)=>{A.d(ce,{h:()=>ie});var d=A(6365),j=A(8750),T=A(983),W=A(3794),K=A(8455);function ie(...oe){const me=(0,W.lI)(oe),re=(0,W.R0)(oe,1/0),R=oe;return R.length?1===R.length?(0,j.Tg)(R[0]):(0,d.U)(re)((0,K.H)(R,me)):T.w}},7673:(Ue,ce,A)=>{A.d(ce,{of:()=>T});var d=A(3794),j=A(8455);function T(...W){const K=(0,d.lI)(W);return(0,j.H)(W,K)}},4360:(Ue,ce,A)=>{A.d(ce,{_:()=>j});var d=A(7707);function j(W,K,ie,oe,me){return new T(W,K,ie,oe,me)}class T extends d.vU{constructor(K,ie,oe,me,re,R){super(K),this.onFinalize=re,this.shouldUnsubscribe=R,this._next=ie?function(x){try{ie(x)}catch(B){K.error(B)}}:super._next,this._error=me?function(x){try{me(x)}catch(B){K.error(B)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(x){K.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},3294:(Ue,ce,A)=>{A.d(ce,{F:()=>W});var d=A(3669),j=A(9974),T=A(4360);function W(ie,oe=d.D){return ie=ie??K,(0,j.N)((me,re)=>{let R,x=!0;me.subscribe((0,T._)(re,B=>{const Ee=oe(B);(x||!ie(R,Ee))&&(x=!1,R=Ee,re.next(B))}))})}function K(ie,oe){return ie===oe}},6354:(Ue,ce,A)=>{A.d(ce,{T:()=>T});var d=A(9974),j=A(4360);function T(W,K){return(0,d.N)((ie,oe)=>{let me=0;ie.subscribe((0,j._)(oe,re=>{oe.next(W.call(K,re,me++))}))})}},6365:(Ue,ce,A)=>{A.d(ce,{U:()=>T});var d=A(1397),j=A(3669);function T(W=1/0){return(0,d.Z)(j.D,W)}},1397:(Ue,ce,A)=>{A.d(ce,{Z:()=>me});var d=A(6354),j=A(8750),T=A(9974),W=A(5225),K=A(4360),oe=A(8071);function me(re,R,x=1/0){return(0,oe.T)(R)?me((B,Ee)=>(0,d.T)((he,Te)=>R(B,he,Ee,Te))((0,j.Tg)(re(B,Ee))),x):("number"==typeof R&&(x=R),(0,T.N)((B,Ee)=>function ie(re,R,x,B,Ee,he,Te,ge){const we=[];let ye=0,We=0,Be=!1;const z=()=>{Be&&!we.length&&!ye&&R.complete()},ae=le=>ye<B?G(le):we.push(le),G=le=>{he&&R.next(le),ye++;let ve=!1;(0,j.Tg)(x(le,We++)).subscribe((0,K._)(R,Ae=>{Ee?.(Ae),he?ae(Ae):R.next(Ae)},()=>{ve=!0},void 0,()=>{if(ve)try{for(ye--;we.length&&ye<B;){const Ae=we.shift();Te?(0,W.N)(R,Te,()=>G(Ae)):G(Ae)}z()}catch(Ae){R.error(Ae)}}))};return re.subscribe((0,K._)(R,ae,()=>{Be=!0,z()})),()=>{ge?.()}}(B,Ee,re,x)))}},941:(Ue,ce,A)=>{A.d(ce,{Q:()=>W});var d=A(5225),j=A(9974),T=A(4360);function W(K,ie=0){return(0,j.N)((oe,me)=>{oe.subscribe((0,T._)(me,re=>(0,d.N)(me,K,()=>me.next(re),ie),()=>(0,d.N)(me,K,()=>me.complete(),ie),re=>(0,d.N)(me,K,()=>me.error(re),ie)))})}},7647:(Ue,ce,A)=>{A.d(ce,{u:()=>K});var d=A(8750),j=A(1413),T=A(7707),W=A(9974);function K(oe={}){const{connector:me=(()=>new j.B),resetOnError:re=!0,resetOnComplete:R=!0,resetOnRefCountZero:x=!0}=oe;return B=>{let Ee,he,Te,ge=0,we=!1,ye=!1;const We=()=>{he?.unsubscribe(),he=void 0},Be=()=>{We(),Ee=Te=void 0,we=ye=!1},z=()=>{const ae=Ee;Be(),ae?.unsubscribe()};return(0,W.N)((ae,G)=>{ge++,!ye&&!we&&We();const le=Te=Te??me();G.add(()=>{ge--,0===ge&&!ye&&!we&&(he=ie(z,x))}),le.subscribe(G),!Ee&&ge>0&&(Ee=new T.Ms({next:ve=>le.next(ve),error:ve=>{ye=!0,We(),he=ie(Be,re,ve),le.error(ve)},complete:()=>{we=!0,We(),he=ie(Be,R),le.complete()}}),(0,d.Tg)(ae).subscribe(Ee))})(B)}}function ie(oe,me,...re){if(!0===me)return void oe();if(!1===me)return;const R=new T.Ms({next:()=>{R.unsubscribe(),oe()}});return(0,d.Tg)(me(...re)).subscribe(R)}},6745:(Ue,ce,A)=>{A.d(ce,{_:()=>j});var d=A(9974);function j(T,W=0){return(0,d.N)((K,ie)=>{ie.add(T.schedule(()=>K.subscribe(ie),W))})}},5558:(Ue,ce,A)=>{A.d(ce,{n:()=>W});var d=A(8750),j=A(9974),T=A(4360);function W(K,ie){return(0,j.N)((oe,me)=>{let re=null,R=0,x=!1;const B=()=>x&&!re&&me.complete();oe.subscribe((0,T._)(me,Ee=>{re?.unsubscribe();let he=0;const Te=R++;(0,d.Tg)(K(Ee,Te)).subscribe(re=(0,T._)(me,ge=>me.next(ie?ie(Ee,ge,Te,he++):ge),()=>{re=null,B()}))},()=>{x=!0,B()}))})}},8141:(Ue,ce,A)=>{A.d(ce,{M:()=>K});var d=A(8071),j=A(9974),T=A(4360),W=A(3669);function K(ie,oe,me){const re=(0,d.T)(ie)||oe||me?{next:ie,error:oe,complete:me}:ie;return re?(0,j.N)((R,x)=>{var B;null===(B=re.subscribe)||void 0===B||B.call(re);let Ee=!0;R.subscribe((0,T._)(x,he=>{var Te;null===(Te=re.next)||void 0===Te||Te.call(re,he),x.next(he)},()=>{var he;Ee=!1,null===(he=re.complete)||void 0===he||he.call(re),x.complete()},he=>{var Te;Ee=!1,null===(Te=re.error)||void 0===Te||Te.call(re,he),x.error(he)},()=>{var he,Te;Ee&&(null===(he=re.unsubscribe)||void 0===he||he.call(re)),null===(Te=re.finalize)||void 0===Te||Te.call(re)}))}):W.D}},6780:(Ue,ce,A)=>{A.d(ce,{R:()=>K});var d=A(8359);class j extends d.yU{constructor(oe,me){super()}schedule(oe,me=0){return this}}const T={setInterval(ie,oe,...me){const{delegate:re}=T;return re?.setInterval?re.setInterval(ie,oe,...me):setInterval(ie,oe,...me)},clearInterval(ie){const{delegate:oe}=T;return(oe?.clearInterval||clearInterval)(ie)},delegate:void 0};var W=A(7908);class K extends j{constructor(oe,me){super(oe,me),this.scheduler=oe,this.work=me,this.pending=!1}schedule(oe,me=0){var re;if(this.closed)return this;this.state=oe;const R=this.id,x=this.scheduler;return null!=R&&(this.id=this.recycleAsyncId(x,R,me)),this.pending=!0,this.delay=me,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(x,this.id,me),this}requestAsyncId(oe,me,re=0){return T.setInterval(oe.flush.bind(oe,this),re)}recycleAsyncId(oe,me,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return me;null!=me&&T.clearInterval(me)}execute(oe,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(oe,me);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,me){let R,re=!1;try{this.work(oe)}catch(x){re=!0,R=x||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),R}unsubscribe(){if(!this.closed){const{id:oe,scheduler:me}=this,{actions:re}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.o)(re,this),null!=oe&&(this.id=this.recycleAsyncId(me,oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Ue,ce,A)=>{A.d(ce,{q:()=>T});var d=A(6129);class j{constructor(K,ie=j.now){this.schedulerActionCtor=K,this.now=ie}schedule(K,ie=0,oe){return new this.schedulerActionCtor(this,K).schedule(oe,ie)}}j.now=d.U.now;class T extends j{constructor(K,ie=j.now){super(K,ie),this.actions=[],this._active=!1}flush(K){const{actions:ie}=this;if(this._active)return void ie.push(K);let oe;this._active=!0;do{if(oe=K.execute(K.state,K.delay))break}while(K=ie.shift());if(this._active=!1,oe){for(;K=ie.shift();)K.unsubscribe();throw oe}}}},3236:(Ue,ce,A)=>{A.d(ce,{E:()=>T});var d=A(6780);const T=new(A(9687).q)(d.R)},6129:(Ue,ce,A)=>{A.d(ce,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(Ue,ce,A)=>{A.d(ce,{f:()=>d});const d={setTimeout(j,T,...W){const{delegate:K}=d;return K?.setTimeout?K.setTimeout(j,T,...W):setTimeout(j,T,...W)},clearTimeout(j){const{delegate:T}=d;return(T?.clearTimeout||clearTimeout)(j)},delegate:void 0}},4761:(Ue,ce,A)=>{A.d(ce,{l:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ue,ce,A)=>{A.d(ce,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Ue,ce,A)=>{A.d(ce,{R0:()=>ie,ms:()=>W,lI:()=>K});var d=A(8071);function T(oe){return oe[oe.length-1]}function W(oe){return(0,d.T)(T(oe))?oe.pop():void 0}function K(oe){return function j(oe){return oe&&(0,d.T)(oe.schedule)}(T(oe))?oe.pop():void 0}function ie(oe,me){return"number"==typeof T(oe)?oe.pop():me}},7908:(Ue,ce,A)=>{function d(j,T){if(j){const W=j.indexOf(T);0<=W&&j.splice(W,1)}}A.d(ce,{o:()=>d})},1853:(Ue,ce,A)=>{function d(j){const W=j(K=>{Error.call(K),K.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}A.d(ce,{L:()=>d})},9786:(Ue,ce,A)=>{A.d(ce,{Y:()=>T,l:()=>W});var d=A(1026);let j=null;function T(K){if(d.$.useDeprecatedSynchronousErrorHandling){const ie=!j;if(ie&&(j={errorThrown:!1,error:null}),K(),ie){const{errorThrown:oe,error:me}=j;if(j=null,oe)throw me}}else K()}function W(K){d.$.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=K)}},5225:(Ue,ce,A)=>{function d(j,T,W,K=0,ie=!1){const oe=T.schedule(function(){W(),ie?j.add(this.schedule(null,K)):this.unsubscribe()},K);if(j.add(oe),!ie)return oe}A.d(ce,{N:()=>d})},3669:(Ue,ce,A)=>{function d(j){return j}A.d(ce,{D:()=>d})},7441:(Ue,ce,A)=>{A.d(ce,{X:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},7953:(Ue,ce,A)=>{A.d(ce,{T:()=>j});var d=A(8071);function j(T){return Symbol.asyncIterator&&(0,d.T)(T?.[Symbol.asyncIterator])}},8071:(Ue,ce,A)=>{function d(j){return"function"==typeof j}A.d(ce,{T:()=>d})},5055:(Ue,ce,A)=>{A.d(ce,{l:()=>T});var d=A(3494),j=A(8071);function T(W){return(0,j.T)(W[d.s])}},5397:(Ue,ce,A)=>{A.d(ce,{x:()=>T});var d=A(4761),j=A(8071);function T(W){return(0,j.T)(W?.[d.l])}},9858:(Ue,ce,A)=>{A.d(ce,{y:()=>j});var d=A(8071);function j(T){return(0,d.T)(T?.then)}},5196:(Ue,ce,A)=>{A.d(ce,{C:()=>T,U:()=>W});var d=A(1635),j=A(8071);function T(K){return(0,d.AQ)(this,arguments,function*(){const oe=K.getReader();try{for(;;){const{value:me,done:re}=yield(0,d.N3)(oe.read());if(re)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(me)}}finally{oe.releaseLock()}})}function W(K){return(0,j.T)(K?.getReader)}},9974:(Ue,ce,A)=>{A.d(ce,{N:()=>T,S:()=>j});var d=A(8071);function j(W){return(0,d.T)(W?.lift)}function T(W){return K=>{if(j(K))return K.lift(function(ie){try{return W(ie,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Ue,ce,A)=>{function d(){}A.d(ce,{l:()=>d})},1203:(Ue,ce,A)=>{A.d(ce,{F:()=>j,m:()=>T});var d=A(3669);function j(...W){return T(W)}function T(W){return 0===W.length?d.D:1===W.length?W[0]:function(ie){return W.reduce((oe,me)=>me(oe),ie)}}},5334:(Ue,ce,A)=>{A.d(ce,{m:()=>T});var d=A(1026),j=A(9270);function T(W){j.f.setTimeout(()=>{const{onUnhandledError:K}=d.$;if(!K)throw W;K(W)})}},591:(Ue,ce,A)=>{function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(ce,{L:()=>d})},7705:(Ue,ce,A)=>{A.d(ce,{$C:()=>ga,$GK:()=>$e,$K3:()=>iD,AVh:()=>Ql,Agw:()=>Im,BIS:()=>Tl,BMQ:()=>gd,C4Q:()=>wg,Co$:()=>oI,DNE:()=>y_,EFF:()=>Xl,EJ8:()=>ma,FsC:()=>wu,G2t:()=>wt,GFd:()=>jE,H3F:()=>Ab,H5H:()=>K_,H8p:()=>wi,HJs:()=>cA,Hbi:()=>wD,JRh:()=>Xp,JZv:()=>bt,Jv_:()=>sI,KH2:()=>Od,KVO:()=>Et,L39:()=>uA,LfX:()=>Je,MKu:()=>ay,NEm:()=>wT,NYb:()=>Ob,O8t:()=>Oh,OA$:()=>Ks,Ocv:()=>Fv,Ol2:()=>lI,PLl:()=>Cm,QTQ:()=>zm,Ql9:()=>_T,QuC:()=>Pi,R7$:()=>IE,Rfq:()=>Te,RxE:()=>sE,SKi:()=>dn,SpI:()=>Zl,TL$:()=>Sy,Tbb:()=>B,VBU:()=>bn,Vns:()=>fu,Vt3:()=>Bt,WHO:()=>yh,WQX:()=>et,XpG:()=>oC,Xx1:()=>Vc,Y8G:()=>E_,Z63:()=>Jc,_9s:()=>_p,_q3:()=>oy,aKT:()=>id,aNF:()=>cI,bIt:()=>D_,bkB:()=>Xi,c1b:()=>fv,czy:()=>za,e01:()=>Eh,fpN:()=>Xb,gRc:()=>jb,gXe:()=>xe,giA:()=>kg,hnV:()=>kv,i5U:()=>lv,iLQ:()=>Lg,j41:()=>Hp,jDH:()=>Ne,jNT:()=>Yl,k0s:()=>Id,kS0:()=>fl,kdw:()=>Uc,lsd:()=>gv,mGM:()=>cb,mq5:()=>xC,n$t:()=>GD,nI1:()=>CI,nKC:()=>Fe,naY:()=>fD,nrm:()=>Dd,o8S:()=>Wd,oH4:()=>Vg,plB:()=>vv,rXU:()=>ad,sFG:()=>rE,sZ2:()=>ym,uvJ:()=>ho,w6W:()=>Gw,wOt:()=>z,wni:()=>FI,xGo:()=>xc,xe9:()=>Og,xvI:()=>Rm,zZn:()=>Rs,zcH:()=>Qo,zjR:()=>rC});var d=A(1413),j=A(8359),T=A(1985),W=A(7786),K=A(4412),ie=A(7673),oe=A(7647),me=A(5558),re=A(3294);function R(i){for(let s in i)if(i[s]===R)return s;throw Error("Could not find renamed property on target object.")}function x(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function B(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(B).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Ee(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const he=R({__forward_ref__:R});function Te(i){return i.__forward_ref__=Te,i.toString=function(){return B(this())},i}function ge(i){return we(i)?i():i}function we(i){return"function"==typeof i&&i.hasOwnProperty(he)&&i.__forward_ref__===Te}function ye(i){return i&&!!i.\u0275providers}const Be="https://g.co/ng/security#xss";class z extends Error{constructor(s,a){super(function ae(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function G(i){return"string"==typeof i?i:null==i?"":String(i)}function Ke(i,s){throw new z(-201,!1)}function de(i,s){null==i&&function J(i,s,a,e){throw new Error(`ASSERTION ERROR: ${i}`+(null==e?"":` [Expected=> ${a} ${e} ${s} <=Actual]`))}(s,i,null,"!=")}function Ne(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function jn(i){return Ht(i,Kt)||Ht(i,Ni)}function Je(i){return null!==jn(i)}function Ht(i,s){return i.hasOwnProperty(s)?i[s]:null}function hn(i){return i&&(i.hasOwnProperty(hr)||i.hasOwnProperty(yo))?i[hr]:null}const Kt=R({\u0275prov:R}),hr=R({\u0275inj:R}),Ni=R({ngInjectableDef:R}),yo=R({ngInjectorDef:R});var $e=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}($e||{});let lt;function Nt(i){const s=lt;return lt=i,s}function jt(i,s,a){const e=jn(i);return e&&"root"==e.providedIn?void 0===e.value?e.value=e.factory():e.value:a&$e.Optional?null:void 0!==s?s:void Ke(B(i))}const bt=globalThis;class Fe{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ne({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $t={},Or="__NG_DI_FLAG__",$n="ngTempTokenPath",N=/\n/gm,ue="__source";let Y;function Ge(i){const s=Y;return Y=i,s}function mt(i,s=$e.Default){if(void 0===Y)throw new z(-203,!1);return null===Y?jt(i,void 0,s):Y.get(i,s&$e.Optional?null:void 0,s)}function Et(i,s=$e.Default){return(function Xe(){return lt}()||mt)(ge(i),s)}function et(i,s=$e.Default){return Et(i,ht(s))}function ht(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function wn(i){const s=[];for(let a=0;a<i.length;a++){const e=ge(i[a]);if(Array.isArray(e)){if(0===e.length)throw new z(900,!1);let n,t=$e.Default;for(let r=0;r<e.length;r++){const o=e[r],u=di(o);"number"==typeof u?-1===u?n=o.token:t|=u:n=o}s.push(Et(n,t))}else s.push(Et(e))}return s}function Xn(i,s){return i[Or]=s,i.prototype[Or]=s,i}function di(i){return i[Or]}function H(i){return{toString:i}.toString()}var _e=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(_e||{}),xe=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(xe||{});const je={},Me=[],_t=R({\u0275cmp:R}),tn=R({\u0275dir:R}),qt=R({\u0275pipe:R}),Gr=R({\u0275mod:R}),Zn=R({\u0275fac:R}),fi=R({__NG_ELEMENT_ID__:R}),mu=R({__NG_ENV_ID__:R});function la(i,s,a){let e=i.length;for(;;){const n=i.indexOf(s,a);if(-1===n)return n;if(0===n||i.charCodeAt(n-1)<=32){const t=s.length;if(n+t===e||i.charCodeAt(n+t)<=32)return n}a=n+1}}function ca(i,s,a){let e=0;for(;e<a.length;){const n=a[e];if("number"==typeof n){if(0!==n)break;e++;const t=a[e++],r=a[e++],o=a[e++];i.setAttribute(s,r,o,t)}else{const t=n,r=a[++e];da(t)?i.setProperty(s,t,r):i.setAttribute(s,t,r),e++}}return e}function Er(i){return 3===i||4===i||6===i}function da(i){return 64===i.charCodeAt(0)}function is(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let e=0;e<s.length;e++){const n=s[e];"number"==typeof n?a=n:0===a||_u(i,a,n,null,-1===a||2===a?s[++e]:null)}}return i}function _u(i,s,a,e,n){let t=0,r=i.length;if(-1===s)r=-1;else for(;t<i.length;){const o=i[t++];if("number"==typeof o){if(o===s){r=-1;break}if(o>s){r=t-1;break}}}for(;t<i.length;){const o=i[t];if("number"==typeof o)break;if(o===a){if(null===e)return void(null!==n&&(i[t+1]=n));if(e===i[t+1])return void(i[t+2]=n)}t++,null!==e&&t++,null!==n&&t++}-1!==r&&(i.splice(r,0,s),t=r+1),i.splice(t++,0,a),null!==e&&i.splice(t++,0,e),null!==n&&i.splice(t++,0,n)}const Yt="ng-template";function Co(i,s,a){let e=0,n=!0;for(;e<i.length;){let t=i[e++];if("string"==typeof t&&n){const r=i[e++];if(a&&"class"===t&&-1!==la(r.toLowerCase(),s,0))return!0}else{if(1===t){for(;e<i.length&&"string"==typeof(t=i[e++]);)if(t.toLowerCase()===s)return!0;return!1}"number"==typeof t&&(n=!1)}}return!1}function Gd(i){return 4===i.type&&i.value!==Yt}function zd(i,s,a){return s===(4!==i.type||a?i.value:Yt)}function fa(i,s,a){let e=4;const n=i.attrs||[],t=function ss(i){for(let s=0;s<i.length;s++)if(Er(i[s]))return s;return i.length}(n);let r=!1;for(let o=0;o<s.length;o++){const u=s[o];if("number"!=typeof u){if(!r)if(4&e){if(e=2|1&e,""!==u&&!zd(i,u,a)||""===u&&1===s.length){if(On(e))return!1;r=!0}}else{const l=8&e?u:s[++o];if(8&e&&null!==i.attrs){if(!Co(i.attrs,l,a)){if(On(e))return!1;r=!0}continue}const m=ac(8&e?"class":u,n,Gd(i),a);if(-1===m){if(On(e))return!1;r=!0;continue}if(""!==l){let y;y=m>t?"":n[m+1].toLowerCase();const I=8&e?y:null;if(I&&-1!==la(I,l,0)||2&e&&l!==y){if(On(e))return!1;r=!0}}}}else{if(!r&&!On(e)&&!On(u))return!1;if(r&&On(u))continue;r=!1,e=u|1&e}}return On(e)||r}function On(i){return 0==(1&i)}function ac(i,s,a,e){if(null===s)return-1;let n=0;if(e||!a){let t=!1;for(;n<s.length;){const r=s[n];if(r===i)return n;if(3===r||6===r)t=!0;else{if(1===r||2===r){let o=s[++n];for(;"string"==typeof o;)o=s[++n];continue}if(4===r)break;if(0===r){n+=4;continue}}n+=t?1:2}return-1}return function Kd(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const e=i[a];if("number"==typeof e)return-1;if(e===s)return a;a++}return-1}(s,i)}function vu(i,s,a=!1){for(let e=0;e<s.length;e++)if(fa(i,s[e],a))return!0;return!1}function yu(i,s){return i?":not("+s.trim()+")":s}function uc(i){let s=i[0],a=1,e=2,n="",t=!1;for(;a<i.length;){let r=i[a];if("string"==typeof r)if(2&e){const o=i[++a];n+="["+r+(o.length>0?'="'+o+'"':"")+"]"}else 8&e?n+="."+r:4&e&&(n+=" "+r);else""!==n&&!On(r)&&(s+=yu(t,n),n=""),e=r,t=t||!On(e);a++}return""!==n&&(s+=yu(t,n)),s}function bn(i){return H(()=>{const s=qd(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===_e.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||xe.Emulated,styles:i.styles||Me,_:null,schemas:i.schemas||null,tView:null,id:""};bu(a);const e=i.dependencies;return a.directiveDefs=os(e,!1),a.pipeDefs=os(e,!0),a.id=function Au(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const n of a)s=Math.imul(31,s)+n.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function pa(i){return dt(i)||An(i)}function Iu(i){return null!==i}function ga(i){return H(()=>({type:i.type,bootstrap:i.bootstrap||Me,declarations:i.declarations||Me,imports:i.imports||Me,exports:i.exports||Me,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Bs(i,s){if(null==i)return je;const a={};for(const e in i)if(i.hasOwnProperty(e)){let n=i[e],t=n;Array.isArray(n)&&(t=n[1],n=n[0]),a[n]=e,s&&(s[n]=t)}return a}function wu(i){return H(()=>{const s=qd(i);return bu(s),s})}function ma(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function dt(i){return i[_t]||null}function An(i){return i[tn]||null}function mn(i){return i[qt]||null}function Pi(i){const s=dt(i)||An(i)||mn(i);return null!==s&&s.standalone}function Jn(i,s){const a=i[Gr]||null;if(!a&&!0===s)throw new Error(`Type ${B(i)} does not have '\u0275mod' property.`);return a}function qd(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||je,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||Me,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bs(i.inputs,s),outputs:Bs(i.outputs)}}function bu(i){i.features?.forEach(s=>s(i))}function os(i,s){if(!i)return null;const a=s?mn:pa;return()=>("function"==typeof i?i():i).map(e=>a(e)).filter(Iu)}const Wt=0,De=1,rt=2,St=3,pr=4,js=5,Wn=6,xi=7,Gt=8,ki=9,Pr=10,He=11,_a=12,va=13,hi=14,on=15,Hs=16,er=17,tr=18,Dr=19,lc=20,xr=21,pi=22,Fi=23,zr=24,pt=25,Io=1,Kr=2,gr=7,gi=9,_n=11;function Gn(i){return Array.isArray(i)&&"object"==typeof i[Io]}function xn(i){return Array.isArray(i)&&!0===i[Io]}function Su(i){return 0!=(4&i.flags)}function kn(i){return i.componentOffset>-1}function as(i){return 1==(1&i.flags)}function nr(i){return!!i.template}function Li(i){return 0!=(512&i[rt])}function _i(i,s){return i.hasOwnProperty(Zn)?i[Zn]:null}let nn=null,$s=!1;function Tn(i){const s=nn;return nn=i,s}const Fu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function hc(i){if(!ls(i)||i.dirty){if(!i.producerMustRecompute(i)&&!Lu(i))return void(i.dirty=!1);i.producerRecomputeValue(i),i.dirty=!1}}function Zd(i){i.dirty=!0,function Ao(i){if(void 0===i.liveConsumerNode)return;const s=$s;$s=!0;try{for(const a of i.liveConsumerNode)a.dirty||Zd(a)}finally{$s=s}}(i),i.consumerMarkedDirty?.(i)}function vn(i){return i&&(i.nextProducerIndex=0),Tn(i)}function Ca(i,s){if(Tn(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(ls(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Gs(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Lu(i){vi(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],e=i.producerLastReadVersion[s];if(e!==a.version||(hc(a),e!==a.version))return!0}return!1}function Vu(i){if(vi(i),ls(i))for(let s=0;s<i.producerNode.length;s++)Gs(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Gs(i,s){if(function Ia(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}(i),vi(i),1===i.liveConsumerNode.length)for(let e=0;e<i.producerNode.length;e++)Gs(i.producerNode[e],i.producerIndexOfThis[e]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const e=i.liveConsumerIndexOfThis[s],n=i.liveConsumerNode[s];vi(n),n.producerIndexOfThis[e]=s}}function ls(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function vi(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}let Bu=null;function Oh(i){const s=Tn(null);try{return i()}finally{Tn(s)}}const _c=()=>{},Ta=(()=>({...Fu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{i.schedule(i.ref)},hasRun:!1,cleanupFn:_c}))();class vc{constructor(s,a,e){this.previousValue=s,this.currentValue=a,this.firstChange=e}isFirstChange(){return this.firstChange}}function Ks(){return yc}function yc(i){return i.type.prototype.ngOnChanges&&(i.setInput=yi),cs}function cs(){const i=Wu(this),s=i?.current;if(s){const a=i.previous;if(a===je)i.previous=s;else for(let e in s)a[e]=s[e];i.current=null,this.ngOnChanges(s)}}function yi(i,s,a,e){const n=this.declaredInputs[a],t=Wu(i)||function Gu(i,s){return i[ds]=s}(i,{previous:je,current:null}),r=t.current||(t.current={}),o=t.previous,u=o[n];r[n]=new vc(u&&u.currentValue,s,o===je),i[e]=s}Ks.ngInherit=!0;const ds="__ngSimpleChanges__";function Wu(i){return i[ds]||null}const Yr=function(i,s,a){};function At(i){for(;Array.isArray(i);)i=i[Wt];return i}function hs(i,s){return At(s[i])}function rr(i,s){return At(s[i.index])}function Ku(i,s){return i.data[s]}function mr(i,s){const a=s[i];return Gn(a)?a:a[Wt]}function gs(i,s){return null==s?null:i[s]}function Sa(i){i[er]=0}function qu(i){1024&i[rt]||(i[rt]|=1024,kt(i,1))}function xh(i){1024&i[rt]&&(i[rt]&=-1025,kt(i,-1))}function kt(i,s){let a=i[St];if(null===a)return;a[js]+=s;let e=a;for(a=a[St];null!==a&&(1===s&&1===e[js]||-1===s&&0===e[js]);)a[js]+=s,e=a,a=a[St]}const Ye={lFrame:ln(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Qs(){return Ye.bindingsEnabled}function fe(){return Ye.lFrame.lView}function it(){return Ye.lFrame.tView}function an(){let i=Ju();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ju(){return Ye.lFrame.currentTNode}function ir(i,s){const a=Ye.lFrame;a.currentTNode=i,a.isParent=s}function tl(){return Ye.lFrame.isParent}function Ro(){return Ye.lFrame.bindingIndex++}function Lh(i,s){const a=Ye.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ac(s)}function Ac(i){Ye.lFrame.currentDirectiveIndex=i}function uf(){return Ye.lFrame.currentQueryIndex}function Oa(i){Ye.lFrame.currentQueryIndex=i}function Vh(i){const s=i[De];return 2===s.type?s.declTNode:1===s.type?i[Wn]:null}function sr(i,s,a){if(a&$e.SkipSelf){let n=s,t=i;for(;!(n=n.parent,null!==n||a&$e.Host||(n=Vh(t),null===n||(t=t[hi],10&n.type))););if(null===n)return!1;s=n,i=t}const e=Ye.lFrame=Xs();return e.currentTNode=s,e.lView=i,!0}function ms(i){const s=Xs(),a=i[De];Ye.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Xs(){const i=Ye.lFrame,s=null===i?null:i.child;return null===s?ln(i):s}function ln(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ze(){const i=Ye.lFrame;return Ye.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const or=ze;function Zs(){const i=ze();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Sn(){return Ye.lFrame.selectedIndex}function Zr(i){Ye.lFrame.selectedIndex=i}function Tt(){const i=Ye.lFrame;return Ku(i.tView,i.selectedIndex)}let Jr=!0;function _s(){return Jr}function Dt(i){Jr=i}function vs(i,s){for(let a=s.directiveStart,e=s.directiveEnd;a<e;a++){const t=i.data[a].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:o,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=t;r&&(i.contentHooks??=[]).push(-a,r),o&&((i.contentHooks??=[]).push(a,o),(i.contentCheckHooks??=[]).push(a,o)),u&&(i.viewHooks??=[]).push(-a,u),l&&((i.viewHooks??=[]).push(a,l),(i.viewCheckHooks??=[]).push(a,l)),null!=h&&(i.destroyHooks??=[]).push(a,h)}}function Pa(i,s,a){Es(i,s,3,a)}function ys(i,s,a,e){(3&i[rt])===a&&Es(i,s,a,e)}function Mc(i,s){let a=i[rt];(3&a)===s&&(a&=8191,a+=1,i[rt]=a)}function Es(i,s,a,e){const t=e??-1,r=s.length-1;let o=0;for(let u=void 0!==e?65535&i[er]:0;u<r;u++)if("number"==typeof s[u+1]){if(o=s[u],null!=e&&o>=e)break}else s[u]<0&&(i[er]+=65536),(o<t||-1==t)&&(ol(i,a,s,u),i[er]=(4294901760&i[er])+u+2),u++}function Ui(i,s){Yr(4,i,s);const a=Tn(null);try{s.call(i)}finally{Tn(a),Yr(5,i,s)}}function ol(i,s,a,e){const n=a[e]<0,t=a[e+1],o=i[n?-a[e]:a[e]];n?i[rt]>>13<i[er]>>16&&(3&i[rt])===s&&(i[rt]+=8192,Ui(o,t)):Ui(o,t)}const Fr=-1;class Bi{constructor(s,a,e){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=e}}function br(i){return i!==Fr}function zt(i){return 32767&i}function xo(i,s){let a=function $i(i){return i>>16}(i),e=s;for(;a>0;)e=e[hi],a--;return e}let Lr=!0;function rn(i){const s=Lr;return Lr=i,s}const Oc=255,ka=5;let Wi=0;const Vn={};function Ar(i,s){const a=Gi(i,s);if(-1!==a)return a;const e=s[De];e.firstCreatePass&&(i.injectorIndex=s.length,eo(e.data,i),eo(s,null),eo(e.blueprint,null));const n=zi(i,s),t=i.injectorIndex;if(br(n)){const r=zt(n),o=xo(n,s),u=o[De].data;for(let l=0;l<8;l++)s[t+l]=o[r+l]|u[r+l]}return s[t+8]=n,t}function eo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Gi(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function zi(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,e=null,n=s;for(;null!==n;){if(e=dl(n),null===e)return Fr;if(a++,n=n[hi],-1!==e.injectorIndex)return e.injectorIndex|a<<16}return Fr}function to(i,s,a){!function cn(i,s,a){let e;"string"==typeof a?e=a.charCodeAt(0)||0:a.hasOwnProperty(fi)&&(e=a[fi]),null==e&&(e=a[fi]=Wi++);const n=e&Oc;s.data[i+(n>>ka)]|=1<<n}(i,s,a)}function Cs(i,s,a){if(a&$e.Optional||void 0!==i)return i;Ke()}function ko(i,s,a,e){if(a&$e.Optional&&void 0===e&&(e=null),!(a&($e.Self|$e.Host))){const n=i[ki],t=Nt(void 0);try{return n?n.get(s,e,a&$e.Optional):jt(s,e,a&$e.Optional)}finally{Nt(t)}}return Cs(e,0,a)}function Pc(i,s,a,e=$e.Default,n){if(null!==i){if(2048&s[rt]&&!(e&$e.Self)){const r=function kc(i,s,a,e,n){let t=i,r=s;for(;null!==t&&null!==r&&2048&r[rt]&&!(512&r[rt]);){const o=nt(t,r,a,e|$e.Self,Vn);if(o!==Vn)return o;let u=t.parent;if(!u){const l=r[lc];if(l){const h=l.get(a,Vn,e);if(h!==Vn)return h}u=dl(r),r=r[hi]}t=u}return n}(i,s,a,e,Vn);if(r!==Vn)return r}const t=nt(i,s,a,e,Vn);if(t!==Vn)return t}return ko(s,a,e,n)}function nt(i,s,a,e,n){const t=function Ki(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(fi)?i[fi]:void 0;return"number"==typeof s?s>=0?s&Oc:Ds:s}(a);if("function"==typeof t){if(!sr(s,i,e))return e&$e.Host?Cs(n,0,e):ko(s,a,e,n);try{let r;if(r=t(e),null!=r||e&$e.Optional)return r;Ke()}finally{or()}}else if("number"==typeof t){let r=null,o=Gi(i,s),u=Fr,l=e&$e.Host?s[on][Wn]:null;for((-1===o||e&$e.SkipSelf)&&(u=-1===o?zi(i,s):s[o+8],u!==Fr&&Vr(e,!1)?(r=s[De],o=zt(u),s=xo(u,s)):o=-1);-1!==o;){const h=s[De];if(ll(t,o,h.data)){const m=La(o,s,a,r,e,l);if(m!==Vn)return m}u=s[o+8],u!==Fr&&Vr(e,s[De].data[o+8]===l)&&ll(t,o,s)?(r=h,o=zt(u),s=xo(u,s)):o=-1}}return n}function La(i,s,a,e,n,t){const r=s[De],o=r.data[i+8],h=Va(o,r,a,null==e?kn(o)&&Lr:e!=r&&0!=(3&o.type),n&$e.Host&&t===o);return null!==h?Tr(s,r,h,o):Vn}function Va(i,s,a,e,n){const t=i.providerIndexes,r=s.data,o=1048575&t,u=i.directiveStart,h=t>>20,y=n?o+h:i.directiveEnd;for(let I=e?o:o+h;I<y;I++){const w=r[I];if(I<u&&a===w||I>=u&&w.type===a)return I}if(n){const I=r[u];if(I&&nr(I)&&I.type===a)return u}return null}function Tr(i,s,a,e){let n=i[a];const t=s.data;if(function xa(i){return i instanceof Bi}(n)){const r=n;r.resolving&&function ve(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new z(-200,`Circular dependency in DI detected for ${i}${a}`)}(function le(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():G(i)}(t[a]));const o=rn(r.canSeeViewProviders);r.resolving=!0;const l=r.injectImpl?Nt(r.injectImpl):null;sr(i,e,$e.Default);try{n=i[a]=r.factory(void 0,t,i,e),s.firstCreatePass&&a>=e.directiveStart&&function sl(i,s,a){const{ngOnChanges:e,ngOnInit:n,ngDoCheck:t}=s.type.prototype;if(e){const r=yc(s);(a.preOrderHooks??=[]).push(i,r),(a.preOrderCheckHooks??=[]).push(i,r)}n&&(a.preOrderHooks??=[]).push(0-i,n),t&&((a.preOrderHooks??=[]).push(i,t),(a.preOrderCheckHooks??=[]).push(i,t))}(a,t[a],s)}finally{null!==l&&Nt(l),rn(o),r.resolving=!1,or()}}return n}function ll(i,s,a){return!!(a[s+(i>>ka)]&1<<i)}function Vr(i,s){return!(i&$e.Self||i&$e.Host&&s)}class Ft{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,e){return Pc(this._tNode,this._lView,s,ht(e),a)}}function Ds(){return new Ft(an(),fe())}function xc(i){return H(()=>{const s=i.prototype.constructor,a=s[Zn]||cl(s),e=Object.prototype;let n=Object.getPrototypeOf(i.prototype).constructor;for(;n&&n!==e;){const t=n[Zn]||cl(n);if(t&&t!==a)return t;n=Object.getPrototypeOf(n)}return t=>new t})}function cl(i){return we(i)?()=>{const s=cl(ge(i));return s&&s()}:_i(i)}function dl(i){const s=i[De],a=s.type;return 2===a?s.declTNode:1===a?i[Wn]:null}function fl(i){return function Fa(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const e=a.length;let n=0;for(;n<e;){const t=a[n];if(Er(t))break;if(0===t)n+=2;else if("number"==typeof t)for(n++;n<e&&"string"==typeof a[n];)n++;else{if(t===s)return a[n+1];n+=2}}}return null}(an(),i)}const _="__parameters__";function k(i,s,a){return H(()=>{const e=function b(i){return function(...a){if(i){const e=i(...a);for(const n in e)this[n]=e[n]}}}(s);function n(...t){if(this instanceof n)return e.apply(this,t),this;const r=new n(...t);return o.annotation=r,o;function o(u,l,h){const m=u.hasOwnProperty(_)?u[_]:Object.defineProperty(u,_,{value:[]})[_];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(r),u}}return a&&(n.prototype=Object.create(a.prototype)),n.prototype.ngMetadataName=i,n.annotationCls=n,n})}function Ba(i,s){i.forEach(a=>Array.isArray(a)?Ba(a,s):s(a))}function Wg(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function ro(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ur(i,s,a){let e=Fo(i,s);return e>=0?i[1|e]=a:(e=~e,function Uh(i,s,a,e){let n=i.length;if(n==s)i.push(a,e);else if(1===n)i.push(e,i[0]),i[0]=a;else{for(n--,i.push(i[n-1],i[n]);n>s;)i[n]=i[n-2],n--;i[s]=a,i[s+1]=e}}(i,e,s,a)),e}function cf(i,s){const a=Fo(i,s);if(a>=0)return i[1|a]}function Fo(i,s){return function df(i,s,a){let e=0,n=i.length>>a;for(;n!==e;){const t=e+(n-e>>1),r=i[t<<a];if(s===r)return t<<a;r>s?n=t:e=t+1}return~(n<<a)}(i,s,1)}const Vc=Xn(k("Optional"),8),Uc=Xn(k("SkipSelf"),4);function $o(i){return 128==(128&i.flags)}var za=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(za||{});const yf=new Map;let yl=0;const Cf="__ngContext__";function Mn(i,s){Gn(s)?(i[Cf]=s[Dr],function Ef(i){yf.set(i[Dr],i)}(s)):i[Cf]=s}let V;function pe(i,s){return V(i,s)}function Re(i){const s=i[St];return xn(s)?s[St]:s}function Br(i){return If(i[_a])}function lo(i){return If(i[pr])}function If(i){for(;null!==i&&!xn(i);)i=i[pr];return i}function co(i,s,a,e,n){if(null!=e){let t,r=!1;xn(e)?t=e:Gn(e)&&(r=!0,e=e[Wt]);const o=At(e);0===i&&null!==a?null==n?Ey(s,a,o):Dl(s,a,o,n||null,!0):1===i&&null!==a?Dl(s,a,o,n||null,!0):2===i?function ep(i,s,a){const e=Jh(i,s);e&&function RD(i,s,a,e){i.removeChild(s,a,e)}(i,e,s,a)}(s,o,r):3===i&&s.destroyNode(o),null!=t&&function OD(i,s,a,e,n){const t=a[gr];t!==At(a)&&co(s,i,e,t,n);for(let o=_n;o<a.length;o++){const u=a[o];wl(u[De],u,i,s,e,t)}}(s,i,t,a,n)}}function Il(i,s,a){return i.createElement(s,a)}function my(i,s){const a=i[gi],e=a.indexOf(s);xh(s),a.splice(e,1)}function Xh(i,s){if(i.length<=_n)return;const a=_n+s,e=i[a];if(e){const n=e[Hs];null!==n&&n!==i&&my(n,e),s>0&&(i[a-1][pr]=e[pr]);const t=ro(i,_n+s);!function qa(i,s){wl(i,s,s[He],2,null,null),s[Wt]=null,s[Wn]=null}(e[De],e);const r=t[tr];null!==r&&r.detachView(t[De]),e[St]=null,e[pr]=null,e[rt]&=-129}return e}function _y(i,s){if(!(256&s[rt])){const a=s[He];s[Fi]&&Vu(s[Fi]),s[zr]&&Vu(s[zr]),a.destroyNode&&wl(i,s,a,3,null,null),function em(i){let s=i[_a];if(!s)return nm(i[De],i);for(;s;){let a=null;if(Gn(s))a=s[_a];else{const e=s[_n];e&&(a=e)}if(!a){for(;s&&!s[pr]&&s!==i;)Gn(s)&&nm(s[De],s),s=s[St];null===s&&(s=i),Gn(s)&&nm(s[De],s),a=s&&s[pr]}s=a}}(s)}}function nm(i,s){if(!(256&s[rt])){s[rt]&=-129,s[rt]|=256,function Zh(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let e=0;e<a.length;e+=2){const n=s[a[e]];if(!(n instanceof Bi)){const t=a[e+1];if(Array.isArray(t))for(let r=0;r<t.length;r+=2){const o=n[t[r]],u=t[r+1];Yr(4,o,u);try{u.call(o)}finally{Yr(5,o,u)}}else{Yr(4,n,t);try{t.call(n)}finally{Yr(5,n,t)}}}}}(i,s),function vy(i,s){const a=i.cleanup,e=s[xi];if(null!==a)for(let t=0;t<a.length-1;t+=2)if("string"==typeof a[t]){const r=a[t+3];r>=0?e[r]():e[-r].unsubscribe(),t+=2}else a[t].call(e[a[t+1]]);null!==e&&(s[xi]=null);const n=s[xr];if(null!==n){s[xr]=null;for(let t=0;t<n.length;t++)(0,n[t])()}}(i,s),1===s[De].type&&s[He].destroy();const a=s[Hs];if(null!==a&&xn(s[St])){a!==s[St]&&my(a,s);const e=s[tr];null!==e&&e.detachView(i)}!function Zg(i){yf.delete(i[Dr])}(s)}}function Ya(i,s,a){return function yy(i,s,a){let e=s;for(;null!==e&&40&e.type;)e=(s=e).parent;if(null===e)return a[Wt];{const{componentOffset:n}=e;if(n>-1){const{encapsulation:t}=i.data[e.directiveStart+n];if(t===xe.None||t===xe.Emulated)return null}return rr(e,a)}}(i,s.parent,a)}function Dl(i,s,a,e,n){i.insertBefore(s,a,e,n)}function Ey(i,s,a){i.appendChild(s,a)}function Cy(i,s,a,e,n){null!==e?Dl(i,s,a,e,n):Ey(i,s,a)}function Jh(i,s){return i.parentNode(s)}let qc,rp,ip,Dy=function rm(i,s,a){return 40&i.type?rr(i,a):null};function zo(i,s,a,e){const n=Ya(i,e,s),t=s[He],o=function Iy(i,s,a){return Dy(i,s,a)}(e.parent||s[Wn],e,s);if(null!=n)if(Array.isArray(a))for(let u=0;u<a.length;u++)Cy(t,n,a[u],o,!1);else Cy(t,n,a,o,!1);void 0!==qc&&qc(t,e,s,a,n)}function Yc(i,s){if(null!==s){const a=s.type;if(3&a)return rr(s,i);if(4&a)return sm(-1,i[s.index]);if(8&a){const e=s.child;if(null!==e)return Yc(i,e);{const n=i[s.index];return xn(n)?sm(-1,n):At(n)}}if(32&a)return pe(s,i)()||At(i[s.index]);{const e=wy(i,s);return null!==e?Array.isArray(e)?e[0]:Yc(Re(i[on]),e):Yc(i,s.next)}}return null}function wy(i,s){return null!==s?i[on][Wn].projection[s.projection]:null}function sm(i,s){const a=_n+i+1;if(a<s.length){const e=s[a],n=e[De].firstChild;if(null!==n)return Yc(e,n)}return s[gr]}function om(i,s,a,e,n,t,r){for(;null!=a;){const o=e[a.index],u=a.type;if(r&&0===s&&(o&&Mn(At(o),e),a.flags|=2),32!=(32&a.flags))if(8&u)om(i,s,a.child,e,n,t,!1),co(s,i,n,o,t);else if(32&u){const l=pe(a,e);let h;for(;h=l();)co(s,i,n,h,t);co(s,i,n,o,t)}else 16&u?Ay(i,s,e,a,n,t):co(s,i,n,o,t);a=r?a.projectionNext:a.next}}function wl(i,s,a,e,n,t){om(a,e,i.firstChild,s,n,t,!1)}function Ay(i,s,a,e,n,t){const r=a[on],u=r[Wn].projection[e.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)co(s,i,n,u[l],t);else{let l=u;const h=r[St];$o(e)&&(l.flags|=128),om(i,s,l,h,n,t,!0)}}function wf(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function Ty(i,s,a){const{mergedAttrs:e,classes:n,styles:t}=a;null!==e&&ca(i,s,e),null!==n&&wf(i,s,n),null!==t&&function xD(i,s,a){i.setAttribute(s,"style",a)}(i,s,t)}function Sy(i){rp=i}function Ny(i){return function um(){if(void 0===ip&&(ip=null,bt.trustedTypes))try{ip=bt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return ip}()?.createScriptURL(i)||i}class lm{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Be})`}}function Ko(i){return i instanceof lm?i.changingThisBreaksApplicationSecurity:i}function Qa(i,s){const a=function Oy(i){return i instanceof lm&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Be})`)}return a===s}const Py=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var bl=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(bl||{});function Hy(i){const s=ap();return s?s.sanitize(bl.URL,i)||"":Qa(i,"URL")?Ko(i):function fm(i){return(i=String(i)).match(Py)?i:"unsafe:"+i}(G(i))}function $y(i){const s=ap();if(s)return Ny(s.sanitize(bl.RESOURCE_URL,i)||"");if(Qa(i,"ResourceURL"))return Ny(Ko(i));throw new z(904,!1)}function GD(i,s,a){return function IA(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?$y:Hy}(s,a)(i)}function ap(){const i=fe();return i&&i[Pr].sanitizer}const Jc=new Fe("ENVIRONMENT_INITIALIZER"),Gy=new Fe("INJECTOR",-1),zy=new Fe("INJECTOR_DEF_TYPES");class mm{get(s,a=$t){if(a===$t){const e=new Error(`NullInjectorError: No provider for ${B(s)}!`);throw e.name="NullInjectorError",e}return a}}function zD(...i){return{\u0275providers:qy(0,i),\u0275fromNgModule:!0}}function qy(i,...s){const a=[],e=new Set;let n;const t=r=>{a.push(r)};return Ba(s,r=>{const o=r;up(o,t,[],e)&&(n||=[],n.push(o))}),void 0!==n&&Yy(n,t),a}function Yy(i,s){for(let a=0;a<i.length;a++){const{ngModule:e,providers:n}=i[a];_m(n,t=>{s(t,e)})}}function up(i,s,a,e){if(!(i=ge(i)))return!1;let n=null,t=hn(i);const r=!t&&dt(i);if(t||r){if(r&&!r.standalone)return!1;n=i}else{const u=i.ngModule;if(t=hn(u),!t)return!1;n=u}const o=e.has(n);if(r){if(o)return!1;if(e.add(n),r.dependencies){const u="function"==typeof r.dependencies?r.dependencies():r.dependencies;for(const l of u)up(l,s,a,e)}}else{if(!t)return!1;{if(null!=t.imports&&!o){let l;e.add(n);try{Ba(t.imports,h=>{up(h,s,a,e)&&(l||=[],l.push(h))})}finally{}void 0!==l&&Yy(l,s)}if(!o){const l=_i(n)||(()=>new n);s({provide:n,useFactory:l,deps:Me},n),s({provide:zy,useValue:n,multi:!0},n),s({provide:Jc,useValue:()=>Et(n),multi:!0},n)}const u=t.providers;if(null!=u&&!o){const l=i;_m(u,h=>{s(h,l)})}}}return n!==i&&void 0!==i.providers}function _m(i,s){for(let a of i)ye(a)&&(a=a.\u0275providers),Array.isArray(a)?_m(a,s):s(a)}const wA=R({provide:String,useValue:R});function Qy(i){return null!==i&&"object"==typeof i&&wA in i}function ed(i){return"function"==typeof i}const wi=new Fe("Set Injector scope."),lp={},vm={};let cp;function dp(){return void 0===cp&&(cp=new mm),cp}class ho{}class td extends ho{get destroyed(){return this._destroyed}constructor(s,a,e,n){super(),this.parent=a,this.source=e,this.scopes=n,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hp(s,r=>this.processProvider(r)),this.records.set(Gy,bi(void 0,this)),n.has("environment")&&this.records.set(ho,bi(void 0,this));const t=this.records.get(wi);null!=t&&"string"==typeof t.value&&this.scopes.add(t.value),this.injectorDefTypes=new Set(this.get(zy.multi,Me,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Ge(this),e=Nt(void 0);try{return s()}finally{Ge(a),Nt(e)}}get(s,a=$t,e=$e.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(mu))return s[mu](this);e=ht(e);const t=Ge(this),r=Nt(void 0);try{if(!(e&$e.SkipSelf)){let u=this.records.get(s);if(void 0===u){const l=function fp(i){return"function"==typeof i||"object"==typeof i&&i instanceof Fe}(s)&&jn(s);u=l&&this.injectableDefInScope(l)?bi(ei(s),lp):null,this.records.set(s,u)}if(null!=u)return this.hydrate(s,u)}return(e&$e.Self?dp():this.parent).get(s,a=e&$e.Optional&&a===$t?null:a)}catch(o){if("NullInjectorError"===o.name){if((o[$n]=o[$n]||[]).unshift(B(s)),t)throw o;return function Eo(i,s,a,e){const n=i[$n];throw s[ue]&&n.unshift(s[ue]),i.message=function se(i,s,a,e=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let n=B(s);if(Array.isArray(s))n=s.map(B).join(" -> ");else if("object"==typeof s){let t=[];for(let r in s)if(s.hasOwnProperty(r)){let o=s[r];t.push(r+":"+("string"==typeof o?JSON.stringify(o):B(o)))}n=`{${t.join(", ")}}`}return`${a}${e?"("+e+")":""}[${n}]: ${i.replace(N,"\n  ")}`}("\n"+i.message,n,a,e),i.ngTokenPath=n,i[$n]=null,i}(o,s,"R3InjectorError",this.source)}throw o}finally{Nt(r),Ge(t)}}resolveInjectorInitializers(){const s=Ge(this),a=Nt(void 0);try{const n=this.get(Jc.multi,Me,$e.Self);for(const t of n)t()}finally{Ge(s),Nt(a)}}toString(){const s=[],a=this.records;for(const e of a.keys())s.push(B(e));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(s){let a=ed(s=ge(s))?s:ge(s&&s.provide);const e=function QD(i){return Qy(i)?bi(void 0,i.useValue):bi(Xa(i),lp)}(s);if(ed(s)||!0!==s.multi)this.records.get(a);else{let n=this.records.get(a);n||(n=bi(void 0,lp,!0),n.factory=()=>wn(n.multi),this.records.set(a,n)),a=s,n.multi.push(s)}this.records.set(a,e)}hydrate(s,a){return a.value===lp&&(a.value=vm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function S(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ge(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function ei(i){const s=jn(i),a=null!==s?s.factory:_i(i);if(null!==a)return a;if(i instanceof Fe)throw new z(204,!1);if(i instanceof Function)return function AA(i){const s=i.length;if(s>0)throw function ja(i,s){const a=[];for(let e=0;e<i;e++)a.push(s);return a}(s,"?"),new z(204,!1);const a=function sn(i){return i&&(i[Kt]||i[Ni])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new z(204,!1)}function Xa(i,s,a){let e;if(ed(i)){const n=ge(i);return _i(n)||ei(n)}if(Qy(i))e=()=>ge(i.useValue);else if(function YD(i){return!(!i||!i.useFactory)}(i))e=()=>i.useFactory(...wn(i.deps||[]));else if(function qD(i){return!(!i||!i.useExisting)}(i))e=()=>Et(ge(i.useExisting));else{const n=ge(i&&(i.useClass||i.provide));if(!function Al(i){return!!i.deps}(i))return _i(n)||ei(n);e=()=>new n(...wn(i.deps))}return e}function bi(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function hp(i,s){for(const a of i)Array.isArray(a)?hp(a,s):a&&ye(a)?hp(a.\u0275providers,s):s(a)}const ym=new Fe("AppId",{providedIn:"root",factory:()=>Em}),Em="ng",Cm=new Fe("Platform Initializer"),Im=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tl=new Fe("CSP nonce",{providedIn:"root",factory:()=>function Xc(){if(void 0!==rp)return rp;if(typeof document<"u")return document;throw new z(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rd=(i,s,a)=>null;function Bn(i,s,a=!1){return rd(i,s,a)}class r0{}class Jy{}class eE{resolveComponentFactory(s){throw function Nf(i){const s=Error(`No component factory found for ${B(i)}.`);return s.ngComponent=i,s}(s)}}let Pf=(()=>{class i{static{this.NULL=new eE}}return i})();function tE(){return Pl(an(),fe())}function Pl(i,s){return new id(rr(i,s))}let id=(()=>{class i{constructor(a){this.nativeElement=a}static{this.__NG_ELEMENT_ID__=tE}}return i})();function nE(i){return i instanceof id?i.nativeElement:i}class _p{}let rE=(()=>{class i{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function iE(){const i=fe(),a=mr(an().index,i);return(Gn(a)?a:i)[He]}()}}return i})(),Mm=(()=>{class i{static{this.\u0275prov=Ne({token:i,providedIn:"root",factory:()=>null})}}return i})();class sE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Rm=new sE("16.2.12"),Nm={};function Pm(i,s=null,a=null,e){const n=lE(i,s,a,e);return n.resolveInjectorInitializers(),n}function lE(i,s=null,a=null,e,n=new Set){const t=[a||Me,zD(i)];return e=e||("object"==typeof i?void 0:B(i)),new td(t,s||dp(),e||null,n)}let Rs=(()=>{class i{static{this.THROW_IF_NOT_FOUND=$t}static{this.NULL=new mm}static create(a,e){if(Array.isArray(a))return Pm({name:""},e,a,"");{const n=a.name??"";return Pm({name:n},a.parent,a.providers,n)}}static{this.\u0275prov=Ne({token:i,providedIn:"any",factory:()=>Et(Gy)})}static{this.__NG_ELEMENT_ID__=-1}}return i})();function xm(i){return i.ngOriginalError}class Qo{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&xm(s);for(;a&&xm(a);)a=xm(a);return a||null}}function po(i){return s=>{setTimeout(i,void 0,s)}}const Xi=class h0 extends d.B{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,e){let n=s,t=a||(()=>null),r=e;if(s&&"object"==typeof s){const u=s;n=u.next?.bind(u),t=u.error?.bind(u),r=u.complete?.bind(u)}this.__isAsync&&(t=po(t),n&&(n=po(n)),r&&(r=po(r)));const o=super.subscribe({next:n,error:t,complete:r});return s instanceof j.yU&&s.add(o),o}};function dE(...i){}class dn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!e&&a,n.shouldCoalesceRunChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function p0(){const i="function"==typeof bt.requestAnimationFrame;let s=bt[i?"requestAnimationFrame":"setTimeout"],a=bt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const e=s[Zone.__symbol__("OriginalDelegate")];e&&(s=e);const n=a[Zone.__symbol__("OriginalDelegate")];n&&(a=n)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function m0(i){const s=()=>{!function g0(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(bt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lm(i),i.isCheckStableRunning=!0,Fm(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,e,n,t,r,o)=>{if(function pE(i){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0].data?.__ignore_ng_zone__}(o))return a.invokeTask(n,t,r,o);try{return yp(i),a.invokeTask(n,t,r,o)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===t.type||i.shouldCoalesceRunChangeDetection)&&s(),Vm(i)}},onInvoke:(a,e,n,t,r,o,u)=>{try{return yp(i),a.invoke(n,t,r,o,u)}finally{i.shouldCoalesceRunChangeDetection&&s(),Vm(i)}},onHasTask:(a,e,n,t)=>{a.hasTask(n,t),e===n&&("microTask"==t.change?(i._hasPendingMicrotasks=t.microTask,Lm(i),Fm(i)):"macroTask"==t.change&&(i.hasPendingMacrotasks=t.macroTask))},onHandleError:(a,e,n,t)=>(a.handleError(n,t),i.runOutsideAngular(()=>i.onError.emit(t)),!1)})}(n)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dn.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(dn.isInAngularZone())throw new z(909,!1)}run(s,a,e){return this._inner.run(s,a,e)}runTask(s,a,e,n){const t=this._inner,r=t.scheduleEventTask("NgZoneEvent: "+n,s,fE,dE,dE);try{return t.runTask(r,a,e)}finally{t.cancelTask(r)}}runGuarded(s,a,e){return this._inner.runGuarded(s,a,e)}runOutsideAngular(s){return this._outer.run(s)}}const fE={};function Fm(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function yp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Vm(i){i._nesting--,Fm(i)}class _0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(s,a,e){return s.apply(a,e)}runGuarded(s,a,e){return s.apply(a,e)}runOutsideAngular(s){return s()}runTask(s,a,e,n){return s.apply(a,e)}}const Um=new Fe("",{providedIn:"root",factory:hE});function hE(){const i=et(dn);let s=!0;const a=new T.c(n=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{n.next(s),n.complete()})}),e=new T.c(n=>{let t;i.runOutsideAngular(()=>{t=i.onStable.subscribe(()=>{dn.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,n.next(!0))})})});const r=i.onUnstable.subscribe(()=>{dn.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{n.next(!1)}))});return()=>{t.unsubscribe(),r.unsubscribe()}});return(0,W.h)(a,e.pipe((0,oe.u)()))}function go(i){return i instanceof Function?i():i}let Mt=(()=>{class i{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Ne({token:i,providedIn:"root",factory:()=>new i})}}return i})();function Ct(i){for(;i;){i[rt]|=64;const s=Re(i);if(Li(i)&&!s)return i;i=s}return null}const Ut=new Fe("",{providedIn:"root",factory:()=>!1});let Cp=null;function Wm(i,s){return i[s]??CE()}function Ja(i,s){const a=CE();a.producerNode?.length&&(i[s]=Cp,a.lView=i,Cp=od())}const Gm={...Fu,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Ct(i.lView)},lView:null};function od(){return Object.create(Gm)}function CE(){return Cp??=od(),Cp}const at={};function IE(i){DE(it(),fe(),Sn()+i,!1)}function DE(i,s,a,e){if(!e)if(3==(3&s[rt])){const t=i.preOrderCheckHooks;null!==t&&Pa(s,t,a)}else{const t=i.preOrderHooks;null!==t&&ys(s,t,0,a)}Zr(a)}function ad(i,s=$e.Default){const a=fe();return null===a?Et(i,s):Pc(an(),a,ge(i),s)}function zm(){throw new Error("invalid")}function gt(i,s,a,e,n,t,r,o,u,l,h){const m=s.blueprint.slice();return m[Wt]=n,m[rt]=140|e,(null!==l||i&&2048&i[rt])&&(m[rt]|=2048),Sa(m),m[St]=m[hi]=i,m[Gt]=a,m[Pr]=r||i&&i[Pr],m[He]=o||i&&i[He],m[ki]=u||i&&i[ki]||null,m[Wn]=t,m[Dr]=function vr(){return yl++}(),m[pi]=h,m[lc]=l,m[on]=2==s.type?i[on]:m,m}function Zo(i,s,a,e,n){let t=i.data[s];if(null===t)t=function ud(i,s,a,e,n){const t=Ju(),r=tl(),u=i.data[s]=function AE(i,s,a,e,n,t){let r=s?s.injectorIndex:-1,o=0;return function Vi(){return null!==Ye.skipHydrationRootTNode}()&&(o|=128),{type:a,index:e,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:o,providerIndexes:0,value:n,attrs:t,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,r?t:t&&t.parent,a,s,e,n);return null===i.firstChild&&(i.firstChild=u),null!==t&&(r?null==t.child&&null!==u.parent&&(t.child=u):null===t.next&&(t.next=u,u.prev=t)),u}(i,s,a,e,n),function af(){return Ye.lFrame.inI18n}()&&(t.flags|=32);else if(64&t.type){t.type=a,t.value=e,t.attrs=n;const r=function el(){const i=Ye.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();t.injectorIndex=null===r?-1:r.injectorIndex}return ir(t,!0),t}function ld(i,s,a,e){if(0===a)return-1;const n=s.length;for(let t=0;t<a;t++)s.push(e),i.blueprint.push(e),i.data.push(null);return n}function Ns(i,s,a,e,n){const t=Wm(s,Fi),r=Sn(),o=2&e;try{Zr(-1),o&&s.length>pt&&DE(i,s,pt,!1),Yr(o?2:0,n);const l=o?t:null,h=vn(l);try{null!==l&&(l.dirty=!1),a(e,n)}finally{Ca(l,h)}}finally{o&&null===s[Fi]&&Ja(s,Fi),Zr(r),Yr(o?3:1,n)}}function cd(i,s,a){if(Su(s)){const e=Tn(null);try{const t=s.directiveEnd;for(let r=s.directiveStart;r<t;r++){const o=i.data[r];o.contentQueries&&o.contentQueries(1,a[r],r)}}finally{Tn(e)}}}function Si(i,s,a){Qs()&&(function ct(i,s,a,e){const n=a.directiveStart,t=a.directiveEnd;kn(a)&&function fd(i,s,a){const e=rr(s,i),n=Hr(a);let r=16;a.signals?r=4096:a.onPush&&(r=64);const o=Dp(i,gt(i,n,null,r,e,s,null,i[Pr].rendererFactory.createRenderer(e,a),null,null,null));i[s.index]=o}(s,a,i.data[n+a.componentOffset]),i.firstCreatePass||Ar(a,s),Mn(e,s);const r=a.initialInputs;for(let o=n;o<t;o++){const u=i.data[o],l=Tr(s,i,o,a);Mn(l,s),null!==r&&A0(0,o-n,l,u,0,r),nr(u)&&(mr(a.index,s)[Gt]=Tr(s,i,o,a))}}(i,s,a,rr(a,s)),64==(64&a.flags)&&SE(i,s,a))}function Km(i,s,a=rr){const e=s.localNames;if(null!==e){let n=s.index+1;for(let t=0;t<e.length;t+=2){const r=e[t+1],o=-1===r?a(s,i):i[r];i[n++]=o}}}function Hr(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=qm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function qm(i,s,a,e,n,t,r,o,u,l,h){const m=pt+e,y=m+n,I=function Ym(i,s){const a=[];for(let e=0;e<s;e++)a.push(e<i?null:at);return a}(m,y),w="function"==typeof l?l():l;return I[De]={type:i,blueprint:I,template:a,queries:null,viewQuery:o,declTNode:s,data:I.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof t?t():t,pipeRegistry:"function"==typeof r?r():r,firstChild:null,schemas:u,consts:w,incompleteFirstPass:!1,ssrId:h}}let Xm=i=>null;function Zm(i,s,a,e){for(let n in i)if(i.hasOwnProperty(n)){a=null===a?{}:a;const t=i[n];null===e?TE(a,s,n,t):e.hasOwnProperty(n)&&TE(a,s,e[n],t)}return a}function TE(i,s,a,e){i.hasOwnProperty(a)?i[a].push(s,e):i[a]=[s,e]}function Lf(i,s,a,e){if(Qs()){const n=null===e?null:{"":-1},t=function w0(i,s){const a=i.directiveRegistry;let e=null,n=null;if(a)for(let t=0;t<a.length;t++){const r=a[t];if(vu(s,r.selectors,!1))if(e||(e=[]),nr(r))if(null!==r.findHostDirectiveDefs){const o=[];n=n||new Map,r.findHostDirectiveDefs(r,o,n),e.unshift(...o,r),Zt(i,s,o.length)}else e.unshift(r),Zt(i,s,0);else n=n||new Map,r.findHostDirectiveDefs?.(r,e,n),e.push(r)}return null===e?null:[e,n]}(i,a);let r,o;null===t?r=o=null:[r,o]=t,null!==r&&Fl(i,s,a,r,n,o),n&&function e_(i,s,a){if(s){const e=i.localNames=[];for(let n=0;n<s.length;n+=2){const t=a[s[n+1]];if(null==t)throw new z(-301,!1);e.push(s[n],t)}}}(a,e,n)}a.mergedAttrs=is(a.mergedAttrs,a.attrs)}function Fl(i,s,a,e,n,t){for(let l=0;l<e.length;l++)to(Ar(a,s),i,e[l].type);!function t_(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,e.length);for(let l=0;l<e.length;l++){const h=e[l];h.providersResolver&&h.providersResolver(h)}let r=!1,o=!1,u=ld(i,s,e.length,null);for(let l=0;l<e.length;l++){const h=e[l];a.mergedAttrs=is(a.mergedAttrs,h.hostAttrs),ME(i,a,s,u,h),b0(u,h,n),null!==h.contentQueries&&(a.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(a.flags|=64);const m=h.type.prototype;!r&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),r=!0),!o&&(m.ngOnChanges||m.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),o=!0),u++}!function E0(i,s,a){const n=s.directiveEnd,t=i.data,r=s.attrs,o=[];let u=null,l=null;for(let h=s.directiveStart;h<n;h++){const m=t[h],y=a?a.get(m):null,w=y?y.outputs:null;u=Zm(m.inputs,h,u,y?y.inputs:null),l=Zm(m.outputs,h,l,w);const M=null===u||null===r||Gd(s)?null:Bf(u,h,r);o.push(M)}null!==u&&(u.hasOwnProperty("class")&&(s.flags|=8),u.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=o,s.inputs=u,s.outputs=l}(i,a,t)}function SE(i,s,a){const e=a.directiveStart,n=a.directiveEnd,t=a.index,r=function bc(){return Ye.lFrame.currentDirectiveIndex}();try{Zr(t);for(let o=e;o<n;o++){const u=i.data[o],l=s[o];Ac(o),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Uf(u,l)}}finally{Zr(-1),Ac(r)}}function Uf(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Zt(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function b0(i,s,a){if(a){if(s.exportAs)for(let e=0;e<s.exportAs.length;e++)a[s.exportAs[e]]=i;nr(s)&&(a[""]=i)}}function ME(i,s,a,e,n){i.data[e]=n;const t=n.factory||(n.factory=_i(n.type)),r=new Bi(t,nr(n),ad);i.blueprint[e]=r,a[e]=r,function Jo(i,s,a,e,n){const t=n.hostBindings;if(t){let r=i.hostBindingOpCodes;null===r&&(r=i.hostBindingOpCodes=[]);const o=~s.index;(function Vf(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(r)!=o&&r.push(o),r.push(a,e,t)}}(i,s,e,ld(i,a,n.hostVars,at),n)}function ti(i,s,a,e,n,t){const r=rr(i,s);!function Ll(i,s,a,e,n,t,r){if(null==t)i.removeAttribute(s,n,a);else{const o=null==r?G(t):r(t,e||"",n);i.setAttribute(s,n,o,a)}}(s[He],r,t,i.value,a,e,n)}function A0(i,s,a,e,n,t){const r=t[s];if(null!==r)for(let o=0;o<r.length;)Ip(e,a,r[o++],r[o++],r[o++])}function Ip(i,s,a,e,n){const t=Tn(null);try{const r=i.inputTransforms;null!==r&&r.hasOwnProperty(e)&&(n=r[e].call(s,n)),null!==i.setInput?i.setInput(s,n,a,e):s[e]=n}finally{Tn(t)}}function Bf(i,s,a){let e=null,n=0;for(;n<a.length;){const t=a[n];if(0!==t)if(5!==t){if("number"==typeof t)break;if(i.hasOwnProperty(t)){null===e&&(e=[]);const r=i[t];for(let o=0;o<r.length;o+=2)if(r[o]===s){e.push(t,r[o+1],a[n+1]);break}}n+=2}else n+=2;else n+=4}return e}function RE(i,s,a,e){return[i,!0,!1,s,null,0,e,a,null,null,null]}function jf(i,s){const a=i.contentQueries;if(null!==a)for(let e=0;e<a.length;e+=2){const t=a[e+1];if(-1!==t){const r=i.data[t];Oa(a[e]),r.contentQueries(2,s[t],t)}}}function Dp(i,s){return i[_a]?i[va][pr]=s:i[_a]=s,i[va]=s,s}function n_(i,s,a){Oa(0);const e=Tn(null);try{s(i,a)}finally{Tn(e)}}function wp(i){return i[xi]||(i[xi]=[])}function NE(i){return i.cleanup||(i.cleanup=[])}function OE(i,s){const a=i[ki],e=a?a.get(Qo,null):null;e&&e.handleError(s)}function hd(i,s,a,e,n){for(let t=0;t<a.length;){const r=a[t++],o=a[t++];Ip(i.data[r],s[r],e,o,n)}}function PE(i,s){const a=mr(s,i),e=a[De];!function Ap(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(e,a);const n=a[Wt];null!==n&&null===a[pi]&&(a[pi]=Bn(n,a[ki])),r_(e,a,a[Gt])}function r_(i,s,a){ms(s);try{const e=i.viewQuery;null!==e&&n_(1,e,a);const n=i.template;null!==n&&Ns(i,s,n,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jf(i,s),i.staticViewQueries&&n_(2,i.viewQuery,a);const t=i.components;null!==t&&function Tp(i,s){for(let a=0;a<s.length;a++)PE(i,s[a])}(s,t)}catch(e){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),e}finally{s[rt]&=-5,Zs()}}let Vl=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,e,n){const t=typeof Zone>"u"?null:Zone.current,r=function mc(i,s,a){const e=Object.create(Ta);a&&(e.consumerAllowSignalWrites=!0),e.fn=i,e.schedule=s;const n=r=>{e.cleanupFn=r};return e.ref={notify:()=>Zd(e),run:()=>{if(e.dirty=!1,e.hasRun&&!Lu(e))return;e.hasRun=!0;const r=vn(e);try{e.cleanupFn(),e.cleanupFn=_c,e.fn(n)}finally{Ca(e,r)}},cleanup:()=>e.cleanupFn()},e.ref}(a,l=>{this.all.has(l)&&this.queue.set(l,t)},n);let o;this.all.add(r),r.notify();const u=()=>{r.cleanup(),o?.(),this.all.delete(r),this.queue.delete(r)};return o=e?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[a,e]of this.queue)this.queue.delete(a),e?e.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Ne({token:i,providedIn:"root",factory:()=>new i})}}return i})();function pd(i,s,a){let e=a?i.styles:null,n=a?i.classes:null,t=0;if(null!==s)for(let r=0;r<s.length;r++){const o=s[r];"number"==typeof o?t=o:1==t?n=Ee(n,o):2==t&&(e=Ee(e,o+": "+s[++r]+";"))}a?i.styles=e:i.stylesWithoutHost=e,a?i.classes=n:i.classesWithoutHost=n}function Hf(i,s,a,e,n=!1){for(;null!==a;){const t=s[a.index];null!==t&&e.push(At(t)),xn(t)&&xE(t,e);const r=a.type;if(8&r)Hf(i,s,a.child,e);else if(32&r){const o=pe(a,s);let u;for(;u=o();)e.push(u)}else if(16&r){const o=wy(s,a);if(Array.isArray(o))e.push(...o);else{const u=Re(s[on]);Hf(u[De],u,o,e,!0)}}a=n?a.projectionNext:a.next}return e}function xE(i,s){for(let a=_n;a<i.length;a++){const e=i[a],n=e[De].firstChild;null!==n&&Hf(e[De],e,n,s)}i[gr]!==i[Wt]&&s.push(i[gr])}function $f(i,s,a,e=!0){const n=s[Pr],t=n.rendererFactory,r=n.afterRenderEventManager;t.begin?.(),r?.begin();try{kE(i,s,i.template,a)}catch(u){throw e&&OE(s,u),u}finally{t.end?.(),n.effectManager?.flush(),r?.end()}}function kE(i,s,a,e){const n=s[rt];if(256!=(256&n)){s[Pr].effectManager?.flush(),ms(s);try{Sa(s),function rl(i){return Ye.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ns(i,s,a,2,e);const r=3==(3&n);if(r){const l=i.preOrderCheckHooks;null!==l&&Pa(s,l,null)}else{const l=i.preOrderHooks;null!==l&&ys(s,l,0,null),Mc(s,0)}if(function s_(i){for(let s=Br(i);null!==s;s=lo(s)){if(!s[Kr])continue;const a=s[gi];for(let e=0;e<a.length;e++){qu(a[e])}}}(s),Os(s,2),null!==i.contentQueries&&jf(i,s),r){const l=i.contentCheckHooks;null!==l&&Pa(s,l)}else{const l=i.contentHooks;null!==l&&ys(s,l,1),Mc(s,1)}!function kl(i,s){const a=i.hostBindingOpCodes;if(null===a)return;const e=Wm(s,zr);try{for(let n=0;n<a.length;n++){const t=a[n];if(t<0)Zr(~t);else{const r=t,o=a[++n],u=a[++n];Lh(o,r),e.dirty=!1;const l=vn(e);try{u(2,s[r])}finally{Ca(e,l)}}}}finally{null===s[zr]&&Ja(s,zr),Zr(-1)}}(i,s);const o=i.components;null!==o&&Wf(s,o,0);const u=i.viewQuery;if(null!==u&&n_(2,u,e),r){const l=i.viewCheckHooks;null!==l&&Pa(s,l)}else{const l=i.viewHooks;null!==l&&ys(s,l,2),Mc(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[rt]&=-73,xh(s)}finally{Zs()}}}function Os(i,s){for(let a=Br(i);null!==a;a=lo(a))for(let e=_n;e<a.length;e++)Sp(a[e],s)}function o_(i,s,a){Sp(mr(s,i),a)}function Sp(i,s){if(!function tf(i){return 128==(128&i[rt])}(i))return;const a=i[De],e=i[rt];if(80&e&&0===s||1024&e||2===s)kE(a,i,a.template,i[Gt]);else if(i[js]>0){Os(i,1);const n=a.components;null!==n&&Wf(i,n,1)}}function Wf(i,s,a){for(let e=0;e<s.length;e++)o_(i,s[e],a)}class ea{get rootNodes(){const s=this._lView,a=s[De];return Hf(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(s){this._lView[Gt]=s}get destroyed(){return 256==(256&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[St];if(xn(s)){const a=s[8],e=a?a.indexOf(this):-1;e>-1&&(Xh(s,e),ro(a,e))}this._attachedToViewContainer=!1}_y(this._lView[De],this._lView)}onDestroy(s){!function nf(i,s){if(256==(256&i[rt]))throw new z(911,!1);null===i[xr]&&(i[xr]=[]),i[xr].push(s)}(this._lView,s)}markForCheck(){Ct(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){this._lView[rt]|=128}detectChanges(){$f(this._lView[De],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Qh(i,s){wl(i,s,s[He],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=s}}class Ul extends ea{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;$f(s[De],s,s[Gt],!1)}checkNoChanges(){}get context(){return null}}class Bl extends Pf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=dt(s);return new na(a,this.ngModule)}}function ta(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class M0{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,e){e=ht(e);const n=this.injector.get(s,Nm,e);return n!==Nm||a===Nm?n:this.parentInjector.get(s,a,e)}}class na extends Jy{get inputs(){const s=this.componentDef,a=s.inputTransforms,e=ta(s.inputs);if(null!==a)for(const n of e)a.hasOwnProperty(n.propName)&&(n.transform=a[n.propName]);return e}get outputs(){return ta(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Cr(i){return i.map(uc).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,e,n){let t=(n=n||this.ngModule)instanceof ho?n:n?.injector;t&&null!==this.componentDef.getStandaloneInjector&&(t=this.componentDef.getStandaloneInjector(t)||t);const r=t?new M0(s,t):s,o=r.get(_p,null);if(null===o)throw new z(407,!1);const m={rendererFactory:o,sanitizer:r.get(Mm,null),effectManager:r.get(Vl,null),afterRenderEventManager:r.get(Mt,null)},y=o.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",w=e?function Qm(i,s,a,e){const t=e.get(Ut,!1)||a===xe.ShadowDom,r=i.selectRootElement(s,t);return function y0(i){Xm(i)}(r),r}(y,e,this.componentDef.encapsulation,r):Il(y,I,function S0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(I)),ne=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let q=null;null!==w&&(q=Bn(w,r,!0));const be=qm(0,null,null,1,0,null,null,null,null,null,null),ke=gt(null,be,null,ne,null,null,m,y,r,null,q);let qe,Pt;ms(ke);try{const It=this.componentDef;let Nn,ua=null;It.findHostDirectiveDefs?(Nn=[],ua=new Map,It.findHostDirectiveDefs(It,Nn,ua),Nn.push(It)):Nn=[It];const dS=function N0(i,s){const a=i[De],e=pt;return i[e]=s,Zo(a,e,2,"#host",null)}(ke,w),fS=function Mp(i,s,a,e,n,t,r){const o=n[De];!function Gf(i,s,a,e){for(const n of i)s.mergedAttrs=is(s.mergedAttrs,n.hostAttrs);null!==s.mergedAttrs&&(pd(s,s.mergedAttrs,!0),null!==a&&Ty(e,a,s))}(e,i,s,r);let u=null;null!==s&&(u=Bn(s,n[ki]));const l=t.rendererFactory.createRenderer(s,a);let h=16;a.signals?h=4096:a.onPush&&(h=64);const m=gt(n,Hr(a),null,h,n[i.index],i,t,l,null,null,u);return o.firstCreatePass&&Zt(o,i,e.length-1),Dp(n,m),n[i.index]=m}(dS,w,It,Nn,ke,m,y);Pt=Ku(be,pt),w&&function Rp(i,s,a,e){if(e)ca(i,a,["ng-version",Rm.full]);else{const{attrs:n,classes:t}=function Eu(i){const s=[],a=[];let e=1,n=2;for(;e<i.length;){let t=i[e];if("string"==typeof t)2===n?""!==t&&s.push(t,i[++e]):8===n&&a.push(t);else{if(!On(n))break;n=t}e++}return{attrs:s,classes:a}}(s.selectors[0]);n&&ca(i,a,n),t&&t.length>0&&wf(i,a,t.join(" "))}}(y,It,w,e),void 0!==a&&function jl(i,s,a){const e=i.projection=[];for(let n=0;n<s.length;n++){const t=a[n];e.push(null!=t?Array.from(t):null)}}(Pt,this.ngContentSelectors,a),qe=function FE(i,s,a,e,n,t){const r=an(),o=n[De],u=rr(r,n);Fl(o,n,r,a,null,e);for(let h=0;h<a.length;h++)Mn(Tr(n,o,r.directiveStart+h,r),n);SE(o,n,r),u&&Mn(u,n);const l=Tr(n,o,r.directiveStart+r.componentOffset,r);if(i[Gt]=n[Gt]=l,null!==t)for(const h of t)h(l,s);return cd(o,r,i),l}(fS,It,Nn,ua,ke,[a_]),r_(be,ke,null)}finally{Zs()}return new R0(this.componentType,qe,Pl(Pt,ke),ke,Pt)}}class R0 extends r0{constructor(s,a,e,n,t){super(),this.location=e,this._rootLView=n,this._tNode=t,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Ul(n),this.componentType=s}setInput(s,a){const e=this._tNode.inputs;let n;if(null!==e&&(n=e[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const t=this._rootLView;hd(t[De],t,n,s,a),this.previousInputValues.set(s,a),Ct(mr(this._tNode.index,t))}}get injector(){return new Ft(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function a_(){const i=an();vs(fe()[De],i)}function Bt(i){let s=function LE(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const e=[i];for(;s;){let n;if(nr(i))n=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new z(903,!1);n=s.\u0275dir}if(n){if(a){e.push(n);const r=i;r.inputs=eu(i.inputs),r.inputTransforms=eu(i.inputTransforms),r.declaredInputs=eu(i.declaredInputs),r.outputs=eu(i.outputs);const o=n.hostBindings;o&&l_(i,o);const u=n.viewQuery,l=n.contentQueries;if(u&&u_(i,u),l&&VE(i,l),x(i.inputs,n.inputs),x(i.declaredInputs,n.declaredInputs),x(i.outputs,n.outputs),null!==n.inputTransforms&&(null===r.inputTransforms&&(r.inputTransforms={}),x(r.inputTransforms,n.inputTransforms)),nr(n)&&n.data.animation){const h=i.data;h.animation=(h.animation||[]).concat(n.data.animation)}}const t=n.features;if(t)for(let r=0;r<t.length;r++){const o=t[r];o&&o.ngInherit&&o(i),o===Bt&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Ps(i){let s=0,a=null;for(let e=i.length-1;e>=0;e--){const n=i[e];n.hostVars=s+=n.hostVars,n.hostAttrs=is(n.hostAttrs,a=is(a,n.hostAttrs))}}(e)}function eu(i){return i===je?{}:i===Me?[]:i}function u_(i,s){const a=i.viewQuery;i.viewQuery=a?(e,n)=>{s(e,n),a(e,n)}:s}function VE(i,s){const a=i.contentQueries;i.contentQueries=a?(e,n,t)=>{s(e,n,t),a(e,n,t)}:s}function l_(i,s){const a=i.hostBindings;i.hostBindings=a?(e,n)=>{s(e,n),a(e,n)}:s}function jE(i){const s=i.inputConfig,a={};for(const e in s)if(s.hasOwnProperty(e)){const n=s[e];Array.isArray(n)&&n[2]&&(a[e]=n[2])}i.inputTransforms=a}function Op(i){return!!Pp(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function Pp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Rr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function gd(i,s,a,e){const n=fe();return Rr(n,Ro(),s)&&(it(),ti(Tt(),n,i,s,a,e)),gd}function y_(i,s,a,e,n,t,r,o){const u=fe(),l=it(),h=i+pt,m=l.firstCreatePass?function z0(i,s,a,e,n,t,r,o,u){const l=s.consts,h=Zo(s,i,4,r||null,gs(l,o));Lf(s,a,h,gs(l,u)),vs(s,h);const m=h.tView=qm(2,h,e,n,t,s.directiveRegistry,s.pipeRegistry,null,s.schemas,l,null);return null!==s.queries&&(s.queries.template(s,h),m.queries=s.queries.embeddedTView(h)),h}(h,l,u,s,a,e,n,t,r):l.data[h];ir(m,!1);const y=jp(l,u,m,i);_s()&&zo(l,u,y,m),Mn(y,u),Dp(u,u[h]=RE(y,u,y,m)),as(m)&&Si(l,u,m),null!=r&&Km(u,m,o)}let jp=function ZE(i,s,a,e){return Dt(!0),s[He].createComment("")};function E_(i,s,a){const e=fe();return Rr(e,Ro(),s)&&function yt(i,s,a,e,n,t,r,o){const u=rr(s,a);let h,l=s.inputs;!o&&null!=l&&(h=l[e])?(hd(i,a,h,e,n),kn(s)&&function I0(i,s){const a=mr(s,i);16&a[rt]||(a[rt]|=64)}(a,s.index)):3&s.type&&(e=function C0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(e),n=null!=r?r(n,s.value||"",e):n,t.setProperty(u,e,n))}(it(),Tt(),e,i,s,e[He],a,!1),E_}function Cd(i,s,a,e,n){const r=n?"class":"style";hd(i,a,s.inputs[r],r,e)}function Hp(i,s,a,e){const n=fe(),t=it(),r=pt+i,o=n[He],u=t.firstCreatePass?function JE(i,s,a,e,n,t){const r=s.consts,u=Zo(s,i,2,e,gs(r,n));return Lf(s,a,u,gs(r,t)),null!==u.attrs&&pd(u,u.attrs,!1),null!==u.mergedAttrs&&pd(u,u.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,u),u}(r,t,n,s,a,e):t.data[r],l=eC(t,n,u,o,s,i);n[r]=l;const h=as(u);return ir(u,!0),Ty(o,l,u),32!=(32&u.flags)&&_s()&&zo(t,n,l,u),0===function yn(){return Ye.lFrame.elementDepthCount}()&&Mn(l,n),function Dc(){Ye.lFrame.elementDepthCount++}(),h&&(Si(t,n,u),cd(t,u,n)),null!==e&&Km(n,u),Hp}function Id(){let i=an();tl()?function nl(){Ye.lFrame.isParent=!1}():(i=i.parent,ir(i,!1));const s=i;(function Ra(i){return Ye.skipHydrationRootTNode===i})(s)&&function Mo(){Ye.skipHydrationRootTNode=null}(),function Fn(){Ye.lFrame.elementDepthCount--}();const a=it();return a.firstCreatePass&&(vs(a,i),Su(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Rc(i){return 0!=(8&i.flags)}(s)&&Cd(a,s,fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ln(i){return 0!=(16&i.flags)}(s)&&Cd(a,s,fe(),s.stylesWithoutHost,!1),Id}function Dd(i,s,a,e){return Hp(i,s,a,e),Id(),Dd}let eC=(i,s,a,e,n,t)=>(Dt(!0),Il(e,n,function Js(){return Ye.lFrame.currentNamespace}()));function Yl(i){return!!i&&"function"==typeof i.then}function rC(i){return!!i&&"function"==typeof i.subscribe}function D_(i,s,a,e){const n=fe(),t=it(),r=an();return function Gp(i,s,a,e,n,t,r){const o=as(e),l=i.firstCreatePass&&NE(i),h=s[Gt],m=wp(s);let y=!0;if(3&e.type||r){const M=rr(e,s),L=r?r(M):M,ne=m.length,q=r?ke=>r(At(ke[e.index])):e.index;let be=null;if(!r&&o&&(be=function w_(i,s,a,e){const n=i.cleanup;if(null!=n)for(let t=0;t<n.length-1;t+=2){const r=n[t];if(r===a&&n[t+1]===e){const o=s[xi],u=n[t+2];return o.length>u?o[u]:null}"string"==typeof r&&(t+=2)}return null}(i,s,n,e.index)),null!==be)(be.__ngLastListenerFn__||be).__ngNextListenerFn__=t,be.__ngLastListenerFn__=t,y=!1;else{t=b_(e,s,h,t,!1);const ke=a.listen(L,n,t);m.push(t,ke),l&&l.push(n,q,ne,ne+1)}}else t=b_(e,s,h,t,!1);const I=e.outputs;let w;if(y&&null!==I&&(w=I[n])){const M=w.length;if(M)for(let L=0;L<M;L+=2){const qe=s[w[L]][w[L+1]].subscribe(t),Pt=m.length;m.push(t,qe),l&&l.push(n,e.index,Pt,-(Pt+1))}}}(t,n,n[He],r,i,s,e),D_}function sC(i,s,a,e){try{return Yr(6,s,a),!1!==a(e)}catch(n){return OE(i,n),!1}finally{Yr(7,s,a)}}function b_(i,s,a,e,n){return function t(r){if(r===Function)return e;Ct(i.componentOffset>-1?mr(i.index,s):s);let u=sC(s,a,e,r),l=t.__ngNextListenerFn__;for(;l;)u=sC(s,a,l,r)&&u,l=l.__ngNextListenerFn__;return n&&!1===u&&r.preventDefault(),u}}function oC(i=1){return function Po(i){return(Ye.lFrame.contextLView=function il(i,s){for(;i>0;)s=s[hi],i--;return s}(i,Ye.lFrame.contextLView))[Gt]}(i)}function uu(i,s){return i<<17|s<<2}function vo(i){return i>>17&32767}function M_(i){return 2|i}function ia(i){return(131068&i)>>2}function bd(i,s){return-131069&i|s<<2}function R_(i){return 1|i}function N_(i,s,a,e,n){const t=i[a+1],r=null===s;let o=e?vo(t):ia(t),u=!1;for(;0!==o&&(!1===u||r);){const h=i[o+1];O_(i[o],s)&&(u=!0,i[o+1]=e?R_(h):M_(h)),o=e?vo(h):ia(h)}u&&(i[a+1]=e?M_(t):R_(t))}function O_(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Fo(i,s)>=0}function Ql(i,s){return function ni(i,s,a,e){const n=fe(),t=it(),r=function Xr(i){const s=Ye.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);t.firstUpdatePass&&function pC(i,s,a,e){const n=i.data;if(null===n[a+1]){const t=n[Sn()],r=function Yp(i,s){return s>=i.expandoStartIndex}(i,a);(function _C(i,s){return 0!=(i.flags&(s?8:16))})(t,e)&&null===s&&!r&&(s=!1),s=function sw(i,s,a,e){const n=function Oo(i){const s=Ye.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let t=e?s.residualClasses:s.residualStyles;if(null===n)0===(e?s.classBindings:s.styleBindings)&&(a=rh(a=L_(null,i,s,a,e),s.attrs,e),t=null);else{const r=s.directiveStylingLast;if(-1===r||i[r]!==n)if(a=L_(n,i,s,a,e),null===t){let u=function ow(i,s,a){const e=a?s.classBindings:s.styleBindings;if(0!==ia(e))return i[vo(e)]}(i,s,e);void 0!==u&&Array.isArray(u)&&(u=L_(null,i,s,u[1],e),u=rh(u,s.attrs,e),function gC(i,s,a,e){i[vo(a?s.classBindings:s.styleBindings)]=e}(i,s,e,u))}else t=function aw(i,s,a){let e;const n=s.directiveEnd;for(let t=1+s.directiveStylingLast;t<n;t++)e=rh(e,i[t].hostAttrs,a);return rh(e,s.attrs,a)}(i,s,e)}return void 0!==t&&(e?s.residualClasses=t:s.residualStyles=t),a}(n,t,s,e),function th(i,s,a,e,n,t){let r=t?s.classBindings:s.styleBindings,o=vo(r),u=ia(r);i[e]=a;let h,l=!1;if(Array.isArray(a)?(h=a[1],(null===h||Fo(a,h)>0)&&(l=!0)):h=a,n)if(0!==u){const y=vo(i[o+1]);i[e+1]=uu(y,o),0!==y&&(i[y+1]=bd(i[y+1],e)),i[o+1]=function Z0(i,s){return 131071&i|s<<17}(i[o+1],e)}else i[e+1]=uu(o,0),0!==o&&(i[o+1]=bd(i[o+1],e)),o=e;else i[e+1]=uu(u,0),0===o?o=e:i[u+1]=bd(i[u+1],e),u=e;l&&(i[e+1]=M_(i[e+1])),N_(i,h,e,!0),N_(i,h,e,!1),function J0(i,s,a,e,n){const t=n?i.residualClasses:i.residualStyles;null!=t&&"string"==typeof s&&Fo(t,s)>=0&&(a[e+1]=R_(a[e+1]))}(s,h,i,e,t),r=uu(o,u),t?s.classBindings=r:s.styleBindings=r}(n,t,s,a,r,e)}}(t,i,r,e),s!==at&&Rr(n,r,s)&&function oa(i,s,a,e,n,t,r,o){if(!(3&s.type))return;const u=i.data,l=u[o+1],h=function cC(i){return 1==(1&i)}(l)?mC(u,s,a,n,ia(l),r):void 0;Sd(h)||(Sd(t)||function X0(i){return 2==(2&i)}(l)&&(t=mC(u,null,a,n,o,r)),function PD(i,s,a,e,n){if(s)n?i.addClass(a,e):i.removeClass(a,e);else{let t=-1===e.indexOf("-")?void 0:za.DashCase;null==n?i.removeStyle(a,e,t):("string"==typeof n&&n.endsWith("!important")&&(n=n.slice(0,-10),t|=za.Important),i.setStyle(a,e,n,t))}}(e,r,hs(Sn(),a),n,t))}(t,t.data[Sn()],n,n[He],i,n[r+1]=function Qp(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=B(Ko(i)))),i}(s,a),e,r)}(i,s,null,!0),Ql}function L_(i,s,a,e,n){let t=null;const r=a.directiveEnd;let o=a.directiveStylingLast;for(-1===o?o=a.directiveStart:o++;o<r&&(t=s[o],e=rh(e,t.hostAttrs,n),t!==i);)o++;return null!==i&&(a.directiveStylingLast=o),e}function rh(i,s,a){const e=a?1:2;let n=-1;if(null!==s)for(let t=0;t<s.length;t++){const r=s[t];"number"==typeof r?n=r:n===e&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ur(i,r,!!a||s[++t]))}return void 0===i?null:i}function mC(i,s,a,e,n,t){const r=null===s;let o;for(;n>0;){const u=i[n],l=Array.isArray(u),h=l?u[1]:u,m=null===h;let y=a[n+1];y===at&&(y=m?Me:void 0);let I=m?cf(y,e):h===e?y:void 0;if(l&&!Sd(I)&&(I=cf(u,e)),Sd(I)&&(o=I,r))return o;const w=i[n+1];n=r?vo(w):ia(w)}if(null!==s){let u=t?s.residualClasses:s.residualStyles;null!=u&&(o=cf(u,e))}return o}function Sd(i){return void 0!==i}function Xl(i,s=""){const a=fe(),e=it(),n=i+pt,t=e.firstCreatePass?Zo(e,n,1,s,null):e.data[n],r=vC(e,a,t,s,i);a[n]=r,_s()&&zo(e,a,r,t),ir(t,!1)}let vC=(i,s,a,e,n)=>(Dt(!0),function Qi(i,s){return i.createText(s)}(s[He],e));function Xp(i){return Zl("",i,""),Xp}function Zl(i,s,a){const e=fe(),n=function Gl(i,s,a,e){return Rr(i,Ro(),a)?s+G(a)+e:at}(e,i,s,a);return n!==at&&function mo(i,s,a){const e=hs(s,i);!function Wo(i,s,a){i.setValue(s,a)}(i[He],e,a)}(e,Sn(),n),Zl}const cu=void 0;var PC=["en",[["a","p"],["AM","PM"],cu],[["AM","PM"],cu,cu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cu,"{1} 'at' {0}",cu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ls(i){const a=Math.floor(Math.abs(i)),e=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===e?1:5}];let Nd={};function K_(i){const s=function hw(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=kC(s);if(a)return a;const e=s.split("-")[0];if(a=kC(e),a)return a;if("en"===e)return PC;throw new z(701,!1)}function xC(i){return K_(i)[Od.PluralCase]}function kC(i){return i in Nd||(Nd[i]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[i]),Nd[i]}var Od=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(Od||{});const Pd="en-US";let FC=Pd;function Kn(i,s,a,e,n){if(i=ge(i),Array.isArray(i))for(let t=0;t<i.length;t++)Kn(i[t],s,a,e,n);else{const t=it(),r=fe(),o=an();let u=ed(i)?i:ge(i.provide);const l=Xa(i),h=1048575&o.providerIndexes,m=o.directiveStart,y=o.providerIndexes>>20;if(ed(i)||!i.multi){const I=new Bi(l,n,ad),w=ch(u,s,n?h:h+y,m);-1===w?(to(Ar(o,r),t,u),kd(t,i,s.length),s.push(u),o.directiveStart++,o.directiveEnd++,n&&(o.providerIndexes+=1048576),a.push(I),r.push(I)):(a[w]=I,r[w]=I)}else{const I=ch(u,s,h+y,m),w=ch(u,s,h,h+y),L=w>=0&&a[w];if(n&&!L||!n&&!(I>=0&&a[I])){to(Ar(o,r),t,u);const ne=function Ww(i,s,a,e,n){const t=new Bi(i,a,ad);return t.multi=[],t.index=s,t.componentProviders=0,fg(t,n,e&&!a),t}(n?pg:hg,a.length,n,e,l);!n&&L&&(a[w].providerFactory=ne),kd(t,i,s.length,0),s.push(u),o.directiveStart++,o.directiveEnd++,n&&(o.providerIndexes+=1048576),a.push(ne),r.push(ne)}else kd(t,i,I>-1?I:w,fg(a[n?w:I],l,!n&&e));!n&&e&&L&&a[w].componentProviders++}}}function kd(i,s,a,e){const n=ed(s),t=function bA(i){return!!i.useClass}(s);if(n||t){const u=(t?ge(s.useClass):s).prototype.ngOnDestroy;if(u){const l=i.destroyHooks||(i.destroyHooks=[]);if(!n&&s.multi){const h=l.indexOf(a);-1===h?l.push(a,[e,u]):l[h+1].push(e,u)}else l.push(a,u)}}}function fg(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function ch(i,s,a,e){for(let n=a;n<e;n++)if(s[n]===i)return n;return-1}function hg(i,s,a,e){return dh(this.multi,[])}function pg(i,s,a,e){const n=this.multi;let t;if(this.providerFactory){const r=this.providerFactory.componentProviders,o=Tr(a,a[De],this.providerFactory.index,e);t=o.slice(0,r),dh(n,t);for(let u=r;u<o.length;u++)t.push(o[u])}else t=[],dh(n,t);return t}function dh(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function sI(i,s=[]){return a=>{a.providersResolver=(e,n)=>function $w(i,s,a){const e=it();if(e.firstCreatePass){const n=nr(i);Kn(a,e.data,e.blueprint,n,!0),Kn(s,e.data,e.blueprint,n,!1)}}(e,n?n(i):i,s)}}class fu{}class oI{}function Gw(i,s){return new mg(i,s??null,[])}class mg extends fu{constructor(s,a,e){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bl(this);const n=Jn(s);this._bootstrapComponents=go(n.bootstrap),this._r3Injector=lE(s,a,[{provide:fu,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver},...e],B(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Fd extends oI{constructor(s){super(),this.moduleType=s}create(s){return new mg(this.moduleType,s,[])}}class uI extends fu{constructor(s){super(),this.componentFactoryResolver=new Bl(this),this.instance=null;const a=new td([...s.providers,{provide:fu,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver}],s.parent||dp(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function lI(i,s,a=null){return new uI({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let zw=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const e=qy(0,a.type),n=e.length>0?lI([e],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,n)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Ne({token:i,providedIn:"environment",factory:()=>new i(Et(ho))})}}return i})();function cI(i){i.getStandaloneInjector=s=>s.get(zw).getOrCreateStandaloneInjector(i)}function _I(i,s,a,e,n,t,r){const o=s+a;return function Wl(i,s,a,e){const n=Rr(i,s,a);return Rr(i,s+1,e)||n}(i,o,n,t)?function _o(i,s,a){return i[s]=a}(i,o+2,r?e.call(r,n,t):e(n,t)):function Vd(i,s){const a=i[s];return a===at?void 0:a}(i,o+2)}function CI(i,s){const a=it();let e;const n=i+pt;a.firstCreatePass?(e=function Xw(i,s){if(s)for(let a=s.length-1;a>=0;a--){const e=s[a];if(i===e.name)return e}}(s,a.pipeRegistry),a.data[n]=e,e.onDestroy&&(a.destroyHooks??=[]).push(n,e.onDestroy)):e=a.data[n];const t=e.factory||(e.factory=_i(e.type)),o=Nt(ad);try{const u=rn(!1),l=t();return rn(u),function K0(i,s,a,e){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=e}(a,fe(),n,l),l}finally{Nt(o)}}function lv(i,s,a,e){const n=i+pt,t=fe(),r=function Qr(i,s){return i[s]}(t,n);return function hh(i,s){return i[De].data[s].pure}(t,n)?_I(t,function un(){const i=Ye.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,r.transform,a,e,r):r.transform(a,e)}function Jw(){return this._results[Symbol.iterator]()}class Dg{get changes(){return this._changes||(this._changes=new Xi)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Dg.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Jw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const e=this;e.dirty=!1;const n=function Sr(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Ua(i,s,a){if(i.length!==s.length)return!1;for(let e=0;e<i.length;e++){let n=i[e],t=s[e];if(a&&(n=a(n),t=a(t)),t!==n)return!1}return!0}(e._results,n,a))&&(e._results=n,e.length=n.length,e.last=n[this.length-1],e.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function wI(i,s,a,e=!0){const n=s[De];if(function Df(i,s,a,e){const n=_n+e,t=a.length;e>0&&(a[n-1][pr]=s),e<t-_n?(s[pr]=a[n],Wg(a,_n+e,s)):(a.push(s),s[pr]=null),s[St]=a;const r=s[Hs];null!==r&&a!==r&&function tm(i,s){const a=i[gi];s[on]!==s[St][St][on]&&(i[Kr]=!0),null===a?i[gi]=[s]:a.push(s)}(r,s);const o=s[tr];null!==o&&o.insertView(i),s[rt]|=128}(n,s,i,a),e){const t=sm(a,i),r=s[He],o=Jh(r,i[gr]);null!==o&&function Go(i,s,a,e,n,t){e[Wt]=n,e[Wn]=s,wl(i,e,a,1,n,t)}(n,i[Wn],r,s,o,t)}}let wg=(()=>{class i{static{this.__NG_ELEMENT_ID__=oT}}return i})();const nb=wg,sT=class extends nb{constructor(s,a,e){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=e}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,e){const n=function DI(i,s,a,e){const n=s.tView,o=gt(i,n,a,4096&i[rt]?4096:16,null,s,null,null,null,e?.injector??null,e?.hydrationInfo??null);o[Hs]=i[s.index];const l=i[tr];return null!==l&&(o[tr]=l.createEmbeddedView(n)),r_(n,o,a),o}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:e});return new ea(n)}};function oT(){return Ud(an(),fe())}function Ud(i,s){return 4&i.type?new sT(s,i,Pl(i,s)):null}let fv=(()=>{class i{static{this.__NG_ELEMENT_ID__=sb}}return i})();function sb(){return ob(an(),fe())}const lT=fv,TI=class extends lT{constructor(s,a,e){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=e}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new Ft(this._hostTNode,this._hostLView)}get parentInjector(){const s=zi(this._hostTNode,this._hostLView);if(br(s)){const a=xo(s,this._hostLView),e=zt(s);return new Ft(a[De].data[e+8],a)}return new Ft(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=SI(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-_n}createEmbeddedView(s,a,e){let n,t;"number"==typeof e?n=e:null!=e&&(n=e.index,t=e.injector);const o=s.createEmbeddedViewImpl(a||{},t,null);return this.insertImpl(o,n,false),o}createComponent(s,a,e,n,t){const r=s&&!function ur(i){return"function"==typeof i}(s);let o;if(r)o=a;else{const M=a||{};o=M.index,e=M.injector,n=M.projectableNodes,t=M.environmentInjector||M.ngModuleRef}const u=r?s:new na(dt(s)),l=e||this.parentInjector;if(!t&&null==u.ngModule){const L=(r?l:this.parentInjector).get(ho,null);L&&(t=L)}dt(u.componentType??{});const I=u.create(l,n,null,t);return this.insertImpl(I.hostView,o,false),I}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,e){const n=s._lView;if(function ps(i){return xn(i[St])}(n)){const u=this.indexOf(s);if(-1!==u)this.detach(u);else{const l=n[St],h=new TI(l,l[Wn],l[St]);h.detach(h.indexOf(s))}}const r=this._adjustIndex(a),o=this._lContainer;return wI(o,n,r,!e),s.attachToViewContainerRef(),Wg(MI(o),r,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=SI(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),e=Xh(this._lContainer,a);e&&(ro(MI(this._lContainer),a),_y(e[De],e))}detach(s){const a=this._adjustIndex(s,-1),e=Xh(this._lContainer,a);return e&&null!=ro(MI(this._lContainer),a)?new ea(e):null}_adjustIndex(s,a=0){return s??this.length+a}};function SI(i){return i[8]}function MI(i){return i[8]||(i[8]=[])}function ob(i,s){let a;const e=s[i.index];return xn(e)?a=e:(a=RE(e,s,null,i),s[i.index]=a,Dp(s,a)),ub(a,s,i,e),new TI(a,i,s)}let ub=function lb(i,s,a,e){if(i[gr])return;let n;n=8&a.type?At(e):function ab(i,s){const a=i[He],e=a.createComment(""),n=rr(s,i);return Dl(a,Jh(a,n),e,function ND(i,s){return i.nextSibling(s)}(a,n),!1),e}(s,a),i[gr]=n};class RI{constructor(s){this.queryList=s,this.matches=null}clone(){return new RI(this.queryList)}setDirty(){this.queryList.setDirty()}}class hv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const e=null!==s.contentQueries?s.contentQueries[0]:a.length,n=[];for(let t=0;t<e;t++){const r=a.getByIndex(t);n.push(this.queries[r.indexInDeclarationView].clone())}return new hv(n)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==VI(s,a).matches&&this.queries[a].setDirty()}}class NI{constructor(s,a,e=null){this.predicate=s,this.flags=a,this.read=e}}class Tg{constructor(s=[]){this.queries=s}elementStart(s,a){for(let e=0;e<this.queries.length;e++)this.queries[e].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let e=0;e<this.length;e++){const n=null!==a?a.length:0,t=this.getByIndex(e).embeddedTView(s,n);t&&(t.indexInDeclarationView=e,null!==a?a.push(t):a=[t])}return null!==a?new Tg(a):null}template(s,a){for(let e=0;e<this.queries.length;e++)this.queries[e].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Sg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Sg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let e=s.parent;for(;null!==e&&8&e.type&&e.index!==a;)e=e.parent;return a===(null!==e?e.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const e=this.metadata.predicate;if(Array.isArray(e))for(let n=0;n<e.length;n++){const t=e[n];this.matchTNodeWithReadOption(s,a,OI(a,t)),this.matchTNodeWithReadOption(s,a,Va(a,s,t,!1,!1))}else e===wg?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Va(a,s,e,!1,!1))}matchTNodeWithReadOption(s,a,e){if(null!==e){const n=this.metadata.read;if(null!==n)if(n===id||n===fv||n===wg&&4&a.type)this.addMatch(a.index,-2);else{const t=Va(a,s,n,!1,!1);null!==t&&this.addMatch(a.index,t)}else this.addMatch(a.index,e)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OI(i,s){const a=i.localNames;if(null!==a)for(let e=0;e<a.length;e+=2)if(a[e]===s)return a[e+1];return null}function xI(i,s,a,e){return-1===a?function PI(i,s){return 11&i.type?Pl(i,s):4&i.type?Ud(i,s):null}(s,i):-2===a?function kI(i,s,a){return a===id?Pl(s,i):a===wg?Ud(s,i):a===fv?ob(s,i):void 0}(i,s,e):Tr(i,i[De],a,s)}function pv(i,s,a,e){const n=s[tr].queries[e];if(null===n.matches){const t=i.data,r=a.matches,o=[];for(let u=0;u<r.length;u+=2){const l=r[u];o.push(l<0?null:xI(s,t[l],r[u+1],a.metadata.read))}n.matches=o}return n.matches}function Mg(i,s,a,e){const n=i.queries.getByIndex(a),t=n.matches;if(null!==t){const r=pv(i,s,n,a);for(let o=0;o<t.length;o+=2){const u=t[o];if(u>0)e.push(r[o/2]);else{const l=t[o+1],h=s[-u];for(let m=_n;m<h.length;m++){const y=h[m];y[Hs]===y[St]&&Mg(y[De],y,l,e)}if(null!==h[gi]){const m=h[gi];for(let y=0;y<m.length;y++){const I=m[y];Mg(I[De],I,l,e)}}}}}return e}function cb(i){const s=fe(),a=it(),e=uf();Oa(e+1);const n=VI(a,e);if(i.dirty&&function Ys(i){return 4==(4&i[rt])}(s)===(2==(2&n.metadata.flags))){if(null===n.matches)i.reset([]);else{const t=n.crossesNgTemplate?Mg(a,s,e,[]):pv(a,s,n,e);i.reset(t,nE),i.notifyOnChanges()}return!0}return!1}function FI(i,s,a,e){const n=it();if(n.firstCreatePass){const t=an();(function _v(i,s,a){null===i.queries&&(i.queries=new Tg),i.queries.track(new Sg(s,a))})(n,new NI(s,a,e),t.index),function gh(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(n,i),2==(2&a)&&(n.staticContentQueries=!0)}!function mv(i,s,a){const e=new Dg(4==(4&a));(function dd(i,s,a,e){const n=wp(s);n.push(a),i.firstCreatePass&&NE(i).push(e,n.length-1)})(i,s,e,e.destroy),null===s[tr]&&(s[tr]=new hv),s[tr].queries.push(new RI(e))}(n,fe(),a)}function gv(){return function LI(i,s){return i[tr].queries[s].queryList}(fe(),uf())}function VI(i,s){return i.queries.getByIndex(s)}function vv(i){return!!Jn(i)}const kv=new Fe("Application Initializer");let nD=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,e)=>{this.resolve=a,this.reject=e}),this.appInits=et(kv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const n of this.appInits){const t=n();if(Yl(t))a.push(t);else if(rC(t)){const r=new Promise((o,u)=>{t.subscribe({complete:o,error:u})});a.push(r)}}const e=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{e()}).catch(n=>{this.reject(n)}),0===a.length&&e(),this.initialized=!0}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ab=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();const Og=new Fe("LocaleId",{providedIn:"root",factory:()=>et(Og,$e.Optional|$e.SkipSelf)||function rD(){return typeof $localize<"u"&&$localize.locale||Pd}()}),Fv=new Fe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let iD=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new K.t(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();class mT{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let _T=(()=>{class i{compileModuleSync(a){return new Fd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const e=this.compileModuleSync(a),t=go(Jn(a).declarations).reduce((r,o)=>{const u=dt(o);return u&&r.push(new na(u)),r},[]);return new mT(e,t)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();const yh=new Fe(""),Eh=new Fe("");let Gv,Ob=(()=>{class i{constructor(a,e,n){this._ngZone=a,this.registry=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gv||(function Fg(i){Gv=i}(n),n.addToWindow(e)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(a)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,e,n){let t=-1;e&&e>0&&(t=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==t),a(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:a,timeoutId:t,updateCb:n})}whenStable(a,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,e,n){return[]}static{this.\u0275fac=function(e){return new(e||i)(Et(dn),Et(kg),Et(Eh))}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac})}}return i})(),kg=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,e){this._applications.set(a,e)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,e=!0){return Gv?.findTestabilityInTree(this,a,e)??null}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})(),gu=null;const zv=new Fe("AllowMultipleToken"),Kv=new Fe("PlatformDestroyListeners"),Lg=new Fe("appBootstrapListener");class wT{constructor(s,a){this.name=s,this.token=a}}function Vg(i,s,a=[]){const e=`Platform: ${s}`,n=new Fe(e);return(t=[])=>{let r=sc();if(!r||r.injector.get(zv,!1)){const o=[...a,...t,{provide:n,useValue:!0}];i?i(o):function bT(i){if(gu&&!gu.get(zv,!1))throw new z(400,!1);(function lD(){!function ba(i){Bu=i}(()=>{throw new z(600,!1)})})(),gu=i;const s=i.get(Ug);(function cD(i){i.get(Cm,null)?.forEach(a=>a())})(i)}(function Fb(i=[],s){return Rs.create({name:s,providers:[{provide:wi,useValue:"platform"},{provide:Kv,useValue:new Set([()=>gu=null])},...i]})}(o,e))}return function kb(i){const s=sc();if(!s)throw new z(401,!1);return s}()}}function sc(){return gu?.get(Ug)??null}let Ug=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,e){const n=function dD(i="zone.js",s){return"noop"===i?new _0:"zone.js"===i?new dn(s):i}(e?.ngZone,function Qv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:e?.ngZoneEventCoalescing,runCoalescing:e?.ngZoneRunCoalescing}));return n.run(()=>{const t=function aI(i,s,a){return new mg(i,s,a)}(a.moduleType,this.injector,function Zv(i){return[{provide:dn,useFactory:i},{provide:Jc,multi:!0,useFactory:()=>{const s=et(ST,{optional:!0});return()=>s.initialize()}},{provide:Ub,useFactory:TT},{provide:Um,useFactory:hE}]}(()=>n)),r=t.injector.get(Qo,null);return n.runOutsideAngular(()=>{const o=n.onError.subscribe({next:u=>{r.handleError(u)}});t.onDestroy(()=>{Ch(this._modules,t),o.unsubscribe()})}),function Xv(i,s,a){try{const e=a();return Yl(e)?e.catch(n=>{throw s.runOutsideAngular(()=>i.handleError(n)),n}):e}catch(e){throw s.runOutsideAngular(()=>i.handleError(e)),e}}(r,n,()=>{const o=t.injector.get(nD);return o.runInitializers(),o.donePromise.then(()=>(function LC(i){de(i,"Expected localeId to be defined"),"string"==typeof i&&(FC=i.toLowerCase().replace(/_/g,"-"))}(t.injector.get(Og,Pd)||Pd),this._moduleDoBootstrap(t),t))})})}bootstrapModule(a,e=[]){const n=Lb({},e);return function Pb(i,s,a){const e=new Fd(a);return Promise.resolve(e)}(0,0,a).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(a){const e=a.injector.get(Wd);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(n=>e.bootstrap(n));else{if(!a.instance.ngDoBootstrap)throw new z(-403,!1);a.instance.ngDoBootstrap(e)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e());const a=this._injector.get(Kv,null);a&&(a.forEach(e=>e()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(e){return new(e||i)(Et(Rs))}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"platform"})}}return i})();function Lb(i,s){return Array.isArray(s)?s.reduce(Lb,i):{...i,...s}}let Wd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=et(Ub),this.zoneIsStable=et(Um),this.componentTypes=[],this.components=[],this.isStable=et(iD).hasPendingTasks.pipe((0,me.n)(a=>a?(0,ie.of)(!1):this.zoneIsStable),(0,re.F)(),(0,oe.u)()),this._injector=et(ho)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,e){const n=a instanceof Jy;if(!this._injector.get(nD).done)throw!n&&Pi(a),new z(405,!1);let r;r=n?a:this._injector.get(Pf).resolveComponentFactory(a),this.componentTypes.push(r.componentType);const o=function qv(i){return i.isBoundToModule}(r)?void 0:this._injector.get(fu),l=r.create(Rs.NULL,[],e||r.selector,o),h=l.location.nativeElement,m=l.injector.get(yh,null);return m?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ch(this.components,l),m?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const e=a;this._views.push(e),e.attachToAppRef(this)}detachView(a){const e=a;Ch(this._views,e),e.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const e=this._injector.get(Lg,[]);e.push(...this._bootstrapListeners),e.forEach(n=>n(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ch(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new z(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Ch(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const Ub=new Fe("",{providedIn:"root",factory:()=>et(Qo).handleError.bind(void 0)});function TT(){const i=et(dn),s=et(Qo);return a=>i.runOutsideAngular(()=>s.handleError(a))}let ST=(()=>{class i{constructor(){this.zone=et(dn),this.applicationRef=et(Wd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=Ne({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function fD(){return!1}let jb=(()=>{class i{static{this.__NG_ELEMENT_ID__=OT}}return i})();function OT(i){return function pD(i,s,a){if(kn(i)&&!a){const e=mr(i.index,s);return new ea(e,e)}return 47&i.type?new ea(s[on],s):null}(an(),fe(),16==(16&i))}class yD{constructor(){}supports(s){return Op(s)}create(s){return new Kb(s)}}const ED=(i,s)=>s;class Kb{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||ED}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,e=this._removalsHead,n=0,t=null;for(;a||e;){const r=!e||a&&a.currentIndex<ry(e,n,t)?a:e,o=ry(r,n,t),u=r.currentIndex;if(r===e)n--,e=e._nextRemoved;else if(a=a._next,null==r.previousIndex)n++;else{t||(t=[]);const l=o-n,h=u-n;if(l!=h){for(let y=0;y<l;y++){const I=y<t.length?t[y]:t[y]=0,w=I+y;h<=w&&w<l&&(t[y]=I+1)}t[r.previousIndex]=h-l}}o!==u&&s(r,o,u)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Op(s))throw new z(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let n,t,r,a=this._itHead,e=!1;if(Array.isArray(s)){this.length=s.length;for(let o=0;o<this.length;o++)t=s[o],r=this._trackByFn(o,t),null!==a&&Object.is(a.trackById,r)?(e&&(a=this._verifyReinsertion(a,t,r,o)),Object.is(a.item,t)||this._addIdentityChange(a,t)):(a=this._mismatch(a,t,r,o),e=!0),a=a._next}else n=0,function P0(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let e;for(;!(e=a.next()).done;)s(e.value)}}(s,o=>{r=this._trackByFn(n,o),null!==a&&Object.is(a.trackById,r)?(e&&(a=this._verifyReinsertion(a,o,r,n)),Object.is(a.item,o)||this._addIdentityChange(a,o)):(a=this._mismatch(a,o,r,n),e=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,e,n){let t;return null===s?t=this._itTail:(t=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(e,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,t,n)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(e,n))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,t,n)):s=this._addAfter(new LT(a,e),t,n),s}_verifyReinsertion(s,a,e,n){let t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(e,null);return null!==t?s=this._reinsertAfter(t,s._prev,n):s.currentIndex!=n&&(s.currentIndex=n,this._addToMoves(s,n)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,e){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const n=s._prevRemoved,t=s._nextRemoved;return null===n?this._removalsHead=t:n._nextRemoved=t,null===t?this._removalsTail=n:t._prevRemoved=n,this._insertAfter(s,a,e),this._addToMoves(s,e),s}_moveAfter(s,a,e){return this._unlink(s),this._insertAfter(s,a,e),this._addToMoves(s,e),s}_addAfter(s,a,e){return this._insertAfter(s,a,e),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,e){const n=null===a?this._itHead:a._next;return s._next=n,s._prev=a,null===n?this._itTail=s:n._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new CD),this._linkedRecords.put(s),s.currentIndex=e,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,e=s._next;return null===a?this._itHead=e:a._next=e,null===e?this._itTail=a:e._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CD),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class LT{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ny{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let e;for(e=this._head;null!==e;e=e._nextDup)if((null===a||a<=e.currentIndex)&&Object.is(e.trackById,s))return e;return null}remove(s){const a=s._prevDup,e=s._nextDup;return null===a?this._head=e:a._nextDup=e,null===e?this._tail=a:e._prevDup=a,null===this._head}}class CD{constructor(){this.map=new Map}put(s){const a=s.trackById;let e=this.map.get(a);e||(e=new ny,this.map.set(a,e)),e.add(s)}get(s,a){const n=this.map.get(s);return n?n.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ry(i,s,a){const e=i.previousIndex;if(null===e)return e;let n=0;return a&&e<a.length&&(n=a[e]),e+s+n}class iy{constructor(){}supports(s){return s instanceof Map||Pp(s)}create(){return new oc}}class oc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Pp(s)))throw new z(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(e,n)=>{if(a&&a.key===n)this._maybeAddToChanges(a,e),this._appendAfter=a,a=a._next;else{const t=this._getOrCreateRecordForKey(n,e);a=this._insertBeforeOrAppend(a,t)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let e=a;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const e=s._prev;return a._next=s,a._prev=e,s._prev=a,e&&(e._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const n=this._records.get(s);this._maybeAddToChanges(n,a);const t=n._prev,r=n._next;return t&&(t._next=r),r&&(r._prev=t),n._next=null,n._prev=null,n}const e=new qb(s);return this._records.set(s,e),e.currentValue=a,this._addToAdditions(e),e}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(e=>a(s[e],e))}}class qb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sy(){return new oy([new yD])}let oy=(()=>{class i{static{this.\u0275prov=Ne({token:i,providedIn:"root",factory:sy})}constructor(a){this.factories=a}static create(a,e){if(null!=e){const n=e.factories.slice();a=a.concat(n)}return new i(a)}static extend(a){return{provide:i,useFactory:e=>i.create(a,e||sy()),deps:[[i,new Uc,new Vc]]}}find(a){const e=this.factories.find(n=>n.supports(a));if(null!=e)return e;throw new z(901,!1)}}return i})();function ID(){return new ay([new iy])}let ay=(()=>{class i{static{this.\u0275prov=Ne({token:i,providedIn:"root",factory:ID})}constructor(a){this.factories=a}static create(a,e){if(e){const n=e.factories.slice();a=a.concat(n)}return new i(a)}static extend(a){return{provide:i,useFactory:e=>i.create(a,e||ID()),deps:[[i,new Uc,new Vc]]}}find(a){const e=this.factories.find(n=>n.supports(a));if(e)return e;throw new z(901,!1)}}return i})();const Xb=Vg(null,"core",[]);let wD=(()=>{class i{constructor(a){}static{this.\u0275fac=function(e){return new(e||i)(Et(Wd))}}static{this.\u0275mod=ga({type:i})}static{this.\u0275inj=wt({})}}return i})();function uA(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function cA(i){const s=dt(i);if(!s)return null;const a=new na(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3345:(Ue,ce,A)=>{A.d(ce,{A:()=>Te});var d=A(1076),j=A(1362),T=A(7852),W=A(8041);class K{constructor(we,ye){this._delegate=we,this.firebase=ye,(0,T._addComponent)(we,new j.uA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(we,ye=T._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(we);return!Be.isInitialized()&&"EXPLICIT"===(null===(We=Be.getComponent())||void 0===We?void 0:We.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ye})}_removeServiceInstance(we,ye=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(ye)}_addComponent(we){(0,T._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,T._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),R=function re(){const ge=function me(ge){const we={},ye={__esModule:!0,initializeApp:function z(ve,Ae={}){const Z=T.initializeApp(ve,Ae);if((0,d.gR)(we,Z.name))return we[Z.name];const Ke=new ge(Z,ye);return we[Z.name]=Ke,Ke},app:Be,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function G(ve){const Ae=ve.name,Z=Ae.replace("-compat","");if(T._registerComponent(ve)&&"PUBLIC"===ve.type){const Ke=(ut=Be())=>{if("function"!=typeof ut[Z])throw oe.create("invalid-app-argument",{appName:Ae});return ut[Z]()};void 0!==ve.serviceProps&&(0,d.zw)(Ke,ve.serviceProps),ye[Z]=Ke,ge.prototype[Z]=function(...ut){return this._getService.bind(this,Ae).apply(this,ve.multipleInstances?ut:[])}}return"PUBLIC"===ve.type?ye[Z]:null},removeApp:function We(ve){delete we[ve]},useAsService:function le(ve,Ae){return"serverAuth"===Ae?null:Ae},modularAPIs:T}};function Be(ve){if(!(0,d.gR)(we,ve=ve||T._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:ve});return we[ve]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function ae(){return Object.keys(we).map(ve=>we[ve])}}),Be.App=ge,ye}(K);return ge.INTERNAL=Object.assign(Object.assign({},ge.INTERNAL),{createFirebaseNamespace:re,extendNamespace:function we(ye){(0,d.zw)(ge,ye)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),ge}(),x=new W.Vy("@firebase/app-compat");if((0,d.Bd)()&&void 0!==self.firebase){x.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ge=self.firebase.SDK_VERSION;ge&&ge.indexOf("LITE")>=0&&x.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=R;!function he(ge){(0,T.registerVersion)("@firebase/app-compat","0.2.13",ge)}()},7852:(Ue,ce,A)=>{A.r(ce),A.d(ce,{FirebaseError:()=>W.g,SDK_VERSION:()=>Wr,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>jt,_addOrOverwriteComponent:()=>Yn,_apps:()=>Xe,_clearComponents:()=>Fe,_components:()=>Nt,_getProvider:()=>Dn,_registerComponent:()=>bt,_removeServiceInstance:()=>Vs,deleteApp:()=>Nr,getApp:()=>Hn,getApps:()=>Oi,initializeApp:()=>Us,onLog:()=>ci,registerVersion:()=>gn,setLogLevel:()=>$t});var d=A(467),j=A(1362),T=A(8041),W=A(1076);const K=(se,H)=>H.some(_e=>se instanceof _e);let ie,oe;const R=new WeakMap,x=new WeakMap,B=new WeakMap,Ee=new WeakMap,he=new WeakMap;let we={get(se,H,_e){if(se instanceof IDBTransaction){if("done"===H)return x.get(se);if("objectStoreNames"===H)return se.objectStoreNames||B.get(se);if("store"===H)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return z(se[H])},set:(se,H,_e)=>(se[H]=_e,!0),has:(se,H)=>se instanceof IDBTransaction&&("done"===H||"store"===H)||H in se};function Be(se){return"function"==typeof se?function We(se){return se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(se)?function(...H){return se.apply(ae(this),H),z(R.get(this))}:function(...H){return z(se.apply(ae(this),H))}:function(H,..._e){const xe=se.call(ae(this),H,..._e);return B.set(xe,H.sort?H.sort():[H]),z(xe)}}(se):(se instanceof IDBTransaction&&function ge(se){if(x.has(se))return;const H=new Promise((_e,xe)=>{const je=()=>{se.removeEventListener("complete",Me),se.removeEventListener("error",_t),se.removeEventListener("abort",_t)},Me=()=>{_e(),je()},_t=()=>{xe(se.error||new DOMException("AbortError","AbortError")),je()};se.addEventListener("complete",Me),se.addEventListener("error",_t),se.addEventListener("abort",_t)});x.set(se,H)}(se),K(se,function me(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(se,we):se)}function z(se){if(se instanceof IDBRequest)return function Te(se){const H=new Promise((_e,xe)=>{const je=()=>{se.removeEventListener("success",Me),se.removeEventListener("error",_t)},Me=()=>{_e(z(se.result)),je()},_t=()=>{xe(se.error),je()};se.addEventListener("success",Me),se.addEventListener("error",_t)});return H.then(_e=>{_e instanceof IDBCursor&&R.set(_e,se)}).catch(()=>{}),he.set(H,se),H}(se);if(Ee.has(se))return Ee.get(se);const H=Be(se);return H!==se&&(Ee.set(se,H),he.set(H,se)),H}const ae=se=>he.get(se),ve=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Z=new Map;function Ke(se,H){if(!(se instanceof IDBDatabase)||H in se||"string"!=typeof H)return;if(Z.get(H))return Z.get(H);const _e=H.replace(/FromIndex$/,""),xe=H!==_e,je=Ae.includes(_e);if(!(_e in(xe?IDBIndex:IDBObjectStore).prototype)||!je&&!ve.includes(_e))return;const Me=function(){var _t=(0,d.A)(function*(tn,...qt){const Gr=this.transaction(tn,je?"readwrite":"readonly");let Zn=Gr.store;return xe&&(Zn=Zn.index(qt.shift())),(yield Promise.all([Zn[_e](...qt),je&&Gr.done]))[0]});return function(qt){return _t.apply(this,arguments)}}();return Z.set(H,Me),Me}!function ye(se){we=se(we)}(se=>({...se,get:(H,_e,xe)=>Ke(H,_e)||se.get(H,_e,xe),has:(H,_e)=>!!Ke(H,_e)||se.has(H,_e)}));class ut{constructor(H){this.container=H}getPlatformInfoString(){return this.container.getProviders().map(_e=>{if(function In(se){const H=se.getComponent();return"VERSION"===H?.type}(_e)){const xe=_e.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(_e=>_e).join(" ")}}const qn="@firebase/app",Jt=new T.Vy("@firebase/app"),$e="[DEFAULT]",lt={[qn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Nt=new Map;function jt(se,H){try{se.container.addComponent(H)}catch(_e){Jt.debug(`Component ${H.name} failed to register with FirebaseApp ${se.name}`,_e)}}function Yn(se,H){se.container.addOrOverwriteComponent(H)}function bt(se){const H=se.name;if(Nt.has(H))return Jt.debug(`There were multiple attempts to register component ${H}.`),!1;Nt.set(H,se);for(const _e of Xe.values())jt(_e,se);return!0}function Dn(se,H){const _e=se.container.getProvider("heartbeat").getImmediate({optional:!0});return _e&&_e.triggerHeartbeat(),se.container.getProvider(H)}function Vs(se,H,_e=$e){Dn(se,H).clearInstance(_e)}function Fe(){Nt.clear()}const ot=new W.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class li{constructor(H,_e,xe){this._isDeleted=!1,this._options=Object.assign({},H),this._config=Object.assign({},_e),this._name=_e.name,this._automaticDataCollectionEnabled=_e.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new j.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(H){this.checkDestroyed(),this._automaticDataCollectionEnabled=H}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(H){this._isDeleted=H}checkDestroyed(){if(this.isDeleted)throw ot.create("app-deleted",{appName:this._name})}}const Wr="9.23.0";function Us(se,H={}){let _e=se;"object"!=typeof H&&(H={name:H});const xe=Object.assign({name:$e,automaticDataCollectionEnabled:!1},H),je=xe.name;if("string"!=typeof je||!je)throw ot.create("bad-app-name",{appName:String(je)});if(_e||(_e=(0,W.T9)()),!_e)throw ot.create("no-options");const Me=Xe.get(je);if(Me){if((0,W.bD)(_e,Me.options)&&(0,W.bD)(xe,Me.config))return Me;throw ot.create("duplicate-app",{appName:je})}const _t=new j.h1(je);for(const qt of Nt.values())_t.addComponent(qt);const tn=new li(_e,xe,_t);return Xe.set(je,tn),tn}function Hn(se=$e){const H=Xe.get(se);if(!H&&se===$e&&(0,W.T9)())return Us();if(!H)throw ot.create("no-app",{appName:se});return H}function Oi(){return Array.from(Xe.values())}function Nr(se){return pn.apply(this,arguments)}function pn(){return(pn=(0,d.A)(function*(se){const H=se.name;Xe.has(H)&&(Xe.delete(H),yield Promise.all(se.container.getProviders().map(_e=>_e.delete())),se.isDeleted=!0)})).apply(this,arguments)}function gn(se,H,_e){var xe;let je=null!==(xe=lt[se])&&void 0!==xe?xe:se;_e&&(je+=`-${_e}`);const Me=je.match(/\s|\//),_t=H.match(/\s|\//);if(Me||_t){const tn=[`Unable to register library "${je}" with version "${H}":`];return Me&&tn.push(`library name "${je}" contains illegal characters (whitespace or "/")`),Me&&_t&&tn.push("and"),_t&&tn.push(`version name "${H}" contains illegal characters (whitespace or "/")`),void Jt.warn(tn.join(" "))}bt(new j.uA(`${je}-version`,()=>({library:je,version:H}),"VERSION"))}function ci(se,H){if(null!==se&&"function"!=typeof se)throw ot.create("invalid-log-argument");(0,T.Ey)(se,H)}function $t(se){(0,T.He)(se)}const Or="firebase-heartbeat-database",$n=1,O="firebase-heartbeat-store";let N=null;function F(){return N||(N=function G(se,H,{blocked:_e,upgrade:xe,blocking:je,terminated:Me}={}){const _t=indexedDB.open(se,H),tn=z(_t);return xe&&_t.addEventListener("upgradeneeded",qt=>{xe(z(_t.result),qt.oldVersion,qt.newVersion,z(_t.transaction),qt)}),_e&&_t.addEventListener("blocked",qt=>_e(qt.oldVersion,qt.newVersion,qt)),tn.then(qt=>{Me&&qt.addEventListener("close",()=>Me()),je&&qt.addEventListener("versionchange",Gr=>je(Gr.oldVersion,Gr.newVersion,Gr))}).catch(()=>{}),tn}(Or,$n,{upgrade:(se,H)=>{0===H&&se.createObjectStore(O)}}).catch(se=>{throw ot.create("idb-open",{originalErrorMessage:se.message})})),N}function Y(){return(Y=(0,d.A)(function*(se){try{return yield(yield F()).transaction(O).objectStore(O).get(mt(se))}catch(H){if(H instanceof W.g)Jt.warn(H.message);else{const _e=ot.create("idb-get",{originalErrorMessage:H?.message});Jt.warn(_e.message)}}})).apply(this,arguments)}function Oe(se,H){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,d.A)(function*(se,H){try{const xe=(yield F()).transaction(O,"readwrite");yield xe.objectStore(O).put(H,mt(se)),yield xe.done}catch(_e){if(_e instanceof W.g)Jt.warn(_e.message);else{const xe=ot.create("idb-set",{originalErrorMessage:_e?.message});Jt.warn(xe.message)}}})).apply(this,arguments)}function mt(se){return`${se.name}!${se.options.appId}`}class et{constructor(H){this.container=H,this._heartbeatsCache=null;const _e=this.container.getProvider("app").getImmediate();this._storage=new Xn(_e),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var H=this;return(0,d.A)(function*(){const xe=H.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),je=ht();if(null===H._heartbeatsCache&&(H._heartbeatsCache=yield H._heartbeatsCachePromise),H._heartbeatsCache.lastSentHeartbeatDate!==je&&!H._heartbeatsCache.heartbeats.some(Me=>Me.date===je))return H._heartbeatsCache.heartbeats.push({date:je,agent:xe}),H._heartbeatsCache.heartbeats=H._heartbeatsCache.heartbeats.filter(Me=>{const _t=new Date(Me.date).valueOf();return Date.now()-_t<=2592e6}),H._storage.overwrite(H._heartbeatsCache)})()}getHeartbeatsHeader(){var H=this;return(0,d.A)(function*(){if(null===H._heartbeatsCache&&(yield H._heartbeatsCachePromise),null===H._heartbeatsCache||0===H._heartbeatsCache.heartbeats.length)return"";const _e=ht(),{heartbeatsToSend:xe,unsentEntries:je}=function wn(se,H=1024){const _e=[];let xe=se.slice();for(const je of se){const Me=_e.find(_t=>_t.agent===je.agent);if(Me){if(Me.dates.push(je.date),di(_e)>H){Me.dates.pop();break}}else if(_e.push({agent:je.agent,dates:[je.date]}),di(_e)>H){_e.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:_e,unsentEntries:xe}}(H._heartbeatsCache.heartbeats),Me=(0,W.Uj)(JSON.stringify({version:2,heartbeats:xe}));return H._heartbeatsCache.lastSentHeartbeatDate=_e,je.length>0?(H._heartbeatsCache.heartbeats=je,yield H._storage.overwrite(H._heartbeatsCache)):(H._heartbeatsCache.heartbeats=[],H._storage.overwrite(H._heartbeatsCache)),Me})()}}function ht(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(H){this.app=H,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,W.zW)()&&(0,W.eX)().then(()=>!0).catch(()=>!1)})()}read(){var H=this;return(0,d.A)(function*(){return(yield H._canUseIndexedDBPromise)&&(yield function ue(se){return Y.apply(this,arguments)}(H.app))||{heartbeats:[]}})()}overwrite(H){var _e=this;return(0,d.A)(function*(){var xe;if(yield _e._canUseIndexedDBPromise){const Me=yield _e.read();return Oe(_e.app,{lastSentHeartbeatDate:null!==(xe=H.lastSentHeartbeatDate)&&void 0!==xe?xe:Me.lastSentHeartbeatDate,heartbeats:H.heartbeats})}})()}add(H){var _e=this;return(0,d.A)(function*(){var xe;if(yield _e._canUseIndexedDBPromise){const Me=yield _e.read();return Oe(_e.app,{lastSentHeartbeatDate:null!==(xe=H.lastSentHeartbeatDate)&&void 0!==xe?xe:Me.lastSentHeartbeatDate,heartbeats:[...Me.heartbeats,...H.heartbeats]})}})()}}function di(se){return(0,W.Uj)(JSON.stringify({version:2,heartbeats:se})).length}!function Eo(se){bt(new j.uA("platform-logger",H=>new ut(H),"PRIVATE")),bt(new j.uA("heartbeat",H=>new et(H),"PRIVATE")),gn(qn,"0.9.13",se),gn(qn,"0.9.13","esm2017"),gn("fire-js","")}("")},1362:(Ue,ce,A)=>{A.d(ce,{Kq:()=>K,h1:()=>me,uA:()=>T});var d=A(467),j=A(1076);class T{constructor(R,x,B){this.name=R,this.instanceFactory=x,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(R){return this.instantiationMode=R,this}setMultipleInstances(R){return this.multipleInstances=R,this}setServiceProps(R){return this.serviceProps=R,this}setInstanceCreatedCallback(R){return this.onInstanceCreated=R,this}}const W="[DEFAULT]";class K{constructor(R,x){this.name=R,this.container=x,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(R){const x=this.normalizeInstanceIdentifier(R);if(!this.instancesDeferred.has(x)){const B=new j.cY;if(this.instancesDeferred.set(x,B),this.isInitialized(x)||this.shouldAutoInitialize())try{const Ee=this.getOrInitializeService({instanceIdentifier:x});Ee&&B.resolve(Ee)}catch{}}return this.instancesDeferred.get(x).promise}getImmediate(R){var x;const B=this.normalizeInstanceIdentifier(R?.identifier),Ee=null!==(x=R?.optional)&&void 0!==x&&x;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(Ee)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(he){if(Ee)return null;throw he}}getComponent(){return this.component}setComponent(R){if(R.name!==this.name)throw Error(`Mismatching Component ${R.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=R,this.shouldAutoInitialize()){if(function oe(re){return"EAGER"===re.instantiationMode}(R))try{this.getOrInitializeService({instanceIdentifier:W})}catch{}for(const[x,B]of this.instancesDeferred.entries()){const Ee=this.normalizeInstanceIdentifier(x);try{const he=this.getOrInitializeService({instanceIdentifier:Ee});B.resolve(he)}catch{}}}}clearInstance(R=W){this.instancesDeferred.delete(R),this.instancesOptions.delete(R),this.instances.delete(R)}delete(){var R=this;return(0,d.A)(function*(){const x=Array.from(R.instances.values());yield Promise.all([...x.filter(B=>"INTERNAL"in B).map(B=>B.INTERNAL.delete()),...x.filter(B=>"_delete"in B).map(B=>B._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(R=W){return this.instances.has(R)}getOptions(R=W){return this.instancesOptions.get(R)||{}}initialize(R={}){const{options:x={}}=R,B=this.normalizeInstanceIdentifier(R.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ee=this.getOrInitializeService({instanceIdentifier:B,options:x});for(const[he,Te]of this.instancesDeferred.entries())B===this.normalizeInstanceIdentifier(he)&&Te.resolve(Ee);return Ee}onInit(R,x){var B;const Ee=this.normalizeInstanceIdentifier(x),he=null!==(B=this.onInitCallbacks.get(Ee))&&void 0!==B?B:new Set;he.add(R),this.onInitCallbacks.set(Ee,he);const Te=this.instances.get(Ee);return Te&&R(Te,Ee),()=>{he.delete(R)}}invokeOnInitCallbacks(R,x){const B=this.onInitCallbacks.get(x);if(B)for(const Ee of B)try{Ee(R,x)}catch{}}getOrInitializeService({instanceIdentifier:R,options:x={}}){let B=this.instances.get(R);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(re=R,re===W?void 0:re),options:x}),this.instances.set(R,B),this.instancesOptions.set(R,x),this.invokeOnInitCallbacks(B,R),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,R,B)}catch{}var re;return B||null}normalizeInstanceIdentifier(R=W){return this.component?this.component.multipleInstances?R:W:R}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(R){this.name=R,this.providers=new Map}addComponent(R){const x=this.getProvider(R.name);if(x.isComponentSet())throw new Error(`Component ${R.name} has already been registered with ${this.name}`);x.setComponent(R)}addOrOverwriteComponent(R){this.getProvider(R.name).isComponentSet()&&this.providers.delete(R.name),this.addComponent(R)}getProvider(R){if(this.providers.has(R))return this.providers.get(R);const x=new K(R,this);return this.providers.set(R,x),x}getProviders(){return Array.from(this.providers.values())}}},8041:(Ue,ce,A)=>{A.d(ce,{$b:()=>j,Ey:()=>re,He:()=>me,Vy:()=>oe});const d=[];var j=function(R){return R[R.DEBUG=0]="DEBUG",R[R.VERBOSE=1]="VERBOSE",R[R.INFO=2]="INFO",R[R.WARN=3]="WARN",R[R.ERROR=4]="ERROR",R[R.SILENT=5]="SILENT",R}(j||{});const T={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},W=j.INFO,K={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},ie=(R,x,...B)=>{if(x<R.logLevel)return;const Ee=(new Date).toISOString(),he=K[x];if(!he)throw new Error(`Attempted to log a message with an invalid logType (value: ${x})`);console[he](`[${Ee}]  ${R.name}:`,...B)};class oe{constructor(x){this.name=x,this._logLevel=W,this._logHandler=ie,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(x){if(!(x in j))throw new TypeError(`Invalid value "${x}" assigned to \`logLevel\``);this._logLevel=x}setLogLevel(x){this._logLevel="string"==typeof x?T[x]:x}get logHandler(){return this._logHandler}set logHandler(x){if("function"!=typeof x)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=x}get userLogHandler(){return this._userLogHandler}set userLogHandler(x){this._userLogHandler=x}debug(...x){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...x),this._logHandler(this,j.DEBUG,...x)}log(...x){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...x),this._logHandler(this,j.VERBOSE,...x)}info(...x){this._userLogHandler&&this._userLogHandler(this,j.INFO,...x),this._logHandler(this,j.INFO,...x)}warn(...x){this._userLogHandler&&this._userLogHandler(this,j.WARN,...x),this._logHandler(this,j.WARN,...x)}error(...x){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...x),this._logHandler(this,j.ERROR,...x)}}function me(R){d.forEach(x=>{x.setLogLevel(R)})}function re(R,x){for(const B of d){let Ee=null;x&&x.level&&(Ee=T[x.level]),B.userLogHandler=null===R?null:(he,Te,...ge)=>{const we=ge.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Te>=(Ee??he.logLevel)&&R({level:j[Te].toLowerCase(),message:we,args:ge,type:he.name})}}}},2214:(Ue,ce,A)=>{A.d(ce,{Dk:()=>d.getApps,Sx:()=>d.getApp});var d=A(7852);(0,d.registerVersion)("firebase","9.23.0","app")},7935:(Ue,ce,A)=>{A.d(ce,{A:()=>d.A});var d=A(3345);d.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Ue,ce,A)=>{var d=A(467),j=A(3345),T=A(1076),W=A(7852),K=A(1635),ie=A(8041),oe=A(1362);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Te=function Ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ge=function he(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new T.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new ie.Vy("@firebase/auth");function z(p,...c){We.logLevel<=ie.$b.ERROR&&We.error(`Auth (${W.SDK_VERSION}): ${p}`,...c)}function ae(p,...c){throw Ae(p,...c)}function G(p,...c){return Ae(p,...c)}function le(p,c,f){const g=Object.assign(Object.assign({},ge()),{[c]:f});return new T.FA("auth","Firebase",g).create(c,{appName:p.name})}function ve(p,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&ae(p,"argument-error"),le(p,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ae(p,...c){if("string"!=typeof p){const f=c[0],g=[...c.slice(1)];return g[0]&&(g[0].appName=p.name),p._errorFactory.create(f,...g)}return we.create(p,...c)}function Z(p,c,...f){if(!p)throw Ae(c,...f)}function Ke(p){const c="INTERNAL ASSERTION FAILED: "+p;throw z(c),new Error(c)}function ut(p,c){p||Ke(c)}function In(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function qn(){return"http:"===oi()||"https:"===oi()}function oi(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class ai{constructor(c,f){this.shortDelay=c,this.longDelay=f,ut(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,T.jZ)()||(0,T.lV)()}get(){return function Jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qn()||(0,T.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ri(p,c){ut(p.emulator,"Emulator should always be set here");const{url:f}=p.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class ui{static initialize(c,f,g){this.fetchImpl=c,f&&(this.headersImpl=f),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},te=new ai(3e4,6e4);function $(p,c){return p.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:p.tenantId}):c}function X(p,c,f,g){return de.apply(this,arguments)}function de(){return(de=(0,d.A)(function*(p,c,f,g,E={}){return J(p,E,(0,d.A)(function*(){let D={},P={};g&&("GET"===c?P=g:D={body:JSON.stringify(g)});const V=(0,T.Am)(Object.assign({key:p.config.apiKey},P)).slice(1),pe=yield p._getAdditionalHeaders();return pe["Content-Type"]="application/json",p.languageCode&&(pe["X-Firebase-Locale"]=p.languageCode),ui.fetch()(Ne(p,p.config.apiHost,f,V),Object.assign({method:c,headers:pe,referrerPolicy:"no-referrer"},D))}))})).apply(this,arguments)}function J(p,c,f){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,d.A)(function*(p,c,f){p._canInitEmulator=!1;const g=Object.assign(Object.assign({},Q),c);try{const E=new xt(p),D=yield Promise.race([f(),E.promise]);E.clearNetworkTimeout();const P=yield D.json();if("needConfirmation"in P)throw wt(p,"account-exists-with-different-credential",P);if(D.ok&&!("errorMessage"in P))return P;{const V=D.ok?P.errorMessage:P.error.message,[pe,Ce]=V.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===pe)throw wt(p,"credential-already-in-use",P);if("EMAIL_EXISTS"===pe)throw wt(p,"email-already-in-use",P);if("USER_DISABLED"===pe)throw wt(p,"user-disabled",P);const Re=g[pe]||pe.toLowerCase().replace(/[_\s]+/g,"-");if(Ce)throw le(p,Re,Ce);ae(p,Re)}}catch(E){if(E instanceof T.g)throw E;ae(p,"network-request-failed",{message:String(E)})}})).apply(this,arguments)}function st(p,c,f,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.A)(function*(p,c,f,g,E={}){const D=yield X(p,c,f,g,E);return"mfaPendingCredential"in D&&ae(p,"multi-factor-auth-required",{_serverResponse:D}),D})).apply(this,arguments)}function Ne(p,c,f,g){const E=`${c}${f}?${g}`;return p.config.emulator?Ri(p.config,E):`${p.config.apiScheme}://${E}`}class xt{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,g)=>{this.timer=setTimeout(()=>g(G(this.auth,"network-request-failed")),te.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wt(p,c,f){const g={appName:p.name};f.email&&(g.email=f.email),f.phoneNumber&&(g.phoneNumber=f.phoneNumber);const E=G(p,c,g);return E.customData._tokenResponse=f,E}function Je(){return(Je=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function sn(){return(sn=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Kt(){return(Kt=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function hr(p){if(p)try{const c=new Date(Number(p));if(!isNaN(c.getTime()))return c.toUTCString()}catch{}}function $e(){return($e=(0,d.A)(function*(p,c=!1){const f=(0,T.Ku)(p),g=yield f.getIdToken(c),E=Xe(g);Z(E&&E.exp&&E.auth_time&&E.iat,f.auth,"internal-error");const D="object"==typeof E.firebase?E.firebase:void 0,P=D?.sign_in_provider;return{claims:E,token:g,authTime:hr(lt(E.auth_time)),issuedAtTime:hr(lt(E.iat)),expirationTime:hr(lt(E.exp)),signInProvider:P||null,signInSecondFactor:D?.sign_in_second_factor||null}})).apply(this,arguments)}function lt(p){return 1e3*Number(p)}function Xe(p){const[c,f,g]=p.split(".");if(void 0===c||void 0===f||void 0===g)return z("JWT malformed, contained fewer than 3 sections"),null;try{const E=(0,T.u)(f);return E?JSON.parse(E):(z("Failed to decode base64 JWT payload"),null)}catch(E){return z("Caught error parsing JWT payload as JSON",E?.toString()),null}}function jt(p,c){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,d.A)(function*(p,c,f=!1){if(f)return c;try{return yield c}catch(g){throw g instanceof T.g&&function bt({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}(g)&&p.auth.currentUser===p&&(yield p.auth.signOut()),g}})).apply(this,arguments)}class Dn{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const E=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,E)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const g=this.getInterval(c);this.timerId=setTimeout((0,d.A)(function*(){yield f.iteration()}),g)}iteration(){var c=this;return(0,d.A)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f?.code&&c.schedule(!0))}c.schedule()})()}}class Vs{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fe(p){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,d.A)(function*(p){var c;const f=p.auth,g=yield p.getIdToken(),E=yield jt(p,function hn(p,c){return Kt.apply(this,arguments)}(f,{idToken:g}));Z(E?.users.length,f,"internal-error");const D=E.users[0];p._notifyReloadListener(D);const P=null!==(c=D.providerUserInfo)&&void 0!==c&&c.length?function Us(p){return p.map(c=>{var{providerId:f}=c,g=(0,K.Tt)(c,["providerId"]);return{providerId:f,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}(D.providerUserInfo):[],V=function Wr(p,c){return[...p.filter(g=>!c.some(E=>E.providerId===g.providerId)),...c]}(p.providerData,P),Re=!!p.isAnonymous&&!(p.email&&D.passwordHash||V?.length),Pe={uid:D.localId,displayName:D.displayName||null,photoURL:D.photoUrl||null,email:D.email||null,emailVerified:D.emailVerified||!1,phoneNumber:D.phoneNumber||null,tenantId:D.tenantId||null,providerData:V,metadata:new Vs(D.createdAt,D.lastLoginAt),isAnonymous:Re};Object.assign(p,Pe)}),Qn.apply(this,arguments)}function li(){return(li=(0,d.A)(function*(p){const c=(0,T.Ku)(p);yield Fe(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Oi(){return(Oi=(0,d.A)(function*(p,c){const f=yield J(p,{},(0,d.A)(function*(){const g=(0,T.Am)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:E,apiKey:D}=p.config,P=Ne(p,E,"/v1/token",`key=${D}`),V=yield p._getAdditionalHeaders();return V["Content-Type"]="application/x-www-form-urlencoded",ui.fetch()(P,{method:"POST",headers:V,body:g})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Z(c.idToken,"internal-error"),Z(typeof c.idToken<"u","internal-error"),Z(typeof c.refreshToken<"u","internal-error");const f="expiresIn"in c&&typeof c.expiresIn<"u"?Number(c.expiresIn):function Nt(p){const c=Xe(p);return Z(c,"internal-error"),Z(typeof c.exp<"u","internal-error"),Z(typeof c.iat<"u","internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var g=this;return(0,d.A)(function*(){return Z(!g.accessToken||g.refreshToken,c,"user-token-expired"),f||!g.accessToken||g.isExpired?g.refreshToken?(yield g.refresh(c,g.refreshToken),g.accessToken):null:g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var g=this;return(0,d.A)(function*(){const{accessToken:E,refreshToken:D,expiresIn:P}=yield function Hn(p,c){return Oi.apply(this,arguments)}(c,f);g.updateTokensAndExpiration(E,D,Number(P))})()}updateTokensAndExpiration(c,f,g){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(c,f){const{refreshToken:g,accessToken:E,expirationTime:D}=f,P=new Nr;return g&&(Z("string"==typeof g,"internal-error",{appName:c}),P.refreshToken=g),E&&(Z("string"==typeof E,"internal-error",{appName:c}),P.accessToken=E),D&&(Z("number"==typeof D,"internal-error",{appName:c}),P.expirationTime=D),P}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Nr,this.toJSON())}_performRefresh(){return Ke("not implemented")}}function pn(p,c){Z("string"==typeof p||typeof p>"u","internal-error",{appName:c})}class gn{constructor(c){var{uid:f,auth:g,stsTokenManager:E}=c,D=(0,K.Tt)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=g,this.stsTokenManager=E,this.accessToken=E.accessToken,this.displayName=D.displayName||null,this.email=D.email||null,this.emailVerified=D.emailVerified||!1,this.phoneNumber=D.phoneNumber||null,this.photoURL=D.photoURL||null,this.isAnonymous=D.isAnonymous||!1,this.tenantId=D.tenantId||null,this.providerData=D.providerData?[...D.providerData]:[],this.metadata=new Vs(D.createdAt||void 0,D.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,d.A)(function*(){const g=yield jt(f,f.stsTokenManager.getToken(f.auth,c));return Z(g,f.auth,"internal-error"),f.accessToken!==g&&(f.accessToken=g,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),g})()}getIdTokenResult(c){return function yo(p){return $e.apply(this,arguments)}(this,c)}reload(){return function ot(p){return li.apply(this,arguments)}(this)}_assign(c){this!==c&&(Z(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){const f=new gn(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}));return f.metadata._copy(this.metadata),f}_onReload(c){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var g=this;return(0,d.A)(function*(){let E=!1;c.idToken&&c.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(c),E=!0),f&&(yield Fe(g)),yield g.auth._persistUserIfCurrent(g),E&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var c=this;return(0,d.A)(function*(){const f=yield c.getIdToken();return yield jt(c,function jn(p,c){return Je.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var g,E,D,P,V,pe,Ce,Re;const Pe=null!==(g=f.displayName)&&void 0!==g?g:void 0,Qt=null!==(E=f.email)&&void 0!==E?E:void 0,Br=null!==(D=f.phoneNumber)&&void 0!==D?D:void 0,lo=null!==(P=f.photoURL)&&void 0!==P?P:void 0,If=null!==(V=f.tenantId)&&void 0!==V?V:void 0,co=null!==(pe=f._redirectEventId)&&void 0!==pe?pe:void 0,Qi=null!==(Ce=f.createdAt)&&void 0!==Ce?Ce:void 0,Wo=null!==(Re=f.lastLoginAt)&&void 0!==Re?Re:void 0,{uid:Cl,emailVerified:Il,isAnonymous:qa,providerData:Go,stsTokenManager:Qh}=f;Z(Cl&&Qh,c,"internal-error");const em=Nr.fromJSON(this.name,Qh);Z("string"==typeof Cl,c,"internal-error"),pn(Pe,c.name),pn(Qt,c.name),Z("boolean"==typeof Il,c,"internal-error"),Z("boolean"==typeof qa,c,"internal-error"),pn(Br,c.name),pn(lo,c.name),pn(If,c.name),pn(co,c.name),pn(Qi,c.name),pn(Wo,c.name);const Df=new gn({uid:Cl,auth:c,email:Qt,emailVerified:Il,displayName:Pe,isAnonymous:qa,photoURL:lo,phoneNumber:Br,tenantId:If,stsTokenManager:em,createdAt:Qi,lastLoginAt:Wo});return Go&&Array.isArray(Go)&&(Df.providerData=Go.map(tm=>Object.assign({},tm))),co&&(Df._redirectEventId=co),Df}static _fromIdTokenResponse(c,f,g=!1){return(0,d.A)(function*(){const E=new Nr;E.updateFromServerResponse(f);const D=new gn({uid:f.localId,auth:c,stsTokenManager:E,isAnonymous:g});return yield Fe(D),D})()}}const ci=new Map;function $t(p){ut(p instanceof Function,"Expected a class definition");let c=ci.get(p);return c?(ut(c instanceof p,"Instance stored in cache mismatched with class"),c):(c=new p,ci.set(p,c),c)}const $n=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(f,g){var E=this;return(0,d.A)(function*(){E.storage[f]=g})()}_get(f){var g=this;return(0,d.A)(function*(){const E=g.storage[f];return void 0===E?null:E})()}_remove(f){var g=this;return(0,d.A)(function*(){delete g.storage[f]})()}_addListener(f,g){}_removeListener(f,g){}}return p.type="NONE",p})();function O(p,c,f){return`firebase:${p}:${c}:${f}`}class N{constructor(c,f,g){this.persistence=c,this.auth=f,this.userKey=g;const{config:E,name:D}=this.auth;this.fullUserKey=O(this.userKey,E.apiKey,D),this.fullPersistenceKey=O("persistence",E.apiKey,D),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,d.A)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?gn._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,d.A)(function*(){if(f.persistence===c)return;const g=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,g?f.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,g="authUser"){return(0,d.A)(function*(){if(!f.length)return new N($t($n),c,g);const E=(yield Promise.all(f.map(function(){var Ce=(0,d.A)(function*(Re){if(yield Re._isAvailable())return Re});return function(Re){return Ce.apply(this,arguments)}}()))).filter(Ce=>Ce);let D=E[0]||$t($n);const P=O(g,c.config.apiKey,c.name);let V=null;for(const Ce of f)try{const Re=yield Ce._get(P);if(Re){const Pe=gn._fromJSON(c,Re);Ce!==D&&(V=Pe),D=Ce;break}}catch{}const pe=E.filter(Ce=>Ce._shouldAllowMigration);return D._shouldAllowMigration&&pe.length?(D=pe[0],V&&(yield D._set(P,V.toJSON())),yield Promise.all(f.map(function(){var Ce=(0,d.A)(function*(Re){if(Re!==D)try{yield Re._remove(P)}catch{}});return function(Re){return Ce.apply(this,arguments)}}())),new N(D,c,g)):new N(D,c,g)})()}}function F(p){const c=p.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(Ge(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(ue(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Et(c))return"Blackberry";if(en(c))return"Webos";if(Y(c))return"Safari";if((c.includes("chrome/")||Oe(c))&&!c.includes("edge/"))return"Chrome";if(mt(c))return"Android";{const g=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function ue(p=(0,T.ZQ)()){return/firefox\//i.test(p)}function Y(p=(0,T.ZQ)()){const c=p.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Oe(p=(0,T.ZQ)()){return/crios\//i.test(p)}function Ge(p=(0,T.ZQ)()){return/iemobile/i.test(p)}function mt(p=(0,T.ZQ)()){return/android/i.test(p)}function Et(p=(0,T.ZQ)()){return/blackberry/i.test(p)}function en(p=(0,T.ZQ)()){return/webos/i.test(p)}function et(p=(0,T.ZQ)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function di(p=(0,T.ZQ)()){return et(p)||mt(p)||en(p)||Et(p)||/windows phone/i.test(p)||Ge(p)}function se(p,c=[]){let f;switch(p){case"Browser":f=F((0,T.ZQ)());break;case"Worker":f=`${F((0,T.ZQ)())}-${p}`;break;default:f=p}const g=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${W.SDK_VERSION}/${g}`}function _e(){return(_e=(0,d.A)(function*(p){return(yield X(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xe(p,c){return je.apply(this,arguments)}function je(){return(je=(0,d.A)(function*(p,c){return X(p,"GET","/v2/recaptchaConfig",$(p,c))})).apply(this,arguments)}function Me(p){return void 0!==p&&void 0!==p.getResponse}function _t(p){return void 0!==p&&void 0!==p.enterprise}class tn{constructor(c){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===c.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=c.recaptchaKey.split("/")[3],this.emailPasswordEnabled=c.recaptchaEnforcementState.some(f=>"EMAIL_PASSWORD_PROVIDER"===f.provider&&"OFF"!==f.enforcementState)}}function Gr(p){return new Promise((c,f)=>{const g=document.createElement("script");g.setAttribute("src",p),g.onload=c,g.onerror=E=>{const D=G("internal-error");D.customData=E,f(D)},g.type="text/javascript",g.charset="UTF-8",function qt(){var p,c;return null!==(c=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==c?c:document}().appendChild(g)})}function Zn(p){return`__${p}${Math.floor(1e6*Math.random())}`}class ca{constructor(c){this.type="recaptcha-enterprise",this.auth=Yt(c)}verify(c="verify",f=!1){var g=this;return(0,d.A)(function*(){function D(){return D=(0,d.A)(function*(V){if(!f){if(null==V.tenantId&&null!=V._agentRecaptchaConfig)return V._agentRecaptchaConfig.siteKey;if(null!=V.tenantId&&void 0!==V._tenantRecaptchaConfigs[V.tenantId])return V._tenantRecaptchaConfigs[V.tenantId].siteKey}return new Promise(function(){var pe=(0,d.A)(function*(Ce,Re){xe(V,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Pe=>{if(void 0!==Pe.recaptchaKey){const Qt=new tn(Pe);return null==V.tenantId?V._agentRecaptchaConfig=Qt:V._tenantRecaptchaConfigs[V.tenantId]=Qt,Ce(Qt.siteKey)}Re(new Error("recaptcha Enterprise site key undefined"))}).catch(Pe=>{Re(Pe)})});return function(Ce,Re){return pe.apply(this,arguments)}}())}),D.apply(this,arguments)}function P(V,pe,Ce){const Re=window.grecaptcha;_t(Re)?Re.enterprise.ready(()=>{Re.enterprise.execute(V,{action:c}).then(Pe=>{pe(Pe)}).catch(()=>{pe("NO_RECAPTCHA")})}):Ce(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((V,pe)=>{(function E(V){return D.apply(this,arguments)})(g.auth).then(Ce=>{if(!f&&_t(window.grecaptcha))P(Ce,V,pe);else{if(typeof window>"u")return void pe(new Error("RecaptchaVerifier is only supported in browser"));Gr("https://www.google.com/recaptcha/enterprise.js?render="+Ce).then(()=>{P(Ce,V,pe)}).catch(Re=>{pe(Re)})}}).catch(Ce=>{pe(Ce)})})})()}}function Er(p,c,f){return da.apply(this,arguments)}function da(){return(da=(0,d.A)(function*(p,c,f,g=!1){const E=new ca(p);let D;try{D=yield E.verify(f)}catch{D=yield E.verify(f,!0)}const P=Object.assign({},c);return Object.assign(P,g?{captchaResp:D}:{captchaResponse:D}),Object.assign(P,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(P,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),P})).apply(this,arguments)}class is{constructor(c){this.auth=c,this.queue=[]}pushCallback(c,f){const g=D=>new Promise((P,V)=>{try{P(c(D))}catch(pe){V(pe)}});g.onAbort=f,this.queue.push(g);const E=this.queue.length-1;return()=>{this.queue[E]=()=>Promise.resolve()}}runMiddleware(c){var f=this;return(0,d.A)(function*(){if(f.auth.currentUser===c)return;const g=[];try{for(const E of f.queue)yield E(c),E.onAbort&&g.push(E.onAbort)}catch(E){g.reverse();for(const D of g)try{D()}catch{}throw f.auth._errorFactory.create("login-blocked",{originalMessage:E?.message})}})()}}class _u{constructor(c,f,g,E){this.app=c,this.heartbeatServiceProvider=f,this.appCheckServiceProvider=g,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Co(this),this.idTokenSubscription=new Co(this),this.beforeStateQueue=new is(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(c,f){var g=this;return f&&(this._popupRedirectResolver=$t(f)),this._initializationPromise=this.queue((0,d.A)(function*(){var E,D;if(!g._deleted&&(g.persistenceManager=yield N.create(g,c),!g._deleted)){if(null!==(E=g._popupRedirectResolver)&&void 0!==E&&E._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(f),g.lastNotifiedUid=(null===(D=g.currentUser)||void 0===D?void 0:D.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,d.A)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f,!0)}})()}initializeCurrentUser(c){var f=this;return(0,d.A)(function*(){var g;const E=yield f.assertedPersistence.getCurrentUser();let D=E,P=!1;if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const V=null===(g=f.redirectUser)||void 0===g?void 0:g._redirectEventId,pe=D?._redirectEventId,Ce=yield f.tryRedirectSignIn(c);(!V||V===pe)&&Ce?.user&&(D=Ce.user,P=!0)}if(!D)return f.directlySetCurrentUser(null);if(!D._redirectEventId){if(P)try{yield f.beforeStateQueue.runMiddleware(D)}catch(V){D=E,f._popupRedirectResolver._overrideRedirectResult(f,()=>Promise.reject(V))}return D?f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)}return Z(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)})()}tryRedirectSignIn(c){var f=this;return(0,d.A)(function*(){let g=null;try{g=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch{yield f._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,d.A)(function*(){try{yield Fe(c)}catch(g){if("auth/network-request-failed"!==g?.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function rs(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var c=this;return(0,d.A)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,d.A)(function*(){const g=c?(0,T.Ku)(c):null;return g&&Z(g.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(g&&g._clone(f))})()}_updateCurrentUser(c,f=!1){var g=this;return(0,d.A)(function*(){if(!g._deleted)return c&&Z(g.tenantId===c.tenantId,g,"tenant-id-mismatch"),f||(yield g.beforeStateQueue.runMiddleware(c)),g.queue((0,d.A)(function*(){yield g.directlySetCurrentUser(c),g.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,d.A)(function*(){return yield c.beforeStateQueue.runMiddleware(null),(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null,!0)})()}setPersistence(c){var f=this;return this.queue((0,d.A)(function*(){yield f.assertedPersistence.setPersistence($t(c))}))}initializeRecaptchaConfig(){var c=this;return(0,d.A)(function*(){const f=yield xe(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),g=new tn(f);null==c.tenantId?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,g.emailPasswordEnabled&&new ca(c).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new T.FA("auth","Firebase",c())}onAuthStateChanged(c,f,g){return this.registerStateListener(this.authStateSubscription,c,f,g)}beforeAuthStateChanged(c,f){return this.beforeStateQueue.pushCallback(c,f)}onIdTokenChanged(c,f,g){return this.registerStateListener(this.idTokenSubscription,c,f,g)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var g=this;return(0,d.A)(function*(){const E=yield g.getOrInitRedirectPersistenceManager(f);return null===c?E.removeCurrentUser():E.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,d.A)(function*(){if(!f.redirectPersistenceManager){const g=c&&$t(c)||f._popupRedirectResolver;Z(g,f,"argument-error"),f.redirectPersistenceManager=yield N.create(f,[$t(g._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,d.A)(function*(){var g,E;return f._isInitialized&&(yield f.queue((0,d.A)(function*(){}))),(null===(g=f._currentUser)||void 0===g?void 0:g._redirectEventId)===c?f._currentUser:(null===(E=f.redirectUser)||void 0===E?void 0:E._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,d.A)(function*(){if(c===f.currentUser)return f.queue((0,d.A)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,g,E){if(this._deleted)return()=>{};const D="function"==typeof f?f:f.next.bind(f),P=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(P,this,"internal-error"),P.then(()=>D(this.currentUser)),"function"==typeof f?c.addObserver(f,g,E):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,d.A)(function*(){f.currentUser&&f.currentUser!==c&&f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh(),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=se(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,d.A)(function*(){var f;const g={"X-Client-Version":c.clientVersion};c.app.options.appId&&(g["X-Firebase-gmpid"]=c.app.options.appId);const E=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();E&&(g["X-Firebase-Client"]=E);const D=yield c._getAppCheckToken();return D&&(g["X-Firebase-AppCheck"]=D),g})()}_getAppCheckToken(){var c=this;return(0,d.A)(function*(){var f;const g=yield null===(f=c.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getToken();return g?.error&&function Be(p,...c){We.logLevel<=ie.$b.WARN&&We.warn(`Auth (${W.SDK_VERSION}): ${p}`,...c)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Yt(p){return(0,T.Ku)(p)}class Co{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,T.tD)(f=>this.observer=f)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function On(p){const c=p.indexOf(":");return c<0?"":p.substr(0,c+1)}function vu(p){if(!p)return null;const c=Number(p);return isNaN(c)?null:c}class ss{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return Ke("not implemented")}_getIdTokenResponse(c){return Ke("not implemented")}_linkToIdToken(c,f){return Ke("not implemented")}_getReauthenticationResolver(c){return Ke("not implemented")}}function Kd(p,c){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:resetPassword",$(p,c))})).apply(this,arguments)}function yu(p,c){return uc.apply(this,arguments)}function uc(){return(uc=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Eu(){return(Eu=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:update",$(p,c))})).apply(this,arguments)}function bn(p,c){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPassword",$(p,c))})).apply(this,arguments)}function pa(p,c){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:sendOobCode",$(p,c))})).apply(this,arguments)}function Du(){return(Du=(0,d.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function Bs(p,c){return wu.apply(this,arguments)}function wu(){return(wu=(0,d.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function ma(p,c){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function mn(){return(mn=(0,d.A)(function*(p,c){return pa(p,c)})).apply(this,arguments)}function Jn(){return(Jn=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithEmailLink",$(p,c))})).apply(this,arguments)}function bu(){return(bu=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithEmailLink",$(p,c))})).apply(this,arguments)}class os extends ss{constructor(c,f,g,E=null){super("password",g),this._email=c,this._password=f,this._tenantId=E}static _fromEmailAndPassword(c,f){return new os(c,f,"password")}static _fromEmailAndCode(c,f,g=null){return new os(c,f,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if(f?.email&&f?.password){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,d.A)(function*(){var g;switch(f.signInMethod){case"password":const E={returnSecureToken:!0,email:f._email,password:f._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(g=c._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const D=yield Er(c,E,"signInWithPassword");return bn(c,D)}return bn(c,E).catch(function(){var D=(0,d.A)(function*(P){if("auth/missing-recaptcha-token"===P.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const V=yield Er(c,E,"signInWithPassword");return bn(c,V)}return Promise.reject(P)});return function(P){return D.apply(this,arguments)}}());case"emailLink":return function Pi(p,c){return Jn.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:ae(c,"internal-error")}})()}_linkToIdToken(c,f){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return yu(c,{idToken:f,returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function qd(p,c){return bu.apply(this,arguments)}(c,{idToken:f,email:g._email,oobCode:g._password});default:ae(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Ir(p,c){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithIdp",$(p,c))})).apply(this,arguments)}class De extends ss{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new De(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):ae("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:E}=f,D=(0,K.Tt)(f,["providerId","signInMethod"]);if(!g||!E)return null;const P=new De(g,E);return P.idToken=D.idToken||void 0,P.accessToken=D.accessToken||void 0,P.secret=D.secret,P.nonce=D.nonce,P.pendingToken=D.pendingToken||null,P}_getIdTokenResponse(c){return Ir(c,this.buildRequest())}_linkToIdToken(c,f){const g=this.buildRequest();return g.idToken=f,Ir(c,g)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Ir(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,T.Am)(f)}return c}}function St(){return(St=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:sendVerificationCode",$(p,c))})).apply(this,arguments)}function js(){return(js=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPhoneNumber",$(p,c))})).apply(this,arguments)}function xi(){return(xi=(0,d.A)(function*(p,c){const f=yield st(p,"POST","/v1/accounts:signInWithPhoneNumber",$(p,c));if(f.temporaryProof)throw wt(p,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Gt={USER_NOT_FOUND:"user-not-found"};function Pr(){return(Pr=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithPhoneNumber",$(p,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Gt)})).apply(this,arguments)}class He extends ss{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new He({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new He({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function pr(p,c){return js.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Wn(p,c){return xi.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function ki(p,c){return Pr.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:g,verificationCode:E}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:g,code:E}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:g,phoneNumber:E,temporaryProof:D}=c;return g||f||E||D?new He({verificationId:f,verificationCode:g,phoneNumber:E,temporaryProof:D}):null}}class hi{constructor(c){var f,g,E,D,P,V;const pe=(0,T.I9)((0,T.hp)(c)),Ce=null!==(f=pe.apiKey)&&void 0!==f?f:null,Re=null!==(g=pe.oobCode)&&void 0!==g?g:null,Pe=function _a(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(E=pe.mode)&&void 0!==E?E:null);Z(Ce&&Re&&Pe,"argument-error"),this.apiKey=Ce,this.operation=Pe,this.code=Re,this.continueUrl=null!==(D=pe.continueUrl)&&void 0!==D?D:null,this.languageCode=null!==(P=pe.languageCode)&&void 0!==P?P:null,this.tenantId=null!==(V=pe.tenantId)&&void 0!==V?V:null}static parseLink(c){const f=function va(p){const c=(0,T.I9)((0,T.hp)(p)).link,f=c?(0,T.I9)((0,T.hp)(c)).deep_link_id:null,g=(0,T.I9)((0,T.hp)(p)).deep_link_id;return(g?(0,T.I9)((0,T.hp)(g)).link:null)||g||f||c||p}(c);try{return new hi(f)}catch{return null}}}let Hs=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(f,g){return os._fromEmailAndPassword(f,g)}static credentialWithLink(f,g){const E=hi.parseLink(g);return Z(E,"argument-error"),os._fromEmailAndCode(f,E.code,E.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class er{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class tr extends er{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Dr extends tr{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return Z("providerId"in f&&"signInMethod"in f,"argument-error"),De._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Z(c.idToken||c.accessToken,"argument-error"),De._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Dr.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Dr.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:g,oauthTokenSecret:E,pendingToken:D,nonce:P,providerId:V}=c;if(!g&&!E&&!f&&!D||!V)return null;try{return new Dr(V)._credential({idToken:f,accessToken:g,nonce:P,pendingToken:D})}catch{return null}}}let lc=(()=>{class p extends tr{constructor(){super("facebook.com")}static credential(f){return De._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return p.credentialFromTaggedObject(f)}static credentialFromError(f){return p.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return p.credential(f.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),xr=(()=>{class p extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,g){return De._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:g})}static credentialFromResult(f){return p.credentialFromTaggedObject(f)}static credentialFromError(f){return p.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E}=f;if(!g&&!E)return null;try{return p.credential(g,E)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),pi=(()=>{class p extends tr{constructor(){super("github.com")}static credential(f){return De._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return p.credentialFromTaggedObject(f)}static credentialFromError(f){return p.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return p.credential(f.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class zr extends ss{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return Ir(c,this.buildRequest())}_linkToIdToken(c,f){const g=this.buildRequest();return g.idToken=f,Ir(c,g)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,Ir(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:g,signInMethod:E,pendingToken:D}=f;return g&&E&&D&&g===E?new zr(g,D):null}static _create(c,f){return new zr(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tu extends er{constructor(c){Z(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Tu.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Tu.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=zr.fromJSON(c);return Z(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:g}=c;if(!f||!g)return null;try{return zr._create(g,f)}catch{return null}}}let Io=(()=>{class p extends tr{constructor(){super("twitter.com")}static credential(f,g){return De._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:g})}static credentialFromResult(f){return p.credentialFromTaggedObject(f)}static credentialFromError(f){return p.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:g,oauthTokenSecret:E}=f;if(!g||!E)return null;try{return p.credential(g,E)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Kr(p,c){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signUp",$(p,c))})).apply(this,arguments)}class Pn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,g,E=!1){return(0,d.A)(function*(){const D=yield gn._fromIdTokenResponse(c,g,E),P=gi(g);return new Pn({user:D,providerId:P,_tokenResponse:g,operationType:f})})()}static _forOperation(c,f,g){return(0,d.A)(function*(){yield c._updateTokensIfNecessary(g,!0);const E=gi(g);return new Pn({user:c,providerId:E,_tokenResponse:g,operationType:f})})()}}function gi(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function _n(){return(_n=(0,d.A)(function*(p){var c;const f=Yt(p);if(yield f._initializationPromise,null!==(c=f.currentUser)&&void 0!==c&&c.isAnonymous)return new Pn({user:f.currentUser,providerId:null,operationType:"signIn"});const g=yield Kr(f,{returnSecureToken:!0}),E=yield Pn._fromIdTokenResponse(f,"signIn",g,!0);return yield f._updateCurrentUser(E.user),E})).apply(this,arguments)}class ya extends T.g{constructor(c,f,g,E){var D;super(f.code,f.message),this.operationType=g,this.user=E,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:c.name,tenantId:null!==(D=c.tenantId)&&void 0!==D?D:void 0,_serverResponse:f.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(c,f,g,E){return new ya(c,f,g,E)}}function Gn(p,c,f,g){return("reauthenticate"===c?f._getReauthenticationResolver(p):f._getIdTokenResponse(p)).catch(D=>{throw"auth/multi-factor-auth-required"===D.code?ya._fromErrorAndOperation(p,D,c,g):D})}function xn(p){return new Set(p.map(({providerId:c})=>c).filter(c=>!!c))}function kn(){return kn=(0,d.A)(function*(p,c){const f=(0,T.Ku)(p);yield Li(!0,f,c);const{providerUserInfo:g}=yield function Ht(p,c){return sn.apply(this,arguments)}(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),E=xn(g||[]);return f.providerData=f.providerData.filter(D=>E.has(D.providerId)),E.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f}),kn.apply(this,arguments)}function as(p,c){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.A)(function*(p,c,f=!1){const g=yield jt(p,c._linkToIdToken(p.auth,yield p.getIdToken()),f);return Pn._forOperation(p,"link",g)})).apply(this,arguments)}function Li(p,c,f){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,d.A)(function*(p,c,f){yield Fe(c);const E=!1===p?"provider-already-linked":"no-such-provider";Z(xn(c.providerData).has(f)===p,c.auth,E)})).apply(this,arguments)}function Yd(p,c){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,d.A)(function*(p,c,f=!1){const{auth:g}=p,E="reauthenticate";try{const D=yield jt(p,Gn(g,E,c,p),f);Z(D.idToken,g,"internal-error");const P=Xe(D.idToken);Z(P,g,"internal-error");const{sub:V}=P;return Z(p.uid===V,g,"user-mismatch"),Pn._forOperation(p,E,D)}catch(D){throw"auth/user-not-found"===D?.code&&ae(g,"user-mismatch"),D}})).apply(this,arguments)}function Nu(p,c){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,d.A)(function*(p,c,f=!1){const g="signIn",E=yield Gn(p,g,c),D=yield Pn._fromIdTokenResponse(p,g,E);return f||(yield p._updateCurrentUser(D.user)),D})).apply(this,arguments)}function Pu(p,c){return cc.apply(this,arguments)}function cc(){return(cc=(0,d.A)(function*(p,c){return Nu(Yt(p),c)})).apply(this,arguments)}function Ah(p,c){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,d.A)(function*(p,c){const f=(0,T.Ku)(p);return yield Li(!1,f,c.providerId),as(f,c)})).apply(this,arguments)}function Th(p,c){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,d.A)(function*(p,c){return Yd((0,T.Ku)(p),c)})).apply(this,arguments)}function Xd(){return(Xd=(0,d.A)(function*(p,c){return st(p,"POST","/v1/accounts:signInWithCustomToken",$(p,c))})).apply(this,arguments)}function mi(){return mi=(0,d.A)(function*(p,c){const f=Yt(p),g=yield function Hg(p,c){return Xd.apply(this,arguments)}(f,{token:c,returnSecureToken:!0}),E=yield Pn._fromIdTokenResponse(f,"signIn",g);return yield f._updateCurrentUser(E.user),E}),mi.apply(this,arguments)}class xu{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?Ea._fromServerResponse(c,f):"totpInfo"in f?ku._fromServerResponse(c,f):ae(c,"internal-error")}}class Ea extends xu{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new Ea(f)}}class ku extends xu{constructor(c){super("totp",c)}static _fromServerResponse(c,f){return new ku(f)}}function us(p,c,f){var g;Z((null===(g=f.url)||void 0===g?void 0:g.length)>0,p,"invalid-continue-uri"),Z(typeof f.dynamicLinkDomain>"u"||f.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Z(f.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(Z(f.android.packageName.length>0,p,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function wo(){return wo=(0,d.A)(function*(p,c,f){var g;const E=Yt(p),D={requestType:"PASSWORD_RESET",email:c,clientType:"CLIENT_TYPE_WEB"};if(null!==(g=E._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const P=yield Er(E,D,"getOobCode",!0);f&&us(E,P,f),yield Bs(E,P)}else f&&us(E,D,f),yield Bs(E,D).catch(function(){var P=(0,d.A)(function*(V){if("auth/missing-recaptcha-token"!==V.code)return Promise.reject(V);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const pe=yield Er(E,D,"getOobCode",!0);f&&us(E,pe,f),yield Bs(E,pe)}});return function(V){return P.apply(this,arguments)}}())}),wo.apply(this,arguments)}function _i(){return(_i=(0,d.A)(function*(p,c,f){yield Kd((0,T.Ku)(p),{oobCode:c,newPassword:f})})).apply(this,arguments)}function wr(){return wr=(0,d.A)(function*(p,c){yield function Cr(p,c){return Eu.apply(this,arguments)}((0,T.Ku)(p),{oobCode:c})}),wr.apply(this,arguments)}function fc(p,c){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.A)(function*(p,c){const f=(0,T.Ku)(p),g=yield Kd(f,{oobCode:c}),E=g.requestType;switch(Z(E,f,"internal-error"),E){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Z(g.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Z(g.mfaInfo,f,"internal-error");default:Z(g.email,f,"internal-error")}let D=null;return g.mfaInfo&&(D=xu._fromServerResponse(Yt(f),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:D},operation:E}})).apply(this,arguments)}function Tn(){return(Tn=(0,d.A)(function*(p,c){const{data:f}=yield fc((0,T.Ku)(p),c);return f.email})).apply(this,arguments)}function bo(){return bo=(0,d.A)(function*(p,c,f){var g;const E=Yt(p),D={returnSecureToken:!0,email:c,password:f,clientType:"CLIENT_TYPE_WEB"};let P;if(null!==(g=E._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const Ce=yield Er(E,D,"signUpPassword");P=Kr(E,Ce)}else P=Kr(E,D).catch(function(){var Ce=(0,d.A)(function*(Re){if("auth/missing-recaptcha-token"===Re.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Pe=yield Er(E,D,"signUpPassword");return Kr(E,Pe)}return Promise.reject(Re)});return function(Re){return Ce.apply(this,arguments)}}());const V=yield P.catch(Ce=>Promise.reject(Ce)),pe=yield Pn._fromIdTokenResponse(E,"signIn",V);return yield E._updateCurrentUser(pe.user),pe}),bo.apply(this,arguments)}function Ws(){return Ws=(0,d.A)(function*(p,c,f){var g;const E=Yt(p),D={requestType:"EMAIL_SIGNIN",email:c,clientType:"CLIENT_TYPE_WEB"};function P(V,pe){Z(pe.handleCodeInApp,E,"argument-error"),pe&&us(E,V,pe)}if(null!==(g=E._getRecaptchaConfig())&&void 0!==g&&g.emailPasswordEnabled){const V=yield Er(E,D,"getOobCode",!0);P(V,f),yield ma(E,V)}else P(D,f),yield ma(E,D).catch(function(){var V=(0,d.A)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ce=yield Er(E,D,"getOobCode",!0);P(Ce,f),yield ma(E,Ce)}});return function(pe){return V.apply(this,arguments)}}())}),Ws.apply(this,arguments)}function Ca(){return(Ca=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p),E=Hs.credentialWithLink(c,f||In());return Z(E._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Pu(g,E)})).apply(this,arguments)}function Vu(){return(Vu=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:createAuthUri",$(p,c))})).apply(this,arguments)}function Gs(){return Gs=(0,d.A)(function*(p,c){const g={identifier:c,continueUri:qn()?In():"http://localhost"},{signinMethods:E}=yield function Lu(p,c){return Vu.apply(this,arguments)}((0,T.Ku)(p),g);return E||[]}),Gs.apply(this,arguments)}function vi(){return vi=(0,d.A)(function*(p,c){const f=(0,T.Ku)(p),E={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};c&&us(f.auth,E,c);const{email:D}=yield function ga(p,c){return Du.apply(this,arguments)}(f.auth,E);D!==p.email&&(yield p.reload())}),vi.apply(this,arguments)}function Da(){return Da=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p),D={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:c};f&&us(g.auth,D,f);const{email:P}=yield function An(p,c){return mn.apply(this,arguments)}(g.auth,D);P!==p.email&&(yield p.reload())}),Da.apply(this,arguments)}function Jd(){return(Jd=(0,d.A)(function*(p,c){return X(p,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function wa(){return wa=(0,d.A)(function*(p,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const g=(0,T.Ku)(p),D={idToken:yield g.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},P=yield jt(g,function Mh(p,c){return Jd.apply(this,arguments)}(g.auth,D));g.displayName=P.displayName||null,g.photoURL=P.photoUrl||null;const V=g.providerData.find(({providerId:pe})=>"password"===pe);V&&(V.displayName=g.displayName,V.photoURL=g.photoURL),yield g._updateTokensIfNecessary(P)}),wa.apply(this,arguments)}function ju(p,c,f){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.A)(function*(p,c,f){const{auth:g}=p,D={idToken:yield p.getIdToken(),returnSecureToken:!0};c&&(D.email=c),f&&(D.password=f);const P=yield jt(p,yu(g,D));yield p._updateTokensIfNecessary(P,!0)})).apply(this,arguments)}class zs{constructor(c,f,g={}){this.isNewUser=c,this.providerId=f,this.profile=g}}class Aa extends zs{constructor(c,f,g,E){super(c,f,g),this.username=E}}class pc extends zs{constructor(c,f){super(c,"facebook.com",f)}}class gc extends Aa{constructor(c,f){super(c,"github.com",f,"string"==typeof f?.login?f?.login:null)}}class To extends zs{constructor(c,f){super(c,"google.com",f)}}class So extends Aa{constructor(c,f,g){super(c,"twitter.com",f,g)}}function ef(p){const{user:c,_tokenResponse:f}=p;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Hu(p){var c,f;if(!p)return null;const{providerId:g}=p,E=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},D=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!g&&p?.idToken){const P=null===(f=null===(c=Xe(p.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(P)return new zs(D,"anonymous"!==P&&"custom"!==P?P:null)}if(!g)return null;switch(g){case"facebook.com":return new pc(D,E);case"github.com":return new gc(D,E);case"google.com":return new To(D,E);case"twitter.com":return new So(D,E,p.screenName||null);case"custom":case"anonymous":return new zs(D,null);default:return new zs(D,g,E)}}(f)}class yi{constructor(c,f,g){this.type=c,this.credential=f,this.auth=g}static _fromIdtoken(c,f){return new yi("enroll",c,f)}static _fromMfaPendingCredential(c){return new yi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,g;if(c?.multiFactorSession){if(null!==(f=c.multiFactorSession)&&void 0!==f&&f.pendingCredential)return yi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null!==(g=c.multiFactorSession)&&void 0!==g&&g.idToken)return yi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class ds{constructor(c,f,g){this.session=c,this.hints=f,this.signInResolver=g}static _fromError(c,f){const g=Yt(c),E=f.customData._serverResponse,D=(E.mfaInfo||[]).map(V=>xu._fromServerResponse(g,V));Z(E.mfaPendingCredential,g,"internal-error");const P=yi._fromMfaPendingCredential(E.mfaPendingCredential);return new ds(P,D,function(){var V=(0,d.A)(function*(pe){const Ce=yield pe._process(g,P);delete E.mfaInfo,delete E.mfaPendingCredential;const Re=Object.assign(Object.assign({},E),{idToken:Ce.idToken,refreshToken:Ce.refreshToken});switch(f.operationType){case"signIn":const Pe=yield Pn._fromIdTokenResponse(g,f.operationType,Re);return yield g._updateCurrentUser(Pe.user),Pe;case"reauthenticate":return Z(f.user,g,"internal-error"),Pn._forOperation(f.user,f.operationType,Re);default:ae(g,"internal-error")}});return function(pe){return V.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,d.A)(function*(){return f.signInResolver(c)})()}}class fs{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(g=>xu._fromServerResponse(c.auth,g)))})}static _fromUser(c){return new fs(c)}getSession(){var c=this;return(0,d.A)(function*(){return yi._fromIdtoken(yield c.user.getIdToken(),c.user.auth)})()}enroll(c,f){var g=this;return(0,d.A)(function*(){const E=c,D=yield g.getSession(),P=yield jt(g.user,E._process(g.user.auth,D,f));return yield g.user._updateTokensIfNecessary(P),g.user.reload()})()}unenroll(c){var f=this;return(0,d.A)(function*(){const g="string"==typeof c?c:c.uid,E=yield f.user.getIdToken();try{const D=yield jt(f.user,function Cc(p,c){return X(p,"POST","/v2/accounts/mfaEnrollment:withdraw",$(p,c))}(f.user.auth,{idToken:E,mfaEnrollmentId:g}));f.enrolledFactors=f.enrolledFactors.filter(({uid:P})=>P!==g),yield f.user._updateTokensIfNecessary(D),yield f.user.reload()}catch(D){throw D}})()}}const At=new WeakMap,hs="__sak";class rr{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(hs,"1"),this.storage.removeItem(hs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ys=(()=>{class p extends rr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,g)=>this.onStorageEvent(f,g),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ic(){const p=(0,T.ZQ)();return Y(p)||et(p)}()&&function Eo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=di(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const g of Object.keys(this.listeners)){const E=this.storage.getItem(g),D=this.localCache[g];E!==D&&f(g,D,E)}}onStorageEvent(f,g=!1){if(!f.key)return void this.forAllChangedKeys((V,pe,Ce)=>{this.notifyListeners(V,Ce)});const E=f.key;if(g?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const V=this.storage.getItem(E);if(f.newValue!==V)null!==f.newValue?this.storage.setItem(E,f.newValue):this.storage.removeItem(E);else if(this.localCache[E]===f.newValue&&!g)return}const D=()=>{const V=this.storage.getItem(E);!g&&this.localCache[E]===V||this.notifyListeners(E,V)},P=this.storage.getItem(E);!function Xn(){return(0,T.lT)()&&10===document.documentMode}()||P===f.newValue||f.newValue===f.oldValue?D():setTimeout(D,10)}notifyListeners(f,g){this.localCache[f]=g;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,g,E)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:g,newValue:E}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(g)}_removeListener(f,g){this.listeners[f]&&(this.listeners[f].delete(g),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,g){var E=()=>super._set,D=this;return(0,d.A)(function*(){yield E().call(D,f,g),D.localCache[f]=JSON.stringify(g)})()}_get(f){var g=()=>super._get,E=this;return(0,d.A)(function*(){const D=yield g().call(E,f);return E.localCache[f]=JSON.stringify(D),D})()}_remove(f){var g=()=>super._remove,E=this;return(0,d.A)(function*(){yield g().call(E,f),delete E.localCache[f]})()}}return p.type="LOCAL",p})(),ps=(()=>{class p extends rr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,g){}_removeListener(f,g){}}return p.type="SESSION",p})();let Sa=(()=>{class p{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const g=this.receivers.find(D=>D.isListeningto(f));if(g)return g;const E=new p(f);return this.receivers.push(E),E}isListeningto(f){return this.eventTarget===f}handleEvent(f){var g=this;return(0,d.A)(function*(){const E=f,{eventId:D,eventType:P,data:V}=E.data,pe=g.handlersMap[P];if(!pe?.size)return;E.ports[0].postMessage({status:"ack",eventId:D,eventType:P});const Ce=Array.from(pe).map(function(){var Pe=(0,d.A)(function*(Qt){return Qt(E.origin,V)});return function(Qt){return Pe.apply(this,arguments)}}()),Re=yield function gs(p){return Promise.all(p.map(function(){var c=(0,d.A)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(g){return{fulfilled:!1,reason:g}}});return function(f){return c.apply(this,arguments)}}()))}(Ce);E.ports[0].postMessage({status:"done",eventId:D,eventType:P,response:Re})})()}_subscribe(f,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(g)}_unsubscribe(f,g){this.handlersMap[f]&&g&&this.handlersMap[f].delete(g),(!g||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function qu(p="",c=10){let f="";for(let g=0;g<c;g++)f+=Math.floor(10*Math.random());return p+f}class xh{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,g=50){var E=this;return(0,d.A)(function*(){const D=typeof MessageChannel<"u"?new MessageChannel:null;if(!D)throw new Error("connection_unavailable");let P,V;return new Promise((pe,Ce)=>{const Re=qu("",20);D.port1.start();const Pe=setTimeout(()=>{Ce(new Error("unsupported_event"))},g);V={messageChannel:D,onMessage(Qt){const Br=Qt;if(Br.data.eventId===Re)switch(Br.data.status){case"ack":clearTimeout(Pe),P=setTimeout(()=>{Ce(new Error("timeout"))},3e3);break;case"done":clearTimeout(P),pe(Br.data.response);break;default:clearTimeout(Pe),clearTimeout(P),Ce(new Error("invalid_response"))}}},E.handlers.add(V),D.port1.addEventListener("message",V.onMessage),E.target.postMessage({eventType:c,eventId:Re,data:f},[D.port2])}).finally(()=>{V&&E.removeMessageHandler(V)})})()}}function kt(){return window}function Yu(){return typeof kt().WorkerGlobalScope<"u"&&"function"==typeof kt().importScripts}function Ma(){return(Ma=(0,d.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dc="firebaseLocalStorageDb",Qs="firebaseLocalStorage",Vi="fbase_key";class Ra{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function Na(p,c){return p.transaction([Qs],c?"readwrite":"readonly").objectStore(Qs)}function Xu(){const p=indexedDB.open(Dc,1);return new Promise((c,f)=>{p.addEventListener("error",()=>{f(p.error)}),p.addEventListener("upgradeneeded",()=>{const g=p.result;try{g.createObjectStore(Qs,{keyPath:Vi})}catch(E){f(E)}}),p.addEventListener("success",(0,d.A)(function*(){const g=p.result;g.objectStoreNames.contains(Qs)?c(g):(g.close(),yield function kh(){const p=indexedDB.deleteDatabase(Dc);return new Ra(p).toPromise()}(),c(yield Xu()))}))})}function Mo(p,c,f){return fe.apply(this,arguments)}function fe(){return(fe=(0,d.A)(function*(p,c,f){const g=Na(p,!0).put({[Vi]:c,value:f});return new Ra(g).toPromise()})).apply(this,arguments)}function Zu(){return(Zu=(0,d.A)(function*(p,c){const f=Na(p,!1).get(c),g=yield new Ra(f).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function wc(p,c){const f=Na(p,!0).delete(c);return new Ra(f).toPromise()}const ir=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,d.A)(function*(){return f.db||(f.db=yield Xu()),f.db})()}_withRetries(f){var g=this;return(0,d.A)(function*(){let E=0;for(;;)try{const D=yield g._openDb();return yield f(D)}catch(D){if(E++>3)throw D;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,d.A)(function*(){return Yu()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,d.A)(function*(){f.receiver=Sa._getInstance(function yn(){return Yu()?self:null}()),f.receiver._subscribe("keyChanged",function(){var g=(0,d.A)(function*(E,D){return{keyProcessed:(yield f._poll()).includes(D.key)}});return function(E,D){return g.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var g=(0,d.A)(function*(E,D){return["keyChanged"]});return function(E,D){return g.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,d.A)(function*(){var g,E;if(f.activeServiceWorker=yield function Ye(){return Ma.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new xh(f.activeServiceWorker);const D=yield f.sender._send("ping",{},800);D&&null!==(g=D[0])&&void 0!==g&&g.fulfilled&&null!==(E=D[0])&&void 0!==E&&E.value.includes("keyChanged")&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var g=this;return(0,d.A)(function*(){if(g.sender&&g.activeServiceWorker&&function Qu(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:f},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const f=yield Xu();return yield Mo(f,hs,"1"),yield wc(f,hs),!0}catch{}return!1})()}_withPendingWrite(f){var g=this;return(0,d.A)(function*(){g.pendingWrites++;try{yield f()}finally{g.pendingWrites--}})()}_set(f,g){var E=this;return(0,d.A)(function*(){return E._withPendingWrite((0,d.A)(function*(){return yield E._withRetries(D=>Mo(D,f,g)),E.localCache[f]=g,E.notifyServiceWorker(f)}))})()}_get(f){var g=this;return(0,d.A)(function*(){const E=yield g._withRetries(D=>function it(p,c){return Zu.apply(this,arguments)}(D,f));return g.localCache[f]=E,E})()}_remove(f){var g=this;return(0,d.A)(function*(){return g._withPendingWrite((0,d.A)(function*(){return yield g._withRetries(E=>wc(E,f)),delete g.localCache[f],g.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,d.A)(function*(){const g=yield f._withRetries(P=>{const V=Na(P,!1).getAll();return new Ra(V).toPromise()});if(!g)return[];if(0!==f.pendingWrites)return[];const E=[],D=new Set;for(const{fbase_key:P,value:V}of g)D.add(P),JSON.stringify(f.localCache[P])!==JSON.stringify(V)&&(f.notifyListeners(P,V),E.push(P));for(const P of Object.keys(f.localCache))f.localCache[P]&&!D.has(P)&&(f.notifyListeners(P,null),E.push(P));return E})()}notifyListeners(f,g){this.localCache[f]=g;const E=this.listeners[f];if(E)for(const D of Array.from(E))D(g)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(g)}_removeListener(f,g){this.listeners[f]&&(this.listeners[f].delete(g),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})(),un=1e12;class Ei{constructor(c){this.auth=c,this.counter=un,this._widgets=new Map}render(c,f){const g=this.counter;return this._widgets.set(g,new rl(c,this.auth.name,f||{})),this.counter++,g}reset(c){var f;const g=c||un;null===(f=this._widgets.get(g))||void 0===f||f.delete(),this._widgets.delete(g)}getResponse(c){var f;return(null===(f=this._widgets.get(c||un))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,d.A)(function*(){var g;return null===(g=f._widgets.get(c||un))||void 0===g||g.execute(),""})()}}class rl{constructor(c,f,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const E="string"==typeof c?document.getElementById(c):c;Z(E,"argument-error",{appName:f}),this.container=E,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ro(p){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<p;g++)c.push(f.charAt(Math.floor(62*Math.random())));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xr=Zn("rcb"),af=new ai(3e4,6e4);class Lh{constructor(){var c;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(c=kt().grecaptcha)||void 0===c||!c.render)}load(c,f=""){return Z(function bc(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(f),c,"argument-error"),this.shouldResolveImmediately(f)&&Me(kt().grecaptcha)?Promise.resolve(kt().grecaptcha):new Promise((g,E)=>{const D=kt().setTimeout(()=>{E(G(c,"network-request-failed"))},af.get());kt()[Xr]=()=>{kt().clearTimeout(D),delete kt()[Xr];const V=kt().grecaptcha;if(!V||!Me(V))return void E(G(c,"internal-error"));const pe=V.render;V.render=(Ce,Re)=>{const Pe=pe(Ce,Re);return this.counter++,Pe},this.hostLanguage=f,g(V)},Gr(`https://www.google.com/recaptcha/api.js??${(0,T.Am)({onload:Xr,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(D),E(G(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){var f;return!(null===(f=kt().grecaptcha)||void 0===f||!f.render)&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ac{load(c){return(0,d.A)(function*(){return new Ei(c)})()}clearedOneInstance(){}}const Oo="recaptcha",uf={theme:"light",type:"image"};class Oa{constructor(c,f=Object.assign({},uf),g){this.parameters=f,this.type=Oo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yt(g),this.isInvisible="invisible"===this.parameters.size,Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const E="string"==typeof c?document.getElementById(c):c;Z(E,this.auth,"argument-error"),this.container=E,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ac:new Lh,this.validateStartingState()}verify(){var c=this;return(0,d.A)(function*(){c.assertNotDestroyed();const f=yield c.render(),g=c.getAssertedRecaptcha();return g.getResponse(f)||new Promise(D=>{const P=V=>{V&&(c.tokenChangeListeners.delete(P),D(V))};c.tokenChangeListeners.add(P),c.isInvisible&&g.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Z(!this.parameters.sitekey,this.auth,"argument-error"),Z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(g=>g(f)),"function"==typeof c)c(f);else if("string"==typeof c){const g=kt()[c];"function"==typeof g&&g(f)}}}assertNotDestroyed(){Z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,d.A)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const g=document.createElement("div");f.appendChild(g),f=g}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,d.A)(function*(){Z(qn()&&!Yu(),c.auth,"internal-error"),yield function Vh(){let p=null;return new Promise(c=>{"complete"!==document.readyState?(p=()=>c(),window.addEventListener("load",p)):c()}).catch(c=>{throw p&&window.removeEventListener("load",p),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function H(p){return _e.apply(this,arguments)}(c.auth);Z(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return Z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class sr{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=He._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function Xs(){return(Xs=(0,d.A)(function*(p,c,f){const g=Yt(p),E=yield Po(g,c,(0,T.Ku)(f));return new sr(E,D=>Pu(g,D))})).apply(this,arguments)}function ze(){return(ze=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p);yield Li(!1,g,"phone");const E=yield Po(g.auth,c,(0,T.Ku)(f));return new sr(E,D=>Ah(g,D))})).apply(this,arguments)}function Zs(){return(Zs=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p),E=yield Po(g.auth,c,(0,T.Ku)(f));return new sr(E,D=>Th(g,D))})).apply(this,arguments)}function Po(p,c,f){return il.apply(this,arguments)}function il(){return il=(0,d.A)(function*(p,c,f){var g;const E=yield f.verify();try{let D;if(Z("string"==typeof E,p,"argument-error"),Z(f.type===Oo,p,"argument-error"),D="string"==typeof c?{phoneNumber:c}:c,"session"in D){const P=D.session;if("phoneNumber"in D)return Z("enroll"===P.type,p,"internal-error"),(yield function Gu(p,c){return X(p,"POST","/v2/accounts/mfaEnrollment:start",$(p,c))}(p,{idToken:P.credential,phoneEnrollmentInfo:{phoneNumber:D.phoneNumber,recaptchaToken:E}})).phoneSessionInfo.sessionInfo;{Z("signin"===P.type,p,"internal-error");const V=(null===(g=D.multiFactorHint)||void 0===g?void 0:g.uid)||D.multiFactorUid;return Z(V,p,"missing-multi-factor-info"),(yield function tl(p,c){return X(p,"POST","/v2/accounts/mfaSignIn:start",$(p,c))}(p,{mfaPendingCredential:P.credential,mfaEnrollmentId:V,phoneSignInInfo:{recaptchaToken:E}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:P}=yield function rt(p,c){return St.apply(this,arguments)}(p,{phoneNumber:D.phoneNumber,recaptchaToken:E});return P}}finally{f._reset()}}),il.apply(this,arguments)}function Zr(){return(Zr=(0,d.A)(function*(p,c){yield as((0,T.Ku)(p),c)})).apply(this,arguments)}let Tt=(()=>{class p{constructor(f){this.providerId=p.PROVIDER_ID,this.auth=Yt(f)}verifyPhoneNumber(f,g){return Po(this.auth,f,(0,T.Ku)(g))}static credential(f,g){return He._fromVerification(f,g)}static credentialFromResult(f){return p.credentialFromTaggedObject(f)}static credentialFromError(f){return p.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:g,temporaryProof:E}=f;return g&&E?He._fromTokenResponse(g,E):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function kr(p,c){return c?$t(c):(Z(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Ze extends ss{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Ir(c,this._buildIdpRequest())}_linkToIdToken(c,f){return Ir(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return Ir(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function Tc(p){return Nu(p.auth,new Ze(p),p.bypassAuthState)}function Sc(p){const{auth:c,user:f}=p;return Z(f,c,"internal-error"),Yd(f,new Ze(p),p.bypassAuthState)}function Js(p){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.A)(function*(p){const{auth:c,user:f}=p;return Z(f,c,"internal-error"),as(f,new Ze(p),p.bypassAuthState)})).apply(this,arguments)}class _s{constructor(c,f,g,E,D=!1){this.auth=c,this.resolver=g,this.user=E,this.bypassAuthState=D,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,d.A)(function*(g,E){c.pendingPromise={resolve:g,reject:E};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(D){c.reject(D)}});return function(g,E){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,d.A)(function*(){const{urlResponse:g,sessionId:E,postBody:D,tenantId:P,error:V,type:pe}=c;if(V)return void f.reject(V);const Ce={auth:f.auth,requestUri:g,sessionId:E,tenantId:P||void 0,postBody:D||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(pe)(Ce))}catch(Re){f.reject(Re)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Tc;case"linkViaPopup":case"linkViaRedirect":return Js;case"reauthViaPopup":case"reauthViaRedirect":return Sc;default:ae(this.auth,"internal-error")}}resolve(c){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dt=new ai(2e3,1e4);function vs(){return(vs=(0,d.A)(function*(p,c,f){const g=Yt(p);ve(p,c,er);const E=kr(g,f);return new Ui(g,"signInViaPopup",c,E).executeNotNull()})).apply(this,arguments)}function ys(){return(ys=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p);ve(g.auth,c,er);const E=kr(g.auth,f);return new Ui(g.auth,"reauthViaPopup",c,E,g).executeNotNull()})).apply(this,arguments)}function Es(){return(Es=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p);ve(g.auth,c,er);const E=kr(g.auth,f);return new Ui(g.auth,"linkViaPopup",c,E,g).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class p extends _s{constructor(f,g,E,D,P){super(f,g,D,P),this.provider=E,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var f=this;return(0,d.A)(function*(){const g=yield f.execute();return Z(g,f.auth,"internal-error"),g})()}onExecution(){var f=this;return(0,d.A)(function*(){ut(1===f.filter.length,"Popup operations only handle one event");const g=qu();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],g),f.authWindow.associatedEvent=g,f.resolver._originValidation(f.auth).catch(E=>{f.reject(E)}),f.resolver._isIframeWebStorageSupported(f.auth,E=>{E||f.reject(G(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(G(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const f=()=>{var g,E;this.pollId=null!==(E=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==E&&E.closed?window.setTimeout(()=>{this.pollId=null,this.reject(G(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(f,Dt.get())};f()}}return p.currentPopupAction=null,p})();const ol="pendingRedirect",Fr=new Map;class Bi extends _s{constructor(c,f,g=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,g),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,d.A)(function*(){let g=Fr.get(f.auth._key());if(!g){try{const D=(yield function xa(p,c){return lf.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;g=()=>Promise.resolve(D)}catch(E){g=()=>Promise.reject(E)}Fr.set(f.auth._key(),g)}return f.bypassAuthState||Fr.set(f.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,g=this;return(0,d.A)(function*(){if("signInViaRedirect"===c.type)return f().call(g,c);if("unknown"!==c.type){if(c.eventId){const E=yield g.auth._redirectUserForId(c.eventId);if(E)return g.user=E,f().call(g,c);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function lf(){return(lf=(0,d.A)(function*(p,c){const f=al(c),g=Nc(p);if(!(yield g._isAvailable()))return!1;const E="true"===(yield g._get(f));return yield g._remove(f),E})).apply(this,arguments)}function ji(p,c){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,d.A)(function*(p,c){return Nc(p)._set(al(c),"true")})).apply(this,arguments)}function Ln(p,c){Fr.set(p._key(),c)}function Nc(p){return $t(p._redirectPersistence)}function al(p){return O(ol,p.config.apiKey,p.name)}function br(p,c,f){return function zt(p,c,f){return $i.apply(this,arguments)}(p,c,f)}function $i(){return($i=(0,d.A)(function*(p,c,f){const g=Yt(p);ve(p,c,er),yield g._initializationPromise;const E=kr(g,f);return yield ji(E,g),E._openRedirect(g,c,"signInViaRedirect")})).apply(this,arguments)}function xo(p,c,f){return function Lr(p,c,f){return rn.apply(this,arguments)}(p,c,f)}function rn(){return(rn=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p);ve(g.auth,c,er),yield g.auth._initializationPromise;const E=kr(g.auth,f);yield ji(E,g.auth);const D=yield eo(g);return E._openRedirect(g.auth,c,"reauthViaRedirect",D)})).apply(this,arguments)}function ul(p,c,f){return function Oc(p,c,f){return ka.apply(this,arguments)}(p,c,f)}function ka(){return(ka=(0,d.A)(function*(p,c,f){const g=(0,T.Ku)(p);ve(g.auth,c,er),yield g.auth._initializationPromise;const E=kr(g.auth,f);yield Li(!1,g,c.providerId),yield ji(E,g.auth);const D=yield eo(g);return E._openRedirect(g.auth,c,"linkViaRedirect",D)})).apply(this,arguments)}function Vn(){return(Vn=(0,d.A)(function*(p,c){return yield Yt(p)._initializationPromise,cn(p,c,!1)})).apply(this,arguments)}function cn(p,c){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,d.A)(function*(p,c,f=!1){const g=Yt(p),E=kr(g,c),P=yield new Bi(g,E,f).execute();return P&&!f&&(delete P.user._redirectEventId,yield g._persistUserIfCurrent(P.user),yield g._setRedirectUser(null,c)),P})).apply(this,arguments)}function eo(p){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,d.A)(function*(p){const c=qu(`${p.uid}:::`);return p._redirectEventId=c,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),c})).apply(this,arguments)}class to{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(c,g)&&(f=!0,this.sendToConsumer(c,g),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ko(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(p);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var g;if(c.error&&!Cs(c)){const E=(null===(g=c.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";f.onError(G(this.auth,E))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const g=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&g}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fa(c))}saveEventToCache(c){this.cachedEventUids.add(Fa(c)),this.lastProcessedEventTime=Date.now()}}function Fa(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(c=>c).join("-")}function Cs({type:p,error:c}){return"unknown"===p&&"auth/no-auth-event"===c?.code}function Pc(p){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.A)(function*(p,c={}){return X(p,"GET","/v1/projects",c)})).apply(this,arguments)}const La=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Va=/^https?/;function Ki(){return(Ki=(0,d.A)(function*(p){if(p.config.emulator)return;const{authorizedDomains:c}=yield Pc(p);for(const f of c)try{if(ll(f))return}catch{}ae(p,"unauthorized-domain")})).apply(this,arguments)}function ll(p){const c=In(),{protocol:f,hostname:g}=new URL(c);if(p.startsWith("chrome-extension://")){const P=new URL(p);return""===P.hostname&&""===g?"chrome-extension:"===f&&p.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&P.hostname===g}if(!Va.test(f))return!1;if(La.test(p))return g===p;const E=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+E+"|"+E+")$","i").test(g)}const Vr=new ai(3e4,6e4);function Is(){const p=kt().___jsl;if(p?.H)for(const c of Object.keys(p.H))if(p.H[c].r=p.H[c].r||[],p.H[c].L=p.H[c].L||[],p.H[c].r=[...p.H[c].L],p.CP)for(let f=0;f<p.CP.length;f++)p.CP[f]=null}let Ft=null;const xc=new ai(5e3,15e3),cl="__/auth/iframe",kc="emulator/auth/iframe",dl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function no(p){const c=p.config;Z(c.authDomain,p,"auth-domain-config-required");const f=c.emulator?Ri(c,kc):`https://${p.config.authDomain}/${cl}`,g={apiKey:c.apiKey,appName:p.name,v:W.SDK_VERSION},E=fl.get(p.config.apiHost);E&&(g.eid=E);const D=p._getFrameworks();return D.length&&(g.fw=D.join(",")),`${f}?${(0,T.Am)(g).slice(1)}`}function v(){return v=(0,d.A)(function*(p){const c=yield function Ds(p){return Ft=Ft||function qi(p){return new Promise((c,f)=>{var g,E,D;function P(){Is(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Is(),f(G(p,"network-request-failed"))},timeout:Vr.get()})}if(null!==(E=null===(g=kt().gapi)||void 0===g?void 0:g.iframes)&&void 0!==E&&E.Iframe)c(gapi.iframes.getContext());else{if(null===(D=kt().gapi)||void 0===D||!D.load){const V=Zn("iframefcb");return kt()[V]=()=>{gapi.load?P():f(G(p,"network-request-failed"))},Gr(`https://apis.google.com/js/api.js?onload=${V}`).catch(pe=>f(pe))}P()}}).catch(c=>{throw Ft=null,c})}(p),Ft}(p),f=kt().gapi;return Z(f,p,"internal-error"),c.open({where:document.body,url:no(p),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dl,dontclear:!0},g=>new Promise(function(){var E=(0,d.A)(function*(D,P){yield g.restyle({setHideOnLeave:!1});const V=G(p,"network-request-failed"),pe=kt().setTimeout(()=>{P(V)},xc.get());function Ce(){kt().clearTimeout(pe),D(g)}g.ping(Ce).then(Ce,()=>{P(V)})});return function(D,P){return E.apply(this,arguments)}}()))}),v.apply(this,arguments)}const C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Se{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const tt="__/auth/handler",Qe="emulator/auth/handler",zn=encodeURIComponent("fac");function Lt(p,c,f,g,E,D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,d.A)(function*(p,c,f,g,E,D){Z(p.config.authDomain,p,"auth-domain-config-required"),Z(p.config.apiKey,p,"invalid-api-key");const P={apiKey:p.config.apiKey,appName:p.name,authType:f,redirectUrl:g,v:W.SDK_VERSION,eventId:E};if(c instanceof er){c.setDefaultLanguage(p.languageCode),P.providerId=c.providerId||"",(0,T.Im)(c.getCustomParameters())||(P.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Re,Pe]of Object.entries(D||{}))P[Re]=Pe}if(c instanceof tr){const Re=c.getScopes().filter(Pe=>""!==Pe);Re.length>0&&(P.scopes=Re.join(","))}p.tenantId&&(P.tid=p.tenantId);const V=P;for(const Re of Object.keys(V))void 0===V[Re]&&delete V[Re];const pe=yield p._getAppCheckToken(),Ce=pe?`#${zn}=${encodeURIComponent(pe)}`:"";return`${function hl({config:p}){return p.emulator?Ri(p,Qe):`https://${p.authDomain}/${tt}`}(p)}?${(0,T.Am)(V).slice(1)}${Ce}`})).apply(this,arguments)}const Ot="webStorageSupport",ur=class ar{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=cn,this._overrideRedirectResult=Ln}_openPopup(c,f,g,E){var D=this;return(0,d.A)(function*(){var P;ut(null===(P=D.eventManagers[c._key()])||void 0===P?void 0:P.manager,"_initialize() not called before _openPopup()");const V=yield Lt(c,f,g,In(),E);return function Ie(p,c,f,g=500,E=600){const D=Math.max((window.screen.availHeight-E)/2,0).toString(),P=Math.max((window.screen.availWidth-g)/2,0).toString();let V="";const pe=Object.assign(Object.assign({},C),{width:g.toString(),height:E.toString(),top:D,left:P}),Ce=(0,T.ZQ)().toLowerCase();f&&(V=Oe(Ce)?"_blank":f),ue(Ce)&&(c=c||"http://localhost",pe.scrollbars="yes");const Re=Object.entries(pe).reduce((Qt,[Br,lo])=>`${Qt}${Br}=${lo},`,"");if(function wn(p=(0,T.ZQ)()){var c;return et(p)&&!(null===(c=window.navigator)||void 0===c||!c.standalone)}(Ce)&&"_self"!==V)return function Le(p,c){const f=document.createElement("a");f.href=p,f.target=c;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(g)}(c||"",V),new Se(null);const Pe=window.open(c||"",V,Re);Z(Pe,p,"popup-blocked");try{Pe.focus()}catch{}return new Se(Pe)}(c,V,qu())})()}_openRedirect(c,f,g,E){var D=this;return(0,d.A)(function*(){return yield D._originValidation(c),function nf(p){kt().location.href=p}(yield Lt(c,f,g,In(),E)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:E,promise:D}=this.eventManagers[f];return E?Promise.resolve(E):(ut(D,"If manager is not set, promise should be"),D)}const g=this.initAndGetManager(c);return this.eventManagers[f]={promise:g},g.catch(()=>{delete this.eventManagers[f]}),g}initAndGetManager(c){var f=this;return(0,d.A)(function*(){const g=yield function _(p){return v.apply(this,arguments)}(c),E=new to(c);return g.register("authEvent",D=>(Z(D?.authEvent,c,"invalid-auth-event"),{status:E.onEvent(D.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:E},f.iframes[c._key()]=g,E})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(Ot,{type:Ot},E=>{var D;const P=null===(D=E?.[0])||void 0===D?void 0:D[Ot];void 0!==P&&f(!!P),ae(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Tr(p){return Ki.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return di()||Y()||et()}};class Ua{constructor(c){this.factorId=c}_process(c,f,g){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,g);case"signin":return this._finalizeSignIn(c,f.credential);default:return Ke("unexpected MultiFactorSessionType")}}}class Sr extends Ua{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new Sr(c)}_finalizeEnroll(c,f,g){return function zu(p,c){return X(p,"POST","/v2/accounts/mfaEnrollment:finalize",$(p,c))}(c,{idToken:f,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function nl(p,c){return X(p,"POST","/v2/accounts/mfaSignIn:finalize",$(p,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ba=(()=>{class p{constructor(){}static assertion(f){return Sr._fromCredential(f)}}return p.FACTOR_ID="phone",p})();var Gg="@firebase/auth";class dy{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,d.A)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(g=>{c(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);f&&(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function io(){return window}(0,T.XA)("authIdTokenMaxAge"),function cf(p){(0,W._registerComponent)(new oe.uA("auth",(c,{options:f})=>{const g=c.getProvider("app").getImmediate(),E=c.getProvider("heartbeat"),D=c.getProvider("app-check-internal"),{apiKey:P,authDomain:V}=g.options;Z(P&&!P.includes(":"),"invalid-api-key",{appName:g.name});const pe={apiKey:P,authDomain:V,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:se(p)},Ce=new _u(g,E,D,pe);return function zd(p,c){const f=c?.persistence||[],g=(Array.isArray(f)?f:[f]).map($t);c?.errorMap&&p._updateErrorMap(c.errorMap),p._initializeWithPersistence(g,c?.popupRedirectResolver)}(Ce,f),Ce},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,g)=>{c.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new oe.uA("auth-internal",c=>{const f=Yt(c.getProvider("auth").getImmediate());return new dy(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(Gg,"0.23.2",function Ur(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,W.registerVersion)(Gg,"0.23.2","esm2017")}("Browser");function Vo(){return Vo=(0,d.A)(function*(p,c,f){var g;const{BuildInfo:E}=io();ut(c.sessionId,"AuthEvent did not contain a session ID");const D=yield function Kg(p){return Bc.apply(this,arguments)}(c.sessionId),P={};return et()?P.ibi=E.packageName:mt()?P.apn=E.packageName:ae(p,"operation-not-supported-in-this-environment"),E.displayName&&(P.appDisplayName=E.displayName),P.sessionId=D,Lt(p,f,c.type,void 0,null!==(g=c.eventId)&&void 0!==g?g:void 0,P)}),Vo.apply(this,arguments)}function Uo(){return(Uo=(0,d.A)(function*(p){const{BuildInfo:c}=io(),f={};et()?f.iosBundleId=c.packageName:mt()?f.androidPackageName=c.packageName:ae(p,"operation-not-supported-in-this-environment"),yield Pc(p,f)})).apply(this,arguments)}function Ha(){return(Ha=(0,d.A)(function*(p,c,f){const{cordova:g}=io();let E=()=>{};try{yield new Promise((D,P)=>{let V=null;function pe(){var Pe;D();const Qt=null===(Pe=g.plugins.browsertab)||void 0===Pe?void 0:Pe.close;"function"==typeof Qt&&Qt(),"function"==typeof f?.close&&f.close()}function Ce(){V||(V=window.setTimeout(()=>{P(G(p,"redirect-cancelled-by-user"))},2e3))}function Re(){"visible"===document?.visibilityState&&Ce()}c.addPassiveListener(pe),document.addEventListener("resume",Ce,!1),mt()&&document.addEventListener("visibilitychange",Re,!1),E=()=>{c.removePassiveListener(pe),document.removeEventListener("resume",Ce,!1),document.removeEventListener("visibilitychange",Re,!1),V&&window.clearTimeout(V)}})}finally{E()}})).apply(this,arguments)}function Bc(){return(Bc=(0,d.A)(function*(p){const c=function jc(p){if(ut(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const c=new ArrayBuffer(p.length),f=new Uint8Array(c);for(let g=0;g<p.length;g++)f[g]=p.charCodeAt(g);return f}(p),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(E=>E.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Hh extends to{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,d.A)(function*(){yield c.initPromise})()}}function oo(p){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.A)(function*(p){const c=yield Bo()._get(Yi(p));return c&&(yield Bo()._remove(Yi(p))),c})).apply(this,arguments)}function ws(){const p=[];for(let f=0;f<20;f++){const g=Math.floor(62*Math.random());p.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(g))}return p.join("")}function Bo(){return $t(Ys)}function Yi(p){return O("authEvent",p.config.apiKey,p.name)}function jo(p){if(!p?.includes("?"))return{};const[c,...f]=p.split("?");return(0,T.I9)(f.join("?"))}const Wh=class $c{constructor(){this._redirectPersistence=ps,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=cn,this._overrideRedirectResult=Ln}_initialize(c){var f=this;return(0,d.A)(function*(){const g=c._key();let E=f.eventManagers.get(g);return E||(E=new Hh(c),f.eventManagers.set(g,E),f.attachCallbackListeners(c,E)),E})()}_openPopup(c){ae(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,g,E){var D=this;return(0,d.A)(function*(){!function Uc(p){var c,f,g,E,D,P,V,pe,Ce,Re;const Pe=io();Z("function"==typeof(null===(c=Pe?.universalLinks)||void 0===c?void 0:c.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Z(typeof(null===(f=Pe?.BuildInfo)||void 0===f?void 0:f.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Z("function"==typeof(null===(D=null===(E=null===(g=Pe?.cordova)||void 0===g?void 0:g.plugins)||void 0===E?void 0:E.browsertab)||void 0===D?void 0:D.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(pe=null===(V=null===(P=Pe?.cordova)||void 0===P?void 0:P.plugins)||void 0===V?void 0:V.browsertab)||void 0===pe?void 0:pe.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Z("function"==typeof(null===(Re=null===(Ce=Pe?.cordova)||void 0===Ce?void 0:Ce.InAppBrowser)||void 0===Re?void 0:Re.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const P=yield D._initialize(c);yield P.initialized(),P.resetRedirect(),function Rc(){Fr.clear()}(),yield D._originValidation(c);const V=function ff(p,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:ws(),postBody:null,tenantId:p.tenantId,error:G(p,"no-auth-event")}}(c,g,E);yield function qg(p,c){return Bo()._set(Yi(p),c)}(c,V);const pe=yield function Lc(p,c,f){return Vo.apply(this,arguments)}(c,V,f),Ce=yield function jh(p){const{cordova:c}=io();return new Promise(f=>{c.plugins.browsertab.isAvailable(g=>{let E=null;g?c.plugins.browsertab.openUrl(p):E=c.InAppBrowser.open(p,function ht(p=(0,T.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),f(E)})})}(pe);return function Vc(p,c,f){return Ha.apply(this,arguments)}(c,P,Ce)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function pl(p){return Uo.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:g,handleOpenURL:E,BuildInfo:D}=io(),P=setTimeout((0,d.A)(function*(){yield oo(c),f.onEvent(Gh())}),500),V=function(){var Re=(0,d.A)(function*(Pe){clearTimeout(P);const Qt=yield oo(c);let Br=null;Qt&&Pe?.url&&(Br=function gl(p,c){var f,g;const E=function $a(p){const c=jo(p),f=c.link?decodeURIComponent(c.link):void 0,g=jo(f).link,E=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return jo(E).link||E||g||f||p}(c);if(E.includes("/__/auth/callback")){const D=jo(E),P=D.firebaseError?function Hc(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(D.firebaseError)):null,V=null===(g=null===(f=P?.code)||void 0===f?void 0:f.split("auth/"))||void 0===g?void 0:g[1],pe=V?G(V):null;return pe?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:pe,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:E,postBody:null}}return null}(Qt,Pe.url)),f.onEvent(Br||Gh())});return function(Qt){return Re.apply(this,arguments)}}();typeof g<"u"&&"function"==typeof g.subscribe&&g.subscribe(null,V);const pe=E,Ce=`${D.packageName.toLowerCase()}://`;io().handleOpenURL=function(){var Re=(0,d.A)(function*(Pe){if(Pe.toLowerCase().startsWith(Ce)&&V({url:Pe}),"function"==typeof pe)try{pe(Pe)}catch(Qt){console.error(Qt)}});return function(Pe){return Re.apply(this,arguments)}}()}};function Gh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:G("no-auth-event")}}function ml(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Wc(p=(0,T.ZQ)()){return!("file:"!==ml()&&"ionic:"!==ml()&&"capacitor:"!==ml()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xg(){try{const p=self.localStorage,c=qu();if(p)return p.setItem(c,"1"),p.removeItem(c),!function MD(p=(0,T.ZQ)()){return function qh(){return(0,T.lT)()&&11===document?.documentMode}()||function _l(p=(0,T.ZQ)()){return/Edge\/\d+/.test(p)}(p)}()||(0,T.zW)()}catch{return Wa()&&(0,T.zW)()}return!1}function Wa(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hf(){return(function Yg(){return"http:"===ml()||"https:"===ml()}()||(0,T.sr)()||Wc())&&!function Qg(){return(0,T.lV)()||(0,T.Ll)()}()&&Xg()&&!Wa()}function pf(){return Wc()&&typeof document<"u"}function Mr(){return(Mr=(0,d.A)(function*(){return!!pf()&&new Promise(p=>{const c=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),p(!0)})})})).apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},Ho=Z,mf="persistence";function vl(p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,d.A)(function*(p){yield p._initializationPromise;const c=Ga(),f=O(mf,p.config.apiKey,p.name);c&&c.setItem(f,p._getPersistence())})).apply(this,arguments)}function Ga(){var p;try{return(null===(p=function bs(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const za=Z;class As{constructor(){this.browserResolver=$t(ur),this.cordovaResolver=$t(Wh),this.underlyingResolver=null,this._redirectPersistence=ps,this._completeRedirectFn=cn,this._overrideRedirectResult=Ln}_initialize(c){var f=this;return(0,d.A)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,g,E){var D=this;return(0,d.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openPopup(c,f,g,E)})()}_openRedirect(c,f,g,E){var D=this;return(0,d.A)(function*(){return yield D.selectUnderlyingResolver(),D.assertedUnderlyingResolver._openRedirect(c,f,g,E)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return pf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return za(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,d.A)(function*(){if(c.underlyingResolver)return;const f=yield function gf(){return Mr.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function zc(p){return p.unwrap()}function vf(p){return yl(p)}function yl(p){const{_tokenResponse:c}=p instanceof T.g?p.customData:p;if(!c)return null;if(!(p instanceof T.g)&&"temporaryProof"in c&&"phoneNumber"in c)return Tt.credentialFromResult(p);const f=c.providerId;if(!f||f===re.PASSWORD)return null;let g;switch(f){case re.GOOGLE:g=xr;break;case re.FACEBOOK:g=lc;break;case re.GITHUB:g=pi;break;case re.TWITTER:g=Io;break;default:const{oauthIdToken:E,oauthAccessToken:D,oauthTokenSecret:P,pendingToken:V,nonce:pe}=c;return D||P||E||V?V?f.startsWith("saml.")?zr._create(f,V):De._fromParams({providerId:f,signInMethod:f,pendingToken:V,idToken:E,accessToken:D}):new Dr(f).credential({idToken:E,accessToken:D,rawNonce:pe}):null}return p instanceof T.g?g.credentialFromError(p):g.credentialFromResult(p)}function vr(p,c){return c.catch(f=>{throw f instanceof T.g&&function yf(p,c){var f;const g=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c?.code)c.resolver=new Zg(p,function Wu(p,c){var f;const g=(0,T.Ku)(p),E=c;return Z(c.customData.operationType,g,"argument-error"),Z(null===(f=E.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,g,"argument-error"),ds._fromError(g,E)}(p,c));else if(g){const E=yl(c),D=c;E&&(D.credential=E,D.tenantId=g.tenantId||void 0,D.email=g.email||void 0,D.phoneNumber=g.phoneNumber||void 0)}}(p,f),f}).then(f=>{const E=f.user;return{operationType:f.operationType,credential:vf(f),additionalUserInfo:ef(f),user:Ts.getOrCreate(E)}})}function Ef(p,c){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.A)(function*(p,c){const f=yield c;return{verificationId:f.verificationId,confirm:g=>vr(p,f.confirm(g))}})).apply(this,arguments)}class Zg{constructor(c,f){this.resolver=f,this.auth=function _f(p){return p.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return vr(zc(this.auth),this.resolver.resolveSignIn(c))}}class Ts{constructor(c){this._delegate=c,this.multiFactor=function qs(p){const c=(0,T.Ku)(p);return At.has(c)||At.set(c,fs._fromUser(c)),At.get(c)}(c)}static getOrCreate(c){return Ts.USER_MAP.has(c)||Ts.USER_MAP.set(c,new Ts(c)),Ts.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,d.A)(function*(){return vr(f.auth,Ah(f._delegate,c))})()}linkWithPhoneNumber(c,f){var g=this;return(0,d.A)(function*(){return Ef(g.auth,function ln(p,c,f){return ze.apply(this,arguments)}(g._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,d.A)(function*(){return vr(f.auth,function Mc(p,c,f){return Es.apply(this,arguments)}(f._delegate,c,As))})()}linkWithRedirect(c){var f=this;return(0,d.A)(function*(){return yield vl(Yt(f.auth)),ul(f._delegate,c,As)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,d.A)(function*(){return vr(f.auth,Th(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Ef(this.auth,function or(p,c,f){return Zs.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return vr(this.auth,function Pa(p,c,f){return ys.apply(this,arguments)}(this._delegate,c,As))}reauthenticateWithRedirect(c){var f=this;return(0,d.A)(function*(){return yield vl(Yt(f.auth)),xo(f._delegate,c,As)})()}sendEmailVerification(c){return function ls(p,c){return vi.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,d.A)(function*(){return yield function Su(p,c){return kn.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function Nh(p,c){return ju((0,T.Ku)(p),c,null)}(this._delegate,c)}updatePassword(c){return function Bu(p,c){return ju((0,T.Ku)(p),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Sn(p,c){return Zr.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Rh(p,c){return wa.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function Ia(p,c,f){return Da.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ts.USER_MAP=new WeakMap;const En=Z;let El=(()=>{class p{constructor(f,g){if(this.app=f,g.isInitialized())return this._delegate=g.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:E}=f.options;En(E,"invalid-api-key",{appName:f.name}),En(E,"invalid-api-key",{appName:f.name});const D=typeof window<"u"?As:void 0;this._delegate=g.initialize({options:{persistence:Cf(E,f.name),popupRedirectResolver:D}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ts.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,g){!function fa(p,c,f){const g=Yt(p);Z(g._canInitEmulator,g,"emulator-config-failed"),Z(/^https?:\/\//.test(c),g,"invalid-emulator-scheme");const E=!!f?.disableWarnings,D=On(c),{host:P,port:V}=function ac(p){const c=On(p),f=/(\/\/)?([^?#/]+)/.exec(p.substr(c.length));if(!f)return{host:"",port:null};const g=f[2].split("@").pop()||"",E=/^(\[[^\]]+\])(:|$)/.exec(g);if(E){const D=E[1];return{host:D,port:vu(g.substr(D.length+1))}}{const[D,P]=g.split(":");return{host:D,port:vu(P)}}}(c);g.config.emulator={url:`${D}//${P}${null===V?"":`:${V}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:P,port:V,protocol:D.replace(":",""),options:Object.freeze({disableWarnings:E})}),E||function bh(){function p(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,f,g)}applyActionCode(f){return function qr(p,c){return wr.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return fc(this._delegate,f)}confirmPasswordReset(f,g){return function Sh(p,c,f){return _i.apply(this,arguments)}(this._delegate,f,g)}createUserWithEmailAndPassword(f,g){var E=this;return(0,d.A)(function*(){return vr(E._delegate,function Fu(p,c,f){return bo.apply(this,arguments)}(E._delegate,f,g))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Uu(p,c){return Gs.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Zd(p,c){const f=hi.parseLink(c);return"EMAIL_SIGNIN"===f?.operation}(0,f)}getRedirectResult(){var f=this;return(0,d.A)(function*(){En(hf(),f._delegate,"operation-not-supported-in-this-environment");const g=yield function Wi(p,c){return Vn.apply(this,arguments)}(f._delegate,As);return g?vr(f._delegate,Promise.resolve(g)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function zh(p,c){Yt(p)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,g,E){const{next:D,error:P,complete:V}=Kc(f,g,E);return this._delegate.onAuthStateChanged(D,P,V)}onIdTokenChanged(f,g,E){const{next:D,error:P,complete:V}=Kc(f,g,E);return this._delegate.onIdTokenChanged(D,P,V)}sendSignInLinkToEmail(f,g){return function Ao(p,c,f){return Ws.apply(this,arguments)}(this._delegate,f,g)}sendPasswordResetEmail(f,g){return function $g(p,c,f){return wo.apply(this,arguments)}(this._delegate,f,g||void 0)}setPersistence(f){var g=this;return(0,d.A)(function*(){let E;switch(function Ii(p,c){Ho(Object.values(_r).includes(c),p,"invalid-persistence-type"),(0,T.lV)()?Ho(c!==_r.SESSION,p,"unsupported-persistence-type"):(0,T.Ll)()?Ho(c===_r.NONE,p,"unsupported-persistence-type"):Wa()?Ho(c===_r.NONE||c===_r.LOCAL&&(0,T.zW)(),p,"unsupported-persistence-type"):Ho(c===_r.NONE||Xg(),p,"unsupported-persistence-type")}(g._delegate,f),f){case _r.SESSION:E=ps;break;case _r.LOCAL:E=(yield $t(ir)._isAvailable())?ir:Ys;break;case _r.NONE:E=$n;break;default:return ae("argument-error",{appName:g._delegate.name})}return g._delegate.setPersistence(E)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return vr(this._delegate,function Do(p){return _n.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return vr(this._delegate,Pu(this._delegate,f))}signInWithCustomToken(f){return vr(this._delegate,function dc(p,c){return mi.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,g){return vr(this._delegate,function hc(p,c,f){return Pu((0,T.Ku)(p),Hs.credential(c,f))}(this._delegate,f,g))}signInWithEmailLink(f,g){return vr(this._delegate,function vn(p,c,f){return Ca.apply(this,arguments)}(this._delegate,f,g))}signInWithPhoneNumber(f,g){return Ef(this._delegate,function ms(p,c,f){return Xs.apply(this,arguments)}(this._delegate,f,g))}signInWithPopup(f){var g=this;return(0,d.A)(function*(){return En(hf(),g._delegate,"operation-not-supported-in-this-environment"),vr(g._delegate,function sl(p,c,f){return vs.apply(this,arguments)}(g._delegate,f,As))})()}signInWithRedirect(f){var g=this;return(0,d.A)(function*(){return En(hf(),g._delegate,"operation-not-supported-in-this-environment"),yield vl(g._delegate),br(g._delegate,f,As)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function $s(p,c){return Tn.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=_r,p})();function Kc(p,c,f){let g=p;"function"!=typeof p&&({next:g,error:c,complete:f}=p);const E=g;return{next:P=>E(P&&Ts.getOrCreate(P)),error:c,complete:f}}function Cf(p,c){const f=function $o(p,c){const f=Ga();if(!f)return[];const g=O(mf,p,c);switch(f.getItem(g)){case _r.NONE:return[$n];case _r.LOCAL:return[ir,ps];case _r.SESSION:return[ps];default:return[]}}(p,c);if(typeof self<"u"&&!f.includes(ir)&&f.push(ir),typeof window<"u")for(const g of[Ys,ps])f.includes(g)||f.push(g);return f.includes($n)||f.push($n),f}class Mn{constructor(){this.providerId="phone",this._delegate=new Tt(zc(j.A.auth()))}static credential(c,f){return Tt.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}Mn.PHONE_SIGN_IN_METHOD=Tt.PHONE_SIGN_IN_METHOD,Mn.PROVIDER_ID=Tt.PROVIDER_ID;const Ka=Z;class Yh{constructor(c,f,g=j.A.app()){var E;Ka(null===(E=g.options)||void 0===E?void 0:E.apiKey,"invalid-api-key",{appName:g.name}),this._delegate=new Oa(c,f,g.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gy(p){p.INTERNAL.registerComponent(new oe.uA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),g=c.getProvider("auth");return new El(f,g)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hs,FacebookAuthProvider:lc,GithubAuthProvider:pi,GoogleAuthProvider:xr,OAuthProvider:Dr,SAMLAuthProvider:Tu,PhoneAuthProvider:Mn,PhoneMultiFactorGenerator:Ba,RecaptchaVerifier:Yh,TwitterAuthProvider:Io,Auth:El,AuthCredential:ss,Error:T.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.4.2")}(j.A)},467:(Ue,ce,A)=>{function d(T,W,K,ie,oe,me,re){try{var R=T[me](re),x=R.value}catch(B){return void K(B)}R.done?W(x):Promise.resolve(x).then(ie,oe)}function j(T){return function(){var W=this,K=arguments;return new Promise(function(ie,oe){var me=T.apply(W,K);function re(x){d(me,ie,oe,re,R,"next",x)}function R(x){d(me,ie,oe,re,R,"throw",x)}re(void 0)})}}A.d(ce,{A:()=>j})},1635:(Ue,ce,A)=>{function W(Q,te){var $={};for(var X in Q)Object.prototype.hasOwnProperty.call(Q,X)&&te.indexOf(X)<0&&($[X]=Q[X]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var de=0;for(X=Object.getOwnPropertySymbols(Q);de<X.length;de++)te.indexOf(X[de])<0&&Object.prototype.propertyIsEnumerable.call(Q,X[de])&&($[X[de]]=Q[X[de]])}return $}function B(Q,te,$,X){return new($||($=Promise))(function(J,Ve){function st(xt){try{Ne(X.next(xt))}catch(wt){Ve(wt)}}function Rt(xt){try{Ne(X.throw(xt))}catch(wt){Ve(wt)}}function Ne(xt){xt.done?J(xt.value):function de(J){return J instanceof $?J:new $(function(Ve){Ve(J)})}(xt.value).then(st,Rt)}Ne((X=X.apply(Q,te||[])).next())})}function z(Q){return this instanceof z?(this.v=Q,this):new z(Q)}function ae(Q,te,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,X=$.apply(Q,te||[]),J=[];return de=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),st("next"),st("throw"),st("return",function Ve(Je){return function(Ht){return Promise.resolve(Ht).then(Je,wt)}}),de[Symbol.asyncIterator]=function(){return this},de;function st(Je,Ht){X[Je]&&(de[Je]=function(sn){return new Promise(function(hn,Kt){J.push([Je,sn,hn,Kt])>1||Rt(Je,sn)})},Ht&&(de[Je]=Ht(de[Je])))}function Rt(Je,Ht){try{!function Ne(Je){Je.value instanceof z?Promise.resolve(Je.value.v).then(xt,wt):jn(J[0][2],Je)}(X[Je](Ht))}catch(sn){jn(J[0][3],sn)}}function xt(Je){Rt("next",Je)}function wt(Je){Rt("throw",Je)}function jn(Je,Ht){Je(Ht),J.shift(),J.length&&Rt(J[0][0],J[0][1])}}function le(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,te=Q[Symbol.asyncIterator];return te?te.call(Q):(Q=function ge(Q){var te="function"==typeof Symbol&&Symbol.iterator,$=te&&Q[te],X=0;if($)return $.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&X>=Q.length&&(Q=void 0),{value:Q&&Q[X++],done:!Q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),$={},X("next"),X("throw"),X("return"),$[Symbol.asyncIterator]=function(){return this},$);function X(J){$[J]=Q[J]&&function(Ve){return new Promise(function(st,Rt){!function de(J,Ve,st,Rt){Promise.resolve(Rt).then(function(Ne){J({value:Ne,done:st})},Ve)}(st,Rt,(Ve=Q[J](Ve)).done,Ve.value)})}}}A.d(ce,{AQ:()=>ae,N3:()=>z,Tt:()=>W,sH:()=>B,xN:()=>le}),"function"==typeof SuppressedError&&SuppressedError}},Ue=>{Ue(Ue.s=3322)}]);