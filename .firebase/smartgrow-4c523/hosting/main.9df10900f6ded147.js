"use strict";(self.webpackChunksmartgrow=self.webpackChunksmartgrow||[]).push([[792],{4783:(Xe,ye,P)=>{P.d(ye,{BM:()=>Ce,Gt:()=>re,bf:()=>Ne,e7:()=>fe,iB:()=>L,rx:()=>Te,uP:()=>de});var _=P(7705),X=P(7935),O=P(1161);Xe=P.hmd(Xe);const ee=["ngOnDestroy"],re=(Me,nt,Ze,ne={})=>new Proxy(Me,{get:(ge,te)=>Ze.runOutsideAngular(()=>{var ve;if(Me[te])return!(null===(ve=ne?.spy)||void 0===ve)&&ve.get&&ne.spy.get(te,Me[te]),Me[te];if(ee.indexOf(te)>-1)return()=>{};const Re=nt.toPromise().then(Ue=>{const ae=Ue&&Ue[te];return"function"==typeof ae?ae.bind(Ue):ae&&ae.then?ae.then(st=>Ze.run(()=>st)):Ze.run(()=>ae)});return new Proxy(()=>{},{get:(Ue,ae)=>Re[ae],apply:(Ue,ae,st)=>Re.then(Ct=>{var Bn;const fr=Ct&&Ct(...st);return!(null===(Bn=ne?.spy)||void 0===Bn)&&Bn.apply&&ne.spy.apply(te,st,fr),fr})})})}),fe=(Me,nt)=>{nt.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(ne=>{Object.defineProperty(Me.prototype,ne,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,ne))})})};class pe{constructor(nt){return nt}}const Te=new _.nKC("angularfire2.app.options"),de=new _.nKC("angularfire2.app.name");function L(Me,nt,Ze){const ge="object"==typeof Ze&&Ze||{};ge.name=ge.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const ve=X.A.apps.filter(Re=>Re&&Re.name===ge.name)[0]||nt.runOutsideAngular(()=>X.A.initializeApp(Me,ge));try{JSON.stringify(Me)!==JSON.stringify(ve.options)&&j("error",`${ve.name} Firebase App already initialized with different options${Xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(ve)}const j=(Me,...nt)=>{(0,_.naY)()&&typeof console<"u"&&console[Me](...nt)},Q={provide:pe,useFactory:L,deps:[Te,_.SKi,[new _.Xx1,de]]};let Ne=(()=>{class Me{constructor(Ze){X.A.registerVersion("angularfire",O.xv.full,"core"),X.A.registerVersion("angularfire",O.xv.full,"app-compat"),X.A.registerVersion("angular",_.xvI.full,Ze.toString())}static initializeApp(Ze,ne){return{ngModule:Me,providers:[{provide:Te,useValue:Ze},{provide:de,useValue:ne}]}}}return Me.\u0275fac=function(Ze){return new(Ze||Me)(_.KVO(_.Agw))},Me.\u0275mod=_.$C({type:Me}),Me.\u0275inj=_.G2t({providers:[Q]}),Me})();function Ce(Me,nt,Ze,ne,ge){const[,te,ve]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Me)||[];if(te)return function Be(Me,nt){try{return Me.toString()===nt.toString()}catch{return Me===nt}}(ge,ve)||(Fe("error",`${nt} was already initialized on the ${Ze} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ge,was:ve})),te;{const Re=ne();return globalThis.\u0275AngularfireInstanceCache.push([Me,Re,ge]),Re}}const Ae=!!Xe.hot,Fe=(Me,...nt)=>{(0,_.naY)()&&typeof console<"u"&&console[Me](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Xe,ye,P)=>{P.d(ye,{xv:()=>$r,U0:()=>Hl,u0:()=>Us,CA:()=>Wr,lR:()=>Ja});var _=P(7705),X=P(2214),O=P(467),ee=P(7852),re=P(1076),fe=P(1362),pe=P(8041);const Te=(E,w)=>w.some(T=>E instanceof T);let de,L;const Ne=new WeakMap,Ce=new WeakMap,Be=new WeakMap,Ae=new WeakMap,Fe=new WeakMap;let Ze={get(E,w,T){if(E instanceof IDBTransaction){if("done"===w)return Ce.get(E);if("objectStoreNames"===w)return E.objectStoreNames||Be.get(E);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return ve(E[w])},set:(E,w,T)=>(E[w]=T,!0),has:(E,w)=>E instanceof IDBTransaction&&("done"===w||"store"===w)||w in E};function te(E){return"function"==typeof E?function ge(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...w){return E.apply(Re(this),w),ve(Ne.get(this))}:function(...w){return ve(E.apply(Re(this),w))}:function(w,...T){const N=E.call(Re(this),w,...T);return Be.set(N,w.sort?w.sort():[w]),ve(N)}}(E):(E instanceof IDBTransaction&&function nt(E){if(Ce.has(E))return;const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("complete",K),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},K=()=>{T(),H()},ce=()=>{N(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",K),E.addEventListener("error",ce),E.addEventListener("abort",ce)});Ce.set(E,w)}(E),Te(E,function j(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ze):E)}function ve(E){if(E instanceof IDBRequest)return function Me(E){const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("success",K),E.removeEventListener("error",ce)},K=()=>{T(ve(E.result)),H()},ce=()=>{N(E.error),H()};E.addEventListener("success",K),E.addEventListener("error",ce)});return w.then(T=>{T instanceof IDBCursor&&Ne.set(T,E)}).catch(()=>{}),Fe.set(w,E),w}(E);if(Ae.has(E))return Ae.get(E);const w=te(E);return w!==E&&(Ae.set(E,w),Fe.set(w,E)),w}const Re=E=>Fe.get(E),st=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Bn=new Map;function fr(E,w){if(!(E instanceof IDBDatabase)||w in E||"string"!=typeof w)return;if(Bn.get(w))return Bn.get(w);const T=w.replace(/FromIndex$/,""),N=w!==T,H=Ct.includes(T);if(!(T in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!st.includes(T))return;const K=function(){var ce=(0,O.A)(function*(Ve,...xe){const Ye=this.transaction(Ve,H?"readwrite":"readonly");let pt=Ye.store;return N&&(pt=pt.index(xe.shift())),(yield Promise.all([pt[T](...xe),H&&Ye.done]))[0]});return function(xe){return ce.apply(this,arguments)}}();return Bn.set(w,K),K}!function ne(E){Ze=E(Ze)}(E=>({...E,get:(w,T,N)=>fr(w,T)||E.get(w,T,N),has:(w,T)=>!!fr(w,T)||E.has(w,T)}));const Ei="@firebase/installations",vn="0.6.4",ys=1e4,Ii=`w:${vn}`,zi="FIS_v2",Ci="https://firebaseinstallations.googleapis.com/v1",se=36e5,Ee=new re.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(E){return E instanceof re.g&&E.code.includes("request-failed")}function Qe({projectId:E}){return`${Ci}/projects/${E}/installations`}function vt(E){return{token:E.token,requestStatus:2,expiresIn:an(E.expiresIn),creationTime:Date.now()}}function zt(E,w){return We.apply(this,arguments)}function We(){return(We=(0,O.A)(function*(E,w){const N=(yield w.json()).error;return Ee.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function qt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ir(E){return dt.apply(this,arguments)}function dt(){return(dt=(0,O.A)(function*(E){const w=yield E();return w.status>=500&&w.status<600?E():w})).apply(this,arguments)}function an(E){return Number(E.replace("s","000"))}function fn(){return(fn=(0,O.A)(function*({appConfig:E,heartbeatServiceProvider:w},{fid:T}){const N=Qe(E),H=qt(E),K=w.getImmediate({optional:!0});if(K){const Ye=yield K.getHeartbeatsHeader();Ye&&H.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:H,body:JSON.stringify({fid:T,authVersion:zi,appId:E.appId,sdkVersion:Ii})},xe=yield ir(()=>fetch(N,Ve));if(xe.ok){const Ye=yield xe.json();return{fid:Ye.fid||T,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:vt(Ye.authToken)}}throw yield zt("Create Installation",xe)})).apply(this,arguments)}function Sr(E){return new Promise(w=>{setTimeout(w,E)})}const ko=/^[cdef][\w-]{21}$/,tt="";function wt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const T=function lt(E){return function Gi(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ko.test(T)?T:tt}catch{return tt}}function Gt(E){return`${E.appName}!${E.appId}`}const rn=new Map;function hr(E,w){const T=Gt(E);eo(T,w),function qe(E,w){const T=function yt(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=E=>{eo(E.data.key,E.data.fid)}),pr}();T&&T.postMessage({key:E,fid:w}),function wi(){0===rn.size&&pr&&(pr.close(),pr=null)}()}(T,w)}function eo(E,w){const T=rn.get(E);if(T)for(const N of T)N(w)}let pr=null;const ai="firebase-installations-database",to=1,sr="firebase-installations-store";let Ki=null;function qr(){return Ki||(Ki=function Ue(E,w,{blocked:T,upgrade:N,blocking:H,terminated:K}={}){const ce=indexedDB.open(E,w),Ve=ve(ce);return N&&ce.addEventListener("upgradeneeded",xe=>{N(ve(ce.result),xe.oldVersion,xe.newVersion,ve(ce.transaction))}),T&&ce.addEventListener("blocked",()=>T()),Ve.then(xe=>{K&&xe.addEventListener("close",()=>K()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ve}(ai,to,{upgrade:(E,w)=>{0===w&&E.createObjectStore(sr)}})),Ki}function Nn(E,w){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,O.A)(function*(E,w){const T=Gt(E),H=(yield qr()).transaction(sr,"readwrite"),K=H.objectStore(sr),ce=yield K.get(T);return yield K.put(w,T),yield H.done,(!ce||ce.fid!==w.fid)&&hr(E,w.fid),w})).apply(this,arguments)}function Di(E){return un.apply(this,arguments)}function un(){return(un=(0,O.A)(function*(E){const w=Gt(E),N=(yield qr()).transaction(sr,"readwrite");yield N.objectStore(sr).delete(w),yield N.done})).apply(this,arguments)}function Yr(E,w){return or.apply(this,arguments)}function or(){return(or=(0,O.A)(function*(E,w){const T=Gt(E),H=(yield qr()).transaction(sr,"readwrite"),K=H.objectStore(sr),ce=yield K.get(T),Ve=w(ce);return void 0===Ve?yield K.delete(T):yield K.put(Ve,T),yield H.done,Ve&&(!ce||ce.fid!==Ve.fid)&&hr(E,Ve.fid),Ve})).apply(this,arguments)}function V(E){return F.apply(this,arguments)}function F(){return F=(0,O.A)(function*(E){let w;const T=yield Yr(E.appConfig,N=>{const H=function z(E){return yn(E||{fid:wt(),registrationStatus:0})}(N),K=function _e(E,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Ee.create("app-offline"))};const T={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},N=function ie(E,w){return ze.apply(this,arguments)}(E,T);return{installationEntry:T,registrationPromise:N}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:rt(E)}:{installationEntry:w}}(E,H);return w=K.registrationPromise,K.installationEntry});return T.fid===tt?{installationEntry:yield w}:{installationEntry:T,registrationPromise:w}}),F.apply(this,arguments)}function ze(){return ze=(0,O.A)(function*(E,w){try{const T=yield function Mn(E,w){return fn.apply(this,arguments)}(E,w);return Nn(E.appConfig,T)}catch(T){throw ue(T)&&409===T.customData.serverCode?yield Di(E.appConfig):yield Nn(E.appConfig,{fid:w.fid,registrationStatus:0}),T}}),ze.apply(this,arguments)}function rt(E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.A)(function*(E){let w=yield Lt(E.appConfig);for(;1===w.registrationStatus;)yield Sr(100),w=yield Lt(E.appConfig);if(0===w.registrationStatus){const{installationEntry:T,registrationPromise:N}=yield V(E);return N||T}return w})).apply(this,arguments)}function Lt(E){return Yr(E,w=>{if(!w)throw Ee.create("installation-not-found");return yn(w)})}function yn(E){return function ft(E){return 1===E.registrationStatus&&E.registrationTime+ys<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Hn(){return(Hn=(0,O.A)(function*({appConfig:E,heartbeatServiceProvider:w},T){const N=function gr(E,{fid:w}){return`${Qe(E)}/${w}/authTokens:generate`}(E,T),H=function Ut(E,{refreshToken:w}){const T=qt(E);return T.append("Authorization",function wn(E){return`${zi} ${E}`}(w)),T}(E,T),K=w.getImmediate({optional:!0});if(K){const Ye=yield K.getHeartbeatsHeader();Ye&&H.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Ii,appId:E.appId}})},xe=yield ir(()=>fetch(N,Ve));if(xe.ok)return vt(yield xe.json());throw yield zt("Generate Auth Token",xe)})).apply(this,arguments)}function bi(E){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,O.A)(function*(E,w=!1){let T;const N=yield Yr(E.appConfig,K=>{if(!je(K))throw Ee.create("not-registered");const ce=K.authToken;if(!w&&function Pt(E){return 2===E.requestStatus&&!function En(E){const w=Date.now();return w<E.creationTime||E.creationTime+E.expiresIn<w+se}(E)}(ce))return K;if(1===ce.requestStatus)return T=function he(E,w){return Z.apply(this,arguments)}(E,w),K;{if(!navigator.onLine)throw Ee.create("app-offline");const Ve=function hn(E){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:w})}(K);return T=function Ke(E,w){return Je.apply(this,arguments)}(E,Ve),Ve}});return T?yield T:N.authToken}),Lo.apply(this,arguments)}function Z(){return(Z=(0,O.A)(function*(E,w){let T=yield Se(E.appConfig);for(;1===T.authToken.requestStatus;)yield Sr(100),T=yield Se(E.appConfig);const N=T.authToken;return 0===N.requestStatus?bi(E,w):N})).apply(this,arguments)}function Se(E){return Yr(E,w=>{if(!je(w))throw Ee.create("not-registered");return function ui(E){return 1===E.requestStatus&&E.requestTime+ys<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function Je(){return Je=(0,O.A)(function*(E,w){try{const T=yield function Tt(E,w){return Hn.apply(this,arguments)}(E,w),N=Object.assign(Object.assign({},w),{authToken:T});return yield Nn(E.appConfig,N),T}catch(T){if(!ue(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const N=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Nn(E.appConfig,N)}else yield Di(E.appConfig);throw T}}),Je.apply(this,arguments)}function je(E){return void 0!==E&&2===E.registrationStatus}function Ai(){return(Ai=(0,O.A)(function*(E){const w=E,{installationEntry:T,registrationPromise:N}=yield V(w);return N?N.catch(console.error):bi(w).catch(console.error),T.fid})).apply(this,arguments)}function Da(){return Da=(0,O.A)(function*(E,w=!1){const T=E;return yield function ba(E){return Fr.apply(this,arguments)}(T),(yield bi(T,w)).token}),Da.apply(this,arguments)}function Fr(){return(Fr=(0,O.A)(function*(E){const{registrationPromise:w}=yield V(E);w&&(yield w)})).apply(this,arguments)}function Yn(E){return Ee.create("missing-app-config-values",{valueName:E})}const pl="installations",Dh=E=>{const w=E.getProvider("app").getImmediate(),T=function Ta(E){if(!E||!E.options)throw Yn("App Configuration");if(!E.name)throw Yn("App Name");const w=["projectId","apiKey","appId"];for(const T of w)if(!E.options[T])throw Yn(T);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(w);return{app:w,appConfig:T,heartbeatServiceProvider:(0,ee._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Is=E=>{const w=E.getProvider("app").getImmediate(),T=(0,ee._getProvider)(w,pl).getImmediate();return{getId:()=>function mr(E){return Ai.apply(this,arguments)}(T),getToken:H=>function Su(E){return Da.apply(this,arguments)}(T,H)}};(function ef(){(0,ee._registerComponent)(new fe.uA(pl,Dh,"PUBLIC")),(0,ee._registerComponent)(new fe.uA("installations-internal",Is,"PRIVATE"))})(),(0,ee.registerVersion)(Ei,vn),(0,ee.registerVersion)(Ei,vn,"esm2017");const Sa="@firebase/remote-config",$n=new re.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ke{constructor(w,T,N,H){this.client=w,this.storage=T,this.storageCache=N,this.logger=H}isCachedDataFresh(w,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-T,H=N<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${H}.`),H}fetch(w){var T=this;return(0,O.A)(function*(){const[N,H]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(H&&T.isCachedDataFresh(w.cacheMaxAgeMillis,N))return H;w.eTag=H&&H.eTag;const K=yield T.client.fetch(w),ce=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===K.status&&ce.push(T.storage.setLastSuccessfulFetchResponse(K)),yield Promise.all(ce),K})()}}function mt(E=navigator){return E.languages&&E.languages[0]||E.language}class $t{constructor(w,T,N,H,K,ce){this.firebaseInstallations=w,this.sdkVersion=T,this.namespace=N,this.projectId=H,this.apiKey=K,this.appId=ce}fetch(w){var T=this;return(0,O.A)(function*(){const[N,H]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},xe={sdk_version:T.sdkVersion,app_instance_id:N,app_instance_id_token:H,app_id:T.appId,language_code:mt()},Ye={method:"POST",headers:Ve,body:JSON.stringify(xe)},pt=fetch(ce,Ye),ct=new Promise((Dr,br)=>{w.signal.addEventListener(()=>{const eu=new Error("The operation was aborted.");eu.name="AbortError",br(eu)})});let cr;try{yield Promise.race([pt,ct]),cr=yield pt}catch(Dr){let br="fetch-client-network";throw"AbortError"===Dr?.name&&(br="fetch-timeout"),$n.create(br,{originalErrorMessage:Dr?.message})}let Xt=cr.status;const Fi=cr.headers.get("ETag")||void 0;let bc,Kt;if(200===cr.status){let Dr;try{Dr=yield cr.json()}catch(br){throw $n.create("fetch-client-parse",{originalErrorMessage:br?.message})}bc=Dr.entries,Kt=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===Kt?Xt=500:"NO_CHANGE"===Kt?Xt=304:("NO_TEMPLATE"===Kt||"EMPTY_CONFIG"===Kt)&&(bc={}),304!==Xt&&200!==Xt)throw $n.create("fetch-status",{httpStatus:Xt});return{status:Xt,eTag:Fi,config:bc}})()}}class ar{constructor(w,T){this.client=w,this.storage=T}fetch(w){var T=this;return(0,O.A)(function*(){const N=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(w,N)})()}attemptFetch(w,{throttleEndTimeMillis:T,backoffCount:N}){var H=this;return(0,O.A)(function*(){yield function Rr(E,w){return new Promise((T,N)=>{const H=Math.max(w-Date.now(),0),K=setTimeout(T,H);E.addEventListener(()=>{clearTimeout(K),N($n.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,T);try{const K=yield H.client.fetch(w);return yield H.storage.deleteThrottleMetadata(),K}catch(K){if(!function ro(E){if(!(E instanceof re.g&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}(K))throw K;const ce={throttleEndTimeMillis:Date.now()+(0,re.p9)(N),backoffCount:N+1};return yield H.storage.setThrottleMetadata(ce),H.attemptFetch(w,ce)}})()}}class Qi{constructor(w,T,N,H,K){this.app=w,this._client=T,this._storageCache=N,this._storage=H,this._logger=K,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qr(E,w){const T=E.target.error||void 0;return $n.create(w,{originalErrorMessage:T&&T?.message})}const et="app_namespace_store";class Dn{constructor(w,T,N,H=function Ti(){return new Promise((E,w)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=N=>{w(Qr(N,"storage-open"))},T.onsuccess=N=>{E(N.target.result)},T.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(et,{keyPath:"compositeKey"})}}catch(T){w($n.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=w,this.appName=T,this.namespace=N,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var T=this;return(0,O.A)(function*(){const N=yield T.openDbPromise;return new Promise((H,K)=>{const Ve=N.transaction([et],"readonly").objectStore(et),xe=T.createCompositeKey(w);try{const Ye=Ve.get(xe);Ye.onerror=pt=>{K(Qr(pt,"storage-get"))},Ye.onsuccess=pt=>{const ct=pt.target.result;H(ct?ct.value:void 0)}}catch(Ye){K($n.create("storage-get",{originalErrorMessage:Ye?.message}))}})})()}set(w,T){var N=this;return(0,O.A)(function*(){const H=yield N.openDbPromise;return new Promise((K,ce)=>{const xe=H.transaction([et],"readwrite").objectStore(et),Ye=N.createCompositeKey(w);try{const pt=xe.put({compositeKey:Ye,value:T});pt.onerror=ct=>{ce(Qr(ct,"storage-set"))},pt.onsuccess=()=>{K()}}catch(pt){ce($n.create("storage-set",{originalErrorMessage:pt?.message}))}})})()}delete(w){var T=this;return(0,O.A)(function*(){const N=yield T.openDbPromise;return new Promise((H,K)=>{const Ve=N.transaction([et],"readwrite").objectStore(et),xe=T.createCompositeKey(w);try{const Ye=Ve.delete(xe);Ye.onerror=pt=>{K(Qr(pt,"storage-delete"))},Ye.onsuccess=()=>{H()}}catch(Ye){K($n.create("storage-delete",{originalErrorMessage:Ye?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class io{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,O.A)(function*(){const T=w.storage.getLastFetchStatus(),N=w.storage.getLastSuccessfulFetchTimestampMillis(),H=w.storage.getActiveConfig(),K=yield T;K&&(w.lastFetchStatus=K);const ce=yield N;ce&&(w.lastSuccessfulFetchTimestampMillis=ce);const Ve=yield H;Ve&&(w.activeConfig=Ve)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function ml(){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,O.A)(function*(){if(!(0,re.zW)())return!1;try{return yield(0,re.eX)()}catch{return!1}})).apply(this,arguments)}!function vr(){(0,ee._registerComponent)(new fe.uA("remote-config",function E(w,{instanceIdentifier:T}){const N=w.getProvider("app").getImmediate(),H=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,re.zW)())throw $n.create("indexed-db-unavailable");const{projectId:K,apiKey:ce,appId:Ve}=N.options;if(!K)throw $n.create("registration-project-id");if(!ce)throw $n.create("registration-api-key");if(!Ve)throw $n.create("registration-app-id");const xe=new Dn(Ve,N.name,T=T||"firebase"),Ye=new io(xe),pt=new pe.Vy(Sa);pt.logLevel=pe.$b.ERROR;const ct=new $t(H,ee.SDK_VERSION,T,K,ce,Ve),cr=new ar(ct,xe),Xt=new ke(cr,xe,Ye,pt),Fi=new Qi(N,Xt,Ye,xe,pt);return function Wn(E){const w=(0,re.Ku)(E);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Fi),Fi},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Sa,"0.4.4"),(0,ee.registerVersion)(Sa,"0.4.4","esm2017")}();const Si=(E,w)=>w.some(T=>E instanceof T);let Xi,ci;const Uo=new WeakMap,li=new WeakMap,Mr=new WeakMap,Qn=new WeakMap,Ri=new WeakMap;let xa={get(E,w,T){if(E instanceof IDBTransaction){if("done"===w)return li.get(E);if("objectStoreNames"===w)return E.objectStoreNames||Mr.get(E);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Zn(E[w])},set:(E,w,T)=>(E[w]=T,!0),has:(E,w)=>E instanceof IDBTransaction&&("done"===w||"store"===w)||w in E};function Bu(E){return"function"==typeof E?function Xn(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Vu(){return ci||(ci=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...w){return E.apply(ws(this),w),Zn(Uo.get(this))}:function(...w){return Zn(E.apply(ws(this),w))}:function(w,...T){const N=E.call(ws(this),w,...T);return Mr.set(N,w.sort?w.sort():[w]),Zn(N)}}(E):(E instanceof IDBTransaction&&function xn(E){if(li.has(E))return;const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("complete",K),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},K=()=>{T(),H()},ce=()=>{N(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",K),E.addEventListener("error",ce),E.addEventListener("abort",ce)});li.set(E,w)}(E),Si(E,function St(){return Xi||(Xi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xa):E)}function Zn(E){if(E instanceof IDBRequest)return function Vo(E){const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("success",K),E.removeEventListener("error",ce)},K=()=>{T(Zn(E.result)),H()},ce=()=>{N(E.error),H()};E.addEventListener("success",K),E.addEventListener("error",ce)});return w.then(T=>{T instanceof IDBCursor&&Uo.set(T,E)}).catch(()=>{}),Ri.set(w,E),w}(E);if(Qn.has(E))return Qn.get(E);const w=Bu(E);return w!==E&&(Qn.set(E,w),Ri.set(w,E)),w}const ws=E=>Ri.get(E);function Er(E,w,{blocked:T,upgrade:N,blocking:H,terminated:K}={}){const ce=indexedDB.open(E,w),Ve=Zn(ce);return N&&ce.addEventListener("upgradeneeded",xe=>{N(Zn(ce.result),xe.oldVersion,xe.newVersion,Zn(ce.transaction))}),T&&ce.addEventListener("blocked",()=>T()),Ve.then(xe=>{K&&xe.addEventListener("close",()=>K()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ve}function Zi(E,{blocked:w}={}){const T=indexedDB.deleteDatabase(E);return w&&T.addEventListener("blocked",()=>w()),Zn(T).then(()=>{})}const ju=["get","getKey","getAll","getAllKeys","count"],nf=["put","add","delete","clear"],Hu=new Map;function $u(E,w){if(!(E instanceof IDBDatabase)||w in E||"string"!=typeof w)return;if(Hu.get(w))return Hu.get(w);const T=w.replace(/FromIndex$/,""),N=w!==T,H=nf.includes(T);if(!(T in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!ju.includes(T))return;const K=function(){var ce=(0,O.A)(function*(Ve,...xe){const Ye=this.transaction(Ve,H?"readwrite":"readonly");let pt=Ye.store;return N&&(pt=pt.index(xe.shift())),(yield Promise.all([pt[T](...xe),H&&Ye.done]))[0]});return function(xe){return ce.apply(this,arguments)}}();return Hu.set(w,K),K}!function ur(E){xa=E(xa)}(E=>({...E,get:(w,T,N)=>$u(w,T)||E.get(w,T,N),has:(w,T)=>!!$u(w,T)||E.has(w,T)}));const Wu="/firebase-messaging-sw.js",zu="/firebase-cloud-messaging-push-scope",_l="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bh="https://fcmregistrations.googleapis.com/v1",en="google.c.a.c_id",Ah="google.c.a.c_l",rf="google.c.a.ts";var vl=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(vl||{});function Mi(E){const w=new Uint8Array(E);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gu(E){const T=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(T),H=new Uint8Array(N.length);for(let K=0;K<N.length;++K)H[K]=N.charCodeAt(K);return H}const ka="fcm_token_details_db",Ku=5,Ds="fcm_token_object_Store";function Bo(){return Bo=(0,O.A)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(K=>K.name).includes(ka))return null;let w=null;return(yield Er(ka,Ku,{upgrade:(N=(0,O.A)(function*(H,K,ce,Ve){var xe;if(K<2||!H.objectStoreNames.contains(Ds))return;const Ye=Ve.objectStore(Ds),pt=yield Ye.index("fcmSenderId").get(E);if(yield Ye.clear(),pt)if(2===K){const ct=pt;if(!ct.auth||!ct.p256dh||!ct.endpoint)return;w={token:ct.fcmToken,createTime:null!==(xe=ct.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:ct.auth,p256dh:ct.p256dh,endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:"string"==typeof ct.vapidKey?ct.vapidKey:Mi(ct.vapidKey)}}}else if(3===K){const ct=pt;w={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Mi(ct.auth),p256dh:Mi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Mi(ct.vapidKey)}}}else if(4===K){const ct=pt;w={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Mi(ct.auth),p256dh:Mi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Mi(ct.vapidKey)}}}}),function(K,ce,Ve,xe){return N.apply(this,arguments)})})).close(),yield Zi(ka),yield Zi("fcm_vapid_details_db"),yield Zi("undefined"),function Th(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:w}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var N}),Bo.apply(this,arguments)}const Ni="firebase-messaging-database",di=1,jr="firebase-messaging-store";let yl=null;function In(){return yl||(yl=Er(Ni,di,{upgrade:(E,w)=>{0===w&&E.createObjectStore(jr)}})),yl}function so(E){return zn.apply(this,arguments)}function zn(){return zn=(0,O.A)(function*(E){const w=oo(E),N=yield(yield In()).transaction(jr).objectStore(jr).get(w);if(N)return N;{const H=yield function Pg(E){return Bo.apply(this,arguments)}(E.appConfig.senderId);if(H)return yield qu(E,H),H}}),zn.apply(this,arguments)}function qu(E,w){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.A)(function*(E,w){const T=oo(E),H=(yield In()).transaction(jr,"readwrite");return yield H.objectStore(jr).put(w,T),yield H.done,w})).apply(this,arguments)}function Ho(){return(Ho=(0,O.A)(function*(E){const w=oo(E),N=(yield In()).transaction(jr,"readwrite");yield N.objectStore(jr).delete(w),yield N.done})).apply(this,arguments)}function oo({appConfig:E}){return E.appId}const kn=new re.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function La(E,w){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,O.A)(function*(E,w){const T=yield Fa(E),N=Sh(w),H={method:"POST",headers:T,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(Pi(E.appConfig),H)).json()}catch(ce){throw kn.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(K.error)throw kn.create("token-subscribe-failed",{errorInfo:K.error.message});if(!K.token)throw kn.create("token-subscribe-no-token");return K.token})).apply(this,arguments)}function Xu(){return(Xu=(0,O.A)(function*(E,w){const T=yield Fa(E),N=Sh(w.subscriptionOptions),H={method:"PATCH",headers:T,body:JSON.stringify(N)};let K;try{K=yield(yield fetch(`${Pi(E.appConfig)}/${w.token}`,H)).json()}catch(ce){throw kn.create("token-update-failed",{errorInfo:ce?.toString()})}if(K.error)throw kn.create("token-update-failed",{errorInfo:K.error.message});if(!K.token)throw kn.create("token-update-no-token");return K.token})).apply(this,arguments)}function ao(E,w){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.A)(function*(E,w){const N={method:"DELETE",headers:yield Fa(E)};try{const K=yield(yield fetch(`${Pi(E.appConfig)}/${w}`,N)).json();if(K.error)throw kn.create("token-unsubscribe-failed",{errorInfo:K.error.message})}catch(H){throw kn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Pi({projectId:E}){return`${bh}/projects/${E}/registrations`}function Fa(E){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.A)(function*({appConfig:E,installations:w}){const T=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Sh({p256dh:E,auth:w,endpoint:T,vapidKey:N}){const H={web:{endpoint:T,auth:w,p256dh:E}};return N!==_l&&(H.web.applicationPubKey=N),H}const uf=6048e5;function Va(){return Va=(0,O.A)(function*(E){const w=yield function ja(E,w){return Il.apply(this,arguments)}(E.swRegistration,E.vapidKey),T={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:w.endpoint,auth:Mi(w.getKey("auth")),p256dh:Mi(w.getKey("p256dh"))},N=yield so(E.firebaseDependencies);if(N){if(function Cl(E,w){return w.vapidKey===E.vapidKey&&w.endpoint===E.endpoint&&w.auth===E.auth&&w.p256dh===E.p256dh}(N.subscriptionOptions,T))return Date.now()>=N.createTime+uf?function Ju(E,w){return Ba.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:T}):N.token;try{yield ao(E.firebaseDependencies,N.token)}catch(H){console.warn(H)}return ec(E.firebaseDependencies,T)}return ec(E.firebaseDependencies,T)}),Va.apply(this,arguments)}function Zu(){return Zu=(0,O.A)(function*(E){const w=yield so(E.firebaseDependencies);w&&(yield ao(E.firebaseDependencies,w.token),yield function El(E){return Ho.apply(this,arguments)}(E.firebaseDependencies));const T=yield E.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),Zu.apply(this,arguments)}function Ba(){return Ba=(0,O.A)(function*(E,w){try{const T=yield function Qu(E,w){return Xu.apply(this,arguments)}(E.firebaseDependencies,w),N=Object.assign(Object.assign({},w),{token:T,createTime:Date.now()});return yield qu(E.firebaseDependencies,N),T}catch(T){throw yield function Mh(E){return Zu.apply(this,arguments)}(E),T}}),Ba.apply(this,arguments)}function ec(E,w){return uo.apply(this,arguments)}function uo(){return(uo=(0,O.A)(function*(E,w){const N={token:yield La(E,w),createTime:Date.now(),subscriptionOptions:w};return yield qu(E,N),N.token})).apply(this,arguments)}function Il(){return(Il=(0,O.A)(function*(E,w){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gu(w)})})).apply(this,arguments)}function $o(E){const w={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Wo(E,w){if(!w.notification)return;E.notification={};const T=w.notification.title;T&&(E.notification.title=T);const N=w.notification.body;N&&(E.notification.body=N);const H=w.notification.image;H&&(E.notification.image=H);const K=w.notification.icon;K&&(E.notification.icon=K)}(w,E),function cf(E,w){w.data&&(E.data=w.data)}(w,E),function tc(E,w){var T,N,H,K,ce;if(!(w.fcmOptions||null!==(T=w.notification)&&void 0!==T&&T.click_action))return;E.fcmOptions={};const Ve=null!==(H=null===(N=w.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==H?H:null===(K=w.notification)||void 0===K?void 0:K.click_action;Ve&&(E.fcmOptions.link=Ve);const xe=null===(ce=w.fcmOptions)||void 0===ce?void 0:ce.analytics_label;xe&&(E.fcmOptions.analyticsLabel=xe)}(w,E),w}function wl(E,w){const T=[];for(let N=0;N<E.length;N++)T.push(E.charAt(N)),N<w.length&&T.push(w.charAt(N));return T.join("")}function Ha(E){return kn.create("missing-app-config-values",{valueName:E})}wl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ph{constructor(w,T,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Dl(E){if(!E||!E.options)throw Ha("App Configuration Object");if(!E.name)throw Ha("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:T}=E;for(const N of w)if(!T[N])throw Ha(N);return{appName:E.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:H,installations:T,analyticsProvider:N}}_delete(){return Promise.resolve()}}function co(){return(co=(0,O.A)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Wu,{scope:zu}),E.swRegistration.update().catch(()=>{})}catch(w){throw kn.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function As(){return(As=(0,O.A)(function*(E,w){if(!w&&!E.swRegistration&&(yield function bl(E){return co.apply(this,arguments)}(E)),w||!E.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");E.swRegistration=w}})).apply(this,arguments)}function Ts(){return(Ts=(0,O.A)(function*(E,w){w?E.vapidKey=w:E.vapidKey||(E.vapidKey=_l)})).apply(this,arguments)}function rc(){return rc=(0,O.A)(function*(E,w){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield function Oi(E,w){return Ts.apply(this,arguments)}(E,w?.vapidKey),yield function Al(E,w){return As.apply(this,arguments)}(E,w?.serviceWorkerRegistration),function Rh(E){return Va.apply(this,arguments)}(E)}),rc.apply(this,arguments)}function Tl(){return(Tl=(0,O.A)(function*(E,w,T){const N=function fi(E){switch(E){case vl.NOTIFICATION_CLICKED:return"notification_open";case vl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:T[en],message_name:T[Ah],message_time:T[rf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ss(){return Ss=(0,O.A)(function*(E,w){const T=w.data;if(!T.isFirebaseMessaging)return;E.onMessageHandler&&T.messageType===vl.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler($o(T)):E.onMessageHandler.next($o(T)));const N=T.data;(function Nh(E){return"object"==typeof E&&!!E&&en in E})(N)&&"1"===N["google.c.a.e"]&&(yield function ic(E,w,T){return Tl.apply(this,arguments)}(E,T.messageType,N))}),Ss.apply(this,arguments)}const Bt="@firebase/messaging",Rs=E=>{const w=new Ph(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function Sl(E,w){return Ss.apply(this,arguments)}(w,T)),w},Ir=E=>{const w=E.getProvider("messaging").getImmediate();return{getToken:N=>function nc(E,w){return rc.apply(this,arguments)}(w,N)}};function sc(){return hi.apply(this,arguments)}function hi(){return(hi=(0,O.A)(function*(){try{yield(0,re.eX)()}catch{return!1}return typeof window<"u"&&(0,re.zW)()&&(0,re.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rl(){(0,ee._registerComponent)(new fe.uA("messaging",Rs,"PUBLIC")),(0,ee._registerComponent)(new fe.uA("messaging-internal",Ir,"PRIVATE")),(0,ee.registerVersion)(Bt,"0.12.4"),(0,ee.registerVersion)(Bt,"0.12.4","esm2017")}();const Yt="analytics",df="firebase_id",ac="origin",ut=6e4,Wa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uc="https://www.googletagmanager.com/gtag/js",Ln=new pe.Vy("@firebase/analytics"),Jn=new re.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ho(E){if(!E.startsWith(uc)){const w=Jn.create("invalid-gtag-resource",{gtagURL:E});return Ln.warn(w.message),""}return E}function Ji(E){return Promise.all(E.map(w=>w.catch(T=>T)))}function zo(){return(zo=(0,O.A)(function*(E,w,T,N,H,K){const ce=N[H];try{if(ce)yield w[ce];else{const xe=(yield Ji(T)).find(Ye=>Ye.measurementId===H);xe&&(yield w[xe.appId])}}catch(Ve){Ln.error(Ve)}E("config",H,K)})).apply(this,arguments)}function _t(){return(_t=(0,O.A)(function*(E,w,T,N,H){try{let K=[];if(H&&H.send_to){let ce=H.send_to;Array.isArray(ce)||(ce=[ce]);const Ve=yield Ji(T);for(const xe of ce){const Ye=Ve.find(ct=>ct.measurementId===xe),pt=Ye&&w[Ye.appId];if(!pt){K=[];break}K.push(pt)}}0===K.length&&(K=Object.values(w)),yield Promise.all(K),E("event",N,H||{})}catch(K){Ln.error(K)}})).apply(this,arguments)}const dc=30,hc=new class Cr{constructor(w={},T=1e3){this.throttleMetadata=w,this.intervalMillis=T}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,T){this.throttleMetadata[w]=T}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function pc(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ff(){return(ff=(0,O.A)(function*(E){var w;const{appId:T,apiKey:N}=E,H={method:"GET",headers:pc(N)},K=Wa.replace("{app-id}",T),ce=yield fetch(K,H);if(200!==ce.status&&304!==ce.status){let Ve="";try{const xe=yield ce.json();null!==(w=xe.error)&&void 0!==w&&w.message&&(Ve=xe.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:Ve})}return ce.json()})).apply(this,arguments)}function An(){return(An=(0,O.A)(function*(E,w=hc,T){const{appId:N,apiKey:H,measurementId:K}=E.options;if(!N)throw Jn.create("no-app-id");if(!H){if(K)return{measurementId:K,appId:N};throw Jn.create("no-api-key")}const ce=w.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new pf;return setTimeout((0,O.A)(function*(){Ve.abort()}),void 0!==T?T:ut),xi({appId:N,apiKey:H,measurementId:K},ce,Ve,w)})).apply(this,arguments)}function xi(E,w,T){return gc.apply(this,arguments)}function gc(){return gc=(0,O.A)(function*(E,{throttleEndTimeMillis:w,backoffCount:T},N,H=hc){var K;const{appId:ce,measurementId:Ve}=E;try{yield function Go(E,w){return new Promise((T,N)=>{const H=Math.max(w-Date.now(),0),K=setTimeout(T,H);E.addEventListener(()=>{clearTimeout(K),N(Jn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(N,w)}catch(xe){if(Ve)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${xe?.message}]`),{appId:ce,measurementId:Ve};throw xe}try{const xe=yield function kh(E){return ff.apply(this,arguments)}(E);return H.deleteThrottleMetadata(ce),xe}catch(xe){const Ye=xe;if(!function pi(E){if(!(E instanceof re.g&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Ye)){if(H.deleteThrottleMetadata(ce),Ve)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:ce,measurementId:Ve};throw xe}const pt=503===Number(null===(K=Ye?.customData)||void 0===K?void 0:K.httpStatus)?(0,re.p9)(T,H.intervalMillis,dc):(0,re.p9)(T,H.intervalMillis),ct={throttleEndTimeMillis:Date.now()+pt,backoffCount:T+1};return H.setThrottleMetadata(ce,ct),Ln.debug(`Calling attemptFetch again in ${pt} millis`),xi(E,ct,N,H)}}),gc.apply(this,arguments)}class pf{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let Ko,wr;function Pl(){return(Pl=(0,O.A)(function*(E,w,T,N,H){if(H&&H.global)E("event",T,N);else{const K=yield w;E("event",T,Object.assign(Object.assign({},N),{send_to:K}))}})).apply(this,arguments)}function Gn(){return(Gn=(0,O.A)(function*(){if(!(0,re.zW)())return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eX)()}catch(E){return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ht(){return Ht=(0,O.A)(function*(E,w,T,N,H,K,ce){var Ve;const xe=function hf(E){return An.apply(this,arguments)}(E);xe.then(Xt=>{T[Xt.measurementId]=Xt.appId,E.options.measurementId&&Xt.measurementId!==E.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Xt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xt=>Ln.error(Xt)),w.push(xe);const Ye=function mc(){return Gn.apply(this,arguments)}().then(Xt=>{if(Xt)return N.getId()}),[pt,ct]=yield Promise.all([xe,Ye]);(function bn(E){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(uc)&&T.src.includes(E))return T;return null})(K)||function Ga(E,w){const T=function za(E,w){let T;return window.trustedTypes&&(T=window.trustedTypes.createPolicy(E,w)),T}("firebase-js-sdk-policy",{createScriptURL:ho}),N=document.createElement("script"),H=`${uc}?l=${E}&id=${w}`;N.src=T?T?.createScriptURL(H):H,N.async=!0,document.head.appendChild(N)}(K,pt.measurementId),wr&&(H("consent","default",wr),function go(E){wr=E}(void 0)),H("js",new Date);const cr=null!==(Ve=ce?.config)&&void 0!==Ve?Ve:{};return cr[ac]="firebase",cr.update=!0,null!=ct&&(cr[df]=ct),H("config",pt.measurementId,cr),Ko&&(H("set",Ko),function Yo(E){Ko=E}(void 0)),pt.measurementId}),Ht.apply(this,arguments)}class Zr{constructor(w){this.app=w}_delete(){return delete ht[this.app.options.appId],Promise.resolve()}}let ht={},xl=[];const kl={};let mo,jt,Qo="dataLayer",_c=!1;function xs(E,w,T){!function qa(){const E=[];if((0,re.sr)()&&E.push("This is a browser extension environment."),(0,re.dM)()||E.push("Cookies are not available."),E.length>0){const w=E.map((N,H)=>`(${H+1}) ${N}`).join(" "),T=Jn.create("invalid-analytics-context",{errorInfo:w});Ln.warn(T.message)}}();const N=E.options.appId;if(!N)throw Jn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Jn.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ht[N])throw Jn.create("already-exists",{id:N});if(!_c){!function xh(E){let w=[];Array.isArray(window[E])?w=window[E]:window[E]=w}(Qo);const{wrappedGtag:K,gtagCore:ce}=function Nl(E,w,T,N,H){let K=function(...ce){window[N].push(arguments)};return window[H]&&"function"==typeof window[H]&&(K=window[H]),window[H]=function lc(E,w,T,N){function K(){return K=(0,O.A)(function*(ce,...Ve){try{if("event"===ce){const[xe,Ye]=Ve;yield function Ie(E,w,T,N,H){return _t.apply(this,arguments)}(E,w,T,xe,Ye)}else if("config"===ce){const[xe,Ye]=Ve;yield function cc(E,w,T,N,H,K){return zo.apply(this,arguments)}(E,w,T,N,xe,Ye)}else if("consent"===ce){const[xe]=Ve;E("consent","update",xe)}else if("get"===ce){const[xe,Ye,pt]=Ve;E("get",xe,Ye,pt)}else if("set"===ce){const[xe]=Ve;E("set",xe)}else E(ce,...Ve)}catch(xe){Ln.error(xe)}}),K.apply(this,arguments)}return function H(ce){return K.apply(this,arguments)}}(K,E,w,T),{gtagCore:K,wrappedGtag:window[H]}}(ht,xl,kl,Qo,"gtag");jt=K,mo=ce,_c=!0}return ht[N]=function ki(E,w,T,N,H,K,ce){return Ht.apply(this,arguments)}(E,xl,kl,w,mo,Qo,T),new Zr(E)}function es(){return vc.apply(this,arguments)}function vc(){return(vc=(0,O.A)(function*(){if((0,re.sr)()||!(0,re.dM)()||!(0,re.zW)())return!1;try{return yield(0,re.eX)()}catch{return!1}})).apply(this,arguments)}const yc="@firebase/analytics";!function dn(){(0,ee._registerComponent)(new fe.uA(Yt,(w,{options:T})=>xs(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,ee._registerComponent)(new fe.uA("analytics-internal",function E(w){try{const T=w.getProvider(Yt).getImmediate();return{logEvent:(N,H,K)=>function er(E,w,T,N){E=(0,re.Ku)(E),function Lh(E,w,T,N,H){return Pl.apply(this,arguments)}(jt,ht[E.app.options.appId],w,T,N).catch(H=>Ln.error(H))}(T,N,H,K)}}catch(T){throw Jn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,ee.registerVersion)(yc,"0.10.0"),(0,ee.registerVersion)(yc,"0.10.0","esm2017")}();var rs=P(6780),ei=P(9687);const Ec=new class Cn extends ei.q{}(class Xo extends rs.R{constructor(w,T){super(w,T),this.scheduler=w,this.work=T}schedule(w,T=0){return T>0?super.schedule(w,T):(this.delay=T,this.state=w,this.scheduler.flush(this),this)}execute(w,T){return T>0||this.closed?super.execute(w,T):this._execute(w,T)}requestAsyncId(w,T,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(w,T,N):(w.flush(this),0)}});var Qa=P(3236),is=P(8141),tr=P(6745),Tn=P(941);const $r=new _.RxE("7.6.1"),_o="__angularfire_symbol__analyticsIsSupportedValue",ss="__angularfire_symbol__analyticsIsSupported",os="__angularfire_symbol__remoteConfigIsSupportedValue",vo="__angularfire_symbol__remoteConfigIsSupported",Xa="__angularfire_symbol__messagingIsSupportedValue",Fs="__angularfire_symbol__messagingIsSupported";function Ja(E,w,T){if(w){if(1===w.length)return w[0];const K=w.filter(ce=>ce.app===T);if(1===K.length)return K[0]}return T.container.getProvider(E).getImmediate({optional:!0})}globalThis[ss]||(globalThis[ss]=es().then(E=>globalThis[_o]=E).catch(()=>globalThis[_o]=!1)),globalThis[Fs]||(globalThis[Fs]=sc().then(E=>globalThis[Xa]=E).catch(()=>globalThis[Xa]=!1)),globalThis[vo]||(globalThis[vo]=ml().then(E=>globalThis[os]=E).catch(()=>globalThis[os]=!1));const Wr=(E,w)=>{const T=w?[w]:(0,X.Dk)(),N=[];return T.forEach(H=>{H.container.getProvider(E).instances.forEach(ce=>{N.includes(ce)||N.push(ce)})}),N};function as(){}class Ic{constructor(w,T=Ec){this.zone=w,this.delegate=T}now(){return this.delegate.now()}schedule(w,T,N){const H=this.zone;return this.delegate.schedule(function(ce){H.runGuarded(()=>{w.apply(this,[ce])})},T,N)}}class ti{constructor(w){this.zone=w,this.task=null}call(w,T){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as)),T.pipe((0,is.M)({next:N,complete:N,error:N})).subscribe(w).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Us=(()=>{class E{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Ic(Zone.current)),this.insideAngular=T.run(()=>new Ic(Zone.current,Qa.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(T){return new(T||E)(_.KVO(_.SKi))},E.\u0275prov=_.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function us(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Hl(E){return us(),function wc(E){return function(T){return(T=T.lift(new ti(E.ngZone))).pipe((0,tr._)(E.outsideAngular),(0,Tn.Q)(E.insideAngular))}}(us())(E)}},1076:(Xe,ye,P)=>{P.d(ye,{$L:()=>Qe,$g:()=>ys,A4:()=>j,Am:()=>ko,As:()=>vt,Bd:()=>st,Cv:()=>Ut,FA:()=>oe,Fy:()=>ve,HN:()=>wi,Hk:()=>O,I9:()=>tt,Im:()=>wn,K3:()=>fe,KA:()=>Te,Ku:()=>or,Ll:()=>ae,OE:()=>to,T9:()=>ne,Uj:()=>de,XA:()=>ge,ZQ:()=>Re,bD:()=>fn,cY:()=>te,dI:()=>qe,dM:()=>se,eX:()=>Ci,g:()=>J,gR:()=>dt,gz:()=>lt,hp:()=>wt,jZ:()=>Ue,kH:()=>Mn,kj:()=>ai,lT:()=>Ei,lV:()=>Bn,oD:()=>yt,od:()=>eo,p9:()=>Di,qc:()=>ir,sr:()=>Ct,tD:()=>Gt,u:()=>L,vA:()=>X,yw:()=>an,zW:()=>zi,zw:()=>Q});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function(V,F){if(!V)throw O(F)},O=function(V){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},ee=function(V){const F=[];let z=0;for(let _e=0;_e<V.length;_e++){let ie=V.charCodeAt(_e);ie<128?F[z++]=ie:ie<2048?(F[z++]=ie>>6|192,F[z++]=63&ie|128):55296==(64512&ie)&&_e+1<V.length&&56320==(64512&V.charCodeAt(_e+1))?(ie=65536+((1023&ie)<<10)+(1023&V.charCodeAt(++_e)),F[z++]=ie>>18|240,F[z++]=ie>>12&63|128,F[z++]=ie>>6&63|128,F[z++]=63&ie|128):(F[z++]=ie>>12|224,F[z++]=ie>>6&63|128,F[z++]=63&ie|128)}return F},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ie=0;ie<V.length;ie+=3){const ze=V[ie],rt=ie+1<V.length,Mt=rt?V[ie+1]:0,Lt=ie+2<V.length,yn=Lt?V[ie+2]:0;let Hn=(15&Mt)<<2|yn>>6,gr=63&yn;Lt||(gr=64,rt||(Hn=64)),_e.push(z[ze>>2],z[(3&ze)<<4|Mt>>4],z[Hn],z[gr])}return _e.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(ee(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let z=0,_e=0;for(;z<V.length;){const ie=V[z++];if(ie<128)F[_e++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ze=V[z++];F[_e++]=String.fromCharCode((31&ie)<<6|63&ze)}else if(ie>239&&ie<365){const Lt=((7&ie)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;F[_e++]=String.fromCharCode(55296+(Lt>>10)),F[_e++]=String.fromCharCode(56320+(1023&Lt))}else{const ze=V[z++],rt=V[z++];F[_e++]=String.fromCharCode((15&ie)<<12|(63&ze)<<6|63&rt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const z=F?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ie=0;ie<V.length;){const ze=z[V.charAt(ie++)],Mt=ie<V.length?z[V.charAt(ie)]:0;++ie;const yn=ie<V.length?z[V.charAt(ie)]:64;++ie;const Tt=ie<V.length?z[V.charAt(ie)]:64;if(++ie,null==ze||null==Mt||null==yn||null==Tt)throw new pe;_e.push(ze<<2|Mt>>4),64!==yn&&(_e.push(Mt<<4&240|yn>>2),64!==Tt&&_e.push(yn<<6&192|Tt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(V){const F=ee(V);return fe.encodeByteArray(F,!0)},de=function(V){return Te(V).replace(/\./g,"")},L=function(V){try{return fe.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function j(V){return Q(void 0,V)}function Q(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const z in F)!F.hasOwnProperty(z)||!Ne(z)||(V[z]=Q(V[z],F[z]));return V}function Ne(V){return"__proto__"!==V}const Me=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&L(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},ne=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},ge=V=>{var F;return null===(F=Me())||void 0===F?void 0:F[`_${V}`]};class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,z)=>{this.resolve=F,this.reject=z})}wrapCallback(F){return(z,_e)=>{z?this.reject(z):this.resolve(_e),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(z):F(z,_e))}}}function ve(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=F||"demo-project",ie=V.iat||0,ze=V.sub||V.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ie,exp:ie+3600,auth_time:ie,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},V);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(rt)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function ae(){var V;const F=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function Ct(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ei(){const V=Re();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function ys(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function zi(){try{return"object"==typeof indexedDB}catch{return!1}}function Ci(){return new Promise((V,F)=>{try{let z=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(_e);ie.onsuccess=()=>{ie.result.close(),z||self.indexedDB.deleteDatabase(_e),V(!0)},ie.onupgradeneeded=()=>{z=!1},ie.onerror=()=>{var ze;F((null===(ze=ie.error)||void 0===ze?void 0:ze.message)||"")}}catch(z){F(z)}})}function se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class J extends Error{constructor(F,z,_e){super(z),this.code=F,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(F,z,_e){this.service=F,this.serviceName=z,this.errors=_e}create(F,...z){const _e=z[0]||{},ie=`${this.service}/${F}`,ze=this.errors[F],rt=ze?function Ee(V,F){return V.replace(ue,(z,_e)=>{const ie=F[_e];return null!=ie?String(ie):`<${_e}?>`})}(ze,_e):"Error";return new J(ie,`${this.serviceName}: ${rt} (${ie}).`,_e)}}const ue=/\{\$([^}]+)}/g;function Qe(V){return JSON.parse(V)}function vt(V){return JSON.stringify(V)}const zt=function(V){let F={},z={},_e={},ie="";try{const ze=V.split(".");F=Qe(L(ze[0])||""),z=Qe(L(ze[1])||""),ie=ze[2],_e=z.d||{},delete z.d}catch{}return{header:F,claims:z,data:_e,signature:ie}},Ut=function(V){const z=zt(V).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},ir=function(V){const F=zt(V).claims;return"object"==typeof F&&!0===F.admin};function dt(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function an(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function wn(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function Mn(V,F,z){const _e={};for(const ie in V)Object.prototype.hasOwnProperty.call(V,ie)&&(_e[ie]=F.call(z,V[ie],ie,V));return _e}function fn(V,F){if(V===F)return!0;const z=Object.keys(V),_e=Object.keys(F);for(const ie of z){if(!_e.includes(ie))return!1;const ze=V[ie],rt=F[ie];if(Sr(ze)&&Sr(rt)){if(!fn(ze,rt))return!1}else if(ze!==rt)return!1}for(const ie of _e)if(!z.includes(ie))return!1;return!0}function Sr(V){return null!==V&&"object"==typeof V}function ko(V){const F=[];for(const[z,_e]of Object.entries(V))Array.isArray(_e)?_e.forEach(ie=>{F.push(encodeURIComponent(z)+"="+encodeURIComponent(ie))}):F.push(encodeURIComponent(z)+"="+encodeURIComponent(_e));return F.length?"&"+F.join("&"):""}function tt(V){const F={};return V.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ie,ze]=_e.split("=");F[decodeURIComponent(ie)]=decodeURIComponent(ze)}}),F}function wt(V){const F=V.indexOf("?");if(!F)return"";const z=V.indexOf("#",F);return V.substring(F,z>0?z:void 0)}class lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,z){z||(z=0);const _e=this.W_;if("string"==typeof F)for(let Tt=0;Tt<16;Tt++)_e[Tt]=F.charCodeAt(z)<<24|F.charCodeAt(z+1)<<16|F.charCodeAt(z+2)<<8|F.charCodeAt(z+3),z+=4;else for(let Tt=0;Tt<16;Tt++)_e[Tt]=F[z]<<24|F[z+1]<<16|F[z+2]<<8|F[z+3],z+=4;for(let Tt=16;Tt<80;Tt++){const Hn=_e[Tt-3]^_e[Tt-8]^_e[Tt-14]^_e[Tt-16];_e[Tt]=4294967295&(Hn<<1|Hn>>>31)}let yn,ft,ie=this.chain_[0],ze=this.chain_[1],rt=this.chain_[2],Mt=this.chain_[3],Lt=this.chain_[4];for(let Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(yn=Mt^ze&(rt^Mt),ft=1518500249):(yn=ze^rt^Mt,ft=1859775393):Tt<60?(yn=ze&rt|Mt&(ze|rt),ft=2400959708):(yn=ze^rt^Mt,ft=3395469782);const Hn=(ie<<5|ie>>>27)+yn+Lt+ft+_e[Tt]&4294967295;Lt=Mt,Mt=rt,rt=4294967295&(ze<<30|ze>>>2),ze=ie,ie=Hn}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Lt&4294967295}update(F,z){if(null==F)return;void 0===z&&(z=F.length);const _e=z-this.blockSize;let ie=0;const ze=this.buf_;let rt=this.inbuf_;for(;ie<z;){if(0===rt)for(;ie<=_e;)this.compress_(F,ie),ie+=this.blockSize;if("string"==typeof F){for(;ie<z;)if(ze[rt]=F.charCodeAt(ie),++rt,++ie,rt===this.blockSize){this.compress_(ze),rt=0;break}}else for(;ie<z;)if(ze[rt]=F[ie],++rt,++ie,rt===this.blockSize){this.compress_(ze),rt=0;break}}this.inbuf_=rt,this.total_+=z}digest(){const F=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&z,z/=256;this.compress_(this.buf_);let _e=0;for(let ie=0;ie<5;ie++)for(let ze=24;ze>=0;ze-=8)F[_e]=this.chain_[ie]>>ze&255,++_e;return F}}function Gt(V,F){const z=new rn(V,F);return z.subscribe.bind(z)}class rn{constructor(F,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{F(this)}).catch(_e=>{this.error(_e)})}next(F){this.forEachObserver(z=>{z.next(F)})}error(F){this.forEachObserver(z=>{z.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,z,_e){let ie;if(void 0===F&&void 0===z&&void 0===_e)throw new Error("Missing Observer.");ie=function Vt(V,F){if("object"!=typeof V||null===V)return!1;for(const z of F)if(z in V&&"function"==typeof V[z])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:z,complete:_e},void 0===ie.next&&(ie.next=jn),void 0===ie.error&&(ie.error=jn),void 0===ie.complete&&(ie.complete=jn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ze}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,F)}sendOne(F,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{z(this.observers[F])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}const eo=function(V,F,z,_e){let ie;if(_e<F?ie="at least "+F:_e>z&&(ie=0===z?"none":"no more than "+z),ie)throw new Error(V+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ie+".")};function qe(V,F){return`${V} failed: ${F} argument `}function yt(V,F,z,_e){if((!_e||z)&&"function"!=typeof z)throw new Error(qe(V,F)+"must be a valid function.")}function wi(V,F,z,_e){if((!_e||z)&&("object"!=typeof z||null===z))throw new Error(qe(V,F)+"must be a valid context object.")}const ai=function(V){const F=[];let z=0;for(let _e=0;_e<V.length;_e++){let ie=V.charCodeAt(_e);if(ie>=55296&&ie<=56319){const ze=ie-55296;_e++,X(_e<V.length,"Surrogate pair missing trail surrogate."),ie=65536+(ze<<10)+(V.charCodeAt(_e)-56320)}ie<128?F[z++]=ie:ie<2048?(F[z++]=ie>>6|192,F[z++]=63&ie|128):ie<65536?(F[z++]=ie>>12|224,F[z++]=ie>>6&63|128,F[z++]=63&ie|128):(F[z++]=ie>>18|240,F[z++]=ie>>12&63|128,F[z++]=ie>>6&63|128,F[z++]=63&ie|128)}return F},to=function(V){let F=0;for(let z=0;z<V.length;z++){const _e=V.charCodeAt(z);_e<128?F++:_e<2048?F+=2:_e>=55296&&_e<=56319?(F+=4,z++):F+=3}return F},Ki=1e3,qr=2,Nn=144e5,Pn=.5;function Di(V,F=Ki,z=qr){const _e=F*Math.pow(z,V),ie=Math.round(Pn*_e*(Math.random()-.5)*2);return Math.min(Nn,_e+ie)}function or(V){return V&&V._delegate?V._delegate:V}},4419:(Xe,ye,P)=>{var _=P(7705);let X=null;function O(){return X}class re{}const fe=new _.nKC("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(de)},providedIn:"platform"})}}return n})();const Te=new _.nKC("Location Initialized");let de=(()=>{class n extends pe{constructor(){super(),this._doc=(0,_.WQX)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,u){this._history.pushState(t,o,u)}replaceState(t,o,u){this._history.replaceState(t,o,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function L(n,i){if(0==n.length)return i;if(0==i.length)return n;let t=0;return n.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?n+i.substring(1):1==t?n+i:n+"/"+i}function j(n){const i=n.match(/#|\?|$/),t=i&&i.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(Be)},providedIn:"root"})}}return n})();const Ce=new _.nKC("appBaseHref");let Be=(()=>{class n extends Ne{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,_.WQX)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Q(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,f){const p=this.prepareExternalUrl(u+Q(f));this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,f){const p=this.prepareExternalUrl(u+Q(f));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(pe),_.KVO(Ce,8))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ae=(()=>{class n extends Ne{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=L(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,f){let p=this.prepareExternalUrl(u+Q(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,f){let p=this.prepareExternalUrl(u+Q(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(pe),_.KVO(Ce,8))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})(),Fe=(()=>{class n{constructor(t){this._subject=new _.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(Ze(o))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Q(o))}normalize(t){return n.stripTrailingSlash(function nt(n,i){if(!n||!i.startsWith(n))return i;const t=i.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._locationStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(o)),u)}replaceState(t,o="",u=null){this._locationStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(o)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}static{this.normalizeQueryParams=Q}static{this.joinWithSlash=L}static{this.stripTrailingSlash=j}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ne))}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return function Me(){return new Fe((0,_.KVO)(Ne))}()},providedIn:"root"})}}return n})();function Ze(n){return n.replace(/\/index.html$/,"")}var Re=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Re||{}),Ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ue||{}),ae=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ae||{}),st=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(st||{});function Ci(n,i){return dt((0,_.H5H)(n)[_.KH2.DateFormat],i)}function se(n,i){return dt((0,_.H5H)(n)[_.KH2.TimeFormat],i)}function le(n,i){return dt((0,_.H5H)(n)[_.KH2.DateTimeFormat],i)}function J(n,i){const t=(0,_.H5H)(n),o=t[_.KH2.NumberSymbols][i];if(typeof o>"u"){if(i===st.CurrencyDecimal)return t[_.KH2.NumberSymbols][st.Decimal];if(i===st.CurrencyGroup)return t[_.KH2.NumberSymbols][st.Group]}return o}function We(n){if(!n[_.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dt(n,i){for(let t=i;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function an(n){const[i,t]=n.split(":");return{hours:+i,minutes:+t}}const Sr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gi={},ko=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(tt||{}),wt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(wt||{}),lt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(lt||{});function Gt(n,i,t,o){let u=function F(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[u,f=1,p=1]=n.split("-").map(C=>+C);return rn(u,f-1,p)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let o;if(o=n.match(Sr))return function z(n){const i=new Date(0);let t=0,o=0;const u=n[8]?i.setUTCFullYear:i.setFullYear,f=n[8]?i.setUTCHours:i.setHours;n[9]&&(t=Number(n[9]+n[10]),o=Number(n[9]+n[11])),u.call(i,Number(n[1]),Number(n[2])-1,Number(n[3]));const p=Number(n[4]||0)-t,C=Number(n[5]||0)-o,D=Number(n[6]||0),M=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return f.call(i,p,C,D,M),i}(o)}const i=new Date(n);if(!_e(i))throw new Error(`Unable to convert "${n}" into a date`);return i}(n);i=hr(t,i)||i;let C,p=[];for(;i;){if(C=ko.exec(i),!C){p.push(i);break}{p=p.concat(C.slice(1));const U=p.pop();if(!U)break;i=U}}let D=u.getTimezoneOffset();o&&(D=Yr(o,D),u=function V(n,i,t){const o=t?-1:1,u=n.getTimezoneOffset();return function or(n,i){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+i),n}(n,o*(Yr(i,u)-u))}(u,o,!0));let M="";return p.forEach(U=>{const $=function un(n){if(Di[n])return Di[n];let i;switch(n){case"G":case"GG":case"GGG":i=yt(lt.Eras,Ue.Abbreviated);break;case"GGGG":i=yt(lt.Eras,Ue.Wide);break;case"GGGGG":i=yt(lt.Eras,Ue.Narrow);break;case"y":i=qe(wt.FullYear,1,0,!1,!0);break;case"yy":i=qe(wt.FullYear,2,0,!0,!0);break;case"yyy":i=qe(wt.FullYear,3,0,!1,!0);break;case"yyyy":i=qe(wt.FullYear,4,0,!1,!0);break;case"Y":i=Pn(1);break;case"YY":i=Pn(2,!0);break;case"YYY":i=Pn(3);break;case"YYYY":i=Pn(4);break;case"M":case"L":i=qe(wt.Month,1,1);break;case"MM":case"LL":i=qe(wt.Month,2,1);break;case"MMM":i=yt(lt.Months,Ue.Abbreviated);break;case"MMMM":i=yt(lt.Months,Ue.Wide);break;case"MMMMM":i=yt(lt.Months,Ue.Narrow);break;case"LLL":i=yt(lt.Months,Ue.Abbreviated,Re.Standalone);break;case"LLLL":i=yt(lt.Months,Ue.Wide,Re.Standalone);break;case"LLLLL":i=yt(lt.Months,Ue.Narrow,Re.Standalone);break;case"w":i=Nn(1);break;case"ww":i=Nn(2);break;case"W":i=Nn(1,!0);break;case"d":i=qe(wt.Date,1);break;case"dd":i=qe(wt.Date,2);break;case"c":case"cc":i=qe(wt.Day,1);break;case"ccc":i=yt(lt.Days,Ue.Abbreviated,Re.Standalone);break;case"cccc":i=yt(lt.Days,Ue.Wide,Re.Standalone);break;case"ccccc":i=yt(lt.Days,Ue.Narrow,Re.Standalone);break;case"cccccc":i=yt(lt.Days,Ue.Short,Re.Standalone);break;case"E":case"EE":case"EEE":i=yt(lt.Days,Ue.Abbreviated);break;case"EEEE":i=yt(lt.Days,Ue.Wide);break;case"EEEEE":i=yt(lt.Days,Ue.Narrow);break;case"EEEEEE":i=yt(lt.Days,Ue.Short);break;case"a":case"aa":case"aaa":i=yt(lt.DayPeriods,Ue.Abbreviated);break;case"aaaa":i=yt(lt.DayPeriods,Ue.Wide);break;case"aaaaa":i=yt(lt.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":i=yt(lt.DayPeriods,Ue.Abbreviated,Re.Standalone,!0);break;case"bbbb":i=yt(lt.DayPeriods,Ue.Wide,Re.Standalone,!0);break;case"bbbbb":i=yt(lt.DayPeriods,Ue.Narrow,Re.Standalone,!0);break;case"B":case"BB":case"BBB":i=yt(lt.DayPeriods,Ue.Abbreviated,Re.Format,!0);break;case"BBBB":i=yt(lt.DayPeriods,Ue.Wide,Re.Format,!0);break;case"BBBBB":i=yt(lt.DayPeriods,Ue.Narrow,Re.Format,!0);break;case"h":i=qe(wt.Hours,1,-12);break;case"hh":i=qe(wt.Hours,2,-12);break;case"H":i=qe(wt.Hours,1);break;case"HH":i=qe(wt.Hours,2);break;case"m":i=qe(wt.Minutes,1);break;case"mm":i=qe(wt.Minutes,2);break;case"s":i=qe(wt.Seconds,1);break;case"ss":i=qe(wt.Seconds,2);break;case"S":i=qe(wt.FractionalSeconds,1);break;case"SS":i=qe(wt.FractionalSeconds,2);break;case"SSS":i=qe(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=ai(tt.Short);break;case"ZZZZZ":i=ai(tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=ai(tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=ai(tt.Long);break;default:return null}return Di[n]=i,i}(U);M+=$?$(u,t,D):"''"===U?"'":U.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function rn(n,i,t){const o=new Date(0);return o.setFullYear(n,i,t),o.setHours(0,0,0),o}function hr(n,i){const t=function Bn(n){return(0,_.H5H)(n)[_.KH2.LocaleId]}(n);if(Gi[t]=Gi[t]||{},Gi[t][i])return Gi[t][i];let o="";switch(i){case"shortDate":o=Ci(n,ae.Short);break;case"mediumDate":o=Ci(n,ae.Medium);break;case"longDate":o=Ci(n,ae.Long);break;case"fullDate":o=Ci(n,ae.Full);break;case"shortTime":o=se(n,ae.Short);break;case"mediumTime":o=se(n,ae.Medium);break;case"longTime":o=se(n,ae.Long);break;case"fullTime":o=se(n,ae.Full);break;case"short":const u=hr(n,"shortTime"),f=hr(n,"shortDate");o=Vt(le(n,ae.Short),[u,f]);break;case"medium":const p=hr(n,"mediumTime"),C=hr(n,"mediumDate");o=Vt(le(n,ae.Medium),[p,C]);break;case"long":const D=hr(n,"longTime"),M=hr(n,"longDate");o=Vt(le(n,ae.Long),[D,M]);break;case"full":const U=hr(n,"fullTime"),$=hr(n,"fullDate");o=Vt(le(n,ae.Full),[U,$])}return o&&(Gi[t][i]=o),o}function Vt(n,i){return i&&(n=n.replace(/\{([^}]+)}/g,function(t,o){return null!=i&&o in i?i[o]:t})),n}function jn(n,i,t="-",o,u){let f="";(n<0||u&&n<=0)&&(u?n=1-n:(n=-n,f=t));let p=String(n);for(;p.length<i;)p="0"+p;return o&&(p=p.slice(p.length-i)),f+p}function qe(n,i,t=0,o=!1,u=!1){return function(f,p){let C=function pr(n,i){switch(n){case wt.FullYear:return i.getFullYear();case wt.Month:return i.getMonth();case wt.Date:return i.getDate();case wt.Hours:return i.getHours();case wt.Minutes:return i.getMinutes();case wt.Seconds:return i.getSeconds();case wt.FractionalSeconds:return i.getMilliseconds();case wt.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,f);if((t>0||C>-t)&&(C+=t),n===wt.Hours)0===C&&-12===t&&(C=12);else if(n===wt.FractionalSeconds)return function eo(n,i){return jn(n,3).substring(0,i)}(C,i);const D=J(p,st.MinusSign);return jn(C,i,D,o,u)}}function yt(n,i,t=Re.Format,o=!1){return function(u,f){return function wi(n,i,t,o,u,f){switch(t){case lt.Months:return function vn(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.MonthsFormat],o[_.KH2.MonthsStandalone]],i);return dt(f,t)}(i,u,o)[n.getMonth()];case lt.Days:return function Ei(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.DaysFormat],o[_.KH2.DaysStandalone]],i);return dt(f,t)}(i,u,o)[n.getDay()];case lt.DayPeriods:const p=n.getHours(),C=n.getMinutes();if(f){const M=function qt(n){const i=(0,_.H5H)(n);return We(i),(i[_.KH2.ExtraData][2]||[]).map(o=>"string"==typeof o?an(o):[an(o[0]),an(o[1])])}(i),U=function Ut(n,i,t){const o=(0,_.H5H)(n);We(o);const f=dt([o[_.KH2.ExtraData][0],o[_.KH2.ExtraData][1]],i)||[];return dt(f,t)||[]}(i,u,o),$=M.findIndex(q=>{if(Array.isArray(q)){const[we,Le]=q,at=p>=we.hours&&C>=we.minutes,Nt=p<Le.hours||p===Le.hours&&C<Le.minutes;if(we.hours<Le.hours){if(at&&Nt)return!0}else if(at||Nt)return!0}else if(q.hours===p&&q.minutes===C)return!0;return!1});if(-1!==$)return U[$]}return function fr(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.DayPeriodsFormat],o[_.KH2.DayPeriodsStandalone]],i);return dt(f,t)}(i,u,o)[p<12?0:1];case lt.Eras:return function ys(n,i){return dt((0,_.H5H)(n)[_.KH2.Eras],i)}(i,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(u,f,n,i,t,o)}}function ai(n){return function(i,t,o){const u=-1*o,f=J(t,st.MinusSign),p=u>0?Math.floor(u/60):Math.ceil(u/60);switch(n){case tt.Short:return(u>=0?"+":"")+jn(p,2,f)+jn(Math.abs(u%60),2,f);case tt.ShortGMT:return"GMT"+(u>=0?"+":"")+jn(p,1,f);case tt.Long:return"GMT"+(u>=0?"+":"")+jn(p,2,f)+":"+jn(Math.abs(u%60),2,f);case tt.Extended:return 0===o?"Z":(u>=0?"+":"")+jn(p,2,f)+":"+jn(Math.abs(u%60),2,f);default:throw new Error(`Unknown zone width "${n}"`)}}}const to=0,sr=4;function qr(n){return rn(n.getFullYear(),n.getMonth(),n.getDate()+(sr-n.getDay()))}function Nn(n,i=!1){return function(t,o){let u;if(i){const f=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,p=t.getDate();u=1+Math.floor((p+f)/7)}else{const f=qr(t),p=function Ki(n){const i=rn(n,to,1).getDay();return rn(n,0,1+(i<=sr?sr:sr+7)-i)}(f.getFullYear()),C=f.getTime()-p.getTime();u=1+Math.round(C/6048e5)}return jn(u,n,J(o,st.MinusSign))}}function Pn(n,i=!1){return function(t,o){return jn(qr(t).getFullYear(),n,J(o,st.MinusSign),i)}}const Di={};function Yr(n,i){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?i:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}let Fo=(()=>{class n{constructor(t,o){this._viewContainer=t,this._context=new Zd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Jd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Jd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}static{this.\u0275fac=function(o){return new(o||n)(_.rXU(_.c1b),_.rXU(_.C4Q))}}static{this.\u0275dir=_.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Zd{constructor(){this.$implicit=null,this.ngIf=null}}function Jd(n,i){if(i&&!i.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,_.Tbb)(i)}'.`)}const bt=new _.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Wn=new _.nKC("DATE_PIPE_DEFAULT_OPTIONS");let On=(()=>{class n{constructor(t,o,u){this.locale=t,this.defaultTimezone=o,this.defaultOptions=u}transform(t,o,u,f){if(null==t||""===t||t!=t)return null;try{return Gt(t,o??this.defaultOptions?.dateFormat??"mediumDate",f||this.locale,u??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(p){throw function Ur(n,i){return new _.wOt(2100,!1)}()}}static{this.\u0275fac=function(o){return new(o||n)(_.rXU(_.xe9,16),_.rXU(bt,24),_.rXU(Wn,24))}}static{this.\u0275pipe=_.EJ8({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Yi=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({})}}return n})();function Oa(n){return"server"===n}let vr=(()=>{class n{static{this.\u0275prov=(0,_.jDH)({token:n,providedIn:"root",factory:()=>new yr((0,_.KVO)(fe),window)})}}return n})();class yr{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function Br(n,i){const t=n.getElementById(i)||n.getElementsByName(i)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const p=f.getElementById(i)||f.querySelector(`[name="${i}"]`);if(p)return p}u=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Cl extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $o extends Cl{static makeCurrent(){!function ee(n){X||(X=n)}(new $o)}onAndCancel(i,t,o){return i.addEventListener(t,o),()=>{i.removeEventListener(t,o)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function cf(){return Wo=Wo||document.querySelector("base"),Wo?Wo.getAttribute("href"):null}();return null==t?null:function Nh(n){tc=tc||document.createElement("a"),tc.setAttribute("href",n);const i=tc.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){Wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function mr(n,i){i=encodeURIComponent(i);for(const t of n.split(";")){const o=t.indexOf("="),[u,f]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===i)return decodeURIComponent(f)}return null}(document.cookie,i)}}let tc,Wo=null,Dl=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ha=new _.nKC("EventManagerPlugins");let Ph=(()=>{class n{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>{u.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(f=>f.supports(t)),!o)throw new _.wOt(5101,!1);return this._eventNameToPlugin.set(t,o),o}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ha),_.KVO(_.SKi))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();class bl{constructor(i){this._doc=i}}const co="ng-app-id";let Al=(()=>{class n{constructor(t,o,u,f={}){this.doc=t,this.appId=o,this.nonce=u,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oa(f),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(u=>u.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${co}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(u=>{null!=u.textContent&&o.set(u.textContent,u)}),o}return null}changeUsageCount(t,o){const u=this.styleRef;if(u.has(t)){const f=u.get(t);return f.usage+=o,f.usage}return u.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const u=this.styleNodesInDOM,f=u?.get(o);if(f?.parentNode===t)return u.delete(o),f.removeAttribute(co),f;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(co,this.appId),p}}addStyleToHost(t,o){const u=this.getStyleElement(t,o);t.appendChild(u);const f=this.styleRef,p=f.get(o)?.elements;p?p.push(u):f.set(o,{elements:[u],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe),_.KVO(_.sZ2),_.KVO(_.BIS,8),_.KVO(_.Agw))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const As={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oi=/%COMP%/g,Tl=new _.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ss(n,i){return i.map(t=>t.replace(Oi,n))}let Bt=(()=>{class n{constructor(t,o,u,f,p,C,D,M=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestroy=f,this.doc=p,this.platformId=C,this.ngZone=D,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Oa(C),this.defaultRenderer=new lo(t,p,D,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===_.gXe.ShadowDom&&(o={...o,encapsulation:_.gXe.Emulated});const u=this.getOrCreateRenderer(t,o);return u instanceof Nr?u.applyToHost(t):u instanceof hi&&u.applyStyles(),u}getOrCreateRenderer(t,o){const u=this.rendererByCompId;let f=u.get(o.id);if(!f){const p=this.doc,C=this.ngZone,D=this.eventManager,M=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,$=this.platformIsServer;switch(o.encapsulation){case _.gXe.Emulated:f=new Nr(D,M,o,this.appId,U,p,C,$);break;case _.gXe.ShadowDom:return new sc(D,M,t,o,p,C,this.nonce,$);default:f=new hi(D,M,o,U,p,C,$)}u.set(o.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ph),_.KVO(Al),_.KVO(_.sZ2),_.KVO(Tl),_.KVO(fe),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(_.BIS))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();class lo{constructor(i,t,o,u){this.eventManager=i,this.doc=t,this.ngZone=o,this.platformIsServer=u,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(As[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(Rl(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(Rl(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new _.wOt(-5104,!1);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,u){if(u){t=u+":"+t;const f=As[u];f?i.setAttributeNS(f,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const u=As[o];u?i.removeAttributeNS(u,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,u){u&(_.czy.DashCase|_.czy.Important)?i.style.setProperty(t,o,u&_.czy.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&_.czy.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){if("string"==typeof i&&!(i=O().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(o))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function Rl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class sc extends lo{constructor(i,t,o,u,f,p,C,D){super(i,f,p,D),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=Ss(u.id,u.styles);for(const U of M){const $=document.createElement("style");C&&$.setAttribute("nonce",C),$.textContent=U,this.shadowRoot.appendChild($)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hi extends lo{constructor(i,t,o,u,f,p,C,D){super(i,f,p,C),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=u,this.styles=D?Ss(D,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nr extends hi{constructor(i,t,o,u,f,p,C,D){const M=u+"-"+o.id;super(i,t,o,f,p,C,D,M),this.contentAttr=function fi(n){return"_ngcontent-%COMP%".replace(Oi,n)}(M),this.hostAttr=function Sl(n){return"_nghost-%COMP%".replace(Oi,n)}(M)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}let fo=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const lf=["alt","control","meta","shift"],Ms={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ns={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $a=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,o,u){const f=n.parseEventName(o),p=n.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,f.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=n._normalizeKey(o.pop());let p="",C=o.indexOf("code");if(C>-1&&(o.splice(C,1),p="code."),lf.forEach(M=>{const U=o.indexOf(M);U>-1&&(o.splice(U,1),p+=M+".")}),p+=f,0!=o.length||0===f.length)return null;const D={};return D.domEventName=u,D.fullKey=p,D}static matchEventFullKeyCode(t,o){let u=Ms[t.key]||t.key,f="";return o.indexOf("code.")>-1&&(u=t.code,f="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),lf.forEach(p=>{p!==u&&(0,Ns[p])(t)&&(f+=p+".")}),f+=u,f===o)}static eventCallback(t,o,u){return f=>{n.matchEventFullKeyCode(f,t)&&u.runGuarded(()=>o(f))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ln=(0,_.oH4)(_.fpN,"browser",[{provide:_.Agw,useValue:"browser"},{provide:_.PLl,useValue:function ac(){$o.makeCurrent()},multi:!0},{provide:fe,useFactory:function Wa(){return(0,_.TL$)(document),document},deps:[]}]),Ml=new _.nKC(""),Jn=[{provide:_.e01,useClass:class wl{addToWindow(i){_.JZv.getAngularTestability=(o,u=!0)=>{const f=i.findTestabilityInTree(o,u);if(null==f)throw new _.wOt(5103,!1);return f},_.JZv.getAllAngularTestabilities=()=>i.getAllTestabilities(),_.JZv.getAllAngularRootElements=()=>i.getAllRootElements(),_.JZv.frameworkStabilizers||(_.JZv.frameworkStabilizers=[]),_.JZv.frameworkStabilizers.push(o=>{const u=_.JZv.getAllAngularTestabilities();let f=u.length,p=!1;const C=function(D){p=p||D,f--,0==f&&o(p)};u.forEach(D=>{D.whenStable(C)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?O().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:_.WHO,useClass:_.NYb,deps:[_.SKi,_.giA,_.e01]},{provide:_.NYb,useClass:_.NYb,deps:[_.SKi,_.giA,_.e01]}],ho=[{provide:_.H8p,useValue:"root"},{provide:_.zcH,useFactory:function ut(){return new _.zcH},deps:[]},{provide:Ha,useClass:fo,multi:!0,deps:[fe,_.SKi,_.Agw]},{provide:Ha,useClass:$a,multi:!0,deps:[fe]},Bt,Al,Ph,{provide:_._9s,useExisting:Bt},{provide:class Xr{},useClass:Dl,deps:[]},[]];let Ji=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ml,12))}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({providers:[...ho,...Jn],imports:[Yi,_.Hbi]})}}return n})(),zo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:function(o){let u=null;return u=o?new o:function cc(){return new zo((0,_.KVO)(fe))}(),u},providedIn:"root"})}}return n})();typeof window<"u"&&window;var Pr=P(1985),Ps=P(8071),Fn=P(8455),it=P(7673),wr=P(4412);const{isArray:go}=Array,{getPrototypeOf:Yo,prototype:mc,keys:Gn}=Object;var Zr=P(3669),ht=P(6354);const{isArray:xl}=Array;var Li=P(3794),jt=P(4360),_c=P(5225);function Os(...n){const i=(0,Li.lI)(n),t=(0,Li.ms)(n),{args:o,keys:u}=function ki(n){if(1===n.length){const i=n[0];if(go(i))return{args:i,keys:null};if(function Ht(n){return n&&"object"==typeof n&&Yo(n)===mc}(i)){const t=Gn(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:n,keys:null}}(n);if(0===o.length)return(0,Fn.H)([],i);const f=new Pr.c(function qa(n,i,t=Zr.D){return o=>{xs(i,()=>{const{length:u}=n,f=new Array(u);let p=u,C=u;for(let D=0;D<u;D++)xs(i,()=>{const M=(0,Fn.H)(n[D],i);let U=!1;M.subscribe((0,jt._)(o,$=>{f[D]=$,U||(U=!0,C--),C||o.next(t(f.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,i,u?p=>function mo(n,i){return n.reduce((t,o,u)=>(t[o]=i[u],t),{})}(u,p):Zr.D));return t?f.pipe(function Qo(n){return(0,ht.T)(i=>function kl(n,i){return xl(i)?n(...i):n(i)}(n,i))}(t)):f}function xs(n,i,t){n?(0,_c.N)(t,n,i):i()}const ks=(0,P(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var es=P(6365);function Jr(...n){return function vc(){return(0,es.U)(1)}()((0,Fn.H)(n,(0,Li.lI)(n)))}var Ls=P(8750);function Ya(n){return new Pr.c(i=>{(0,Ls.Tg)(n()).subscribe(i)})}var mf=P(1203);function ts(n,i){const t=(0,Ps.T)(n)?n:()=>n,o=u=>u.error(t());return new Pr.c(i?u=>i.schedule(o,0,u):o)}var ns=P(983),Fl=P(8359),er=P(9974);function Ul(){return(0,er.N)((n,i)=>{let t=null;n._refCount++;const o=(0,jt._)(i,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const u=n._connection,f=t;t=null,u&&(!f||u===f)&&u.unsubscribe(),i.unsubscribe()});n.subscribe(o),o.closed||(t=n.connect())})}class yc extends Pr.c{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,er.S)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Fl.yU;const t=this.getSubject();i.add(this.source.subscribe((0,jt._)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Fl.yU.EMPTY)}return i}refCount(){return Ul()(this)}}var Hr=P(1413),dn=P(5558);function rs(n){return n<=0?()=>ns.w:(0,er.N)((i,t)=>{let o=0;i.subscribe((0,jt._)(t,u=>{++o<=n&&(t.next(u),n<=o&&t.complete())}))})}function ei(n,i){return(0,er.N)((t,o)=>{let u=0;t.subscribe((0,jt._)(o,f=>n.call(i,f,u++)&&o.next(f)))})}var Cn=P(1397);function Ec(n){return(0,er.N)((i,t)=>{let o=!1;i.subscribe((0,jt._)(t,u=>{o=!0,t.next(u)},()=>{o||t.next(n),t.complete()}))})}function Vl(n=Qa){return(0,er.N)((i,t)=>{let o=!1;i.subscribe((0,jt._)(t,u=>{o=!0,t.next(u)},()=>o?t.complete():t.error(n())))})}function Qa(){return new ks}function is(n,i){const t=arguments.length>=2;return o=>o.pipe(n?ei((u,f)=>n(u,f,o)):Zr.D,rs(1),t?Ec(i):Vl(()=>new ks))}function tr(n,i){return(0,Ps.T)(i)?(0,Cn.Z)(n,i,1):(0,Cn.Z)(n,1)}var Tn=P(8141);function $r(n){return(0,er.N)((i,t)=>{let f,o=null,u=!1;o=i.subscribe((0,jt._)(t,void 0,void 0,p=>{f=(0,Ls.Tg)(n(p,$r(n)(i))),o?(o.unsubscribe(),o=null,f.subscribe(t)):u=!0})),u&&(o.unsubscribe(),o=null,f.subscribe(t))})}function ss(n,i){return(0,er.N)(function _o(n,i,t,o,u){return(f,p)=>{let C=t,D=i,M=0;f.subscribe((0,jt._)(p,U=>{const $=M++;D=C?n(D,U,$):(C=!0,U),o&&p.next(D)},u&&(()=>{C&&p.next(D),p.complete()})))}}(n,i,arguments.length>=2,!0))}function os(n){return n<=0?()=>ns.w:(0,er.N)((i,t)=>{let o=[];i.subscribe((0,jt._)(t,u=>{o.push(u),n<o.length&&o.shift()},()=>{for(const u of o)t.next(u);t.complete()},void 0,()=>{o=null}))})}function Fs(n){return(0,er.N)((i,t)=>{try{i.subscribe(t)}finally{t.add(n)}})}var Zo=P(5343);const gt="primary",Za=Symbol("RouteTitle");class Ja{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wr(n){return new Ja(n)}function as(n,i,t){const o=t.path.split("/");if(o.length>n.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<n.length))return null;const u={};for(let f=0;f<o.length;f++){const p=o[f],C=n[f];if(p.startsWith(":"))u[p.substring(1)]=C;else if(p!==C.path)return null}return{consumed:n.slice(0,o.length),posParams:u}}function ti(n,i){const t=n?Object.keys(n):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let f=0;f<t.length;f++)if(u=t[f],!Us(n[u],i[u]))return!1;return!0}function Us(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;const t=[...n].sort(),o=[...i].sort();return t.every((u,f)=>o[f]===u)}return n===i}function us(n){return n.length>0?n[n.length-1]:null}function Qt(n){return function po(n){return!!n&&(n instanceof Pr.c||(0,Ps.T)(n.lift)&&(0,Ps.T)(n.subscribe))}(n)?n:(0,_.jNT)(n)?(0,Fn.H)(Promise.resolve(n)):(0,it.of)(n)}const Vs={exact:function wc(n,i,t){if(!ce(n.segments,i.segments)||!w(n.segments,i.segments,t)||n.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!n.children[o]||!wc(n.children[o],i.children[o],t))return!1;return!0},subset:yo},jl={exact:function Hl(n,i){return ti(n,i)},subset:function Dc(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(t=>Us(n[t],i[t]))},ignored:()=>!0};function Cc(n,i,t){return Vs[t.paths](n.root,i.root,t.matrixParams)&&jl[t.queryParams](n.queryParams,i.queryParams)&&!("exact"===t.fragment&&n.fragment!==i.fragment)}function yo(n,i,t){return E(n,i,i.segments,t)}function E(n,i,t,o){if(n.segments.length>t.length){const u=n.segments.slice(0,t.length);return!(!ce(u,t)||i.hasChildren()||!w(u,t,o))}if(n.segments.length===t.length){if(!ce(n.segments,t)||!w(n.segments,t,o))return!1;for(const u in i.children)if(!n.children[u]||!yo(n.children[u],i.children[u],o))return!1;return!0}{const u=t.slice(0,n.segments.length),f=t.slice(n.segments.length);return!!(ce(n.segments,u)&&w(n.segments,u,o)&&n.children[gt])&&E(n.children[gt],i,f,o)}}function w(n,i,t){return i.every((o,u)=>jl[t](n[u].parameters,o.parameters))}class T{constructor(i=new N([],{}),t={},o=null){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return pt.serialize(this)}}class N{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class H{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wr(this.parameters)),this._parameterMap}toString(){return eu(this)}}function ce(n,i){return n.length===i.length&&n.every((t,o)=>t.path===i[o].path)}let xe=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return new Ye},providedIn:"root"})}}return n})();class Ye{parse(i){const t=new _f(i);return new T(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${cr(i.root,!0)}`,o=function tu(n){const i=Object.keys(n).map(t=>{const o=n[t];return Array.isArray(o)?o.map(u=>`${Fi(t)}=${Fi(u)}`).join("&"):`${Fi(t)}=${Fi(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function bc(n){return encodeURI(n)}(i.fragment)}`:""}`}}const pt=new Ye;function ct(n){return n.segments.map(i=>eu(i)).join("/")}function cr(n,i){if(!n.hasChildren())return ct(n);if(i){const t=n.children[gt]?cr(n.children[gt],!1):"",o=[];return Object.entries(n.children).forEach(([u,f])=>{u!==gt&&o.push(`${u}:${cr(f,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function Ve(n,i){let t=[];return Object.entries(n.children).forEach(([o,u])=>{o===gt&&(t=t.concat(i(u,o)))}),Object.entries(n.children).forEach(([o,u])=>{o!==gt&&(t=t.concat(i(u,o)))}),t}(n,(o,u)=>u===gt?[cr(n.children[gt],!1)]:[`${u}:${cr(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${ct(n)}/${t[0]}`:`${ct(n)}/(${t.join("//")})`}}function Xt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(n){return Xt(n).replace(/%3B/gi,";")}function Kt(n){return Xt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(n){return decodeURIComponent(n)}function br(n){return Dr(n.replace(/\+/g,"%20"))}function eu(n){return`${Kt(n.path)}${function zr(n){return Object.keys(n).map(i=>`;${Kt(i)}=${Kt(n[i])}`).join("")}(n.parameters)}`}const Og=/^[^\/()?;#]+/;function Eo(n){const i=n.match(Og);return i?i[0]:""}const nu=/^[^\/()?;=#]+/,xg=/^[^=?&#]+/,pv=/^[^&#]+/;class _f{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new N([],{}):new N([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[gt]=new N(i,t)),o}parseSegment(){const i=Eo(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new _.wOt(4009,!1);return this.capture(i),new H(Dr(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function $l(n){const i=n.match(nu);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=Eo(this.remaining);u&&(o=u,this.capture(o))}i[Dr(t)]=Dr(o)}parseQueryParam(i){const t=function Uh(n){const i=n.match(xg);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function ni(n){const i=n.match(pv);return i?i[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const u=br(t),f=br(o);if(i.hasOwnProperty(u)){let p=i[u];Array.isArray(p)||(p=[p],i[u]=p),p.push(f)}else i[u]=f}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Eo(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new _.wOt(4010,!1);let f;o.indexOf(":")>-1?(f=o.slice(0,o.indexOf(":")),this.capture(f),this.capture(":")):i&&(f=gt);const p=this.parseChildren();t[f]=1===Object.keys(p).length?p[gt]:new N([],p),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new _.wOt(4011,!1)}}function Jo(n){return n.segments.length>0?new N([],{[gt]:n}):n}function kg(n){const i={};for(const o of Object.keys(n.children)){const f=kg(n.children[o]);if(o===gt&&0===f.segments.length&&f.hasChildren())for(const[p,C]of Object.entries(f.children))i[p]=C;else(f.segments.length>0||f.hasChildren())&&(i[o]=f)}return function vf(n){if(1===n.numberOfChildren&&n.children[gt]){const i=n.children[gt];return new N(n.segments.concat(i.segments),i.children)}return n}(new N(n.segments,i))}function ea(n){return n instanceof T}function Io(n){let i;const u=Jo(function t(f){const p={};for(const D of f.children){const M=t(D);p[D.outlet]=M}const C=new N(f.url,p);return f===n&&(i=C),C}(n.root));return i??u}function Vh(n,i,t,o){let u=n;for(;u.parent;)u=u.parent;if(0===i.length)return Ac(u,u,u,t,o);const f=function zl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Bh(!0,0,n);let i=0,t=!1;const o=n.reduce((u,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const C={};return Object.entries(f.outlets).forEach(([D,M])=>{C[D]="string"==typeof M?M.split("/"):M}),[...u,{outlets:C}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===p?(f.split("/").forEach((C,D)=>{0==D&&"."===C||(0==D&&""===C?t=!0:".."===C?i++:""!=C&&u.push(C))}),u):[...u,f]},[]);return new Bh(t,i,o)}(i);if(f.toRoot())return Ac(u,u,new N([],{}),t,o);const p=function Gl(n,i,t){if(n.isAbsolute)return new ru(i,!0,0);if(!t)return new ru(i,!1,NaN);if(null===t.parent)return new ru(t,!0,0);const o=Wl(n.commands[0])?0:1;return function Lg(n,i,t){let o=n,u=i,f=t;for(;f>u;){if(f-=u,o=o.parent,!o)throw new _.wOt(4005,!1);u=o.segments.length}return new ru(o,!1,u-f)}(t,t.segments.length-1+o,n.numberOfDoubleDots)}(f,u,n),C=p.processChildren?Co(p.segmentGroup,p.index,f.commands):ql(p.segmentGroup,p.index,f.commands);return Ac(u,p.segmentGroup,C,t,o)}function Wl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ta(n){return"object"==typeof n&&null!=n&&n.outlets}function Ac(n,i,t,o,u){let p,f={};o&&Object.entries(o).forEach(([D,M])=>{f[D]=Array.isArray(M)?M.map(U=>`${U}`):`${M}`}),p=n===i?t:na(n,i,t);const C=Jo(kg(p));return new T(C,f,u)}function na(n,i,t){const o={};return Object.entries(n.children).forEach(([u,f])=>{o[u]=f===i?t:na(f,i,t)}),new N(n.segments,o)}class Bh{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&Wl(o[0]))throw new _.wOt(4003,!1);const u=o.find(ta);if(u&&u!==us(o))throw new _.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ru{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function ql(n,i,t){if(n||(n=new N([],{})),0===n.segments.length&&n.hasChildren())return Co(n,i,t);const o=function jh(n,i,t){let o=0,u=i;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(o>=t.length)return f;const p=n.segments[u],C=t[o];if(ta(C))break;const D=`${C}`,M=o<t.length-1?t[o+1]:null;if(u>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!Do(D,M,p))return f;o+=2}else{if(!Do(D,{},p))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(n,i,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const f=new N(n.segments.slice(0,o.pathIndex),{});return f.children[gt]=new N(n.segments.slice(o.pathIndex),n.children),Co(f,0,u)}return o.match&&0===u.length?new N(n.segments,{}):o.match&&!n.hasChildren()?yf(n,i,t):o.match?Co(n,0,u):yf(n,i,t)}function Co(n,i,t){if(0===t.length)return new N(n.segments,{});{const o=function Kl(n){return ta(n[0])?n[0].outlets:{[gt]:n}}(t),u={};if(Object.keys(o).some(f=>f!==gt)&&n.children[gt]&&1===n.numberOfChildren&&0===n.children[gt].segments.length){const f=Co(n.children[gt],i,t);return new N(n.segments,f.children)}return Object.entries(o).forEach(([f,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(u[f]=ql(n.children[f],i,p))}),Object.entries(n.children).forEach(([f,p])=>{void 0===o[f]&&(u[f]=p)}),new N(n.segments,u)}}function yf(n,i,t){const o=n.segments.slice(0,i);let u=0;for(;u<t.length;){const f=t[u];if(ta(f)){const D=Fg(f.outlets);return new N(o,D)}if(0===u&&Wl(t[0])){o.push(new H(n.segments[i].path,wo(t[0]))),u++;continue}const p=ta(f)?f.outlets[gt]:`${f}`,C=u<t.length-1?t[u+1]:null;p&&C&&Wl(C)?(o.push(new H(p,wo(C))),u+=2):(o.push(new H(p,{})),u++)}return new N(o,{})}function Fg(n){const i={};return Object.entries(n).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[t]=yf(new N([],{}),0,o))}),i}function wo(n){const i={};return Object.entries(n).forEach(([t,o])=>i[t]=`${o}`),i}function Do(n,i,t){return n==t.path&&ti(i,t.parameters)}const Tc="imperative";class Bs{constructor(i,t){this.id=i,this.url=t}}class ra extends Bs{constructor(i,t,o="imperative",u=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cs extends Bs{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends Bs{constructor(i,t,o,u){super(i,t),this.reason=o,this.code=u,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iu extends Bs{constructor(i,t,o,u){super(i,t),this.reason=o,this.code=u,this.type=16}}class ia extends Bs{constructor(i,t,o,u){super(i,t),this.error=o,this.target=u,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hh extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $h extends Bs{constructor(i,t,o,u,f){super(i,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wh extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zh extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mv{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gh{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _v{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sc{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xl{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vg{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kh{}class Rc{constructor(i){this.url=i}}class Bg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new su,this.attachRef=null}}let su=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const u=this.getOrCreateContext(t);u.outlet=o,this.contexts.set(t,u)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new Bg,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class Ef{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=If(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=If(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=Cf(i,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==i)}pathFromRoot(i){return Cf(i,this._root).map(t=>t.value)}}function If(n,i){if(n===i.value)return i;for(const t of i.children){const o=If(n,t);if(o)return o}return null}function Cf(n,i){if(n===i.value)return[i];for(const t of i.children){const o=Cf(n,t);if(o.length)return o.unshift(i),o}return[]}class Gr{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function js(n){const i={};return n&&n.children.forEach(t=>i[t.value.outlet]=t),i}class Or extends Ef{constructor(i,t){super(i),this.snapshot=t,au(this,i)}toString(){return this.snapshot.toString()}}function sa(n,i){const t=function wf(n,i){const p=new oa([],{},{},"",{},gt,i,null,{});return new ou("",new Gr(p,[]))}(0,i),o=new wr.t([new H("",{})]),u=new wr.t({}),f=new wr.t({}),p=new wr.t({}),C=new wr.t(""),D=new Ui(o,u,p,C,f,gt,i,t.root);return D.snapshot=t.root,new Or(new Gr(D,[]),t)}class Ui{constructor(i,t,o,u,f,p,C,D){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=u,this.dataSubject=f,this.outlet=p,this.component=C,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,ht.T)(M=>M[Za]))??(0,it.of)(void 0),this.url=i,this.params=t,this.queryParams=o,this.fragment=u,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.T)(i=>Wr(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.T)(i=>Wr(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mc(n,i="emptyOnly"){const t=n.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const u=t[o],f=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function Zl(n){return n.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class oa{get title(){return this.data?.[Za]}constructor(i,t,o,u,f,p,C,D,M){this.url=i,this.params=t,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=p,this.component=C,this.routeConfig=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ou extends Ef{constructor(i,t){super(t),this.url=i,au(this,t)}toString(){return Hs(this._root)}}function au(n,i){i.value._routerState=n,i.children.forEach(t=>au(n,t))}function Hs(n){const i=n.children.length>0?` { ${n.children.map(Hs).join(", ")} } `:"";return`${n.value}${i}`}function Jl(n){if(n.snapshot){const i=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ti(i.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ti(i.params,t.params)||n.paramsSubject.next(t.params),function Ic(n,i){if(n.length!==i.length)return!1;for(let t=0;t<n.length;++t)if(!ti(n[t],i[t]))return!1;return!0}(i.url,t.url)||n.urlSubject.next(t.url),ti(i.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Df(n,i){const t=ti(n.params,i.params)&&function K(n,i){return ce(n,i)&&n.every((t,o)=>ti(t.parameters,i[o].parameters))}(n.url,i.url);return t&&!(!n.parent!=!i.parent)&&(!n.parent||Df(n.parent,i.parent))}let bf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new _.bkB,this.deactivateEvents=new _.bkB,this.attachEvents=new _.bkB,this.detachEvents=new _.bkB,this.parentContexts=(0,_.WQX)(su),this.location=(0,_.WQX)(_.c1b),this.changeDetector=(0,_.WQX)(_.gRc),this.environmentInjector=(0,_.WQX)(_.uvJ),this.inputBinder=(0,_.WQX)(Nc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:u}=t.name;if(o)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new _.wOt(4013,!1);this._activatedRoute=t;const u=this.location,p=t.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,D=new Af(t,C,u.injector);this.activated=u.createComponent(p,{index:u.length,injector:D,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275dir=_.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.OA$]})}}return n})();class Af{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===Ui?this.route:i===su?this.childContexts:this.parent.get(i,t)}}const Nc=new _.nKC("");let xr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,u=Os([o.queryParams,o.params,o.data]).pipe((0,dn.n)(([f,p,C],D)=>(C={...f,...p,...C},0===D?(0,it.of)(C):Promise.resolve(C)))).subscribe(f=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const p=(0,_.HJs)(o.component);if(p)for(const{templateName:C}of p.inputs)t.activatedComponentRef.setInput(C,f[C]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,u)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();function bo(n,i,t){if(t&&n.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const u=function jg(n,i,t){return i.children.map(o=>{for(const u of t.children)if(n.shouldReuseRoute(o.value,u.value.snapshot))return bo(n,o,u);return bo(n,o)})}(n,i,t);return new Gr(o,u)}{if(n.shouldAttach(i.value)){const f=n.retrieve(i.value);if(null!==f){const p=f.route;return p.value._futureSnapshot=i.value,p.children=i.children.map(C=>bo(n,C)),p}}const o=function $s(n){return new Ui(new wr.t(n.url),new wr.t(n.params),new wr.t(n.queryParams),new wr.t(n.fragment),new wr.t(n.data),n.outlet,n.component,n)}(i.value),u=i.children.map(f=>bo(n,f));return new Gr(o,u)}}const Un="ngNavigationCancelingError";function Pc(n,i){const{redirectTo:t,navigationBehaviorOptions:o}=ea(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,u=ed(!1,0,i);return u.url=t,u.navigationBehaviorOptions=o,u}function ed(n,i,t){const o=new Error("NavigationCancelingError: "+(n||""));return o[Un]=!0,o.cancellationCode=i,t&&(o.url=t),o}function Kn(n){return n&&n[Un]}let uu=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=_.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[_.aNF],decls:1,vars:0,template:function(o,u){1&o&&_.nrm(0,"router-outlet")},dependencies:[bf],encapsulation:2})}}return n})();function B(n){const i=n.children&&n.children.map(B),t=i?{...n,children:i}:{...n};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==gt&&(t.component=uu),t}function G(n){return n.outlet||gt}function Oe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class gn{constructor(i,t,o,u,f){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=u,this.inputBindingEnabled=f}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),Jl(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const u=js(t);i.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,u[p],o),delete u[p]}),Object.values(u).forEach(f=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(i,t,o){const u=i.value,f=t?t.value:null;if(u===f)if(u.component){const p=o.getContext(u.outlet);p&&this.deactivateChildRoutes(i,t,p.children)}else this.deactivateChildRoutes(i,t,o);else f&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),u=o&&i.value.component?o.children:t,f=js(i);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],u);if(o&&o.outlet){const p=o.outlet.detach(),C=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:p,route:i,contexts:C})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),u=o&&i.value.component?o.children:t,f=js(i);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],u);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,t,o){const u=js(t);i.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new Xl(f.value.snapshot))}),i.children.length&&this.forwardEvent(new Sc(i.value.snapshot))}activateRoutes(i,t,o){const u=i.value,f=t?t.value:null;if(Jl(u),u===f)if(u.component){const p=o.getOrCreateContext(u.outlet);this.activateChildRoutes(i,t,p.children)}else this.activateChildRoutes(i,t,o);else if(u.component){const p=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const C=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),p.children.onOutletReAttached(C.contexts),p.attachRef=C.componentRef,p.route=C.route.value,p.outlet&&p.outlet.attach(C.componentRef,C.route.value),Jl(C.route.value),this.activateChildRoutes(i,null,p.children)}else{const C=Oe(u.snapshot);p.attachRef=null,p.route=u,p.injector=C,p.outlet&&p.outlet.activateWith(u,p.injector),this.activateChildRoutes(i,null,p.children)}}else this.activateChildRoutes(i,null,o)}}class ri{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Ao{constructor(i,t){this.component=i,this.route=t}}function Rf(n,i,t){const o=n._root;return aa(o,i?i._root:null,t,[o.value])}function ls(n,i){const t=Symbol(),o=i.get(n,t);return o===t?"function"!=typeof n||(0,_.LfX)(n)?i.get(n):n:o}function aa(n,i,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=js(i);return n.children.forEach(p=>{(function Oc(n,i,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=n.value,p=i?i.value:null,C=t?t.getContext(n.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const D=function xc(n,i,t){if("function"==typeof t)return t(n,i);switch(t){case"pathParamsChange":return!ce(n.url,i.url);case"pathParamsOrQueryParamsChange":return!ce(n.url,i.url)||!ti(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(n,i)||!ti(n.queryParams,i.queryParams);default:return!Df(n,i)}}(p,f,f.routeConfig.runGuardsAndResolvers);D?u.canActivateChecks.push(new ri(o)):(f.data=p.data,f._resolvedData=p._resolvedData),aa(n,i,f.component?C?C.children:null:t,o,u),D&&C&&C.outlet&&C.outlet.isActivated&&u.canDeactivateChecks.push(new Ao(C.outlet.component,p))}else p&&cu(i,C,u),u.canActivateChecks.push(new ri(o)),aa(n,null,f.component?C?C.children:null:t,o,u)})(p,f[p.value.outlet],t,o.concat([p.value]),u),delete f[p.value.outlet]}),Object.entries(f).forEach(([p,C])=>cu(C,t.getContext(p),u)),u}function cu(n,i,t){const o=js(n),u=n.value;Object.entries(o).forEach(([f,p])=>{cu(p,u.component?i?i.children.getContext(f):null:i,t)}),t.canDeactivateChecks.push(new Ao(u.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,u))}function ua(n){return"function"==typeof n}function Iv(n){return n instanceof ks||"EmptyError"===n?.name}const Xh=Symbol("INITIAL_VALUE");function lu(){return(0,dn.n)(n=>Os(n.map(i=>i.pipe(rs(1),function Xo(...n){const i=(0,Li.lI)(n);return(0,er.N)((t,o)=>{(i?Jr(n,t,i):Jr(n,t)).subscribe(o)})}(Xh)))).pipe((0,ht.T)(i=>{for(const t of i)if(!0!==t){if(t===Xh)return Xh;if(!1===t||t instanceof T)return t}return!0}),ei(i=>i!==Xh),rs(1)))}function Gg(n){return(0,mf.F)((0,Tn.M)(i=>{if(ea(i))throw Pc(0,i)}),(0,ht.T)(i=>!0===i))}class td{constructor(i){this.segmentGroup=i||null}}class Kg{constructor(i){this.urlTree=i}}function ca(n){return ts(new td(n))}function nd(n){return ts(new Kg(n))}class Jh{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new _.wOt(4002,!1)}lineralizeSegments(i,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,it.of)(o);if(u.numberOfChildren>1||!u.children[gt])return ts(new _.wOt(4e3,!1));u=u.children[gt]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,u){const f=this.createSegmentGroup(i,t.root,o,u);return new T(f,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Object.entries(i).forEach(([u,f])=>{if("string"==typeof f&&f.startsWith(":")){const C=f.substring(1);o[u]=t[C]}else o[u]=f}),o}createSegmentGroup(i,t,o,u){const f=this.createSegments(i,t.segments,o,u);let p={};return Object.entries(t.children).forEach(([C,D])=>{p[C]=this.createSegmentGroup(i,D,o,u)}),new N(f,p)}createSegments(i,t,o,u){return t.map(f=>f.path.startsWith(":")?this.findPosParam(i,f,u):this.findOrReturn(f,o))}findPosParam(i,t,o){const u=o[t.path.substring(1)];if(!u)throw new _.wOt(4001,!1);return u}findOrReturn(i,t){let o=0;for(const u of t){if(u.path===i.path)return t.splice(o),u;o++}return i}}const ep={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yg(n,i,t,o,u){const f=Lc(n,i,t);return f.matched?(o=function qh(n,i){return n.providers&&!n._injector&&(n._injector=(0,_.Ol2)(n.providers,i,`Route: ${n.path}`)),n._injector??i}(i,o),function Av(n,i,t,o){const u=i.canMatch;if(!u||0===u.length)return(0,it.of)(!0);const f=u.map(p=>{const C=ls(p,n);return Qt(function Qh(n){return n&&ua(n.canMatch)}(C)?C.canMatch(i,t):n.runInContext(()=>C(i,t)))});return(0,it.of)(f).pipe(lu(),Gg())}(o,i,t).pipe((0,ht.T)(p=>!0===p?f:{...ep}))):(0,it.of)(f)}function Lc(n,i,t){if(""===i.path)return"full"===i.pathMatch&&(n.hasChildren()||t.length>0)?{...ep}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(i.matcher||as)(t,n,i);if(!u)return{...ep};const f={};Object.entries(u.posParams??{}).forEach(([C,D])=>{f[C]=D.path});const p=u.consumed.length>0?{...f,...u.consumed[u.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:u.posParams??{}}}function Sv(n,i,t,o){return t.length>0&&function iC(n,i,t){return t.some(o=>Nf(n,i,o)&&G(o)!==gt)}(n,t,o)?{segmentGroup:new N(i,rC(o,new N(t,n.children))),slicedSegments:[]}:0===t.length&&function sC(n,i,t){return t.some(o=>Nf(n,i,o))}(n,t,o)?{segmentGroup:new N(n.segments,Rv(n,0,t,o,n.children)),slicedSegments:t}:{segmentGroup:new N(n.segments,n.children),slicedSegments:t}}function Rv(n,i,t,o,u){const f={};for(const p of o)if(Nf(n,t,p)&&!u[G(p)]){const C=new N([],{});f[G(p)]=C}return{...u,...f}}function rC(n,i){const t={};t[gt]=i;for(const o of n)if(""===o.path&&G(o)!==gt){const u=new N([],{});t[G(o)]=u}return t}function Nf(n,i,t){return(!(n.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class rd{constructor(i,t,o,u,f,p,C){this.injector=i,this.configLoader=t,this.rootComponentType=o,this.config=u,this.urlTree=f,this.paramsInheritanceStrategy=p,this.urlSerializer=C,this.allowRedirects=!0,this.applyRedirects=new Jh(this.urlSerializer,this.urlTree)}noMatchError(i){return new _.wOt(4002,!1)}recognize(){const i=Sv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,gt).pipe($r(t=>{if(t instanceof Kg)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof td?this.noMatchError(t):t}),(0,ht.T)(t=>{const o=new oa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),u=new Gr(o,t),f=new ou("",u),p=function gv(n,i,t=null,o=null){return Vh(Io(n),i,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(f._root),{state:f,tree:p}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,gt).pipe($r(o=>{throw o instanceof td?this.noMatchError(o):o}))}inheritParamsAndData(i){const t=i.value,o=Mc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(i,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,u,!0)}processChildren(i,t,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,Fn.H)(u).pipe(tr(f=>{const p=o.children[f],C=function De(n,i){const t=n.filter(o=>G(o)===i);return t.push(...n.filter(o=>G(o)!==i)),t}(t,f);return this.processSegmentGroup(i,C,p,f)}),ss((f,p)=>(f.push(...p),f)),Ec(null),function vo(n,i){const t=arguments.length>=2;return o=>o.pipe(n?ei((u,f)=>n(u,f,o)):Zr.D,os(1),t?Ec(i):Vl(()=>new ks))}(),(0,Cn.Z)(f=>{if(null===f)return ca(o);const p=uC(f);return function oC(n){n.sort((i,t)=>i.value.outlet===gt?-1:t.value.outlet===gt?1:i.value.outlet.localeCompare(t.value.outlet))}(p),(0,it.of)(p)}))}processSegment(i,t,o,u,f,p){return(0,Fn.H)(t).pipe(tr(C=>this.processSegmentAgainstRoute(C._injector??i,t,C,o,u,f,p).pipe($r(D=>{if(D instanceof td)return(0,it.of)(null);throw D}))),is(C=>!!C),$r(C=>{if(Iv(C))return function tp(n,i,t){return 0===i.length&&!n.children[t]}(o,u,f)?(0,it.of)([]):ca(o);throw C}))}processSegmentAgainstRoute(i,t,o,u,f,p,C){return function Mv(n,i,t,o){return!!(G(n)===o||o!==gt&&Nf(i,t,n))&&("**"===n.path||Lc(i,n,t).matched)}(o,u,f,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,u,o,f,p,C):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,u,t,o,f,p):ca(u):ca(u)}expandSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,u,p):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,u){const f=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?nd(f):this.applyRedirects.lineralizeSegments(o,f).pipe((0,Cn.Z)(p=>{const C=new N(p,{});return this.processSegment(i,t,C,p,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p){const{matched:C,consumedSegments:D,remainingSegments:M,positionalParamSegments:U}=Lc(t,u,f);if(!C)return ca(t);const $=this.applyRedirects.applyRedirectCommands(D,u.redirectTo,U);return u.redirectTo.startsWith("/")?nd($):this.applyRedirects.lineralizeSegments(u,$).pipe((0,Cn.Z)(q=>this.processSegment(i,o,t,q.concat(M),p,!1)))}matchSegmentAgainstRoute(i,t,o,u,f,p){let C;if("**"===o.path){const D=u.length>0?us(u).parameters:{},M=new oa(u,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,np(o),G(o),o.component??o._loadedComponent??null,o,Nv(o));C=(0,it.of)({snapshot:M,consumedSegments:[],remainingSegments:[]}),t.children={}}else C=Yg(t,o,u,i).pipe((0,ht.T)(({matched:D,consumedSegments:M,remainingSegments:U,parameters:$})=>D?{snapshot:new oa(M,$,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,np(o),G(o),o.component??o._loadedComponent??null,o,Nv(o)),consumedSegments:M,remainingSegments:U}:null));return C.pipe((0,dn.n)(D=>null===D?ca(t):this.getChildConfig(i=o._injector??i,o,u).pipe((0,dn.n)(({routes:M})=>{const U=o._loadedInjector??i,{snapshot:$,consumedSegments:q,remainingSegments:we}=D,{segmentGroup:Le,slicedSegments:at}=Sv(t,q,we,M);if(0===at.length&&Le.hasChildren())return this.processChildren(U,M,Le).pipe((0,ht.T)(Zt=>null===Zt?null:[new Gr($,Zt)]));if(0===M.length&&0===at.length)return(0,it.of)([new Gr($,[])]);const Nt=G(o)===f;return this.processSegment(U,M,Le,at,Nt?gt:f,!0).pipe((0,ht.T)(Zt=>[new Gr($,Zt)]))}))))}getChildConfig(i,t,o){return t.children?(0,it.of)({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?(0,it.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function bv(n,i,t,o){const u=i.canLoad;if(void 0===u||0===u.length)return(0,it.of)(!0);const f=u.map(p=>{const C=ls(p,n);return Qt(function $g(n){return n&&ua(n.canLoad)}(C)?C.canLoad(i,t):n.runInContext(()=>C(i,t)))});return(0,it.of)(f).pipe(lu(),Gg())}(i,t,o).pipe((0,Cn.Z)(u=>u?this.configLoader.loadChildren(i,t).pipe((0,Tn.M)(f=>{t._loadedRoutes=f.routes,t._loadedInjector=f.injector})):function qg(n){return ts(ed(!1,3))}())):(0,it.of)({routes:[],injector:i})}}function aC(n){const i=n.value.routeConfig;return i&&""===i.path}function uC(n){const i=[],t=new Set;for(const o of n){if(!aC(o)){i.push(o);continue}const u=i.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):i.push(o)}for(const o of t){const u=uC(o.children);i.push(new Gr(o.value,u))}return i.filter(o=>!t.has(o))}function np(n){return n.data||{}}function Nv(n){return n.resolve||{}}function Zg(n){return"string"==typeof n.title||null===n.title}function Jg(n){return(0,dn.n)(i=>{const t=n(i);return t?(0,Fn.H)(t).pipe((0,ht.T)(()=>i)):(0,it.of)(i)})}const sd=new _.nKC("ROUTES");let em=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.WQX)(_.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,it.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Qt(t.loadComponent()).pipe((0,ht.T)(la),(0,Tn.M)(f=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=f}),Fs(()=>{this.componentLoaders.delete(t)})),u=new yc(o,()=>new Hr.B).pipe(Ul());return this.componentLoaders.set(t,u),u}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,it.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const f=function cC(n,i,t,o){return Qt(n.loadChildren()).pipe((0,ht.T)(la),(0,Cn.Z)(u=>u instanceof _.Co$||Array.isArray(u)?(0,it.of)(u):(0,Fn.H)(i.compileModuleAsync(u))),(0,ht.T)(u=>{o&&o(n);let f,p,C=!1;return Array.isArray(u)?(p=u,!0):(f=u.create(t).injector,p=f.get(sd,[],{optional:!0,self:!0}).flat()),{routes:p.map(B),injector:f}}))}(o,this.compiler,t,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(o)})),p=new yc(f,()=>new Hr.B).pipe(Ul());return this.childrenLoaders.set(o,p),p}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function la(n){return function lC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let du=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hr.B,this.transitionAbortSubject=new Hr.B,this.configLoader=(0,_.WQX)(em),this.environmentInjector=(0,_.WQX)(_.uvJ),this.urlSerializer=(0,_.WQX)(xe),this.rootContexts=(0,_.WQX)(su),this.inputBindingEnabled=null!==(0,_.WQX)(Nc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,it.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new Gh(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new mv(u))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t,o,u){return this.transitions=new wr.t({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:t.urlHandlingStrategy.extract(o),urlAfterRedirects:t.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(f=>0!==f.id),(0,ht.T)(f=>({...f,extractedUrl:t.urlHandlingStrategy.extract(f.rawUrl)})),(0,dn.n)(f=>{this.currentTransition=f;let p=!1,C=!1;return(0,it.of)(f).pipe((0,Tn.M)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dn.n)(D=>{const M=D.currentBrowserUrl.toString(),U=!t.navigated||D.extractedUrl.toString()!==M||M!==D.currentUrlTree.toString();if(!U&&"reload"!==(D.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const q="";return this.events.next(new iu(D.id,this.urlSerializer.serialize(D.rawUrl),q,0)),D.resolve(null),ns.w}if(t.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return(0,it.of)(D).pipe((0,dn.n)(q=>{const we=this.transitions?.getValue();return this.events.next(new ra(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),we!==this.transitions?.getValue()?ns.w:Promise.resolve(q)}),function id(n,i,t,o,u,f){return(0,Cn.Z)(p=>function Qg(n,i,t,o,u,f,p="emptyOnly"){return new rd(n,i,t,o,u,p,f).recognize()}(n,i,t,o,p.extractedUrl,u,f).pipe((0,ht.T)(({state:C,tree:D})=>({...p,targetSnapshot:C,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Tn.M)(q=>{f.targetSnapshot=q.targetSnapshot,f.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const we=new Hh(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(we)}));if(U&&t.urlHandlingStrategy.shouldProcessUrl(D.currentRawUrl)){const{id:q,extractedUrl:we,source:Le,restoredState:at,extras:Nt}=D,Zt=new ra(q,this.urlSerializer.serialize(we),Le,at);this.events.next(Zt);const nn=sa(0,this.rootComponentType).snapshot;return this.currentTransition=f={...D,targetSnapshot:nn,urlAfterRedirects:we,extras:{...Nt,skipLocationChange:!1,replaceUrl:!1}},(0,it.of)(f)}{const q="";return this.events.next(new iu(D.id,this.urlSerializer.serialize(D.extractedUrl),q,1)),D.resolve(null),ns.w}}),(0,Tn.M)(D=>{const M=new Ql(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}),(0,ht.T)(D=>(this.currentTransition=f={...D,guards:Rf(D.targetSnapshot,D.currentSnapshot,this.rootContexts)},f)),function Cv(n,i){return(0,Cn.Z)(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:p}}=t;return 0===p.length&&0===f.length?(0,it.of)({...t,guardsResult:!0}):function kc(n,i,t,o){return(0,Fn.H)(n).pipe((0,Cn.Z)(u=>function nC(n,i,t,o,u){const f=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,it.of)(!0);const p=f.map(C=>{const D=Oe(i)??u,M=ls(C,D);return Qt(function yv(n){return n&&ua(n.canDeactivate)}(M)?M.canDeactivate(n,i,t,o):D.runInContext(()=>M(n,i,t,o))).pipe(is())});return(0,it.of)(p).pipe(lu())}(u.component,u.route,t,i,o)),is(u=>!0!==u,!0))}(p,o,u,n).pipe((0,Cn.Z)(C=>C&&function Yh(n){return"boolean"==typeof n}(C)?function wv(n,i,t,o){return(0,Fn.H)(i).pipe(tr(u=>Jr(function tC(n,i){return null!==n&&i&&i(new _v(n)),(0,it.of)(!0)}(u.route.parent,o),function Dv(n,i){return null!==n&&i&&i(new Ug(n)),(0,it.of)(!0)}(u.route,o),function Zh(n,i,t){const o=i[i.length-1],f=i.slice(0,i.length-1).reverse().map(p=>function To(n){const i=n.routeConfig?n.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:n,guards:i}:null}(p)).filter(p=>null!==p).map(p=>Ya(()=>{const C=p.guards.map(D=>{const M=Oe(p.node)??t,U=ls(D,M);return Qt(function Wg(n){return n&&ua(n.canActivateChild)}(U)?U.canActivateChild(o,n):M.runInContext(()=>U(o,n))).pipe(is())});return(0,it.of)(C).pipe(lu())}));return(0,it.of)(f).pipe(lu())}(n,u.path,t),function uD(n,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,it.of)(!0);const u=o.map(f=>Ya(()=>{const p=Oe(i)??t,C=ls(f,p);return Qt(function Mf(n){return n&&ua(n.canActivate)}(C)?C.canActivate(i,n):p.runInContext(()=>C(i,n))).pipe(is())}));return(0,it.of)(u).pipe(lu())}(n,u.route,t))),is(u=>!0!==u,!0))}(o,f,n,i):(0,it.of)(C)),(0,ht.T)(C=>({...t,guardsResult:C})))})}(this.environmentInjector,D=>this.events.next(D)),(0,Tn.M)(D=>{if(f.guardsResult=D.guardsResult,ea(D.guardsResult))throw Pc(0,D.guardsResult);const M=new $h(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.events.next(M)}),ei(D=>!!D.guardsResult||(this.cancelNavigationTransition(D,"",3),!1)),Jg(D=>{if(D.guards.canActivateChecks.length)return(0,it.of)(D).pipe((0,Tn.M)(M=>{const U=new Wh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(U)}),(0,dn.n)(M=>{let U=!1;return(0,it.of)(M).pipe(function rp(n,i){return(0,Cn.Z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,it.of)(t);let f=0;return(0,Fn.H)(u).pipe(tr(p=>function Xg(n,i,t,o){const u=n.routeConfig,f=n._resolve;return void 0!==u?.title&&!Zg(u)&&(f[Za]=u.title),function Pv(n,i,t,o){const u=function Ov(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===u.length)return(0,it.of)({});const f={};return(0,Fn.H)(u).pipe((0,Cn.Z)(p=>function xv(n,i,t,o){const u=Oe(i)??o,f=ls(n,u);return Qt(f.resolve?f.resolve(i,t):u.runInContext(()=>f(i,t)))}(n[p],i,t,o).pipe(is(),(0,Tn.M)(C=>{f[p]=C}))),os(1),function Xa(n){return(0,ht.T)(()=>n)}(f),$r(p=>Iv(p)?ns.w:ts(p)))}(f,n,i,o).pipe((0,ht.T)(p=>(n._resolvedData=p,n.data=Mc(n,t).resolve,u&&Zg(u)&&(n.data[Za]=u.title),null)))}(p.route,o,n,i)),(0,Tn.M)(()=>f++),os(1),(0,Cn.Z)(p=>f===u.length?(0,it.of)(t):ns.w))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.M)({next:()=>U=!0,complete:()=>{U||this.cancelNavigationTransition(M,"",2)}}))}),(0,Tn.M)(M=>{const U=new zh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(U)}))}),Jg(D=>{const M=U=>{const $=[];U.routeConfig?.loadComponent&&!U.routeConfig._loadedComponent&&$.push(this.configLoader.loadComponent(U.routeConfig).pipe((0,Tn.M)(q=>{U.component=q}),(0,ht.T)(()=>{})));for(const q of U.children)$.push(...M(q));return $};return Os(M(D.targetSnapshot.root)).pipe(Ec(),rs(1))}),Jg(()=>this.afterPreactivation()),(0,ht.T)(D=>{const M=function Tf(n,i,t){const o=bo(n,i._root,t?t._root:void 0);return new Or(o,i)}(t.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return this.currentTransition=f={...D,targetRouterState:M},f}),(0,Tn.M)(()=>{this.events.next(new Kh)}),((n,i,t,o)=>(0,ht.T)(u=>(new gn(i,u.targetRouterState,u.currentRouterState,t,o).activate(n),u)))(this.rootContexts,t.routeReuseStrategy,D=>this.events.next(D),this.inputBindingEnabled),rs(1),(0,Tn.M)({next:D=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects))),t.titleStrategy?.updateTitle(D.targetRouterState.snapshot),D.resolve(!0)},complete:()=>{p=!0}}),function Bl(n){return(0,er.N)((i,t)=>{(0,Ls.Tg)(n).subscribe((0,jt._)(t,()=>t.complete(),Zo.l)),!t.closed&&i.subscribe(t)})}(this.transitionAbortSubject.pipe((0,Tn.M)(D=>{throw D}))),Fs(()=>{p||C||this.cancelNavigationTransition(f,"",1),this.currentNavigation?.id===f.id&&(this.currentNavigation=null)}),$r(D=>{if(C=!0,Kn(D))this.events.next(new Yl(f.id,this.urlSerializer.serialize(f.extractedUrl),D.message,D.cancellationCode)),function Sf(n){return Kn(n)&&ea(n.url)}(D)?this.events.next(new Rc(D.url)):f.resolve(!1);else{this.events.next(new ia(f.id,this.urlSerializer.serialize(f.extractedUrl),D,f.targetSnapshot??void 0));try{f.resolve(t.errorHandler(D))}catch(M){f.reject(M)}}return ns.w}))}))}cancelNavigationTransition(t,o,u){const f=new Yl(t.id,this.urlSerializer.serialize(t.extractedUrl),o,u);this.events.next(f),t.resolve(!1)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kv(n){return n!==Tc}let dC=(()=>{class n{buildTitle(t){let o,u=t.root;for(;void 0!==u;)o=this.getResolvedTitleForRoute(u)??o,u=u.children.find(f=>f.outlet===gt);return o}getResolvedTitleForRoute(t){return t.data[Za]}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(lD)},providedIn:"root"})}}return n})(),lD=(()=>{class n extends dC{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(zo))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dD=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(hD)},providedIn:"root"})}}return n})();class fD{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let hD=(()=>{class n extends fD{static{this.\u0275fac=function(){let t;return function(u){return(t||(t=_.xGo(n)))(u||n)}}()}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Pf=new _.nKC("",{providedIn:"root",factory:()=>({})});let fC=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(hC)},providedIn:"root"})}}return n})(),hC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Of=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Of||{});function Lv(n,i){n.events.pipe(ei(t=>t instanceof cs||t instanceof Yl||t instanceof ia||t instanceof iu),(0,ht.T)(t=>t instanceof cs||t instanceof iu?Of.COMPLETE:t instanceof Yl&&(0===t.code||1===t.code)?Of.REDIRECTING:Of.FAILED),ei(t=>t!==Of.REDIRECTING),rs(1)).subscribe(()=>{i()})}function tm(n){throw n}function da(n,i,t){return i.parse("/")}const xf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.WQX)(_.H3F),this.isNgZoneEnabled=!1,this._events=new Hr.B,this.options=(0,_.WQX)(Pf,{optional:!0})||{},this.pendingTasks=(0,_.WQX)(_.$K3),this.errorHandler=this.options.errorHandler||tm,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||da,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.WQX)(fC),this.routeReuseStrategy=(0,_.WQX)(dD),this.titleStrategy=(0,_.WQX)(dC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.WQX)(sd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.WQX)(du),this.urlSerializer=(0,_.WQX)(xe),this.location=(0,_.WQX)(Fe),this.componentInputBindingEnabled=!!(0,_.WQX)(Nc,{optional:!0}),this.eventsSubscription=new Fl.yU,this.isNgZoneEnabled=(0,_.WQX)(_.SKi)instanceof _.SKi&&_.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new T,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:u}=this.navigationTransitions;if(null===u)return void(pC(o)&&this._events.next(o));if(o instanceof ra)kv(u.source)&&(this.browserUrlTree=u.extractedUrl);else if(o instanceof iu)this.rawUrlTree=u.rawUrl;else if(o instanceof Hh){if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(f,u)}this.browserUrlTree=u.urlAfterRedirects}}else if(o instanceof Kh)this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects);else if(o instanceof Yl)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(u);else if(o instanceof Rc){const f=this.urlHandlingStrategy.merge(o.url,u.currentRawUrl),p={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kv(u.source)};this.scheduleNavigation(f,Tc,null,p,{resolve:u.resolve,reject:u.reject,promise:u.promise})}o instanceof ia&&this.restoreHistory(u,!0),o instanceof cs&&(this.navigated=!0),pC(o)&&this._events.next(o)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Tc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,u){const f={replaceUrl:!0},p=u?.navigationId?u:null;if(u){const D={...u};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(f.state=D)}const C=this.parseUrl(t);this.scheduleNavigation(C,o,p,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){const{relativeTo:u,queryParams:f,fragment:p,queryParamsHandling:C,preserveFragment:D}=o,M=D?this.currentUrlTree.fragment:p;let $,U=null;switch(C){case"merge":U={...this.currentUrlTree.queryParams,...f};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=f||null}null!==U&&(U=this.removeEmptyProps(U));try{$=Io(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),$=this.currentUrlTree.root}return Vh($,t,U,M??null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=ea(t)?t:this.parseUrl(t),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,Tc,null,o)}navigate(t,o={skipLocationChange:!1}){return function Uv(n){for(let i=0;i<n.length;i++)if(null==n[i])throw new _.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?{...xf}:!1===o?{...Fv}:o,ea(t))return Cc(this.currentUrlTree,t,u);const f=this.parseUrl(t);return Cc(this.currentUrlTree,f,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const f=t[u];return null!=f&&(o[u]=f),o},{})}scheduleNavigation(t,o,u,f,p){if(this.disposed)return Promise.resolve(!1);let C,D,M;p?(C=p.resolve,D=p.reject,M=p.promise):M=new Promise(($,q)=>{C=$,D=q});const U=this.pendingTasks.add();return Lv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:f,resolve:C,reject:D,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch($=>Promise.reject($))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl){const p={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(u,"",p)}else{const f={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(u,"",f)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-this.browserPageId;0!==f?this.location.historyGo(f):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pC(n){return!(n instanceof Kh||n instanceof Rc)}class ip{}let Bv=(()=>{class n{constructor(t,o,u,f,p){this.router=t,this.injector=u,this.preloadingStrategy=f,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof cs),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const f of o){f.providers&&!f._injector&&(f._injector=(0,_.Ol2)(f.providers,t,`Route: ${f.path}`));const p=f._injector??t,C=f._loadedInjector??p;(f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent)&&u.push(this.preloadConfig(p,f)),(f.children||f._loadedRoutes)&&u.push(this.processRoutes(C,f.children??f._loadedRoutes))}return(0,Fn.H)(u).pipe((0,es.U)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let u;u=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):(0,it.of)(null);const f=u.pipe((0,Cn.Z)(p=>null===p?(0,it.of)(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));if(o.loadComponent&&!o._loadedComponent){const p=this.loader.loadComponent(o);return(0,Fn.H)([f,p]).pipe((0,es.U)())}return f})}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Vi),_.KVO(_.Ql9),_.KVO(_.uvJ),_.KVO(ip),_.KVO(em))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const rm=new _.nKC("");let jv=(()=>{class n{constructor(t,o,u,f,p={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=u,this.zone=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof iu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Vg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(o){_.QTQ()}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();function So(n,i){return{\u0275kind:n,\u0275providers:i}}function Fc(){const n=(0,_.WQX)(_.zZn);return i=>{const t=n.get(_.o8S);if(i!==t.components[0])return;const o=n.get(Vi),u=n.get(Wv);1===n.get(im)&&o.initialNavigation(),n.get(Kv,null,_.$GK.Optional)?.setUpPreloading(),n.get(rm,null,_.$GK.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const Wv=new _.nKC("",{factory:()=>new Hr.B}),im=new _.nKC("",{providedIn:"root",factory:()=>1}),Kv=new _.nKC("");function gC(n){return So(0,[{provide:Kv,useExisting:Bv},{provide:ip,useExisting:n}])}const od=new _.nKC("ROUTER_FORROOT_GUARD"),qv=[Fe,{provide:xe,useClass:Ye},Vi,su,{provide:Ui,useFactory:function Hv(n){return n.routerState.root},deps:[Vi]},em,[]];function Yv(){return new _.NEm("Router",Vi)}let sm=(()=>{class n{constructor(t){}static forRoot(t,o){return{ngModule:n,providers:[qv,[],{provide:sd,multi:!0,useValue:t},{provide:od,useFactory:Zv,deps:[[Vi,new _.Xx1,new _.kdw]]},{provide:Pf,useValue:o||{}},o?.useHash?{provide:Ne,useClass:Ae}:{provide:Ne,useClass:Be},{provide:rm,useFactory:()=>{const n=(0,_.WQX)(vr),i=(0,_.WQX)(_.SKi),t=(0,_.WQX)(Pf),o=(0,_.WQX)(du),u=(0,_.WQX)(xe);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jv(u,o,n,i,t)}},o?.preloadingStrategy?gC(o.preloadingStrategy).\u0275providers:[],{provide:_.NEm,multi:!0,useFactory:Yv},o?.initialNavigation?ap(o):[],o?.bindToComponentInputs?So(8,[xr,{provide:Nc,useExisting:xr}]).\u0275providers:[],[{provide:vC,useFactory:Fc},{provide:_.iLQ,multi:!0,useExisting:vC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:sd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(od,8))}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({})}}return n})();function Zv(n){return"guarded"}function ap(n){return["disabled"===n.initialNavigation?So(3,[{provide:_.hnV,multi:!0,useFactory:()=>{const i=(0,_.WQX)(Vi);return()=>{i.setUpLocationChangeListener()}}},{provide:im,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?So(2,[{provide:im,useValue:0},{provide:_.hnV,multi:!0,deps:[_.zZn],useFactory:i=>{const t=i.get(Te,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const u=i.get(Vi),f=i.get(Wv);Lv(u,()=>{o(!0)}),i.get(du).afterPreactivation=()=>(o(!0),f.closed?(0,it.of)(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const vC=new _.nKC("");var Bi=P(4783),up=P(3236),am=P(7786),cp=P(7647),lp=P(3294),gi=P(1161),IC=(P(6922),P(3345)),fu=P(1362),ji=P(467),Uc=P(7852),k=P(1076),dp=P(8041);const fp="@firebase/database";let cm="";function lm(n){cm=n}class dm{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,t){null==t?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,k.As)(t))}get(i){const t=this.domStorage_.getItem(this.prefixedName_(i));return null==t?null:(0,k.$L)(t)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class DD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,t){null==t?delete this.cache_[i]:this.cache_[i]=t}get(i){return(0,k.gR)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const CC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const i=window[n];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new dm(i)}}catch{}return new DD},Vc=CC("localStorage"),fm=CC("sessionStorage"),kf=new dp.Vy("@firebase/database"),wC=function(){let n=1;return function(){return n++}}(),Lf=function(n){const i=(0,k.kj)(n),t=new k.gz;t.update(i);const o=t.digest();return k.K3.encodeByteArray(o)},Ff=function(...n){let i="";for(let t=0;t<n.length;t++){const o=n[t];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?i+=Ff.apply(null,o):i+="object"==typeof o?(0,k.As)(o):o,i+=" "}return i};let fa=null,hp=!0;const Bc=function(n,i){(0,k.vA)(!i||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(kf.logLevel=dp.$b.VERBOSE,fa=kf.log.bind(kf),i&&fm.set("logging_enabled",!0)):"function"==typeof n?fa=n:(fa=null,fm.remove("logging_enabled"))},nr=function(...n){if(!0===hp&&(hp=!1,null===fa&&!0===fm.get("logging_enabled")&&Bc(!0)),fa){const i=Ff.apply(null,n);fa(i)}},jc=function(n){return function(...i){nr(n,...i)}},Hc=function(...n){const i="FIREBASE INTERNAL ERROR: "+Ff(...n);kf.error(i)},Hi=function(...n){const i=`FIREBASE FATAL ERROR: ${Ff(...n)}`;throw kf.error(i),new Error(i)},qn=function(...n){const i="FIREBASE WARNING: "+Ff(...n);kf.warn(i)},cd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$c="[MIN_NAME]",Ws="[MAX_NAME]",zs=function(n,i){if(n===i)return 0;if(n===$c||i===Ws)return-1;if(i===$c||n===Ws)return 1;{const t=ty(n),o=ty(i);return null!==t?null!==o?t-o==0?n.length-i.length:t-o:-1:null!==o?1:n<i?-1:1}},DC=function(n,i){return n===i?0:n<i?-1:1},ld=function(n,i){if(i&&n in i)return i[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.As)(i))},pm=function(n){if("object"!=typeof n||null===n)return(0,k.As)(n);const i=[];for(const o in n)i.push(o);i.sort();let t="{";for(let o=0;o<i.length;o++)0!==o&&(t+=","),t+=(0,k.As)(i[o]),t+=":",t+=pm(n[i[o]]);return t+="}",t},ey=function(n,i){const t=n.length;if(t<=i)return[n];const o=[];for(let u=0;u<t;u+=i)o.push(n.substring(u,u+i>t?t:u+i));return o};function rr(n,i){for(const t in n)n.hasOwnProperty(t)&&i(t,n[t])}const gm=function(n){(0,k.vA)(!cd(n),"Invalid JSON number");const o=1023;let u,f,p,C,D;0===n?(f=0,p=0,u=1/n==-1/0?1:0):(u=n<0,(n=Math.abs(n))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),o),f=C+o,p=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(f=0,p=Math.round(n/Math.pow(2,-1074))));const M=[];for(D=52;D;D-=1)M.push(p%2?1:0),p=Math.floor(p/2);for(D=11;D;D-=1)M.push(f%2?1:0),f=Math.floor(f/2);M.push(u?1:0),M.reverse();const U=M.join("");let $="";for(D=0;D<64;D+=8){let q=parseInt(U.substr(D,8),2).toString(16);1===q.length&&(q="0"+q),$+=q}return $.toLowerCase()},TC=new RegExp("^-?(0*)\\d{1,10}$"),ty=function(n){if(TC.test(n)){const i=Number(n);if(i>=-2147483648&&i<=2147483647)return i}return null},Wc=function(n){try{n()}catch(i){setTimeout(()=>{throw qn("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},hu=function(n,i){const t=setTimeout(n,i);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class SC{constructor(i,t){this.appName_=i,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(o=>this.appCheck=o)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((t,o)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(t,o):t(null)},0)})}addTokenChangeListener(i){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(o=>o.addTokenListener(i))}notifyForInvalidToken(){qn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ny{constructor(i,t,o){this.appName_=i,this.firebaseOptions_=t,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(t=>t&&"auth/token-not-initialized"===t.code?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,o)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(t,o):t(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(t=>t.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(t=>t.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qn(i)}}let Uf=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const zc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oy="websocket",ay="long_polling";class vm{constructor(i,t,o,u,f=!1,p="",C=!1,D=!1){this.secure=t,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=p,this.includeNamespaceInQueryParams=C,this.isUsingEmulator=D,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vc.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Vc.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ym(n,i,t){let o;if((0,k.vA)("string"==typeof i,"typeof type must == string"),(0,k.vA)("object"==typeof t,"typeof params must == object"),i===oy)o=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(i!==ay)throw new Error("Unknown connection type: "+i);o=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function uy(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const u=[];return rr(t,(f,p)=>{u.push(f+"="+p)}),o+u.join("&")}class Em{constructor(){this.counters_={}}incrementCounter(i,t=1){(0,k.gR)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=t}get(){return(0,k.A4)(this.counters_)}}const cy={},jf={};function _p(n){const i=n.toString();return cy[i]||(cy[i]=new Em),cy[i]}class NC{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,t){this.closeAfterResponse=i,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,t){for(this.pendingResponses[i]=t;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Wc(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mo{constructor(i,t,o,u,f,p,C){this.connId=i,this.repoInfo=t,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.transportSessionId=p,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jc(i),this.stats_=_p(t),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),ym(t,ay,D))}open(i,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new NC(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.$g)()||"complete"===document.readyState)n();else{let i=!1;const t=function(){document.body?i||(i=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ds((...f)=>{const[p,C,D,M,U]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=C,this.password=D;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[p,C]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(p,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&zc.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mo.forceAllow_=!0}static forceDisallow(){Mo.forceDisallow_=!0}static isAvailable(){return!((0,k.$g)()||!Mo.forceAllow_&&(Mo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const t=(0,k.As)(i);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const o=(0,k.KA)(t),u=ey(o,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(i,t){if((0,k.$g)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=i,o.pw=t,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const t=(0,k.As)(i).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ds{constructor(i,t,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.$g)())this.commandCB=i,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=wC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ds.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(C){nr("frame writing exception"),C.stack&&nr(C.stack),nr(C)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||nr("No IE domain setting required")}catch{const o=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,t){for(this.myID=i,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let t=this.urlFn(i),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const p=this.pendingSegs.shift();o=o+"&seg"+u+"="+p.seg+"&ts"+u+"="+p.ts+"&d"+u+"="+p.d,u++}return t+=o,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(i,t,o){this.pendingSegs.push({seg:i,ts:t,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(i,t){this.outstandingRequests.add(t);const o=()=>{this.outstandingRequests.delete(t),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(u),o()})}addTag(i,t){(0,k.$g)()?this.doNodeLongPoll(i,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=i,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),t())},o.onerror=()=>{nr("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let Dm=null;typeof MozWebSocket<"u"?Dm=MozWebSocket:typeof WebSocket<"u"&&(Dm=WebSocket);let Sn=(()=>{class n{constructor(t,o,u,f,p,C,D){this.connId=t,this.applicationId=u,this.appCheckToken=f,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jc(this.connId),this.stats_=_p(o),this.connURL=n.connectionURL_(o,C,D,f,u),this.nodeAdmin=o.nodeAdmin}static connectionURL_(t,o,u,f,p){const C={v:"5"};return!(0,k.$g)()&&typeof location<"u"&&location.hostname&&zc.test(location.hostname)&&(C.r="f"),o&&(C.s=o),u&&(C.ls=u),f&&(C.ac=f),p&&(C.p=p),ym(t,oy,C)}open(t,o){this.onDisconnect=o,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vc.set("previous_websocket_failure",!0);try{let u;if((0,k.$g)()){u={headers:{"User-Agent":`Firebase/5/${cm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,C=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;C&&(u.proxy={origin:C})}this.mySock=new Dm(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(t=!0)}return!t&&null!==Dm&&!n.forceDisallow_}static previouslyFailed(){return Vc.isInMemoryStorage||!0===Vc.get("previous_websocket_failure")}markConnectionHealthy(){Vc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,k.$L)(o);this.onMessage(u)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const o=Number(t);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const o=t.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(t){this.resetKeepAlive();const o=(0,k.As)(t);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=ey(o,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),gy=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Mo,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const o=Sn&&Sn.isAvailable();let u=o&&!Sn.previouslyFailed();if(t.webSocketOnly&&(o||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Sn];else{const f=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&f.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class No{constructor(i,t,o,u,f,p,C,D,M,U){this.id=i,this.repoInfo_=t,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=p,this.onReady_=C,this.onDisconnect_=D,this.onKill_=M,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jc("c:"+this.id+":"),this.transportManager_=new gy(t),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,o)},Math.floor(0));const u=i.healthyTimeout||0;u>0&&(this.healthyTimeout_=hu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return t=>{i===this.conn_?this.onConnectionLost_(t):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return t=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(t):i===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const t=i.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const t=ld("t",i),o=ld("d",i);if("c"===t)this.onSecondaryControl_(o);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const t=ld("t",i),o=ld("d",i);"c"===t?this.onControl_(o):"d"===t&&this.onDataMessage_(o)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const t=ld("t",i);if("d"in i){const o=i.d;if("h"===t){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(o):"r"===t?this.onReset_(o):"e"===t?Hc("Server Error: "+o):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Hc("Unknown control packet command: "+t)}}onHandshake_(i){const t=i.ts,o=i.v,u=i.h;this.sessionId=i.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==o&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,o),hu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,t){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gc{put(i,t,o,u){}merge(i,t,o,u){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,t,o){}onDisconnectMerge(i,t,o){}onDisconnectCancel(i,t){}reportStats(i){}}class Ey{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,k.vA)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...t){if(Array.isArray(this.listeners_[i])){const o=[...this.listeners_[i]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,t)}}on(i,t,o){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:t,context:o});const u=this.getInitialEvent(i);u&&t.apply(o,u)}off(i,t,o){this.validateEventType_(i);const u=this.listeners_[i]||[];for(let f=0;f<u.length;f++)if(u[f].callback===t&&(!o||o===u[f].context))return void u.splice(f,1)}validateEventType_(i){(0,k.vA)(this.allowedEvents_.find(t=>t===i),"Unknown event: "+i)}}class yp extends Ey{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yp}getInitialEvent(i){return(0,k.vA)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(i,t){if(void 0===t){this.pieces_=i.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=t}toString(){let i="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(i+="/"+this.pieces_[t]);return i||"/"}}function Ft(){return new Wt("")}function At(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pa(n){return n.pieces_.length-n.pieceNum_}function tn(n){let i=n.pieceNum_;return i<n.pieces_.length&&i++,new Wt(n.pieces_,i)}function Pm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function $f(n,i=0){return n.pieces_.slice(n.pieceNum_+i)}function Iy(n){if(n.pieceNum_>=n.pieces_.length)return null;const i=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)i.push(n.pieces_[t]);return new Wt(i,0)}function mn(n,i){const t=[];for(let o=n.pieceNum_;o<n.pieces_.length;o++)t.push(n.pieces_[o]);if(i instanceof Wt)for(let o=i.pieceNum_;o<i.pieces_.length;o++)t.push(i.pieces_[o]);else{const o=i.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&t.push(o[u])}return new Wt(t,0)}function Ot(n){return n.pieceNum_>=n.pieces_.length}function ii(n,i){const t=At(n),o=At(i);if(null===t)return i;if(t===o)return ii(tn(n),tn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+n+")")}function TD(n,i){const t=$f(n,0),o=$f(i,0);for(let u=0;u<t.length&&u<o.length;u++){const f=zs(t[u],o[u]);if(0!==f)return f}return t.length===o.length?0:t.length<o.length?-1:1}function Cy(n,i){if(pa(n)!==pa(i))return!1;for(let t=n.pieceNum_,o=i.pieceNum_;t<=n.pieces_.length;t++,o++)if(n.pieces_[t]!==i.pieces_[o])return!1;return!0}function $i(n,i){let t=n.pieceNum_,o=i.pieceNum_;if(pa(n)>pa(i))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==i.pieces_[o])return!1;++t,++o}return!0}class wy{constructor(i,t){this.errorPrefix_=t,this.parts_=$f(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,k.OE)(this.parts_[o]);Om(this)}}function Om(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pu(n))}function pu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class xm extends Ey{constructor(){let i,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const o=!document[i];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new xm}getInitialEvent(i){return(0,k.vA)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const hd=1e3;let gd,Kc=(()=>{class n extends Gc{constructor(t,o,u,f,p,C,D,M){if(super(),this.repoInfo_=t,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=p,this.authTokenProvider_=C,this.appCheckTokenProvider_=D,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=jc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,k.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");xm.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&yp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,o,u){const f=++this.requestNumber_,p={r:f,a:t,b:o};this.log_((0,k.As)(p)),(0,k.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),u&&(this.requestCBHash_[f]=u)}get(t){this.initConnection_();const o=new k.cY,f={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:C=>{const D=C.d;"ok"===C.s?o.resolve(D):o.reject(D)}};return this.outstandingGets_.push(f),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(t,o,u,f){this.initConnection_();const p=t._queryIdentifier,C=t._path.toString();this.log_("Listen called for "+C+" "+p),this.listens.has(C)||this.listens.set(C,new Map),(0,k.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.vA)(!this.listens.get(C).has(p),"listen() called twice for same path/queryId.");const D={onComplete:f,hashFn:o,query:t,tag:u};this.listens.get(C).set(p,D),this.connected_&&this.sendListen_(D)}sendGet_(t){const o=this.outstandingGets_[t];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(t){const o=t.query,u=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+u+" for "+f);const p={p:u};t.tag&&(p.q=o._queryObject,p.t=t.tag),p.h=t.hashFn(),this.sendRequest("q",p,D=>{const M=D.d,U=D.s;n.warnOnListenWarnings_(M,o),(this.listens.get(u)&&this.listens.get(u).get(f))===t&&(this.log_("listen response",D),"ok"!==U&&this.removeListen_(u,f),t.onComplete&&t.onComplete(U,M))})}static warnOnListenWarnings_(t,o){if(t&&"object"==typeof t&&(0,k.gR)(t,"w")){const u=(0,k.yw)(t,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',p=o._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,o=(0,k.Cv)(t)?"auth":"gauth",u={cred:t};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,f=>{const p=f.s,C=f.d||"error";this.authToken_===t&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const o=t.s,u=t.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(t,o){const u=t._path.toString(),f=t._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,k.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,t._queryObject,o)}sendUnlisten_(t,o,u,f){this.log_("Unlisten on "+t+" for "+o);const p={p:t};f&&(p.q=u,p.t=f),this.sendRequest("n",p)}onDisconnectPut(t,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,o,u):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:o,onComplete:u})}onDisconnectMerge(t,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,o,u):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:o,onComplete:u})}onDisconnectCancel(t,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(t,o,u,f){const p={p:o,d:u};this.log_("onDisconnect "+t,p),this.sendRequest(t,p,C=>{f&&setTimeout(()=>{f(C.s,C.d)},Math.floor(0))})}put(t,o,u,f){this.putInternal("p",t,o,u,f)}merge(t,o,u,f){this.putInternal("m",t,o,u,f)}putInternal(t,o,u,f,p){this.initConnection_();const C={p:o,d:u};void 0!==p&&(C.h=p),this.outstandingPuts_.push({action:t,request:C,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(t){const o=this.outstandingPuts_[t].action,u=this.outstandingPuts_[t].request,f=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(o,u,p=>{this.log_(o+" response",p),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(p.s,p.d)})}reportStats(t){if(this.connected_){const o={c:t};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.As)(t));const o=t.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,o){this.log_("handleServerMessage",t,o),"d"===t?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===t?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===t?this.onListenRevoked_(o.p,o.q):"ac"===t?this.onAuthRevoked_(o.s,o.d):"apc"===t?this.onAppCheckRevoked_(o.s,o.d):"sd"===t?this.onSecurityDebugPacket_(o):Hc("Unrecognized action received from server: "+(0,k.As)(t)+"\nAre you using the latest client?")}onReady_(t,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-t);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ji.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const o=t.onDataMessage_.bind(t),u=t.onReady_.bind(t),f=t.onRealtimeDisconnect_.bind(t),p=t.id+":"+n.nextConnectionId_++,C=t.lastSessionId;let D=!1,M=null;const U=function(){M?M.close():(D=!0,f())};t.realtime_={close:U,sendRequest:function(we){(0,k.vA)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(we)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[we,Le]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);D?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),t.authToken_=we&&we.accessToken,t.appCheckToken_=Le&&Le.token,M=new No(p,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,o,u,f,at=>{qn(at+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},C))}catch(we){t.log_("Failed to get token: "+we),D||(t.repoInfo_.nodeAdmin&&qn(we),U())}}})()}interrupt(t){nr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){nr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.Im)(this.interruptReasons_)&&(this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const o=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const o=this.outstandingPuts_[t];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,o){let u;u=o?o.map(p=>pm(p)).join("$"):"default";const f=this.removeListen_(t,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(t,o){const u=new Wt(t).toString();let f;if(this.listens.has(u)){const p=this.listens.get(u);f=p.get(o),p.delete(o),0===p.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(t,o){nr("Auth token revoked: "+t+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,o){nr("App check token revoked: "+t+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const o of t.values())this.sendListen_(o);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let o="js";(0,k.$g)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+o+"."+cm.replace(/\./g,"-")]=1,(0,k.jZ)()?t["framework.cordova"]=1:(0,k.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=yp.getInstance().currentlyOnline();return(0,k.Im)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(i,t){this.name=i,this.node=t}static Wrap(i,t){return new Rt(i,t)}}class ga{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,t){const o=new Rt($c,i),u=new Rt($c,t);return 0!==this.compare(o,u)}minPost(){return Rt.MIN}}class md extends ga{static get __EMPTY_NODE(){return gd}static set __EMPTY_NODE(i){gd=i}compare(i,t){return zs(i.name,t.name)}isDefinedOn(i){throw(0,k.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,t){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(Ws,gd)}makePost(i,t){return(0,k.vA)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Rt(i,gd)}toString(){return".key"}}const Ks=new md;class _d{constructor(i,t,o,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let p=1;for(;!i.isEmpty();)if(p=t?o(i.key,t):1,u&&(p*=-1),p<0)i=this.isReverse_?i.left:i.right;else{if(0===p){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,i=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Vm,Wi=(()=>{class n{constructor(t,o,u,f,p){this.key=t,this.value=o,this.color=u??n.RED,this.left=f??si.EMPTY_NODE,this.right=p??si.EMPTY_NODE}copy(t,o,u,f,p){return new n(t??this.key,o??this.value,u??this.color,f??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,u){let f=this;const p=u(t,f.key);return f=p<0?f.copy(null,null,null,f.left.insert(t,o,u),null):0===p?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(t,o,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return si.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,o){let u,f;if(u=this,o(t,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(t,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(t,u.key)){if(u.right.isEmpty())return si.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(t,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class si{constructor(i,t=si.EMPTY_NODE){this.comparator_=i,this.root_=t}insert(i,t){return new si(this.comparator_,this.root_.insert(i,t,this.comparator_).copy(null,null,Wi.BLACK,null,null))}remove(i){return new si(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Wi.BLACK,null,null))}get(i){let t,o=this.root_;for(;!o.isEmpty();){if(t=this.comparator_(i,o.key),0===t)return o.value;t<0?o=o.left:t>0&&(o=o.right)}return null}getPredecessorKey(i){let t,o=this.root_,u=null;for(;!o.isEmpty();){if(t=this.comparator_(i,o.key),0===t){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}t<0?o=o.left:t>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new _d(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,t){return new _d(this.root_,i,this.comparator_,!1,t)}getReverseIteratorFrom(i,t){return new _d(this.root_,i,this.comparator_,!0,t)}getReverseIterator(i){return new _d(this.root_,null,this.comparator_,!0,i)}}function Fm(n,i){return zs(n.name,i.name)}function Um(n,i){return zs(n,i)}si.EMPTY_NODE=new class Lm{copy(i,t,o,u,f){return this}insert(i,t,o){return new Wi(i,t,null)}remove(i,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bm=function(n){return"number"==typeof n?"number:"+gm(n):"string:"+n},Ty=function(n){if(n.isLeafNode()){const i=n.val();(0,k.vA)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,k.gR)(i,".sv"),"Priority must be a string or number.")}else(0,k.vA)(n===Vm||n.isEmpty(),"priority of unexpected type.");(0,k.vA)(n===Vm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Sy,Ry,jm,vd=(()=>{class n{constructor(t,o=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=o,this.lazyHash_=null,(0,k.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ty(this.priorityNode_)}static set __childrenNodeConstructor(t){Sy=t}static get __childrenNodeConstructor(){return Sy}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ot(t)?this:".priority"===At(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,o){return null}updateImmediateChild(t,o){return".priority"===t?this.updatePriority(o):o.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,o).updatePriority(this.priorityNode_)}updateChild(t,o){const u=At(t);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,k.vA)(".priority"!==u||1===pa(t),".priority must be the last token in a path"),this.updateImmediateChild(u,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(tn(t),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,o){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Bm(this.priorityNode_.val())+":");const o=typeof this.value_;t+=o+":",t+="number"===o?gm(this.value_):this.value_,this.lazyHash_=Lf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,k.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const o=typeof t.value_,u=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(o),p=n.VALUE_TYPE_ORDER.indexOf(u);return(0,k.vA)(f>=0,"Unknown leaf type: "+o),(0,k.vA)(p>=0,"Unknown leaf type: "+u),f===p?"object"===u?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:p-f}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const xt=new class zC extends ga{compare(i,t){const o=i.node.getPriority(),u=t.node.getPriority(),f=o.compareTo(u);return 0===f?zs(i.name,t.name):f}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,t){return!i.getPriority().equals(t.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(Ws,new vd("[PRIORITY-POST]",jm))}makePost(i,t){const o=Ry(i);return new Rt(t,new vd("[PRIORITY-POST]",o))}toString(){return".priority"}},GC=Math.log(2);class KC{constructor(i){this.count=parseInt(Math.log(i+1)/GC,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&u}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const Hm=function(n,i,t,o){n.sort(i);const u=function(D,M){const U=M-D;let $,q;if(0===U)return null;if(1===U)return $=n[D],q=t?t($):$,new Wi(q,$.node,Wi.BLACK,null,null);{const we=parseInt(U/2,10)+D,Le=u(D,we),at=u(we+1,M);return $=n[we],q=t?t($):$,new Wi(q,$.node,Wi.BLACK,Le,at)}},C=function(D){let M=null,U=null,$=n.length;const q=function(Le,at){const Nt=$-Le,Zt=$;$-=Le;const nn=u(Nt+1,Zt),dr=n[Nt],Jt=t?t(dr):dr;we(new Wi(Jt,dr.node,at,null,nn))},we=function(Le){M?(M.left=Le,M=Le):(U=Le,M=Le)};for(let Le=0;Le<D.count;++Le){const at=D.nextBitIsOne(),Nt=Math.pow(2,D.count-(Le+1));at?q(Nt,Wi.BLACK):(q(Nt,Wi.BLACK),q(Nt,Wi.RED))}return U}(new KC(n.length));return new si(o||i,C)};let Wf;const qc={};class ma{constructor(i,t){this.indexes_=i,this.indexSet_=t}static get Default(){return(0,k.vA)(qc&&xt,"ChildrenNode.ts has not been loaded"),Wf=Wf||new ma({".priority":qc},{".priority":xt}),Wf}get(i){const t=(0,k.yw)(this.indexes_,i);if(!t)throw new Error("No index defined for "+i);return t instanceof si?t:null}hasIndex(i){return(0,k.gR)(this.indexSet_,i.toString())}addIndex(i,t){(0,k.vA)(i!==Ks,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const f=t.getIterator(Rt.Wrap);let C,p=f.getNext();for(;p;)u=u||i.isDefinedOn(p.node),o.push(p),p=f.getNext();C=u?Hm(o,i.getCompare()):qc;const D=i.toString(),M=Object.assign({},this.indexSet_);M[D]=i;const U=Object.assign({},this.indexes_);return U[D]=C,new ma(U,M)}addToIndexes(i,t){const o=(0,k.kH)(this.indexes_,(u,f)=>{const p=(0,k.yw)(this.indexSet_,f);if((0,k.vA)(p,"Missing index implementation for "+f),u===qc){if(p.isDefinedOn(i.node)){const C=[],D=t.getIterator(Rt.Wrap);let M=D.getNext();for(;M;)M.name!==i.name&&C.push(M),M=D.getNext();return C.push(i),Hm(C,p.getCompare())}return qc}{const C=t.get(i.name);let D=u;return C&&(D=D.remove(new Rt(i.name,C))),D.insert(i,i.node)}});return new ma(o,this.indexSet_)}removeFromIndexes(i,t){const o=(0,k.kH)(this.indexes_,u=>{if(u===qc)return u;{const f=t.get(i.name);return f?u.remove(new Rt(i.name,f)):u}});return new ma(o,this.indexSet_)}}let zf,Dt=(()=>{class n{constructor(t,o,u){this.children_=t,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Ty(this.priorityNode_),this.children_.isEmpty()&&(0,k.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return zf||(zf=new n(new si(Um),null,ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const o=this.children_.get(t);return null===o?zf:o}}getChild(t){const o=At(t);return null===o?this:this.getImmediateChild(o).getChild(tn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,o){if((0,k.vA)(o,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(o);{const u=new Rt(t,o);let f,p;o.isEmpty()?(f=this.children_.remove(t),p=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(t,o),p=this.indexMap_.addToIndexes(u,this.children_));const C=f.isEmpty()?zf:this.priorityNode_;return new n(f,C,p)}}updateChild(t,o){const u=At(t);if(null===u)return o;{(0,k.vA)(".priority"!==At(t)||1===pa(t),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(tn(t),o);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const o={};let u=0,f=0,p=!0;if(this.forEachChild(xt,(C,D)=>{o[C]=D.val(t),u++,p&&n.INTEGER_REGEXP_.test(C)?f=Math.max(f,Number(C)):p=!1}),!t&&p&&f<2*u){const C=[];for(const D in o)C[D]=o[D];return C}return t&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Bm(this.getPriority().val())+":"),this.forEachChild(xt,(o,u)=>{const f=u.hash();""!==f&&(t+=":"+o+":"+f)}),this.lazyHash_=""===t?"":Lf(t)}return this.lazyHash_}getPredecessorChildName(t,o,u){const f=this.resolveIndex_(u);if(f){const p=f.getPredecessorKey(new Rt(t,o));return p?p.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const o=this.resolveIndex_(t);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(t){const o=this.getFirstChildName(t);return o?new Rt(o,this.children_.get(o)):null}getLastChildName(t){const o=this.resolveIndex_(t);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(t){const o=this.getLastChildName(t);return o?new Rt(o,this.children_.get(o)):null}forEachChild(t,o){const u=this.resolveIndex_(t);return u?u.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(t,f=>f);{const f=this.children_.getIteratorFrom(t.name,Rt.Wrap);let p=f.peek();for(;null!=p&&o.compare(p,t)<0;)f.getNext(),p=f.peek();return f}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(t,f=>f);{const f=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap);let p=f.peek();for(;null!=p&&o.compare(p,t)>0;)f.getNext(),p=f.peek();return f}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gf?-1:0}withIndex(t){if(t===Ks||this.indexMap_.hasIndex(t))return this;{const o=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,o)}}isIndexed(t){return t===Ks||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const o=t;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(xt),f=o.getIterator(xt);let p=u.getNext(),C=f.getNext();for(;p&&C;){if(p.name!==C.name||!p.node.equals(C.node))return!1;p=u.getNext(),C=f.getNext()}return null===p&&null===C}return!1}return!1}}resolveIndex_(t){return t===Ks?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Gf=new class Ny extends Dt{constructor(){super(new si(Um),Dt.EMPTY_NODE,ma.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Rt,{MIN:{value:new Rt($c,Dt.EMPTY_NODE)},MAX:{value:new Rt(Ws,Gf)}}),md.__EMPTY_NODE=Dt.EMPTY_NODE,vd.__childrenNodeConstructor=Dt,function $C(n){Vm=n}(Gf),function WC(n){jm=n}(Gf);const qC=!0;function _n(n,i=null){if(null===n)return Dt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(i=n[".priority"]),(0,k.vA)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vd(n,_n(i));if(n instanceof Array||!qC){let t=Dt.EMPTY_NODE;return rr(n,(o,u)=>{if((0,k.gR)(n,o)&&"."!==o.substring(0,1)){const f=_n(u);(f.isLeafNode()||!f.isEmpty())&&(t=t.updateImmediateChild(o,f))}}),t.updatePriority(_n(i))}{const t=[];let o=!1;if(rr(n,(p,C)=>{if("."!==p.substring(0,1)){const D=_n(C);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),t.push(new Rt(p,D)))}}),0===t.length)return Dt.EMPTY_NODE;const f=Hm(t,Fm,p=>p.name,Um);if(o){const p=Hm(t,xt.getCompare());return new Dt(f,_n(i),new ma({".priority":p},{".priority":xt}))}return new Dt(f,_n(i),ma.Default)}}!function My(n){Ry=n}(_n);class $m extends ga{constructor(i){super(),this.indexPath_=i,(0,k.vA)(!Ot(i)&&".priority"!==At(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,t){const o=this.extractChild(i.node),u=this.extractChild(t.node),f=o.compareTo(u);return 0===f?zs(i.name,t.name):f}makePost(i,t){const o=_n(i),u=Dt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Rt(t,u)}maxPost(){const i=Dt.EMPTY_NODE.updateChild(this.indexPath_,Gf);return new Rt(Ws,i)}toString(){return $f(this.indexPath_,0).join("/")}}const Wm=new class YC extends ga{compare(i,t){const o=i.node.compareTo(t.node);return 0===o?zs(i.name,t.name):o}isDefinedOn(i){return!0}indexedValueChanged(i,t){return!i.equals(t)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(i,t){const o=_n(i);return new Rt(t,o)}toString(){return".value"}};function Py(n){return{type:"value",snapshotNode:n}}function yd(n,i){return{type:"child_added",snapshotNode:i,childName:n}}function mi(n,i){return{type:"child_removed",snapshotNode:i,childName:n}}function Yc(n,i,t){return{type:"child_changed",snapshotNode:i,childName:n,oldSnap:t}}class Ip{constructor(i){this.index_=i}updateChild(i,t,o,u,f,p){(0,k.vA)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=i.getImmediateChild(t);return C.getChild(u).equals(o.getChild(u))&&C.isEmpty()===o.isEmpty()||(null!=p&&(o.isEmpty()?i.hasChild(t)?p.trackChildChange(mi(t,C)):(0,k.vA)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?p.trackChildChange(yd(t,o)):p.trackChildChange(Yc(t,o,C))),i.isLeafNode()&&o.isEmpty())?i:i.updateImmediateChild(t,o).withIndex(this.index_)}updateFullNode(i,t,o){return null!=o&&(i.isLeafNode()||i.forEachChild(xt,(u,f)=>{t.hasChild(u)||o.trackChildChange(mi(u,f))}),t.isLeafNode()||t.forEachChild(xt,(u,f)=>{if(i.hasChild(u)){const p=i.getImmediateChild(u);p.equals(f)||o.trackChildChange(Yc(u,f,p))}else o.trackChildChange(yd(u,f))})),t.withIndex(this.index_)}updatePriority(i,t){return i.isEmpty()?Dt.EMPTY_NODE:i.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Kf{constructor(i){this.indexedFilter_=new Ip(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Kf.getStartPost_(i),this.endPost_=Kf.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,o=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return t&&o}updateChild(i,t,o,u,f,p){return this.matches(new Rt(t,o))||(o=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(i,t,o,u,f,p)}updateFullNode(i,t,o){t.isLeafNode()&&(t=Dt.EMPTY_NODE);let u=t.withIndex(this.index_);u=u.updatePriority(Dt.EMPTY_NODE);const f=this;return t.forEachChild(xt,(p,C)=>{f.matches(new Rt(p,C))||(u=u.updateImmediateChild(p,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,u,o)}updatePriority(i,t){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const t=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),t)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const t=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),t)}return i.getIndex().maxPost()}}class Oy{constructor(i){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=t=>{const o=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Kf(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,t,o,u,f,p){return this.rangedFilter_.matches(new Rt(t,o))||(o=Dt.EMPTY_NODE),i.getImmediateChild(t).equals(o)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,t,o,u,f,p):this.fullLimitUpdateChild_(i,t,o,f,p)}updateFullNode(i,t,o){let u;if(t.isLeafNode()||t.isEmpty())u=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let f;u=Dt.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;f.hasNext()&&p<this.limit_;){const C=f.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;u=u.updateImmediateChild(C.name,C.node),p++}}}else{let f;u=t.withIndex(this.index_),u=u.updatePriority(Dt.EMPTY_NODE),f=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let p=0;for(;f.hasNext();){const C=f.getNext();p<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?p++:u=u.updateImmediateChild(C.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,u,o)}updatePriority(i,t){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,t,o,u,f){let p;if(this.reverse_){const $=this.index_.getCompare();p=(q,we)=>$(we,q)}else p=this.index_.getCompare();const C=i;(0,k.vA)(C.numChildren()===this.limit_,"");const D=new Rt(t,o),M=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),U=this.rangedFilter_.matches(D);if(C.hasChild(t)){const $=C.getImmediateChild(t);let q=u.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=q&&(q.name===t||C.hasChild(q.name));)q=u.getChildAfterChild(this.index_,q,this.reverse_);const we=null==q?1:p(q,D);if(U&&!o.isEmpty()&&we>=0)return f?.trackChildChange(Yc(t,o,$)),C.updateImmediateChild(t,o);{f?.trackChildChange(mi(t,$));const at=C.updateImmediateChild(t,Dt.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(f?.trackChildChange(yd(q.name,q.node)),at.updateImmediateChild(q.name,q.node)):at}}return o.isEmpty()?i:U&&p(M,D)>=0?(null!=f&&(f.trackChildChange(mi(M.name,M.node)),f.trackChildChange(yd(t,o))),C.updateImmediateChild(t,o).updateImmediateChild(M.name,Dt.EMPTY_NODE)):i}}class qf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=xt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$c}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===xt}copy(){const i=new qf;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function wp(n,i,t){const o=n.copy();return o.startSet_=!0,void 0===i&&(i=null),o.indexStartValue_=i,null!=t?(o.startNameSet_=!0,o.indexStartName_=t):(o.startNameSet_=!1,o.indexStartName_=""),o}function Dp(n,i,t){const o=n.copy();return o.endSet_=!0,void 0===i&&(i=null),o.indexEndValue_=i,void 0!==t?(o.endNameSet_=!0,o.indexEndName_=t):(o.endNameSet_=!1,o.indexEndName_=""),o}function Ed(n,i){const t=n.copy();return t.index_=i,t}function Po(n){const i={};if(n.isDefault())return i;let t;if(n.index_===xt?t="$priority":n.index_===Wm?t="$value":n.index_===Ks?t="$key":((0,k.vA)(n.index_ instanceof $m,"Unrecognized index type!"),t=n.index_.toString()),i.orderBy=(0,k.As)(t),n.startSet_){const o=n.startAfterSet_?"startAfter":"startAt";i[o]=(0,k.As)(n.indexStartValue_),n.startNameSet_&&(i[o]+=","+(0,k.As)(n.indexStartName_))}if(n.endSet_){const o=n.endBeforeSet_?"endBefore":"endAt";i[o]=(0,k.As)(n.indexEndValue_),n.endNameSet_&&(i[o]+=","+(0,k.As)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?i.limitToFirst=n.limit_:i.limitToLast=n.limit_),i}function Ly(n){const i={};if(n.startSet_&&(i.sp=n.indexStartValue_,n.startNameSet_&&(i.sn=n.indexStartName_),i.sin=!n.startAfterSet_),n.endSet_&&(i.ep=n.indexEndValue_,n.endNameSet_&&(i.en=n.indexEndName_),i.ein=!n.endBeforeSet_),n.limitSet_){i.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),i.vf=t}return n.index_!==xt&&(i.i=n.index_.toString()),i}class bp extends Gc{constructor(i,t,o,u){super(),this.repoInfo_=i,this.onDataUpdate_=t,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=jc("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,t){return void 0!==t?"tag$"+t:((0,k.vA)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,t,o,u){const f=i._path.toString();this.log_("Listen called for "+f+" "+i._queryIdentifier);const p=bp.getListenId_(i,o),C={};this.listens_[p]=C;const D=Po(i._queryParams);this.restRequest_(f+".json",D,(M,U)=>{let $=U;if(404===M&&($=null,M=null),null===M&&this.onDataUpdate_(f,$,!1,o),(0,k.yw)(this.listens_,p)===C){let q;q=M?401===M?"permission_denied":"rest_error:"+M:"ok",u(q,null)}})}unlisten(i,t){const o=bp.getListenId_(i,t);delete this.listens_[o]}get(i){const t=Po(i._queryParams),o=i._path.toString(),u=new k.cY;return this.restRequest_(o+".json",t,(f,p)=>{let C=p;404===f&&(C=null,f=null),null===f?(this.onDataUpdate_(o,C,!1,null),u.resolve(C)):u.reject(new Error(C))}),u.promise}refreshAuthToken(i){}restRequest_(i,t={},o){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(t.auth=u.accessToken),f&&f.token&&(t.ac=f.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,k.Am)(t);this.log_("Sending REST request for "+p);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+p+" received. status:",C.status,"response:",C.responseText);let D=null;if(C.status>=200&&C.status<300){try{D=(0,k.$L)(C.responseText)}catch{qn("Failed to parse JSON response for "+p+": "+C.responseText)}o(null,D)}else 401!==C.status&&404!==C.status&&qn("Got unsuccessful REST response for "+p+" Status: "+C.status),o(C.status);o=null}},C.open("GET",p,!0),C.send()})}}class Gm{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,t){this.rootNode_=this.rootNode_.updateChild(i,t)}}function Ap(){return{value:null,children:new Map}}function Qc(n,i,t){if(Ot(i))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(i,t);else{const o=At(i);n.children.has(o)||n.children.set(o,Ap()),Qc(n.children.get(o),i=tn(i),t)}}function Km(n,i){if(Ot(i))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(xt,(o,u)=>{Qc(n,new Wt(o),u)}),Km(n,i)}}if(n.children.size>0){const t=At(i);return i=tn(i),n.children.has(t)&&Km(n.children.get(t),i)&&n.children.delete(t),0===n.children.size}return!0}function Id(n,i,t){null!==n.value?t(i,n.value):function Yf(n,i){n.children.forEach((t,o)=>{i(o,t)})}(n,(o,u)=>{Id(u,new Wt(i.toString()+"/"+o),t)})}class Fy{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),t=Object.assign({},i);return this.last_&&rr(this.last_,(o,u)=>{t[o]=t[o]-u}),this.last_=i,t}}class Uy{constructor(i,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Fy(i);const o=1e4+2e4*Math.random();hu(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const i=this.statsListener_.get(),t={};let o=!1;rr(i,(u,f)=>{f>0&&(0,k.gR)(this.statsToReport_,u)&&(t[u]=f,o=!0)}),o&&this.server_.reportStats(t),hu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qs=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(qs||{});function Tp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Xf{constructor(i,t,o){this.path=i,this.affectedTree=t,this.revert=o,this.type=qs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,k.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wt(i));return new Xf(Ft(),t,this.revert)}}return(0,k.vA)(At(this.path)===i,"operationForChild called for unrelated child."),new Xf(tn(this.path),this.affectedTree,this.revert)}}class _a{constructor(i,t){this.source=i,this.path=t,this.type=qs.LISTEN_COMPLETE}operationForChild(i){return Ot(this.path)?new _a(this.source,Ft()):new _a(this.source,tn(this.path))}}class Xc{constructor(i,t,o){this.source=i,this.path=t,this.snap=o,this.type=qs.OVERWRITE}operationForChild(i){return Ot(this.path)?new Xc(this.source,Ft(),this.snap.getImmediateChild(i)):new Xc(this.source,tn(this.path),this.snap)}}class Zc{constructor(i,t,o){this.source=i,this.path=t,this.children=o,this.type=qs.MERGE}operationForChild(i){if(Ot(this.path)){const t=this.children.subtree(new Wt(i));return t.isEmpty()?null:t.value?new Xc(this.source,Ft(),t.value):new Zc(this.source,Ft(),t)}return(0,k.vA)(At(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Zc(this.source,tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class va{constructor(i,t,o){this.node_=i,this.fullyInitialized_=t,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Ot(i))return this.isFullyInitialized()&&!this.filtered_;const t=At(i);return this.isCompleteForChild(t)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ZC{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ya(n,i,t,o,u,f){const p=o.filter(C=>C.type===t);p.sort((C,D)=>function t0(n,i,t){if(null==i.childName||null==t.childName)throw(0,k.Hk)("Should only compare child_ events.");const o=new Rt(i.childName,i.snapshotNode),u=new Rt(t.childName,t.snapshotNode);return n.index_.compare(o,u)}(n,C,D)),p.forEach(C=>{const D=function e0(n,i,t){return"value"===i.type||"child_removed"===i.type||(i.prevName=t.getPredecessorChildName(i.childName,i.snapshotNode,n.index_)),i}(n,C,f);u.forEach(M=>{M.respondsTo(C.type)&&i.push(M.createEvent(D,n.query_))})})}function Sp(n,i){return{eventCache:n,serverCache:i}}function Zf(n,i,t,o){return Sp(new va(i,t,o),n.serverCache)}function Vy(n,i,t,o){return Sp(n.eventCache,new va(i,t,o))}function Rp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jc(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Qm;class sn{constructor(i,t=(()=>(Qm||(Qm=new si(DC)),Qm))()){this.value=i,this.children=t}static fromObject(i){let t=new sn(null);return rr(i,(o,u)=>{t=t.set(new Wt(o),u)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,t){if(null!=this.value&&t(this.value))return{path:Ft(),value:this.value};if(Ot(i))return null;{const o=At(i),u=this.children.get(o);if(null!==u){const f=u.findRootMostMatchingPathAndValue(tn(i),t);return null!=f?{path:mn(new Wt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Ot(i))return this;{const t=At(i),o=this.children.get(t);return null!==o?o.subtree(tn(i)):new sn(null)}}set(i,t){if(Ot(i))return new sn(t,this.children);{const o=At(i),f=(this.children.get(o)||new sn(null)).set(tn(i),t),p=this.children.insert(o,f);return new sn(this.value,p)}}remove(i){if(Ot(i))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const t=At(i),o=this.children.get(t);if(o){const u=o.remove(tn(i));let f;return f=u.isEmpty()?this.children.remove(t):this.children.insert(t,u),null===this.value&&f.isEmpty()?new sn(null):new sn(this.value,f)}return this}}get(i){if(Ot(i))return this.value;{const t=At(i),o=this.children.get(t);return o?o.get(tn(i)):null}}setTree(i,t){if(Ot(i))return t;{const o=At(i),f=(this.children.get(o)||new sn(null)).setTree(tn(i),t);let p;return p=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new sn(this.value,p)}}fold(i){return this.fold_(Ft(),i)}fold_(i,t){const o={};return this.children.inorderTraversal((u,f)=>{o[u]=f.fold_(mn(i,u),t)}),t(i,this.value,o)}findOnPath(i,t){return this.findOnPath_(i,Ft(),t)}findOnPath_(i,t,o){const u=!!this.value&&o(t,this.value);if(u)return u;if(Ot(i))return null;{const f=At(i),p=this.children.get(f);return p?p.findOnPath_(tn(i),mn(t,f),o):null}}foreachOnPath(i,t){return this.foreachOnPath_(i,Ft(),t)}foreachOnPath_(i,t,o){if(Ot(i))return this;{this.value&&o(t,this.value);const u=At(i),f=this.children.get(u);return f?f.foreachOnPath_(tn(i),mn(t,u),o):new sn(null)}}foreach(i){this.foreach_(Ft(),i)}foreach_(i,t){this.children.inorderTraversal((o,u)=>{u.foreach_(mn(i,o),t)}),this.value&&t(i,this.value)}foreachChild(i){this.children.inorderTraversal((t,o)=>{o.value&&i(t,o.value)})}}class Ys{constructor(i){this.writeTree_=i}static empty(){return new Ys(new sn(null))}}function gu(n,i,t){if(Ot(i))return new Ys(new sn(t));{const o=n.writeTree_.findRootMostValueAndPath(i);if(null!=o){const u=o.path;let f=o.value;const p=ii(u,i);return f=f.updateChild(p,t),new Ys(n.writeTree_.set(u,f))}{const u=new sn(t),f=n.writeTree_.setTree(i,u);return new Ys(f)}}}function Xm(n,i,t){let o=n;return rr(t,(u,f)=>{o=gu(o,mn(i,u),f)}),o}function jy(n,i){if(Ot(i))return Ys.empty();{const t=n.writeTree_.setTree(i,new sn(null));return new Ys(t)}}function Zm(n,i){return null!=el(n,i)}function el(n,i){const t=n.writeTree_.findRootMostValueAndPath(i);return null!=t?n.writeTree_.get(t.path).getChild(ii(t.path,i)):null}function Hy(n){const i=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(xt,(o,u)=>{i.push(new Rt(o,u))}):n.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&i.push(new Rt(o,u.value))}),i}function mu(n,i){if(Ot(i))return n;{const t=el(n,i);return new Ys(null!=t?new sn(t):n.writeTree_.subtree(i))}}function Jm(n){return n.writeTree_.isEmpty()}function tl(n,i){return e_(Ft(),n.writeTree_,i)}function e_(n,i,t){if(null!=i.value)return t.updateChild(n,i.value);{let o=null;return i.children.inorderTraversal((u,f)=>{".priority"===u?((0,k.vA)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):t=e_(mn(n,u),f,t)}),!t.getChild(n).isEmpty()&&null!==o&&(t=t.updateChild(mn(n,".priority"),o)),t}}function Mp(n,i){return sl(i,n)}function Np(n,i){if(n.snap)return $i(n.path,i);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$i(mn(n.path,t),i))return!0;return!1}function r0(n){return n.visible}function Pp(n,i,t){let o=Ys.empty();for(let u=0;u<n.length;++u){const f=n[u];if(i(f)){const p=f.path;let C;if(f.snap)$i(t,p)?(C=ii(t,p),o=gu(o,C,f.snap)):$i(p,t)&&(C=ii(p,t),o=gu(o,Ft(),f.snap.getChild(C)));else{if(!f.children)throw(0,k.Hk)("WriteRecord should have .snap or .children");if($i(t,p))C=ii(t,p),o=Xm(o,C,f.children);else if($i(p,t))if(C=ii(p,t),Ot(C))o=Xm(o,Ft(),f.children);else{const D=(0,k.yw)(f.children,At(C));if(D){const M=D.getChild(tn(C));o=gu(o,Ft(),M)}}}}}return o}function zy(n,i,t,o,u){if(o||u){const f=mu(n.visibleWrites,i);return!u&&Jm(f)?t:u||null!=t||Zm(f,Ft())?tl(Pp(n.allWrites,function(M){return(M.visible||u)&&(!o||!~o.indexOf(M.writeId))&&($i(M.path,i)||$i(i,M.path))},i),t||Dt.EMPTY_NODE):null}{const f=el(n.visibleWrites,i);if(null!=f)return f;{const p=mu(n.visibleWrites,i);return Jm(p)?t:null!=t||Zm(p,Ft())?tl(p,t||Dt.EMPTY_NODE):null}}}function Cd(n,i,t,o){return zy(n.writeTree,n.treePath,i,t,o)}function _u(n,i){return function Oo(n,i,t){let o=Dt.EMPTY_NODE;const u=el(n.visibleWrites,i);if(u)return u.isLeafNode()||u.forEachChild(xt,(f,p)=>{o=o.updateImmediateChild(f,p)}),o;if(t){const f=mu(n.visibleWrites,i);return t.forEachChild(xt,(p,C)=>{const D=tl(mu(f,new Wt(p)),C);o=o.updateImmediateChild(p,D)}),Hy(f).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}return Hy(mu(n.visibleWrites,i)).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}(n.writeTree,n.treePath,i)}function rl(n,i,t,o){return function Jf(n,i,t,o,u){(0,k.vA)(o||u,"Either existingEventSnap or existingServerSnap must exist");const f=mn(i,t);if(Zm(n.visibleWrites,f))return null;{const p=mu(n.visibleWrites,f);return Jm(p)?u.getChild(t):tl(p,u.getChild(t))}}(n.writeTree,n.treePath,i,t,o)}function Ea(n,i){return function nl(n,i){return el(n.visibleWrites,i)}(n.writeTree,mn(n.treePath,i))}function vu(n,i,t){return function Kr(n,i,t,o){const u=mn(i,t),f=el(n.visibleWrites,u);return null!=f?f:o.isCompleteForChild(t)?tl(mu(n.visibleWrites,u),o.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,i,t)}function il(n,i){return sl(mn(n.treePath,i),n.writeTree)}function sl(n,i){return{treePath:n,writeTree:i}}class Dd{constructor(){this.changeMap=new Map}trackChildChange(i){const t=i.type,o=i.childName;(0,k.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,k.vA)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const f=u.type;if("child_added"===t&&"child_removed"===f)this.changeMap.set(o,Yc(o,i.snapshotNode,u.snapshotNode));else if("child_removed"===t&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===t&&"child_changed"===f)this.changeMap.set(o,mi(o,u.oldSnap));else if("child_changed"===t&&"child_added"===f)this.changeMap.set(o,yd(o,i.snapshotNode));else{if("child_changed"!==t||"child_changed"!==f)throw(0,k.Hk)("Illegal combination of changes: "+i+" occurred after "+u);this.changeMap.set(o,Yc(o,i.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,i)}getChanges(){return Array.from(this.changeMap.values())}}const t_=new class bd{getCompleteChild(i){return null}getChildAfterChild(i,t,o){return null}};class xp{constructor(i,t,o=null){this.writes_=i,this.viewCache_=t,this.optCompleteServerCache_=o}getCompleteChild(i){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(i))return t.getNode().getImmediateChild(i);{const o=null!=this.optCompleteServerCache_?new va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vu(this.writes_,i,o)}}getChildAfterChild(i,t,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jc(this.viewCache_),f=function wd(n,i,t,o,u,f){return function Op(n,i,t,o,u,f,p){let C;const D=mu(n.visibleWrites,i),M=el(D,Ft());if(null!=M)C=M;else{if(null==t)return[];C=tl(D,t)}if(C=C.withIndex(p),C.isEmpty()||C.isLeafNode())return[];{const U=[],$=p.getCompare(),q=f?C.getReverseIteratorFrom(o,p):C.getIteratorFrom(o,p);let we=q.getNext();for(;we&&U.length<u;)0!==$(we,o)&&U.push(we),we=q.getNext();return U}}(n.writeTree,n.treePath,i,t,o,u,f)}(this.writes_,u,t,1,o,i);return 0===f.length?null:f[0]}}function n_(n,i,t,o,u,f){const p=i.eventCache;if(null!=Ea(o,t))return i;{let C,D;if(Ot(t))if((0,k.vA)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const M=Jc(i),$=_u(o,M instanceof Dt?M:Dt.EMPTY_NODE);C=n.filter.updateFullNode(i.eventCache.getNode(),$,f)}else{const M=Cd(o,Jc(i));C=n.filter.updateFullNode(i.eventCache.getNode(),M,f)}else{const M=At(t);if(".priority"===M){(0,k.vA)(1===pa(t),"Can't have a priority with additional path components");const U=p.getNode();D=i.serverCache.getNode();const $=rl(o,t,U,D);C=null!=$?n.filter.updatePriority(U,$):p.getNode()}else{const U=tn(t);let $;if(p.isCompleteForChild(M)){D=i.serverCache.getNode();const q=rl(o,t,p.getNode(),D);$=null!=q?p.getNode().getImmediateChild(M).updateChild(U,q):p.getNode().getImmediateChild(M)}else $=vu(o,M,i.serverCache);C=null!=$?n.filter.updateChild(p.getNode(),M,$,U,u,f):p.getNode()}}return Zf(i,C,p.isFullyInitialized()||Ot(t),n.filter.filtersNodes())}}function eh(n,i,t,o,u,f,p,C){const D=i.serverCache;let M;const U=p?n.filter:n.filter.getIndexedFilter();if(Ot(t))M=U.updateFullNode(D.getNode(),o,null);else if(U.filtersNodes()&&!D.isFiltered()){const we=D.getNode().updateChild(t,o);M=U.updateFullNode(D.getNode(),we,null)}else{const we=At(t);if(!D.isCompleteForPath(t)&&pa(t)>1)return i;const Le=tn(t),Nt=D.getNode().getImmediateChild(we).updateChild(Le,o);M=".priority"===we?U.updatePriority(D.getNode(),Nt):U.updateChild(D.getNode(),we,Nt,Le,t_,null)}const $=Vy(i,M,D.isFullyInitialized()||Ot(t),U.filtersNodes());return n_(n,$,t,u,new xp(u,$,f),C)}function kp(n,i,t,o,u,f,p){const C=i.eventCache;let D,M;const U=new xp(u,i,f);if(Ot(t))M=n.filter.updateFullNode(i.eventCache.getNode(),o,p),D=Zf(i,M,!0,n.filter.filtersNodes());else{const $=At(t);if(".priority"===$)M=n.filter.updatePriority(i.eventCache.getNode(),o),D=Zf(i,M,C.isFullyInitialized(),C.isFiltered());else{const q=tn(t),we=C.getNode().getImmediateChild($);let Le;if(Ot(q))Le=o;else{const at=U.getCompleteChild($);Le=null!=at?".priority"===Pm(q)&&at.getChild(Iy(q)).isEmpty()?at:at.updateChild(q,o):Dt.EMPTY_NODE}D=we.equals(Le)?i:Zf(i,n.filter.updateChild(C.getNode(),$,Le,q,U,p),C.isFullyInitialized(),n.filter.filtersNodes())}}return D}function Lp(n,i){return n.eventCache.isCompleteForChild(i)}function o0(n,i,t){return t.foreach((o,u)=>{i=i.updateChild(o,u)}),i}function Qy(n,i,t,o,u,f,p,C){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let M,D=i;M=Ot(t)?o:new sn(null).setTree(t,o);const U=i.serverCache.getNode();return M.children.inorderTraversal(($,q)=>{if(U.hasChild($)){const Le=o0(0,i.serverCache.getNode().getImmediateChild($),q);D=eh(n,D,new Wt($),Le,u,f,p,C)}}),M.children.inorderTraversal(($,q)=>{const we=!i.serverCache.isCompleteForChild($)&&null===q.value;if(!U.hasChild($)&&!we){const at=o0(0,i.serverCache.getNode().getImmediateChild($),q);D=eh(n,D,new Wt($),at,u,f,p,C)}}),D}class c0{constructor(i,t){this.query_=i,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Ip(o.getIndex()),f=function Cp(n){return n.loadsAllData()?new Ip(n.getIndex()):n.hasLimit()?new Oy(n):new Kf(n)}(o);this.processor_=function Gy(n){return{filter:n}}(f);const p=t.serverCache,C=t.eventCache,D=u.updateFullNode(Dt.EMPTY_NODE,p.getNode(),null),M=f.updateFullNode(Dt.EMPTY_NODE,C.getNode(),null),U=new va(D,p.isFullyInitialized(),u.filtersNodes()),$=new va(M,C.isFullyInitialized(),f.filtersNodes());this.viewCache_=Sp($,U),this.eventGenerator_=new ZC(this.query_)}get query(){return this.query_}}function d0(n,i){const t=Jc(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ot(i)&&!t.getImmediateChild(At(i)).isEmpty())?t.getChild(i):null}function Xy(n){return 0===n.eventRegistrations_.length}function Ad(n,i,t){const o=[];if(t){(0,k.vA)(null==i,"A cancel should cancel all event registrations.");const u=n.query._path;n.eventRegistrations_.forEach(f=>{const p=f.createCancelEvent(t,u);p&&o.push(p)})}if(i){let u=[];for(let f=0;f<n.eventRegistrations_.length;++f){const p=n.eventRegistrations_[f];if(p.matches(i)){if(i.hasAnyCallback()){u=u.concat(n.eventRegistrations_.slice(f+1));break}}else u.push(p)}n.eventRegistrations_=u}else n.eventRegistrations_=[];return o}function Fp(n,i,t,o){i.type===qs.MERGE&&null!==i.source.queryId&&((0,k.vA)(Jc(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.vA)(Rp(n.viewCache_),"Missing event cache, even though we have a server cache"));const u=n.viewCache_,f=function qy(n,i,t,o,u){const f=new Dd;let p,C;if(t.type===qs.OVERWRITE){const M=t;M.source.fromUser?p=kp(n,i,M.path,M.snap,o,u,f):((0,k.vA)(M.source.fromServer,"Unknown source."),C=M.source.tagged||i.serverCache.isFiltered()&&!Ot(M.path),p=eh(n,i,M.path,M.snap,o,u,C,f))}else if(t.type===qs.MERGE){const M=t;M.source.fromUser?p=function s0(n,i,t,o,u,f,p){let C=i;return o.foreach((D,M)=>{const U=mn(t,D);Lp(i,At(U))&&(C=kp(n,C,U,M,u,f,p))}),o.foreach((D,M)=>{const U=mn(t,D);Lp(i,At(U))||(C=kp(n,C,U,M,u,f,p))}),C}(n,i,M.path,M.children,o,u,f):((0,k.vA)(M.source.fromServer,"Unknown source."),C=M.source.tagged||i.serverCache.isFiltered(),p=Qy(n,i,M.path,M.children,o,u,C,f))}else if(t.type===qs.ACK_USER_WRITE){const M=t;p=M.revert?function OD(n,i,t,o,u,f){let p;if(null!=Ea(o,t))return i;{const C=new xp(o,i,u),D=i.eventCache.getNode();let M;if(Ot(t)||".priority"===At(t)){let U;if(i.serverCache.isFullyInitialized())U=Cd(o,Jc(i));else{const $=i.serverCache.getNode();(0,k.vA)($ instanceof Dt,"serverChildren would be complete if leaf node"),U=_u(o,$)}M=n.filter.updateFullNode(D,U,f)}else{const U=At(t);let $=vu(o,U,i.serverCache);null==$&&i.serverCache.isCompleteForChild(U)&&($=D.getImmediateChild(U)),M=null!=$?n.filter.updateChild(D,U,$,tn(t),C,f):i.eventCache.getNode().hasChild(U)?n.filter.updateChild(D,U,Dt.EMPTY_NODE,tn(t),C,f):D,M.isEmpty()&&i.serverCache.isFullyInitialized()&&(p=Cd(o,Jc(i)),p.isLeafNode()&&(M=n.filter.updateFullNode(M,p,f)))}return p=i.serverCache.isFullyInitialized()||null!=Ea(o,Ft()),Zf(i,M,p,n.filter.filtersNodes())}}(n,i,M.path,o,u,f):function a0(n,i,t,o,u,f,p){if(null!=Ea(u,t))return i;const C=i.serverCache.isFiltered(),D=i.serverCache;if(null!=o.value){if(Ot(t)&&D.isFullyInitialized()||D.isCompleteForPath(t))return eh(n,i,t,D.getNode().getChild(t),u,f,C,p);if(Ot(t)){let M=new sn(null);return D.getNode().forEachChild(Ks,(U,$)=>{M=M.set(new Wt(U),$)}),Qy(n,i,t,M,u,f,C,p)}return i}{let M=new sn(null);return o.foreach((U,$)=>{const q=mn(t,U);D.isCompleteForPath(q)&&(M=M.set(U,D.getNode().getChild(q)))}),Qy(n,i,t,M,u,f,C,p)}}(n,i,M.path,M.affectedTree,o,u,f)}else{if(t.type!==qs.LISTEN_COMPLETE)throw(0,k.Hk)("Unknown operation type: "+t.type);p=function u0(n,i,t,o,u){const f=i.serverCache;return n_(n,Vy(i,f.getNode(),f.isFullyInitialized()||Ot(t),f.isFiltered()),t,o,t_,u)}(n,i,t.path,o,f)}const D=f.getChanges();return function Yy(n,i,t){const o=i.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=Rp(n);(t.length>0||!n.eventCache.isFullyInitialized()||u&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&t.push(Py(Rp(i)))}}(i,p,D),{viewCache:p,changes:D}}(n.processor_,u,i,t,o);return function Ky(n,i){(0,k.vA)(i.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.vA)(i.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,k.vA)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,i_(n,f.changes,f.viewCache.eventCache.getNode(),null)}function i_(n,i,t,o){return function JC(n,i,t,o){const u=[],f=[];return i.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&f.push(function QC(n,i){return{type:"child_moved",snapshotNode:i,childName:n}}(p.childName,p.snapshotNode))}),ya(n,u,"child_removed",i,o,t),ya(n,u,"child_added",i,o,t),ya(n,u,"child_moved",f,o,t),ya(n,u,"child_changed",i,o,t),ya(n,u,"value",i,o,t),u}(n.eventGenerator_,i,t,o?[o]:n.eventRegistrations_)}let yu,Vp;class s_{constructor(){this.views=new Map}}function o_(n,i,t,o){const u=i.source.queryId;if(null!==u){const f=n.views.get(u);return(0,k.vA)(null!=f,"SyncTree gave us an op for an invalid query."),Fp(f,i,t,o)}{let f=[];for(const p of n.views.values())f=f.concat(Fp(p,i,t,o));return f}}function Zy(n,i,t,o,u){const p=n.views.get(i._queryIdentifier);if(!p){let C=Cd(t,u?o:null),D=!1;C?D=!0:o instanceof Dt?(C=_u(t,o),D=!1):(C=Dt.EMPTY_NODE,D=!1);const M=Sp(new va(C,D,!1),new va(o,u,!1));return new c0(i,M)}return p}function nh(n){const i=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||i.push(t);return i}function Qs(n,i){let t=null;for(const o of n.views.values())t=t||d0(o,i);return t}function g0(n,i){return i._queryParams.loadsAllData()?Td(n):n.views.get(i._queryIdentifier)}function Jy(n,i){return null!=g0(n,i)}function Eu(n){return null!=Td(n)}function Td(n){for(const i of n.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let _0=1;class u_{constructor(i){this.listenProvider_=i,this.syncPointTree_=new sn(null),this.pendingWriteTree_=function fs(){return{visibleWrites:Ys.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bp(n,i,t,o,u){return function ND(n,i,t,o,u){(0,k.vA)(o>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),n.allWrites.push({path:i,snap:t,writeId:o,visible:u}),u&&(n.visibleWrites=gu(n.visibleWrites,i,t)),n.lastWriteId=o}(n.pendingWriteTree_,i,t,o,u),u?Nd(n,new Xc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,t)):[]}function Iu(n,i,t=!1){const o=function Wy(n,i){for(let t=0;t<n.allWrites.length;t++){const o=n.allWrites[t];if(o.writeId===i)return o}return null}(n.pendingWriteTree_,i);if(function PD(n,i){const t=n.allWrites.findIndex(C=>C.writeId===i);(0,k.vA)(t>=0,"removeWrite called with nonexistent writeId.");const o=n.allWrites[t];n.allWrites.splice(t,1);let u=o.visible,f=!1,p=n.allWrites.length-1;for(;u&&p>=0;){const C=n.allWrites[p];C.visible&&(p>=t&&Np(C,o.path)?u=!1:$i(o.path,C.path)&&(f=!0)),p--}return!!u&&(f?(function n0(n){n.visibleWrites=Pp(n.allWrites,r0,Ft()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(o.snap?n.visibleWrites=jy(n.visibleWrites,o.path):rr(o.children,D=>{n.visibleWrites=jy(n.visibleWrites,mn(o.path,D))}),!0))}(n.pendingWriteTree_,i)){let f=new sn(null);return null!=o.snap?f=f.set(Ft(),!0):rr(o.children,p=>{f=f.set(new Wt(p),!0)}),Nd(n,new Xf(o.path,f,t))}return[]}function rh(n,i,t){return Nd(n,new Xc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,t))}function Sd(n,i,t,o,u=!1){const f=i._path,p=n.syncPointTree_.get(f);let C=[];if(p&&("default"===i._queryIdentifier||Jy(p,i))){const D=function a_(n,i,t,o){const u=i._queryIdentifier,f=[];let p=[];const C=Eu(n);if("default"===u)for(const[D,M]of n.views.entries())p=p.concat(Ad(M,t,o)),Xy(M)&&(n.views.delete(D),M.query._queryParams.loadsAllData()||f.push(M.query));else{const D=n.views.get(u);D&&(p=p.concat(Ad(D,t,o)),Xy(D)&&(n.views.delete(u),D.query._queryParams.loadsAllData()||f.push(D.query)))}return C&&!Eu(n)&&f.push(new(function th(){return(0,k.vA)(yu,"Reference.ts has not been loaded"),yu}())(i._repo,i._path)),{removed:f,events:p}}(p,i,t,o);(function h0(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(f));const M=D.removed;if(C=D.events,!u){const U=-1!==M.findIndex(q=>q._queryParams.loadsAllData()),$=n.syncPointTree_.findOnPath(f,(q,we)=>Eu(we));if(U&&!$){const q=n.syncPointTree_.subtree(f);if(!q.isEmpty()){const we=function E0(n){return n.fold((i,t,o)=>{if(t&&Eu(t))return[Td(t)];{let u=[];return t&&(u=nh(t)),rr(o,(f,p)=>{u=u.concat(p)}),u}})}(q);for(let Le=0;Le<we.length;++Le){const at=we[Le],Nt=at.query,Zt=Hp(n,at);n.listenProvider_.startListening(al(Nt),ol(n,Nt),Zt.hashFn,Zt.onComplete)}}}!$&&M.length>0&&!o&&(U?n.listenProvider_.stopListening(al(i),null):M.forEach(q=>{const we=n.queryToTagMap.get(ih(q));n.listenProvider_.stopListening(al(q),we)}))}!function oE(n,i){for(let t=0;t<i.length;++t){const o=i[t];if(!o._queryParams.loadsAllData()){const u=ih(o),f=n.queryToTagMap.get(u);n.queryToTagMap.delete(u),n.tagToQueryMap.delete(f)}}}(n,M)}return C}function nE(n,i,t,o){const u=$p(n,o);if(null!=u){const f=l_(u),p=f.path,C=f.queryId,D=ii(p,i);return d_(n,p,new Xc(Tp(C),D,t))}return[]}function Rd(n,i,t,o=!1){const u=i._path;let f=null,p=!1;n.syncPointTree_.foreachOnPath(u,(q,we)=>{const Le=ii(q,u);f=f||Qs(we,Le),p=p||Eu(we)});let D,C=n.syncPointTree_.get(u);C?(p=p||Eu(C),f=f||Qs(C,Ft())):(C=new s_,n.syncPointTree_=n.syncPointTree_.set(u,C)),null!=f?D=!0:(D=!1,f=Dt.EMPTY_NODE,n.syncPointTree_.subtree(u).foreachChild((we,Le)=>{const at=Qs(Le,Ft());at&&(f=f.updateImmediateChild(we,at))}));const M=Jy(C,i);if(!M&&!i._queryParams.loadsAllData()){const q=ih(i);(0,k.vA)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const we=function f_(){return _0++}();n.queryToTagMap.set(q,we),n.tagToQueryMap.set(we,q)}let $=function p0(n,i,t,o,u,f){const p=Zy(n,i,o,u,f);return n.views.has(i._queryIdentifier)||n.views.set(i._queryIdentifier,p),function r_(n,i){n.eventRegistrations_.push(i)}(p,t),function Up(n,i){const t=n.viewCache_.eventCache,o=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(xt,(f,p)=>{o.push(yd(f,p))}),t.isFullyInitialized()&&o.push(Py(t.getNode())),i_(n,o,t.getNode(),i)}(p,t)}(C,i,t,Mp(n.pendingWriteTree_,u),f,D);if(!M&&!p&&!o){const q=g0(C,i);$=$.concat(function aE(n,i,t){const o=i._path,u=ol(n,i),f=Hp(n,t),p=n.listenProvider_.startListening(al(i),u,f.hashFn,f.onComplete),C=n.syncPointTree_.subtree(o);if(u)(0,k.vA)(!Eu(C.value),"If we're adding a query, it shouldn't be shadowed");else{const D=C.fold((M,U,$)=>{if(!Ot(M)&&U&&Eu(U))return[Td(U).query];{let q=[];return U&&(q=q.concat(nh(U).map(we=>we.query))),rr($,(we,Le)=>{q=q.concat(Le)}),q}});for(let M=0;M<D.length;++M){const U=D[M];n.listenProvider_.stopListening(al(U),ol(n,U))}}return p}(n,i,q))}return $}function Md(n,i,t){const u=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(i,(p,C)=>{const M=Qs(C,ii(p,i));if(M)return M});return zy(u,i,f,t,!0)}function Nd(n,i){return iE(i,n.syncPointTree_,null,Mp(n.pendingWriteTree_,Ft()))}function iE(n,i,t,o){if(Ot(n.path))return sE(n,i,t,o);{const u=i.get(Ft());null==t&&null!=u&&(t=Qs(u,Ft()));let f=[];const p=At(n.path),C=n.operationForChild(p),D=i.children.get(p);if(D&&C){const M=t?t.getImmediateChild(p):null,U=il(o,p);f=f.concat(iE(C,D,M,U))}return u&&(f=f.concat(o_(u,n,o,t))),f}}function sE(n,i,t,o){const u=i.get(Ft());null==t&&null!=u&&(t=Qs(u,Ft()));let f=[];return i.children.inorderTraversal((p,C)=>{const D=t?t.getImmediateChild(p):null,M=il(o,p),U=n.operationForChild(p);U&&(f=f.concat(sE(U,C,D,M)))}),u&&(f=f.concat(o_(u,n,o,t))),f}function Hp(n,i){const t=i.query,o=ol(n,t);return{hashFn:()=>(function xD(n){return n.viewCache_.serverCache.getNode()}(i)||Dt.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function c_(n,i,t){const o=$p(n,t);if(o){const u=l_(o),f=u.path,p=u.queryId,C=ii(f,i);return d_(n,f,new _a(Tp(p),C))}return[]}(n,t._path,o):function y0(n,i){return Nd(n,new _a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(n,t._path);{const f=function bD(n,i){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const o=new Error(n+" at "+i._path.toString()+": "+t);return o.code=n.toUpperCase(),o}(u,t);return Sd(n,t,null,f)}}}}function ol(n,i){const t=ih(i);return n.queryToTagMap.get(t)}function ih(n){return n._path.toString()+"$"+n._queryIdentifier}function $p(n,i){return n.tagToQueryMap.get(i)}function l_(n){const i=n.indexOf("$");return(0,k.vA)(-1!==i&&i<n.length-1,"Bad queryKey."),{queryId:n.substr(i+1),path:new Wt(n.substr(0,i))}}function d_(n,i,t){const o=n.syncPointTree_.get(i);return(0,k.vA)(o,"Missing sync point for query tag that we're tracking"),o_(o,t,Mp(n.pendingWriteTree_,i),null)}function al(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function m0(){return(0,k.vA)(Vp,"Reference.ts has not been loaded"),Vp}())(n._repo,n._path):n}class h_{constructor(i){this.node_=i}getImmediateChild(i){const t=this.node_.getImmediateChild(i);return new h_(t)}node(){return this.node_}}class Wp{constructor(i,t){this.syncTree_=i,this.path_=t}getImmediateChild(i){const t=mn(this.path_,i);return new Wp(this.syncTree_,t)}node(){return Md(this.syncTree_,this.path_)}}const uE=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},p_=function(n,i,t){return n&&"object"==typeof n?((0,k.vA)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?cE(n[".sv"],i,t):"object"==typeof n[".sv"]?I0(n[".sv"],i):void(0,k.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},cE=function(n,i,t){if("timestamp"===n)return t.timestamp;(0,k.vA)(!1,"Unexpected server value: "+n)},I0=function(n,i,t){n.hasOwnProperty("increment")||(0,k.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const o=n.increment;"number"!=typeof o&&(0,k.vA)(!1,"Unexpected increment value: "+o);const u=i.node();if((0,k.vA)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const p=u.getValue();return"number"!=typeof p?o:p+o},lE=function(n,i,t,o){return zp(i,new Wp(t,n),o)},g_=function(n,i,t){return zp(n,new h_(i),t)};function zp(n,i,t){const o=n.getPriority().val(),u=p_(o,i.getImmediateChild(".priority"),t);let f;if(n.isLeafNode()){const p=n,C=p_(p.getValue(),i,t);return C!==p.getValue()||u!==p.getPriority().val()?new vd(C,_n(u)):n}{const p=n;return f=p,u!==p.getPriority().val()&&(f=f.updatePriority(new vd(u))),p.forEachChild(xt,(C,D)=>{const M=zp(D,i.getImmediateChild(C),t);M!==D&&(f=f.updateImmediateChild(C,M))}),f}}class sh{constructor(i="",t=null,o={children:{},childCount:0}){this.name=i,this.parent=t,this.node=o}}function oh(n,i){let t=i instanceof Wt?i:new Wt(i),o=n,u=At(t);for(;null!==u;){const f=(0,k.yw)(o.node.children,u)||{children:{},childCount:0};o=new sh(u,o,f),t=tn(t),u=At(t)}return o}function Cu(n){return n.node.value}function Gp(n,i){n.node.value=i,xo(n)}function m_(n){return n.node.childCount>0}function ah(n,i){rr(n.node.children,(t,o)=>{i(new sh(t,n,o))})}function __(n,i,t,o){t&&!o&&i(n),ah(n,u=>{__(u,i,!0,o)}),t&&o&&i(n)}function wu(n){return new Wt(null===n.parent?n.name:wu(n.parent)+"/"+n.name)}function xo(n){null!==n.parent&&function C0(n,i,t){const o=function dE(n){return void 0===Cu(n)&&!m_(n)}(t),u=(0,k.gR)(n.node.children,i);o&&u?(delete n.node.children[i],n.node.childCount--,xo(n)):!o&&!u&&(n.node.children[i]=t.node,n.node.childCount++,xo(n))}(n.parent,n.name,n)}const w0=/[\[\].#$\/\u0000-\u001F\u007F]/,v_=/[\[\].#$\u0000-\u001F\u007F]/,Ia=10485760,Pd=function(n){return"string"==typeof n&&0!==n.length&&!w0.test(n)},hE=function(n){return"string"==typeof n&&0!==n.length&&!v_.test(n)},Kp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!cd(n)||n&&"object"==typeof n&&(0,k.gR)(n,".sv")},Ca=function(n,i,t,o){o&&void 0===i||uh((0,k.dI)(n,"value"),i,t)},uh=function(n,i,t){const o=t instanceof Wt?new wy(t,n):t;if(void 0===i)throw new Error(n+"contains undefined "+pu(o));if("function"==typeof i)throw new Error(n+"contains a function "+pu(o)+" with contents = "+i.toString());if(cd(i))throw new Error(n+"contains "+i.toString()+" "+pu(o));if("string"==typeof i&&i.length>Ia/3&&(0,k.OE)(i)>Ia)throw new Error(n+"contains a string greater than "+Ia+" utf8 bytes "+pu(o)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let u=!1,f=!1;if(rr(i,(p,C)=>{if(".value"===p)u=!0;else if(".priority"!==p&&".sv"!==p&&(f=!0,!Pd(p)))throw new Error(n+" contains an invalid key ("+p+") "+pu(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function SD(n,i){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(i),n.byteLength_+=(0,k.OE)(i),Om(n)})(o,p),uh(n,C,o),function Ep(n){const i=n.parts_.pop();n.byteLength_-=(0,k.OE)(i),n.parts_.length>0&&(n.byteLength_-=1)}(o)}),u&&f)throw new Error(n+' contains ".value" child '+pu(o)+" in addition to actual children.")}},E_=function(n,i,t,o){if(o&&void 0===i)return;const u=(0,k.dI)(n,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(u+" must be an object containing the children to replace.");const f=[];rr(i,(p,C)=>{const D=new Wt(p);if(uh(u,C,mn(t,D)),".priority"===Pm(D)&&!Kp(C))throw new Error(u+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(D)}),function(n,i){let t,o;for(t=0;t<i.length;t++){o=i[t];const f=$f(o);for(let p=0;p<f.length;p++)if((".priority"!==f[p]||p!==f.length-1)&&!Pd(f[p]))throw new Error(n+"contains an invalid key ("+f[p]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(TD);let u=null;for(t=0;t<i.length;t++){if(o=i[t],null!==u&&$i(u,o))throw new Error(n+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,f)},I_=function(n,i,t){if(!t||void 0!==i){if(cd(i))throw new Error((0,k.dI)(n,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Kp(i))throw new Error((0,k.dI)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rn=function(n,i,t,o){if(!(o&&void 0===t||Pd(t)))throw new Error((0,k.dI)(n,i)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Od=function(n,i,t,o){if(!(o&&void 0===t||hE(t)))throw new Error((0,k.dI)(n,i)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},b0=function(n,i,t,o){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Od(n,i,t,o)},hs=function(n,i){if(".info"===At(i))throw new Error(n+" failed = Can't modify data under /.info/")},C_=function(n,i){const t=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Pd(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hE(n)}(t))throw new Error((0,k.dI)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class A0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ch(n,i){let t=null;for(let o=0;o<i.length;o++){const u=i[o],f=u.getPath();null!==t&&!Cy(f,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:f}),t.events.push(u)}t&&n.eventLists_.push(t)}function w_(n,i,t){ch(n,t),pE(n,o=>Cy(o,i))}function Ar(n,i,t){ch(n,t),pE(n,o=>$i(o,i)||$i(i,o))}function pE(n,i){n.recursionDepth_++;let t=!0;for(let o=0;o<n.eventLists_.length;o++){const u=n.eventLists_[o];u&&(i(u.path)?(T0(n.eventLists_[o]),n.eventLists_[o]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function T0(n){for(let i=0;i<n.events.length;i++){const t=n.events[i];if(null!==t){n.events[i]=null;const o=t.getEventRunner();fa&&nr("event: "+t.toString()),Wc(o)}}}const D_="repo_interrupt",S0=25;class gE{constructor(i,t,o,u){this.repoInfo_=i,this.forceRestClient_=t,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ap(),this.transactionQueueTree_=new sh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function b_(n){const t=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function xd(n){return uE({timestamp:b_(n)})}function Xs(n,i,t,o,u){n.dataUpdateCount++;const f=new Wt(i);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(i,t):t;let p=[];if(u)if(o){const D=(0,k.kH)(t,M=>_n(M));p=function jp(n,i,t,o){const u=$p(n,o);if(u){const f=l_(u),p=f.path,C=f.queryId,D=ii(p,i),M=sn.fromObject(t);return d_(n,p,new Zc(Tp(C),D,M))}return[]}(n.serverSyncTree_,f,D,u)}else{const D=_n(t);p=nE(n.serverSyncTree_,f,D,u)}else if(o){const D=(0,k.kH)(t,M=>_n(M));p=function v0(n,i,t){const o=sn.fromObject(t);return Nd(n,new Zc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}(n.serverSyncTree_,f,D)}else{const D=_n(t);p=rh(n.serverSyncTree_,f,D)}let C=f;p.length>0&&(C=ul(n,f)),Ar(n.eventQueue_,C,p)}function mE(n,i){ps(n,"connected",i),!1===i&&function M0(n){kd(n,"onDisconnectEvents");const i=xd(n),t=Ap();Id(n.onDisconnect_,Ft(),(u,f)=>{const p=lE(u,f,n.serverSyncTree_,i);Qc(t,u,p)});let o=[];Id(t,Ft(),(u,f)=>{o=o.concat(rh(n.serverSyncTree_,u,f));const p=Qp(n,u);ul(n,p)}),n.onDisconnect_=Ap(),Ar(n.eventQueue_,Ft(),o)}(n)}function ps(n,i,t){const o=new Wt("/.info/"+i),u=_n(t);n.infoData_.updateSnapshot(o,u);const f=rh(n.infoSyncTree_,o,u);Ar(n.eventQueue_,o,f)}function _i(n){return n.nextWriteId_++}function qp(n,i,t,o,u){kd(n,"set",{path:i.toString(),value:t,priority:o});const f=xd(n),p=_n(t,o),C=Md(n.serverSyncTree_,i),D=g_(p,C,f),M=_i(n),U=Bp(n.serverSyncTree_,i,D,M,!0);ch(n.eventQueue_,U),n.server_.put(i.toString(),p.val(!0),(q,we)=>{const Le="ok"===q;Le||qn("set at "+i+" failed: "+q);const at=Iu(n.serverSyncTree_,M,!Le);Ar(n.eventQueue_,i,at),wa(0,u,q,we)});const $=Qp(n,i);ul(n,$),Ar(n.eventQueue_,$,[])}function N0(n,i,t){n.server_.onDisconnectCancel(i.toString(),(o,u)=>{"ok"===o&&Km(n.onDisconnect_,i),wa(0,t,o,u)})}function vE(n,i,t,o){const u=_n(t);n.server_.onDisconnectPut(i.toString(),u.val(!0),(f,p)=>{"ok"===f&&Qc(n.onDisconnect_,i,u),wa(0,o,f,p)})}function T_(n,i,t){let o;o=".info"===At(i._path)?Sd(n.infoSyncTree_,i,t):Sd(n.serverSyncTree_,i,t),w_(n.eventQueue_,i._path,o)}function S_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(D_)}function kd(n,...i){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),nr(t,...i)}function wa(n,i,t,o){i&&Wc(()=>{if("ok"===t)i(null);else{const u=(t||"error").toUpperCase();let f=u;o&&(f+=": "+o);const p=new Error(f);p.code=u,i(p)}})}function Ld(n,i,t){return Md(n.serverSyncTree_,i,t)||Dt.EMPTY_NODE}function Yp(n,i=n.transactionQueueTree_){if(i||cl(n,i),Cu(i)){const t=wE(n,i);(0,k.vA)(t.length>0,"Sending zero length transaction queue"),t.every(u=>0===u.status)&&function EE(n,i,t){const o=t.map(M=>M.currentWriteId),u=Ld(n,i,o);let f=u;const p=u.hash();for(let M=0;M<t.length;M++){const U=t[M];(0,k.vA)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const $=ii(i,U.path);f=f.updateChild($,U.currentOutputSnapshotRaw)}const C=f.val(!0),D=i;n.server_.put(D.toString(),C,M=>{kd(n,"transaction put response",{path:D.toString(),status:M});let U=[];if("ok"===M){const $=[];for(let q=0;q<t.length;q++)t[q].status=2,U=U.concat(Iu(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&$.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();cl(n,oh(n.transactionQueueTree_,i)),Yp(n,n.transactionQueueTree_),Ar(n.eventQueue_,i,U);for(let q=0;q<$.length;q++)Wc($[q])}else{if("datastale"===M)for(let $=0;$<t.length;$++)t[$].status=3===t[$].status?4:0;else{qn("transaction at "+D.toString()+" failed: "+M);for(let $=0;$<t.length;$++)t[$].status=4,t[$].abortReason=M}ul(n,i)}},p)}(n,wu(i),t)}else m_(i)&&ah(i,t=>{Yp(n,t)})}function ul(n,i){const t=CE(n,i),o=wu(t);return function IE(n,i,t){if(0===i.length)return;const o=[];let u=[];const p=i.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<i.length;C++){const D=i[C],M=ii(t,D.path);let $,U=!1;if((0,k.vA)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)U=!0,$=D.abortReason,u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=S0)U=!0,$="maxretry",u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0));else{const q=Ld(n,D.path,p);D.currentInputSnapshot=q;const we=i[C].update(q.val());if(void 0!==we){uh("transaction failed: Data returned ",we,D.path);let Le=_n(we);"object"==typeof we&&null!=we&&(0,k.gR)(we,".priority")||(Le=Le.updatePriority(q.getPriority()));const Nt=D.currentWriteId,Zt=xd(n),nn=g_(Le,q,Zt);D.currentOutputSnapshotRaw=Le,D.currentOutputSnapshotResolved=nn,D.currentWriteId=_i(n),p.splice(p.indexOf(Nt),1),u=u.concat(Bp(n.serverSyncTree_,D.path,nn,D.currentWriteId,D.applyLocally)),u=u.concat(Iu(n.serverSyncTree_,Nt,!0))}else U=!0,$="nodata",u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0))}Ar(n.eventQueue_,t,u),u=[],U&&(i[C].status=2,setTimeout(i[C].unwatcher,Math.floor(0)),i[C].onComplete&&o.push("nodata"===$?()=>i[C].onComplete(null,!1,i[C].currentInputSnapshot):()=>i[C].onComplete(new Error($),!1,null)))}cl(n,n.transactionQueueTree_);for(let C=0;C<o.length;C++)Wc(o[C]);Yp(n,n.transactionQueueTree_)}(n,wE(n,t),o),o}function CE(n,i){let t,o=n.transactionQueueTree_;for(t=At(i);null!==t&&void 0===Cu(o);)o=oh(o,t),t=At(i=tn(i));return o}function wE(n,i){const t=[];return R_(n,i,t),t.sort((o,u)=>o.order-u.order),t}function R_(n,i,t){const o=Cu(i);if(o)for(let u=0;u<o.length;u++)t.push(o[u]);ah(i,u=>{R_(n,u,t)})}function cl(n,i){const t=Cu(i);if(t){let o=0;for(let u=0;u<t.length;u++)2!==t[u].status&&(t[o]=t[u],o++);t.length=o,Gp(i,t.length>0?t:void 0)}ah(i,o=>{cl(n,o)})}function Qp(n,i){const t=wu(CE(n,i)),o=oh(n.transactionQueueTree_,i);return function fE(n,i,t){let o=t?n:n.parent;for(;null!==o;){if(i(o))return!0;o=o.parent}}(o,u=>{Xp(n,u)}),Xp(n,o),__(o,u=>{Xp(n,u)}),t}function Xp(n,i){const t=Cu(i);if(t){const o=[];let u=[],f=-1;for(let p=0;p<t.length;p++)3===t[p].status||(1===t[p].status?((0,k.vA)(f===p-1,"All SENT items should be at beginning of queue."),f=p,t[p].status=3,t[p].abortReason="set"):((0,k.vA)(0===t[p].status,"Unexpected transaction status in abort"),t[p].unwatcher(),u=u.concat(Iu(n.serverSyncTree_,t[p].currentWriteId,!0)),t[p].onComplete&&o.push(t[p].onComplete.bind(null,new Error("set"),!1,null))));-1===f?Gp(i,void 0):t.length=f+1,Ar(n.eventQueue_,wu(i),u);for(let p=0;p<o.length;p++)Wc(o[p])}}const Zp=function(n,i){const t=AE(n),o=t.namespace;return"firebase.com"===t.domain&&Hi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==t.domain&&Hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vm(t.host,t.secure,o,"ws"===t.scheme||"wss"===t.scheme,i,"",o!==t.subdomain),path:new Wt(t.pathString)}},AE=function(n){let i="",t="",o="",u="",f="",p=!0,C="https",D=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(C=n.substring(0,M-1),n=n.substring(M+2));let U=n.indexOf("/");-1===U&&(U=n.length);let $=n.indexOf("?");-1===$&&($=n.length),i=n.substring(0,Math.min(U,$)),U<$&&(u=function DE(n){let i="";const t=n.split("/");for(let o=0;o<t.length;o++)if(t[o].length>0){let u=t[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}i+="/"+u}return i}(n.substring(U,$)));const q=function bE(n){const i={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const o=t.split("=");2===o.length?i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):qn(`Invalid query segment '${t}' in query '${n}'`)}return i}(n.substring(Math.min(n.length,$)));M=i.indexOf(":"),M>=0?(p="https"===C||"wss"===C,D=parseInt(i.substring(M+1),10)):M=i.length;const we=i.slice(0,M);if("localhost"===we.toLowerCase())t="localhost";else if(we.split(".").length<=2)t=we;else{const Le=i.indexOf(".");o=i.substring(0,Le).toLowerCase(),t=i.substring(Le+1),f=o}"ns"in q&&(f=q.ns)}return{host:i,port:D,domain:t,subdomain:o,secure:p,scheme:C,pathString:u,namespace:f}},M_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",TE=function(){let n=0;const i=[];return function(t){const o=t===n;let u;n=t;const f=new Array(8);for(u=7;u>=0;u--)f[u]=M_.charAt(t%64),t=Math.floor(t/64);(0,k.vA)(0===t,"Cannot push at time == 0");let p=f.join("");if(o){for(u=11;u>=0&&63===i[u];u--)i[u]=0;i[u]++}else for(u=0;u<12;u++)i[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)p+=M_.charAt(i[u]);return(0,k.vA)(20===p.length,"nextPushId: Length should be 20."),p}}();class SE{constructor(i,t,o,u){this.eventType=i,this.eventRegistration=t,this.snapshot=o,this.prevName=u}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.As)(this.snapshot.exportVal())}}class RE{constructor(i,t,o){this.eventRegistration=i,this.error=t,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class N_{constructor(i,t){this.snapshotCallback=i,this.cancelCallback=t}onValue(i,t){this.snapshotCallback.call(null,i,t)}onCancel(i){return(0,k.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class ME{constructor(i,t){this._repo=i,this._path=t}cancel(){const i=new k.cY;return N0(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){hs("OnDisconnect.remove",this._path);const i=new k.cY;return vE(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){hs("OnDisconnect.set",this._path),Ca("OnDisconnect.set",i,this._path,!1);const t=new k.cY;return vE(this._repo,this._path,i,t.wrapCallback(()=>{})),t.promise}setWithPriority(i,t){hs("OnDisconnect.setWithPriority",this._path),Ca("OnDisconnect.setWithPriority",i,this._path,!1),I_("OnDisconnect.setWithPriority",t,!1);const o=new k.cY;return function P0(n,i,t,o,u){const f=_n(t,o);n.server_.onDisconnectPut(i.toString(),f.val(!0),(p,C)=>{"ok"===p&&Qc(n.onDisconnect_,i,f),wa(0,u,p,C)})}(this._repo,this._path,i,t,o.wrapCallback(()=>{})),o.promise}update(i){hs("OnDisconnect.update",this._path),E_("OnDisconnect.update",i,this._path,!1);const t=new k.cY;return function A_(n,i,t,o){if((0,k.Im)(t))return nr("onDisconnect().update() called with empty data.  Don't do anything."),void wa(0,o,"ok",void 0);n.server_.onDisconnectMerge(i.toString(),t,(u,f)=>{"ok"===u&&rr(t,(p,C)=>{const D=_n(C);Qc(n.onDisconnect_,mn(i,p),D)}),wa(0,o,u,f)})}(this._repo,this._path,i,t.wrapCallback(()=>{})),t.promise}}class vi{constructor(i,t,o,u){this._repo=i,this._path=t,this._queryParams=o,this._orderByCalled=u}get key(){return Ot(this._path)?null:Pm(this._path)}get ref(){return new gs(this._repo,this._path)}get _queryIdentifier(){const i=Ly(this._queryParams),t=pm(i);return"{}"===t?"default":t}get _queryObject(){return Ly(this._queryParams)}isEqual(i){if(!((i=(0,k.Ku)(i))instanceof vi))return!1;const t=this._repo===i._repo,o=Cy(this._path,i._path);return t&&o&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function HC(n){let i="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(i+="/"+encodeURIComponent(String(n.pieces_[t])));return i||"/"}(this._path)}}function Jp(n,i){if(!0===n._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Du(n){let i=null,t=null;if(n.hasStart()&&(i=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Ks){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==$c)throw new Error(o);if("string"!=typeof i)throw new Error(u)}if(n.hasEnd()){if(n.getIndexEndName()!==Ws)throw new Error(o);if("string"!=typeof t)throw new Error(u)}}else if(n.getIndex()===xt){if(null!=i&&!Kp(i)||null!=t&&!Kp(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.vA)(n.getIndex()instanceof $m||n.getIndex()===Wm,"unknown index type."),null!=i&&"object"==typeof i||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eg(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class gs extends vi{constructor(i,t){super(i,t,new qf,!1)}get parent(){const i=Iy(this._path);return null===i?null:new gs(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class ll{constructor(i,t,o){this._node=i,this.ref=t,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const t=new Wt(i),o=dl(this.ref,i);return new ll(this._node.getChild(t),o,xt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>i(new ll(u,dl(this.ref,o),xt)))}hasChild(i){const t=new Wt(i);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function NE(n,i){return(n=(0,k.Ku)(n))._checkNotDeleted("ref"),void 0!==i?dl(n._root,i):n._root}function PE(n,i){(n=(0,k.Ku)(n))._checkNotDeleted("refFromURL");const t=Zp(i,n._repo.repoInfo_.nodeAdmin);C_("refFromURL",t);const o=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&o.host!==n._repo.repoInfo_.host&&Hi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),NE(n,t.path.toString())}function dl(n,i){return null===At((n=(0,k.Ku)(n))._path)?b0("child","path",i,!1):Od("child","path",i,!1),new gs(n._repo,mn(n._path,i))}function P_(n,i){n=(0,k.Ku)(n),hs("set",n._path),Ca("set",i,n._path,!1);const t=new k.cY;return qp(n._repo,n._path,i,null,t.wrapCallback(()=>{})),t.promise}function xE(n,i){E_("update",i,n._path,!1);const t=new k.cY;return function _E(n,i,t,o){kd(n,"update",{path:i.toString(),value:t});let u=!0;const f=xd(n),p={};if(rr(t,(C,D)=>{u=!1,p[C]=lE(mn(i,C),_n(D),n.serverSyncTree_,f)}),u)nr("update() called with empty data.  Don't do anything."),wa(0,o,"ok",void 0);else{const C=_i(n),D=function tE(n,i,t,o){!function $y(n,i,t,o){(0,k.vA)(o>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:i,children:t,writeId:o,visible:!0}),n.visibleWrites=Xm(n.visibleWrites,i,t),n.lastWriteId=o}(n.pendingWriteTree_,i,t,o);const u=sn.fromObject(t);return Nd(n,new Zc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,u))}(n.serverSyncTree_,i,p,C);ch(n.eventQueue_,D),n.server_.merge(i.toString(),t,(M,U)=>{const $="ok"===M;$||qn("update at "+i+" failed: "+M);const q=Iu(n.serverSyncTree_,C,!$),we=q.length>0?ul(n,i):i;Ar(n.eventQueue_,we,q),wa(0,o,M,U)}),rr(t,M=>{const U=Qp(n,mn(i,M));ul(n,U)}),Ar(n.eventQueue_,i,[])}}(n._repo,n._path,i,t.wrapCallback(()=>{})),t.promise}function kE(n){n=(0,k.Ku)(n);const i=new N_(()=>{}),t=new Fd(i);return function Zs(n,i,t){const o=function rE(n,i){const t=i._path;let o=null;n.syncPointTree_.foreachOnPath(t,(M,U)=>{const $=ii(M,t);o=o||Qs(U,$)});let u=n.syncPointTree_.get(t);u?o=o||Qs(u,Ft()):(u=new s_,n.syncPointTree_=n.syncPointTree_.set(t,u));const f=null!=o,p=f?new va(o,!0,!1):null;return function l0(n){return Rp(n.viewCache_)}(Zy(u,i,Mp(n.pendingWriteTree_,i._path),f?p.getNode():Dt.EMPTY_NODE,f))}(n.serverSyncTree_,i);return null!=o?Promise.resolve(o):n.server_.get(i).then(u=>{const f=_n(u).withIndex(i._queryParams.getIndex());let p;if(Rd(n.serverSyncTree_,i,t,!0),i._queryParams.loadsAllData())p=rh(n.serverSyncTree_,i._path,f);else{const C=ol(n.serverSyncTree_,i);p=nE(n.serverSyncTree_,i._path,f,C)}return Ar(n.eventQueue_,i._path,p),Sd(n.serverSyncTree_,i,t,null,!0),f},u=>(kd(n,"get for query "+(0,k.As)(i)+" failed: "+u),Promise.reject(new Error(u))))}(n._repo,n,t).then(o=>new ll(o,new gs(n._repo,n._path),n._queryParams.getIndex()))}class Fd{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,t){const o=t._queryParams.getIndex();return new SE("value",this,new ll(i.snapshotNode,new gs(t._repo,t._path),o))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,t){return this.callbackContext.hasCancelCallback?new RE(this,i,t):null}matches(i){return i instanceof Fd&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dh{constructor(i,t){this.eventType=i,this.callbackContext=t}respondsTo(i){let t="children_added"===i?"child_added":i;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(i,t){return this.callbackContext.hasCancelCallback?new RE(this,i,t):null}createEvent(i,t){(0,k.vA)(null!=i.childName,"Child events should have a childName.");const o=dl(new gs(t._repo,t._path),i.childName),u=t._queryParams.getIndex();return new SE(i.type,this,new ll(i.snapshotNode,o,u),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof dh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ud(n,i,t,o,u){let f;if("object"==typeof o&&(f=void 0,u=o),"function"==typeof o&&(f=o),u&&u.onlyOnce){const D=t,M=(U,$)=>{T_(n._repo,n,C),D(U,$)};M.userCallback=t.userCallback,M.context=t.context,t=M}const p=new N_(t,f||void 0),C="value"===i?new Fd(p):new dh(i,p);return function lh(n,i,t){let o;o=".info"===At(i._path)?Rd(n.infoSyncTree_,i,t):Rd(n.serverSyncTree_,i,t),w_(n.eventQueue_,i._path,o)}(n._repo,n,C),()=>T_(n._repo,n,C)}function tg(n,i,t,o){return Ud(n,"value",i,t,o)}function O_(n,i,t,o){return Ud(n,"child_added",i,t,o)}function x_(n,i,t,o){return Ud(n,"child_changed",i,t,o)}function k_(n,i,t,o){return Ud(n,"child_moved",i,t,o)}function L_(n,i,t,o){return Ud(n,"child_removed",i,t,o)}function bu(n,i,t){let o=null;const u=t?new N_(t):null;"value"===i?o=new Fd(u):i&&(o=new dh(i,u)),T_(n._repo,n,o)}class Js{}class LE extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("endAt",this._value,i._path,!0);const t=Dp(i._queryParams,this._value,this._key);if(eg(t),Du(t),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class FD extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("endBefore",this._value,i._path,!1);const t=function ky(n,i,t){let o;return o=Dp(n,i,n.index_===Ks||t?t:$c),o.endBeforeSet_=!0,o}(i._queryParams,this._value,this._key);if(eg(t),Du(t),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class F0 extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("startAt",this._value,i._path,!0);const t=wp(i._queryParams,this._value,this._key);if(eg(t),Du(t),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class UE extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("startAfter",this._value,i._path,!1);const t=function xy(n,i,t){let o;return o=wp(n,i,n.index_===Ks||t?t:Ws),o.startAfterSet_=!0,o}(i._queryParams,this._value,this._key);if(eg(t),Du(t),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class Bd extends Js{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(i._repo,i._path,function zm(n,i){const t=n.copy();return t.limitSet_=!0,t.limit_=i,t.viewFrom_="l",t}(i._queryParams,this._limit),i._orderByCalled)}}class V0 extends Js{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(i._repo,i._path,function RD(n,i){const t=n.copy();return t.limitSet_=!0,t.limit_=i,t.viewFrom_="r",t}(i._queryParams,this._limit),i._orderByCalled)}}class jd extends Js{constructor(i){super(),this._path=i}_apply(i){Jp(i,"orderByChild");const t=new Wt(this._path);if(Ot(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new $m(t),u=Ed(i._queryParams,o);return Du(u),new vi(i._repo,i._path,u,!0)}}class ng extends Js{_apply(i){Jp(i,"orderByKey");const t=Ed(i._queryParams,Ks);return Du(t),new vi(i._repo,i._path,t,!0)}}class yi extends Js{_apply(i){Jp(i,"orderByPriority");const t=Ed(i._queryParams,xt);return Du(t),new vi(i._repo,i._path,t,!0)}}class VE extends Js{_apply(i){Jp(i,"orderByValue");const t=Ed(i._queryParams,Wm);return Du(t),new vi(i._repo,i._path,t,!0)}}class H0 extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){if(Ca("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new LE(this._value,this._key)._apply(new F0(this._value,this._key)._apply(i))}}function ms(n,...i){let t=(0,k.Ku)(n);for(const o of i)t=o._apply(t);return t}(function f0(n){(0,k.vA)(!yu,"__referenceConstructor has already been defined"),yu=n})(gs),function eE(n){(0,k.vA)(!Vp,"__referenceConstructor has already been defined"),Vp=n}(gs);const ig={};function WE(n,i,t,o,u){let f=o||n.options.databaseURL;void 0===f&&(n.options.projectId||Hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,M,p=Zp(f,u),C=p.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(D=!0,f=`http://${M}?ns=${C.namespace}`,p=Zp(f,u),C=p.repoInfo):D=!p.repoInfo.secure;const U=u&&D?new Uf(Uf.OWNER):new ny(n.name,n.options,i);C_("Invalid Firebase Database URL",p),Ot(p.path)||Hi("Database URL must point to the root of a Firebase Database (not including a child path).");const $=function W0(n,i,t,o){let u=ig[i.name];u||(u={},ig[i.name]=u);let f=u[n.toURLString()];return f&&Hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new gE(n,false,t,o),u[n.toURLString()]=f,f}(C,n,U,new SC(n.name,t));return new G0($,n)}class G0{constructor(i,t){this._repoInternal=i,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function kD(n,i,t){if(n.stats_=_p(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new bp(n.repoInfo_,(o,u,f,p)=>{Xs(n,o,u,f,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>mE(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.As)(t)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}n.persistentConnection_=new Kc(n.repoInfo_,i,(o,u,f,p)=>{Xs(n,o,u,f,p)},o=>{mE(n,o)},o=>{!function R0(n,i){rr(i,(t,o)=>{ps(n,t,o)})}(n,o)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(o=>{n.server_.refreshAuthToken(o)}),n.appCheckProvider_.addTokenChangeListener(o=>{n.server_.refreshAppCheckToken(o.token)}),n.statsReporter_=function MC(n,i){const t=n.toString();return jf[t]||(jf[t]=i()),jf[t]}(n.repoInfo_,()=>new Uy(n.stats_,n.server_)),n.infoData_=new Gm,n.infoSyncTree_=new u_({startListening:(o,u,f,p)=>{let C=[];const D=n.infoData_.getNode(o._path);return D.isEmpty()||(C=rh(n.infoSyncTree_,o._path,D),setTimeout(()=>{p("ok")},0)),C},stopListening:()=>{}}),ps(n,"connected",!1),n.serverSyncTree_=new u_({startListening:(o,u,f,p)=>(n.server_.listen(o,f,u,(C,D)=>{const M=p(C,D);Ar(n.eventQueue_,o._path,M)}),[]),stopListening:(o,u)=>{n.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gs(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fh(n,i){const t=ig[i];(!t||t[n.key]!==n)&&Hi(`Database ${i}(${n.repoInfo_}) has already been deleted.`),S_(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Hi("Cannot call "+i+" on a deleted database.")}}function hh(){gy.IS_TRANSPORT_INITIALIZED&&qn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zE(){hh(),Mo.forceDisallow()}function GE(){hh(),Sn.forceDisallow(),Mo.forceAllow()}function q0(n,i){Bc(n,i)}const Q0={".sv":"timestamp"};class QE{constructor(i,t){this.committed=i,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Kc.prototype.simpleListen=function(n,i){this.sendRequest("q",{p:n},i)},Kc.prototype.echo=function(n,i){this.sendRequest("echo",{d:n},i)},function Y0(n){lm(Uc.SDK_VERSION),(0,Uc._registerComponent)(new fu.uA("database",(i,{instanceIdentifier:t})=>WE(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Uc.registerVersion)(fp,"0.14.4",n),(0,Uc.registerVersion)(fp,"0.14.4","esm2017")}();const HD=new dp.Vy("@firebase/database-compat"),ew=function(n){HD.warn("FIREBASE WARNING: "+n)};class sg{constructor(i){this._delegate=i}cancel(i){(0,k.od)("OnDisconnect.cancel",0,1,arguments.length),(0,k.oD)("OnDisconnect.cancel","onComplete",i,!0);const t=this._delegate.cancel();return i&&t.then(()=>i(null),o=>i(o)),t}remove(i){(0,k.od)("OnDisconnect.remove",0,1,arguments.length),(0,k.oD)("OnDisconnect.remove","onComplete",i,!0);const t=this._delegate.remove();return i&&t.then(()=>i(null),o=>i(o)),t}set(i,t){(0,k.od)("OnDisconnect.set",1,2,arguments.length),(0,k.oD)("OnDisconnect.set","onComplete",t,!0);const o=this._delegate.set(i);return t&&o.then(()=>t(null),u=>t(u)),o}setWithPriority(i,t,o){(0,k.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.oD)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(i,t);return o&&u.then(()=>o(null),f=>o(f)),u}update(i,t){if((0,k.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const u={};for(let f=0;f<i.length;++f)u[""+f]=i[f];i=u,ew("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.oD)("OnDisconnect.update","onComplete",t,!0);const o=this._delegate.update(i);return t&&o.then(()=>t(null),u=>t(u)),o}}class tw{constructor(i,t){this.committed=i,this.snapshot=t}toJSON(){return(0,k.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Au{constructor(i,t){this._database=i,this._delegate=t}val(){return(0,k.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,k.od)("DataSnapshot.child",0,1,arguments.length),i=String(i),Od("DataSnapshot.child","path",i,!1),new Au(this._database,this._delegate.child(i))}hasChild(i){return(0,k.od)("DataSnapshot.hasChild",1,1,arguments.length),Od("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,k.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,k.od)("DataSnapshot.forEach",1,1,arguments.length),(0,k.oD)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(t=>i(new Au(this._database,t)))}hasChildren(){return(0,k.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.od)("DataSnapshot.ref",0,0,arguments.length),new kr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Tr{constructor(i,t){this.database=i,this._delegate=t}on(i,t,o,u){var f;(0,k.od)("Query.on",2,4,arguments.length),(0,k.oD)("Query.on","callback",t,!1);const p=Tr.getCancelAndContextArgs_("Query.on",o,u),C=(M,U)=>{t.call(p.context,new Au(this.database,M),U)};C.userCallback=t,C.context=p.context;const D=null===(f=p.cancel)||void 0===f?void 0:f.bind(p.context);switch(i){case"value":return tg(this._delegate,C,D),t;case"child_added":return O_(this._delegate,C,D),t;case"child_removed":return L_(this._delegate,C,D),t;case"child_changed":return x_(this._delegate,C,D),t;case"child_moved":return k_(this._delegate,C,D),t;default:throw new Error((0,k.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,t,o){if((0,k.od)("Query.off",0,3,arguments.length),function(n,i,t){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,k.oD)("Query.off","callback",t,!0),(0,k.HN)("Query.off","context",o,!0),t){const u=()=>{};u.userCallback=t,u.context=o,bu(this._delegate,i,u)}else bu(this._delegate,i)}get(){return kE(this._delegate).then(i=>new Au(this.database,i))}once(i,t,o,u){(0,k.od)("Query.once",1,4,arguments.length),(0,k.oD)("Query.once","callback",t,!0);const f=Tr.getCancelAndContextArgs_("Query.once",o,u),p=new k.cY,C=(M,U)=>{const $=new Au(this.database,M);t&&t.call(f.context,$,U),p.resolve($)};C.userCallback=t,C.context=f.context;const D=M=>{f.cancel&&f.cancel.call(f.context,M),p.reject(M)};switch(i){case"value":tg(this._delegate,C,D,{onlyOnce:!0});break;case"child_added":O_(this._delegate,C,D,{onlyOnce:!0});break;case"child_removed":L_(this._delegate,C,D,{onlyOnce:!0});break;case"child_changed":x_(this._delegate,C,D,{onlyOnce:!0});break;case"child_moved":k_(this._delegate,C,D,{onlyOnce:!0});break;default:throw new Error((0,k.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(i){return(0,k.od)("Query.limitToFirst",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function U0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bd(n)}(i)))}limitToLast(i){return(0,k.od)("Query.limitToLast",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function B0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new V0(n)}(i)))}orderByChild(i){return(0,k.od)("Query.orderByChild",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function j0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Od("orderByChild","path",n,!1),new jd(n)}(i)))}orderByKey(){return(0,k.od)("Query.orderByKey",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function rg(){return new ng}()))}orderByPriority(){return(0,k.od)("Query.orderByPriority",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function VD(){return new yi}()))}orderByValue(){return(0,k.od)("Query.orderByValue",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function BE(){return new VE}()))}startAt(i=null,t){return(0,k.od)("Query.startAt",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function FE(n=null,i){return Rn("startAt","key",i,!0),new F0(n,i)}(i,t)))}startAfter(i=null,t){return(0,k.od)("Query.startAfter",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function UD(n,i){return Rn("startAfter","key",i,!0),new UE(n,i)}(i,t)))}endAt(i=null,t){return(0,k.od)("Query.endAt",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function Vd(n,i){return Rn("endAt","key",i,!0),new LE(n,i)}(i,t)))}endBefore(i=null,t){return(0,k.od)("Query.endBefore",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function F_(n,i){return Rn("endBefore","key",i,!0),new FD(n,i)}(i,t)))}equalTo(i,t){return(0,k.od)("Query.equalTo",1,2,arguments.length),new Tr(this.database,ms(this._delegate,function jE(n,i){return Rn("equalTo","key",i,!0),new H0(n,i)}(i,t)))}toString(){return(0,k.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,k.od)("Query.isEqual",1,1,arguments.length),!(i instanceof Tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,t,o){const u={cancel:void 0,context:void 0};if(t&&o)u.cancel=t,(0,k.oD)(i,"cancel",u.cancel,!0),u.context=o,(0,k.HN)(i,"context",u.context,!0);else if(t)if("object"==typeof t&&null!==t)u.context=t;else{if("function"!=typeof t)throw new Error((0,k.dI)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=t}return u}get ref(){return new kr(this.database,new gs(this._delegate._repo,this._delegate._path))}}class kr extends Tr{constructor(i,t){super(i,new vi(t._repo,t._path,new qf,!1)),this.database=i,this._delegate=t}getKey(){return(0,k.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,k.od)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new kr(this.database,dl(this._delegate,i))}getParent(){(0,k.od)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new kr(this.database,i):null}getRoot(){return(0,k.od)("Reference.root",0,0,arguments.length),new kr(this.database,this._delegate.root)}set(i,t){(0,k.od)("Reference.set",1,2,arguments.length),(0,k.oD)("Reference.set","onComplete",t,!0);const o=P_(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}update(i,t){if((0,k.od)("Reference.update",1,2,arguments.length),Array.isArray(i)){const u={};for(let f=0;f<i.length;++f)u[""+f]=i[f];i=u,ew("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hs("Reference.update",this._delegate._path),(0,k.oD)("Reference.update","onComplete",t,!0);const o=xE(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}setWithPriority(i,t,o){(0,k.od)("Reference.setWithPriority",2,3,arguments.length),(0,k.oD)("Reference.setWithPriority","onComplete",o,!0);const u=function OE(n,i,t){if(hs("setWithPriority",n._path),Ca("setWithPriority",i,n._path,!1),I_("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const o=new k.cY;return qp(n._repo,n._path,i,t,o.wrapCallback(()=>{})),o.promise}(this._delegate,i,t);return o&&u.then(()=>o(null),f=>o(f)),u}remove(i){(0,k.od)("Reference.remove",0,1,arguments.length),(0,k.oD)("Reference.remove","onComplete",i,!0);const t=function k0(n){return hs("remove",n._path),P_(n,null)}(this._delegate);return i&&t.then(()=>i(null),o=>i(o)),t}transaction(i,t,o){(0,k.od)("Reference.transaction",1,3,arguments.length),(0,k.oD)("Reference.transaction","transactionUpdate",i,!1),(0,k.oD)("Reference.transaction","onComplete",t,!0),function(n,i,t,o){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,k.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function X0(n,i,t){var o;if(n=(0,k.Ku)(n),hs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const u=null===(o=t?.applyLocally)||void 0===o||o,f=new k.cY,C=tg(n,()=>{});return function yE(n,i,t,o,u,f){kd(n,"transaction on "+i);const p={path:i,update:t,onComplete:o,status:null,order:wC(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=Ld(n,i,void 0);p.currentInputSnapshot=C;const D=p.update(C.val());if(void 0===D)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{uh("transaction failed: Data returned ",D,p.path),p.status=0;const M=oh(n.transactionQueueTree_,i),U=Cu(M)||[];let $;U.push(p),Gp(M,U),"object"==typeof D&&null!==D&&(0,k.gR)(D,".priority")?($=(0,k.yw)(D,".priority"),(0,k.vA)(Kp($),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$=(Md(n.serverSyncTree_,i)||Dt.EMPTY_NODE).getPriority().val();const q=xd(n),we=_n(D,$),Le=g_(we,C,q);p.currentOutputSnapshotRaw=we,p.currentOutputSnapshotResolved=Le,p.currentWriteId=_i(n);const at=Bp(n.serverSyncTree_,i,Le,p.currentWriteId,p.applyLocally);Ar(n.eventQueue_,i,at),Yp(n,n.transactionQueueTree_)}}(n._repo,n._path,i,(D,M,U)=>{let $=null;D?f.reject(D):($=new ll(U,new gs(n._repo,n._path),xt),f.resolve(new QE(M,$)))},C,u),f.promise}(this._delegate,i,{applyLocally:o}).then(f=>new tw(f.committed,new Au(this.database,f.snapshot)));return t&&u.then(f=>t(null,f.committed,f.snapshot),f=>t(f,!1,null)),u}setPriority(i,t){(0,k.od)("Reference.setPriority",1,2,arguments.length),(0,k.oD)("Reference.setPriority","onComplete",t,!0);const o=function L0(n,i){n=(0,k.Ku)(n),hs("setPriority",n._path),I_("setPriority",i,!1);const t=new k.cY;return qp(n._repo,mn(n._path,".priority"),i,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}push(i,t){(0,k.od)("Reference.push",0,2,arguments.length),(0,k.oD)("Reference.push","onComplete",t,!0);const o=function x0(n,i){n=(0,k.Ku)(n),hs("push",n._path),Ca("push",i,n._path,!0);const t=b_(n._repo),o=TE(t),u=dl(n,o),f=dl(n,o);let p;return p=null!=i?P_(f,i).then(()=>f):Promise.resolve(f),u.then=p.then.bind(p),u.catch=p.then.bind(p,void 0),u}(this._delegate,i),u=o.then(p=>new kr(this.database,p));t&&u.then(()=>t(null),p=>t(p));const f=new kr(this.database,o);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return hs("Reference.onDisconnect",this._delegate._path),new sg(new ME(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class mh{constructor(i,t){this._delegate=i,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zE,forceLongPolling:GE}}useEmulator(i,t,o={}){!function KE(n,i,t,o={}){(n=(0,k.Ku)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Hi("Cannot call useEmulator() after instance has already been initialized.");const u=n._repoInternal;let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&Hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Uf(Uf.OWNER);else if(o.mockUserToken){const p="string"==typeof o.mockUserToken?o.mockUserToken:(0,k.Fy)(o.mockUserToken,n.app.options.projectId);f=new Uf(p)}!function $0(n,i,t,o){n.repoInfo_=new vm(`${i}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),o&&(n.authTokenProvider_=o)}(u,i,t,f)}(this._delegate,i,t,o)}ref(i){if((0,k.od)("database.ref",0,1,arguments.length),i instanceof kr){const t=PE(this._delegate,i.toString());return new kr(this,t)}{const t=NE(this._delegate,i);return new kr(this,t)}}refFromURL(i){(0,k.od)("database.refFromURL",1,1,arguments.length);const o=PE(this._delegate,i);return new kr(this,o)}goOffline(){return(0,k.od)("database.goOffline",0,0,arguments.length),function ph(n){(n=(0,k.Ku)(n))._checkNotDeleted("goOffline"),S_(n._repo)}(this._delegate)}goOnline(){return(0,k.od)("database.goOnline",0,0,arguments.length),function gh(n){(n=(0,k.Ku)(n))._checkNotDeleted("goOnline"),function O0(n){n.persistentConnection_&&n.persistentConnection_.resume(D_)}(n._repo)}(this._delegate)}}mh.ServerValue={TIMESTAMP:function qE(){return Q0}(),increment:n=>function YE(n){return{".sv":{increment:n}}}(n)};var rw=Object.freeze({__proto__:null,initStandalone:function nw({app:n,url:i,version:t,customAuthImpl:o,namespace:u,nodeAdmin:f=!1}){lm(t);const p=new fu.Kq("auth-internal",new fu.h1("database-standalone"));return p.setComponent(new fu.uA("auth-internal",()=>o,"PRIVATE")),{instance:new mh(WE(n,p,void 0,i,f),n),namespace:u}}});const iw=mh.ServerValue;!function WD(n){n.INTERNAL.registerComponent(new fu.uA("database-compat",(i,{instanceIdentifier:t})=>{const o=i.getProvider("app-compat").getImmediate(),u=i.getProvider("database").getImmediate({identifier:t});return new mh(u,o)},"PUBLIC").setServiceProps({Reference:kr,Query:Tr,Database:mh,DataSnapshot:Au,enableLogging:q0,INTERNAL:rw,ServerValue:iw}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(IC.A);var og=P(941),ZE=P(6129);class sw extends Hr.B{constructor(i=1/0,t=1/0,o=ZE.U){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:p}=this;t||(o.push(i),!u&&o.push(f.now()+p)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:u}=this,f=u.slice();for(let p=0;p<f.length&&!i.closed;p+=o?1:2)i.next(f[p]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,f=(u?1:2)*i;if(i<1/0&&f<o.length&&o.splice(0,o.length-f),!u){const p=t.now();let C=0;for(let D=1;D<o.length&&o[D]<=p;D+=2)C=D;C&&o.splice(0,C+1)}}}function JE(n,i,t){let o,u=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:i=1/0,refCount:u=!1,scheduler:t}=n):o=n??1/0,(0,cp.u)({connector:()=>new sw(o,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function Hd(n,i){return(0,Ps.T)(i)?(0,dn.n)(()=>n,i):(0,dn.n)(()=>n)}var U_=P(6745);P(2214);const j_=new Map,oI={activated:!1,tokenObservers:[]},aw={initialized:!1,enabled:!1};function Vn(n){return j_.get(n)||Object.assign({},oI)}function ug(){return aw}const cg="https://content-firebaseappcheck.googleapis.com/v1",lw="exchangeDebugToken",H_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class fw{constructor(i,t,o,u,f){if(this.operation=i,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=f,this.pending=null,this.nextErrorWaitInterval=u,u>f)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var t=this;return(0,ji.A)(function*(){t.stop();try{t.pending=new k.cY,yield function hw(n){return new Promise(i=>{setTimeout(i,n)})}(t.getNextRun(i)),t.pending.resolve(),yield t.pending.promise,t.pending=new k.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const lr=new k.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lg(n){if(!Vn(n).activated)throw lr.create("use-before-activation",{appName:n.name})}function fg(n,i){return vh.apply(this,arguments)}function vh(){return(vh=(0,ji.A)(function*({url:n,body:i},t){const o={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const $=yield u.getHeartbeatsHeader();$&&(o["X-Firebase-Client"]=$)}const f={method:"POST",body:JSON.stringify(i),headers:o};let p,C;try{p=yield fetch(n,f)}catch($){throw lr.create("fetch-network-error",{originalErrorMessage:$?.message})}if(200!==p.status)throw lr.create("fetch-status-error",{httpStatus:p.status});try{C=yield p.json()}catch($){throw lr.create("fetch-parse-error",{originalErrorMessage:$?.message})}const D=C.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const M=1e3*Number(D[1]),U=Date.now();return{token:C.token,expireTimeMillis:U+M,issuedAtTimeMillis:U}})).apply(this,arguments)}function Tu(n,i){const{projectId:t,appId:o,apiKey:u}=n.options;return{url:`${cg}/projects/${t}/apps/${o}:${lw}?key=${u}`,body:{debug_token:i}}}const uI="firebase-app-check-database",_w=1,hg="firebase-app-check-store";let Wd=null;function mg(){return(mg=(0,ji.A)(function*(n,i){const o=(yield function cI(){return Wd||(Wd=new Promise((n,i)=>{try{const t=indexedDB.open(uI,_w);t.onsuccess=o=>{n(o.target.result)},t.onerror=o=>{var u;i(lr.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},t.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(hg,{keyPath:"compositeKey"})}}catch(t){i(lr.create("storage-open",{originalErrorMessage:t?.message}))}}),Wd)}()).transaction(hg,"readwrite"),f=o.objectStore(hg).put({compositeKey:n,value:i});return new Promise((p,C)=>{f.onsuccess=D=>{p()},o.onerror=D=>{var M;C(lr.create("storage-set",{originalErrorMessage:null===(M=D.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const yh=new dp.Vy("@firebase/app-check");function G_(n,i){return(0,k.zW)()?function dI(n,i){return function gg(n,i){return mg.apply(this,arguments)}(function W_(n){return`${n.options.appId}-${n.name}`}(n),i)}(n,i).catch(t=>{yh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vg(){return ug().enabled}function K_(){return q_.apply(this,arguments)}function q_(){return(q_=(0,ji.A)(function*(){const n=ug();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ew={error:"UNKNOWN_ERROR"};function Iw(n){return k.K3.encodeString(JSON.stringify(n),!1)}function yg(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,ji.A)(function*(n,i=!1){const t=n.app;lg(t);const o=Vn(t);let f,u=o.token;if(u&&!zd(u)&&(o.token=void 0,u=void 0),!u){const D=yield o.cachedTokenPromise;D&&(zd(D)?u=D:yield G_(t,void 0))}if(!i&&u&&zd(u))return{token:u.token};let C,p=!1;if(vg()){o.exchangeTokenPromise||(o.exchangeTokenPromise=fg(Tu(t,yield K_()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),p=!0);const D=yield o.exchangeTokenPromise;return yield G_(t,D),o.token=D,{token:D.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),p=!0),u=yield Vn(t).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?yh.warn(D.message):yh.error(D),f=D}return u?f?C=zd(u)?{token:u.token,internalError:f}:Gd(f):(C={token:u.token},o.token=u,yield G_(t,u)):C=Gd(f),p&&function _I(n,i){const t=Vn(n).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=i.error?o.error(i.error):o.next(i)}catch{}}(t,C),C})).apply(this,arguments)}function gI(n){return Q_.apply(this,arguments)}function Q_(){return(Q_=(0,ji.A)(function*(n){const i=n.app;lg(i);const{provider:t}=Vn(i);if(vg()){const o=yield K_(),{token:u}=yield fg(Tu(i,o),n.heartbeatServiceProvider);return{token:u}}{const{token:o}=yield t.getToken();return{token:o}}})).apply(this,arguments)}function Z_(n,i){const t=Vn(n),o=t.tokenObservers.filter(u=>u.next!==i);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=o}function mI(n){const{app:i}=n,t=Vn(i);let o=t.tokenRefresher;o||(o=function Cw(n){const{app:i}=n;return new fw((0,ji.A)(function*(){let o;if(o=Vn(i).token?yield yg(n,!0):yield yg(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const t=Vn(i);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},H_.RETRIAL_MIN_WAIT,H_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=o),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function zd(n){return n.expireTimeMillis-Date.now()>0}function Gd(n){return{token:Iw(Ew),error:n}}class vI{constructor(i,t){this.app=i,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:i}=Vn(this.app);for(const t of i)Z_(this.app,t.next);return Promise.resolve()}}const Ih="app-check-internal";!function Mw(){(0,Uc._registerComponent)(new fu.uA("app-check",n=>function yI(n,i){return new vI(n,i)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,i,t)=>{n.getProvider(Ih).initialize()})),(0,Uc._registerComponent)(new fu.uA(Ih,n=>function EI(n){return{getToken:i=>yg(n,i),getLimitedUseToken:()=>gI(n),addTokenListener:i=>function X_(n,i,t,o){const{app:u}=n,f=Vn(u);if(f.tokenObservers=[...f.tokenObservers,{next:t,error:o,type:i}],f.token&&zd(f.token)){const C=f.token;Promise.resolve().then(()=>{t({token:C.token}),mI(n)}).catch(()=>{})}f.cachedTokenPromise.then(()=>mI(n))}(n,"INTERNAL",i),removeTokenListener:i=>Z_(n.app,i)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uc.registerVersion)("@firebase/app-check","0.8.0")}();class tv{constructor(){return(0,gi.CA)("app-check")}}typeof window<"u"&&window;var rv=P(7935);const bg=new _.nKC("angularfire2.auth.use-emulator"),Ag=new _.nKC("angularfire2.auth.settings"),xI=new _.nKC("angularfire2.auth.tenant-id"),kI=new _.nKC("angularfire2.auth.langugage-code"),LI=new _.nKC("angularfire2.auth.use-device-language"),FI=new _.nKC("angularfire.auth.persistence"),iv=(n,i,t,o,u,f,p,C)=>(0,Bi.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=i.runOutsideAngular(()=>n.auth());if(t&&D.useEmulator(...t),o&&(D.tenantId=o),D.languageCode=u,f&&D.useDeviceLanguage(),p)for(const[M,U]of Object.entries(p))D.settings[M]=U;return C&&D.setPersistence(C),D},[t,o,u,f,p,C]);let Tg=(()=>{class n{constructor(t,o,u,f,p,C,D,M,U,$,q,we){const Le=new Hr.B,at=(0,it.of)(void 0).pipe((0,og.Q)(p.outsideAngular),(0,dn.n)(()=>f.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6922)))),(0,ht.T)(()=>(0,Bi.iB)(t,f,o)),(0,ht.T)(Nt=>iv(Nt,f,C,M,U,$,D,q)),JE({bufferSize:1,refCount:!1}));if(Oa(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{at.pipe(is()).subscribe();const Zt=at.pipe((0,dn.n)(Jt=>Jt.getRedirectResult().then(Lr=>Lr,()=>null)),gi.U0,JE({bufferSize:1,refCount:!1})),nn=at.pipe((0,dn.n)(Jt=>new Pr.c(Lr=>({unsubscribe:f.runOutsideAngular(()=>Jt.onAuthStateChanged(fl=>Lr.next(fl),fl=>Lr.error(fl),()=>Lr.complete()))})))),dr=at.pipe((0,dn.n)(Jt=>new Pr.c(Lr=>({unsubscribe:f.runOutsideAngular(()=>Jt.onIdTokenChanged(fl=>Lr.next(fl),fl=>Lr.error(fl),()=>Lr.complete()))}))));this.authState=Zt.pipe(Hd(nn),(0,U_._)(p.outsideAngular),(0,og.Q)(p.insideAngular)),this.user=Zt.pipe(Hd(dr),(0,U_._)(p.outsideAngular),(0,og.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,dn.n)(Jt=>Jt?(0,Fn.H)(Jt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,dn.n)(Jt=>Jt?(0,Fn.H)(Jt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,am.h)(Zt,Le,this.authState.pipe(ei(Jt=>!Jt))).pipe((0,ht.T)(Jt=>Jt?.user?Jt:null),(0,U_._)(p.outsideAngular),(0,og.Q)(p.insideAngular))}return(0,Bi.Gt)(this,at,f,{spy:{apply:(Nt,Zt,nn)=>{(Nt.startsWith("signIn")||Nt.startsWith("createUser"))&&nn.then(dr=>Le.next(dr))}}})}}return n.\u0275fac=function(t){return new(t||n)(_.KVO(Bi.rx),_.KVO(Bi.uP,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(gi.u0),_.KVO(bg,8),_.KVO(Ag,8),_.KVO(xI,8),_.KVO(kI,8),_.KVO(LI,8),_.KVO(FI,8),_.KVO(tv,8))},n.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function sv(n){return null==n}function VI(n){return"function"==typeof n.set}function ov(n,i){return VI(i)?i:n.ref(i)}function av(n,i){if(function Fw(n){return"string"==typeof n}(n))return i.stringCase();if(VI(n))return i.firebaseCase();if(function UI(n){return"function"==typeof n.exportVal}(n))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ch(n,i,t="on",o=up.E){return new Pr.c(u=>{let f=null;return f=n[t](i,(p,C)=>{o.schedule(()=>{u.next({snapshot:p,prevKey:C})}),"once"===t&&o.schedule(()=>u.complete())},p=>{o.schedule(()=>u.error(p))}),"on"===t?{unsubscribe(){null!=f&&n.off(i,f)}}:{unsubscribe(){}}}).pipe((0,ht.T)(u=>{const{snapshot:f,prevKey:p}=u;let C=null;return f.exists()&&(C=f.key),{type:i,payload:f,prevKey:p,key:C}}),(0,cp.u)())}function jI(n,i){const t=n.length;for(let o=0;o<t;o++)if(n[o].payload.key===i)return o;return-1}function qd(n,i){const{payload:t,prevKey:o,key:u}=i,f=jI(n,u),p=function oi(n,i){if(sv(i))return 0;{const t=jI(n,i);return-1===t?n.length:t+1}}(n,o);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let C=null;i.payload.forEach(D=>{const M={payload:D,type:"value",prevKey:C,key:D.key};return C=D.key,n=[...n,M],!1})}return n;case"child_added":if(f>-1){const C=n[f-1];(C&&C.key||null)!==o&&(n=n.filter(D=>D.payload.key!==t.key)).splice(p,0,i)}else{if(null==o)return[i,...n];(n=n.slice()).splice(p,0,i)}return n;case"child_removed":return n.filter(C=>C.payload.key!==t.key);case"child_changed":return n.map(C=>C.payload.key===u?i:C);case"child_moved":if(f>-1){const C=n.splice(f,1)[0];return(n=n.slice()).splice(p,0,C),n}return n;default:return n}}function HI(n){return(sv(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function $I(n,i,t){return function BI(n,i,t){return Ch(n,"value","once",t).pipe((0,dn.n)(o=>{const u=[(0,it.of)(o)];return i.forEach(f=>u.push(Ch(n,f,"on",t))),(0,am.h)(...u).pipe(ss(qd,[]))}),(0,lp.F)())}(n,i=HI(i),t)}function Uw(n,i,t){const o=(i=HI(i)).map(u=>Ch(n,u,"on",t));return(0,am.h)(...o)}function Vw(n,i){return function(o,u){return av(o,{stringCase:()=>n.child(o)[i](u),firebaseCase:()=>o[i](u),snapshotCase:()=>o.ref[i](u)})}}function lb(n){return function(t){return t?av(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Yd(n,i){return function(){return Ch(n,"value","on",i)}}const cv=new _.nKC("angularfire2.realtimeDatabaseURL"),jw=new _.nKC("angularfire2.database.use-emulator");let lv=(()=>{class n{constructor(t,o,u,f,p,C,D,M,U,$,q,we,Le,at,Nt){this.schedulers=C;const Zt=D,nn=(0,Bi.iB)(t,p,o);M&&iv(nn,p,U,q,we,Le,$,at),this.database=(0,Bi.BM)(`${nn.name}.database.${u}`,"AngularFireDatabase",nn.name,()=>{const dr=p.runOutsideAngular(()=>nn.database(u||void 0));return Zt&&dr.useEmulator(...Zt),dr},[Zt])}list(t,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>ov(this.database,t));let f=u;return o&&(f=o(u)),function db(n,i){const t=i.schedulers.outsideAngular,o=i.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Vw(o,"update"),set:Vw(o,"set"),push:u=>o.push(u),remove:lb(o),snapshotChanges:u=>$I(n,u,t).pipe(gi.U0),stateChanges:u=>Uw(n,u,t).pipe(gi.U0),auditTrail:u=>function cb(n,i,t){return function uv(n,i,t){return function WI(n,i){return Ch(n,"value","on",i).pipe((0,ht.T)(t=>{let o;return t.payload.forEach(u=>(o=u.key,!1)),{data:t,lastKeyToLoad:o}}))}(n,t).pipe(function Ro(...n){const i=(0,Li.ms)(n);return(0,er.N)((t,o)=>{const u=n.length,f=new Array(u);let p=n.map(()=>!1),C=!1;for(let D=0;D<u;D++)(0,Ls.Tg)(n[D]).subscribe((0,jt._)(o,M=>{f[D]=M,!C&&!p[D]&&(p[D]=!0,(C=p.every(Zr.D))&&(p=null))},Zo.l));t.subscribe((0,jt._)(o,D=>{if(C){const M=[D,...f];o.next(i?i(...M):M)}}))})}(i),(0,ht.T)(([u,f])=>{const p=u.lastKeyToLoad,C=f.map(D=>D.key);return{actions:f,lastKeyToLoad:p,loadedKeys:C}}),function ud(n){return(0,er.N)((i,t)=>{let o=!1,u=0;i.subscribe((0,jt._)(t,f=>(o||(o=!n(f,u++)))&&t.next(f)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,ht.T)(u=>u.actions))}(n,Uw(n,i).pipe(ss((u,f)=>[...u,f],[])),t)}(n,u,t).pipe(gi.U0),valueChanges:(u,f)=>$I(n,u,t).pipe((0,ht.T)(C=>C.map(D=>f&&f.idField?Object.assign(Object.assign({},D.payload.val()),{[f.idField]:D.key}):D.payload.val())),gi.U0)}}(f,this)}object(t){return function Bw(n,i){return{query:n,snapshotChanges:()=>Yd(n,i.schedulers.outsideAngular)().pipe(gi.U0),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Yd(n,i.schedulers.outsideAngular)().pipe(gi.U0,(0,ht.T)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ov(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(_.KVO(Bi.rx),_.KVO(Bi.uP,8),_.KVO(cv,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(gi.u0),_.KVO(jw,8),_.KVO(Tg,8),_.KVO(bg,8),_.KVO(Ag,8),_.KVO(xI,8),_.KVO(kI,8),_.KVO(LI,8),_.KVO(FI,8),_.KVO(tv,8))},n.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Hw=(()=>{class n{constructor(){rv.A.registerVersion("angularfire",gi.xv.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.$C({type:n}),n.\u0275inj=_.G2t({providers:[lv]}),n})();const $w_firebaseConfig={apiKey:"AIzaSyCS_LkrMcqZxatrXc7HFiHf4cK4QzriT3M",authDomain:"smartgrow-4c523.firebaseapp.com",databaseURL:"https://smartgrow-4c523-default-rtdb.europe-west1.firebasedatabase.app",projectId:"smartgrow-4c523",storageBucket:"smartgrow-4c523.firebasestorage.app",messagingSenderId:"539246249781",appId:"1:539246249781:web:548be1e89823843ad3ee7c"};let Ww=(()=>{class n{constructor(t){this.db=t}getSensorData(){return this.db.object("/").valueChanges()}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(lv))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dv(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Humidit\xe9 : ",t.sensorData.humidite," %")}}function zI(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Humidit\xe9 du sol : ",t.sensorData.humidite_sol," %")}}function zw(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Temp\xe9rature : ",t.sensorData.temperature," \xb0C")}}function Sg(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Luminosit\xe9 : ",t.sensorData.luminosite," Lux")}}function fv(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de l'humidit\xe9 : ",_.i5U(2,1,t.sensorData.humidite_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}function fb(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de l'humidit\xe9 du sol : ",_.i5U(2,1,t.sensorData.humidite_sol_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}function GI(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de la temp\xe9rature : ",_.i5U(2,1,t.sensorData.temperature_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}function Gw(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de la luminosit\xe9 : ",_.i5U(2,1,t.sensorData.luminosite_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}let KI=(()=>{class n{constructor(t){this.sensorDataService=t,this.sensorData={},this.title="smartgrow"}ngOnInit(){this.sensorDataService.getSensorData().subscribe(t=>{console.log(t),this.sensorData=t},t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t)})}static{this.\u0275fac=function(o){return new(o||n)(_.rXU(Ww))}}static{this.\u0275cmp=_.VBU({type:n,selectors:[["app-root"]],decls:10,vars:8,consts:[[4,"ngIf"]],template:function(o,u){1&o&&(_.j41(0,"h1"),_.EFF(1,"SmartGrow - Surveillance des Capteurs"),_.k0s(),_.DNE(2,dv,2,1,"p",0),_.DNE(3,zI,2,1,"p",0),_.DNE(4,zw,2,1,"p",0),_.DNE(5,Sg,2,1,"p",0),_.DNE(6,fv,3,4,"p",0),_.DNE(7,fb,3,4,"p",0),_.DNE(8,GI,3,4,"p",0),_.DNE(9,Gw,3,4,"p",0)),2&o&&(_.R7$(2),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite_sol),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.temperature),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.luminosite),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite_time),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite_time),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.temperature_time),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.luminosite_time))},dependencies:[Fo,On],styles:[".container[_ngcontent-%COMP%]{text-align:center;padding:20px}h1[_ngcontent-%COMP%]{color:#4caf50}h2[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{color:#999}"]})}}return n})(),Qd=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=_.$C({type:n,bootstrap:[KI]})}static{this.\u0275inj=_.G2t({imports:[Ji,sm,Bi.bf.initializeApp($w_firebaseConfig),Hw]})}}return n})();Ln().bootstrapModule(Qd).catch(n=>console.error(n))},4412:(Xe,ye,P)=>{P.d(ye,{t:()=>X});var _=P(1413);class X extends _.B{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const re=super._subscribe(ee);return!re.closed&&ee.next(this._value),re}getValue(){const{hasError:ee,thrownError:re,_value:fe}=this;if(ee)throw re;return this._throwIfClosed(),fe}next(ee){super.next(this._value=ee)}}},1985:(Xe,ye,P)=>{P.d(ye,{c:()=>Te});var _=P(7707),X=P(8359),O=P(3494),ee=P(1203),re=P(1026),fe=P(8071),pe=P(9786);let Te=(()=>{class Q{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Be=new Q;return Be.source=this,Be.operator=Ce,Be}subscribe(Ce,Be,Ae){const Fe=function j(Q){return Q&&Q instanceof _.vU||function L(Q){return Q&&(0,fe.T)(Q.next)&&(0,fe.T)(Q.error)&&(0,fe.T)(Q.complete)}(Q)&&(0,X.Uv)(Q)}(Ce)?Ce:new _.Ms(Ce,Be,Ae);return(0,pe.Y)(()=>{const{operator:Me,source:nt}=this;Fe.add(Me?Me.call(Fe,nt):nt?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Be){Ce.error(Be)}}forEach(Ce,Be){return new(Be=de(Be))((Ae,Fe)=>{const Me=new _.Ms({next:nt=>{try{Ce(nt)}catch(Ze){Fe(Ze),Me.unsubscribe()}},error:Fe,complete:Ae});this.subscribe(Me)})}_subscribe(Ce){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ce)}[O.s](){return this}pipe(...Ce){return(0,ee.m)(Ce)(this)}toPromise(Ce){return new(Ce=de(Ce))((Be,Ae)=>{let Fe;this.subscribe(Me=>Fe=Me,Me=>Ae(Me),()=>Be(Fe))})}}return Q.create=Ne=>new Q(Ne),Q})();function de(Q){var Ne;return null!==(Ne=Q??re.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Xe,ye,P)=>{P.d(ye,{B:()=>pe});var _=P(1985),X=P(8359);const ee=(0,P(1853).L)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=P(7908),fe=P(9786);let pe=(()=>{class de extends _.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new Te(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new ee}next(j){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Ne,observers:Ce}=this;return Q||Ne?X.Kn:(this.currentObservers=null,Ce.push(j),new X.yU(()=>{this.currentObservers=null,(0,re.o)(Ce,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Ne,isStopped:Ce}=this;Q?j.error(Ne):Ce&&j.complete()}asObservable(){const j=new _.c;return j.source=this,j}}return de.create=(L,j)=>new Te(L,j),de})();class Te extends pe{constructor(L,j){super(),this.destination=L,this.source=j}next(L){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,L)}error(L){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,L)}complete(){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===j||j.call(L)}_subscribe(L){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(L))&&void 0!==Q?Q:X.Kn}}},7707:(Xe,ye,P)=>{P.d(ye,{Ms:()=>Ae,vU:()=>Q});var _=P(8071),X=P(8359),O=P(1026),ee=P(5334),re=P(5343);const fe=de("C",void 0,void 0);function de(ne,ge,te){return{kind:ne,value:ge,error:te}}var L=P(9270),j=P(9786);class Q extends X.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,X.Uv)(ge)&&ge.add(this)):this.destination=Ze}static create(ge,te,ve){return new Ae(ge,te,ve)}next(ge){this.isStopped?nt(function Te(ne){return de("N",ne,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?nt(function pe(ne){return de("E",void 0,ne)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?nt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ce(ne,ge){return Ne.call(ne,ge)}class Be{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:te}=this;if(te.next)try{te.next(ge)}catch(ve){Fe(ve)}}error(ge){const{partialObserver:te}=this;if(te.error)try{te.error(ge)}catch(ve){Fe(ve)}else Fe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(te){Fe(te)}}}class Ae extends Q{constructor(ge,te,ve){let Re;if(super(),(0,_.T)(ge)||!ge)Re={next:ge??void 0,error:te??void 0,complete:ve??void 0};else{let Ue;this&&O.$.useDeprecatedNextContext?(Ue=Object.create(ge),Ue.unsubscribe=()=>this.unsubscribe(),Re={next:ge.next&&Ce(ge.next,Ue),error:ge.error&&Ce(ge.error,Ue),complete:ge.complete&&Ce(ge.complete,Ue)}):Re=ge}this.destination=new Be(Re)}}function Fe(ne){O.$.useDeprecatedSynchronousErrorHandling?(0,j.l)(ne):(0,ee.m)(ne)}function nt(ne,ge){const{onStoppedNotification:te}=O.$;te&&L.f.setTimeout(()=>te(ne,ge))}const Ze={closed:!0,next:re.l,error:function Me(ne){throw ne},complete:re.l}},8359:(Xe,ye,P)=>{P.d(ye,{Kn:()=>fe,yU:()=>re,Uv:()=>pe});var _=P(8071);const O=(0,P(1853).L)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Ne)=>`${Ne+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ee=P(7908);class re{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ce of j)Ce.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,_.T)(Q))try{Q()}catch(Ce){L=Ce instanceof O?Ce.errors:[Ce]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ce of Ne)try{Te(Ce)}catch(Be){L=L??[],Be instanceof O?L=[...L,...Be.errors]:L.push(Be)}}if(L)throw new O(L)}}add(L){var j;if(L&&L!==this)if(this.closed)Te(L);else{if(L instanceof re){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(L)}}_hasParent(L){const{_parentage:j}=this;return j===L||Array.isArray(j)&&j.includes(L)}_addParent(L){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(L),j):j?[j,L]:L}_removeParent(L){const{_parentage:j}=this;j===L?this._parentage=null:Array.isArray(j)&&(0,ee.o)(j,L)}remove(L){const{_finalizers:j}=this;j&&(0,ee.o)(j,L),L instanceof re&&L._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const fe=re.EMPTY;function pe(de){return de instanceof re||de&&"closed"in de&&(0,_.T)(de.remove)&&(0,_.T)(de.add)&&(0,_.T)(de.unsubscribe)}function Te(de){(0,_.T)(de)?de():de.unsubscribe()}},1026:(Xe,ye,P)=>{P.d(ye,{$:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Xe,ye,P)=>{P.d(ye,{w:()=>X});const X=new(P(1985).c)(re=>re.complete())},8455:(Xe,ye,P)=>{P.d(ye,{H:()=>ge});var _=P(8750),X=P(941),O=P(6745),fe=P(1985),Te=P(4761),de=P(8071),L=P(5225);function Q(te,ve){if(!te)throw new Error("Iterable cannot be null");return new fe.c(Re=>{(0,L.N)(Re,ve,()=>{const Ue=te[Symbol.asyncIterator]();(0,L.N)(Re,ve,()=>{Ue.next().then(ae=>{ae.done?Re.complete():Re.next(ae.value)})},0,!0)})})}var Ne=P(5055),Ce=P(9858),Be=P(7441),Ae=P(5397),Fe=P(7953),Me=P(591),nt=P(5196);function ge(te,ve){return ve?function ne(te,ve){if(null!=te){if((0,Ne.l)(te))return function ee(te,ve){return(0,_.Tg)(te).pipe((0,O._)(ve),(0,X.Q)(ve))}(te,ve);if((0,Be.X)(te))return function pe(te,ve){return new fe.c(Re=>{let Ue=0;return ve.schedule(function(){Ue===te.length?Re.complete():(Re.next(te[Ue++]),Re.closed||this.schedule())})})}(te,ve);if((0,Ce.y)(te))return function re(te,ve){return(0,_.Tg)(te).pipe((0,O._)(ve),(0,X.Q)(ve))}(te,ve);if((0,Fe.T)(te))return Q(te,ve);if((0,Ae.x)(te))return function j(te,ve){return new fe.c(Re=>{let Ue;return(0,L.N)(Re,ve,()=>{Ue=te[Te.l](),(0,L.N)(Re,ve,()=>{let ae,st;try{({value:ae,done:st}=Ue.next())}catch(Ct){return void Re.error(Ct)}st?Re.complete():Re.next(ae)},0,!0)}),()=>(0,de.T)(Ue?.return)&&Ue.return()})}(te,ve);if((0,nt.U)(te))return function Ze(te,ve){return Q((0,nt.C)(te),ve)}(te,ve)}throw(0,Me.L)(te)}(te,ve):(0,_.Tg)(te)}},8750:(Xe,ye,P)=>{P.d(ye,{Tg:()=>Ne});var _=P(1635),X=P(7441),O=P(9858),ee=P(1985),re=P(5055),fe=P(7953),pe=P(591),Te=P(5397),de=P(5196),L=P(8071),j=P(5334),Q=P(3494);function Ne(ne){if(ne instanceof ee.c)return ne;if(null!=ne){if((0,re.l)(ne))return function Ce(ne){return new ee.c(ge=>{const te=ne[Q.s]();if((0,L.T)(te.subscribe))return te.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,X.X)(ne))return function Be(ne){return new ee.c(ge=>{for(let te=0;te<ne.length&&!ge.closed;te++)ge.next(ne[te]);ge.complete()})}(ne);if((0,O.y)(ne))return function Ae(ne){return new ee.c(ge=>{ne.then(te=>{ge.closed||(ge.next(te),ge.complete())},te=>ge.error(te)).then(null,j.m)})}(ne);if((0,fe.T)(ne))return Me(ne);if((0,Te.x)(ne))return function Fe(ne){return new ee.c(ge=>{for(const te of ne)if(ge.next(te),ge.closed)return;ge.complete()})}(ne);if((0,de.U)(ne))return function nt(ne){return Me((0,de.C)(ne))}(ne)}throw(0,pe.L)(ne)}function Me(ne){return new ee.c(ge=>{(function Ze(ne,ge){var te,ve,Re,Ue;return(0,_.sH)(this,void 0,void 0,function*(){try{for(te=(0,_.xN)(ne);!(ve=yield te.next()).done;)if(ge.next(ve.value),ge.closed)return}catch(ae){Re={error:ae}}finally{try{ve&&!ve.done&&(Ue=te.return)&&(yield Ue.call(te))}finally{if(Re)throw Re.error}}ge.complete()})})(ne,ge).catch(te=>ge.error(te))})}},7786:(Xe,ye,P)=>{P.d(ye,{h:()=>fe});var _=P(6365),X=P(8750),O=P(983),ee=P(3794),re=P(8455);function fe(...pe){const Te=(0,ee.lI)(pe),de=(0,ee.R0)(pe,1/0),L=pe;return L.length?1===L.length?(0,X.Tg)(L[0]):(0,_.U)(de)((0,re.H)(L,Te)):O.w}},7673:(Xe,ye,P)=>{P.d(ye,{of:()=>O});var _=P(3794),X=P(8455);function O(...ee){const re=(0,_.lI)(ee);return(0,X.H)(ee,re)}},4360:(Xe,ye,P)=>{P.d(ye,{_:()=>X});var _=P(7707);function X(ee,re,fe,pe,Te){return new O(ee,re,fe,pe,Te)}class O extends _.vU{constructor(re,fe,pe,Te,de,L){super(re),this.onFinalize=de,this.shouldUnsubscribe=L,this._next=fe?function(j){try{fe(j)}catch(Q){re.error(Q)}}:super._next,this._error=Te?function(j){try{Te(j)}catch(Q){re.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3294:(Xe,ye,P)=>{P.d(ye,{F:()=>ee});var _=P(3669),X=P(9974),O=P(4360);function ee(fe,pe=_.D){return fe=fe??re,(0,X.N)((Te,de)=>{let L,j=!0;Te.subscribe((0,O._)(de,Q=>{const Ne=pe(Q);(j||!fe(L,Ne))&&(j=!1,L=Ne,de.next(Q))}))})}function re(fe,pe){return fe===pe}},6354:(Xe,ye,P)=>{P.d(ye,{T:()=>O});var _=P(9974),X=P(4360);function O(ee,re){return(0,_.N)((fe,pe)=>{let Te=0;fe.subscribe((0,X._)(pe,de=>{pe.next(ee.call(re,de,Te++))}))})}},6365:(Xe,ye,P)=>{P.d(ye,{U:()=>O});var _=P(1397),X=P(3669);function O(ee=1/0){return(0,_.Z)(X.D,ee)}},1397:(Xe,ye,P)=>{P.d(ye,{Z:()=>Te});var _=P(6354),X=P(8750),O=P(9974),ee=P(5225),re=P(4360),pe=P(8071);function Te(de,L,j=1/0){return(0,pe.T)(L)?Te((Q,Ne)=>(0,_.T)((Ce,Be)=>L(Q,Ce,Ne,Be))((0,X.Tg)(de(Q,Ne))),j):("number"==typeof L&&(j=L),(0,O.N)((Q,Ne)=>function fe(de,L,j,Q,Ne,Ce,Be,Ae){const Fe=[];let Me=0,nt=0,Ze=!1;const ne=()=>{Ze&&!Fe.length&&!Me&&L.complete()},ge=ve=>Me<Q?te(ve):Fe.push(ve),te=ve=>{Ce&&L.next(ve),Me++;let Re=!1;(0,X.Tg)(j(ve,nt++)).subscribe((0,re._)(L,Ue=>{Ne?.(Ue),Ce?ge(Ue):L.next(Ue)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Me--;Fe.length&&Me<Q;){const Ue=Fe.shift();Be?(0,ee.N)(L,Be,()=>te(Ue)):te(Ue)}ne()}catch(Ue){L.error(Ue)}}))};return de.subscribe((0,re._)(L,ge,()=>{Ze=!0,ne()})),()=>{Ae?.()}}(Q,Ne,de,j)))}},941:(Xe,ye,P)=>{P.d(ye,{Q:()=>ee});var _=P(5225),X=P(9974),O=P(4360);function ee(re,fe=0){return(0,X.N)((pe,Te)=>{pe.subscribe((0,O._)(Te,de=>(0,_.N)(Te,re,()=>Te.next(de),fe),()=>(0,_.N)(Te,re,()=>Te.complete(),fe),de=>(0,_.N)(Te,re,()=>Te.error(de),fe)))})}},7647:(Xe,ye,P)=>{P.d(ye,{u:()=>re});var _=P(8750),X=P(1413),O=P(7707),ee=P(9974);function re(pe={}){const{connector:Te=(()=>new X.B),resetOnError:de=!0,resetOnComplete:L=!0,resetOnRefCountZero:j=!0}=pe;return Q=>{let Ne,Ce,Be,Ae=0,Fe=!1,Me=!1;const nt=()=>{Ce?.unsubscribe(),Ce=void 0},Ze=()=>{nt(),Ne=Be=void 0,Fe=Me=!1},ne=()=>{const ge=Ne;Ze(),ge?.unsubscribe()};return(0,ee.N)((ge,te)=>{Ae++,!Me&&!Fe&&nt();const ve=Be=Be??Te();te.add(()=>{Ae--,0===Ae&&!Me&&!Fe&&(Ce=fe(ne,j))}),ve.subscribe(te),!Ne&&Ae>0&&(Ne=new O.Ms({next:Re=>ve.next(Re),error:Re=>{Me=!0,nt(),Ce=fe(Ze,de,Re),ve.error(Re)},complete:()=>{Fe=!0,nt(),Ce=fe(Ze,L),ve.complete()}}),(0,_.Tg)(ge).subscribe(Ne))})(Q)}}function fe(pe,Te,...de){if(!0===Te)return void pe();if(!1===Te)return;const L=new O.Ms({next:()=>{L.unsubscribe(),pe()}});return(0,_.Tg)(Te(...de)).subscribe(L)}},6745:(Xe,ye,P)=>{P.d(ye,{_:()=>X});var _=P(9974);function X(O,ee=0){return(0,_.N)((re,fe)=>{fe.add(O.schedule(()=>re.subscribe(fe),ee))})}},5558:(Xe,ye,P)=>{P.d(ye,{n:()=>ee});var _=P(8750),X=P(9974),O=P(4360);function ee(re,fe){return(0,X.N)((pe,Te)=>{let de=null,L=0,j=!1;const Q=()=>j&&!de&&Te.complete();pe.subscribe((0,O._)(Te,Ne=>{de?.unsubscribe();let Ce=0;const Be=L++;(0,_.Tg)(re(Ne,Be)).subscribe(de=(0,O._)(Te,Ae=>Te.next(fe?fe(Ne,Ae,Be,Ce++):Ae),()=>{de=null,Q()}))},()=>{j=!0,Q()}))})}},8141:(Xe,ye,P)=>{P.d(ye,{M:()=>re});var _=P(8071),X=P(9974),O=P(4360),ee=P(3669);function re(fe,pe,Te){const de=(0,_.T)(fe)||pe||Te?{next:fe,error:pe,complete:Te}:fe;return de?(0,X.N)((L,j)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let Ne=!0;L.subscribe((0,O._)(j,Ce=>{var Be;null===(Be=de.next)||void 0===Be||Be.call(de,Ce),j.next(Ce)},()=>{var Ce;Ne=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),j.complete()},Ce=>{var Be;Ne=!1,null===(Be=de.error)||void 0===Be||Be.call(de,Ce),j.error(Ce)},()=>{var Ce,Be;Ne&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(Be=de.finalize)||void 0===Be||Be.call(de)}))}):ee.D}},6780:(Xe,ye,P)=>{P.d(ye,{R:()=>re});var _=P(8359);class X extends _.yU{constructor(pe,Te){super()}schedule(pe,Te=0){return this}}const O={setInterval(fe,pe,...Te){const{delegate:de}=O;return de?.setInterval?de.setInterval(fe,pe,...Te):setInterval(fe,pe,...Te)},clearInterval(fe){const{delegate:pe}=O;return(pe?.clearInterval||clearInterval)(fe)},delegate:void 0};var ee=P(7908);class re extends X{constructor(pe,Te){super(pe,Te),this.scheduler=pe,this.work=Te,this.pending=!1}schedule(pe,Te=0){var de;if(this.closed)return this;this.state=pe;const L=this.id,j=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(j,L,Te)),this.pending=!0,this.delay=Te,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,Te),this}requestAsyncId(pe,Te,de=0){return O.setInterval(pe.flush.bind(pe,this),de)}recycleAsyncId(pe,Te,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Te;null!=Te&&O.clearInterval(Te)}execute(pe,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(pe,Te);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Te){let L,de=!1;try{this.work(pe)}catch(j){de=!0,L=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Te}=this,{actions:de}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.o)(de,this),null!=pe&&(this.id=this.recycleAsyncId(Te,pe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Xe,ye,P)=>{P.d(ye,{q:()=>O});var _=P(6129);class X{constructor(re,fe=X.now){this.schedulerActionCtor=re,this.now=fe}schedule(re,fe=0,pe){return new this.schedulerActionCtor(this,re).schedule(pe,fe)}}X.now=_.U.now;class O extends X{constructor(re,fe=X.now){super(re,fe),this.actions=[],this._active=!1}flush(re){const{actions:fe}=this;if(this._active)return void fe.push(re);let pe;this._active=!0;do{if(pe=re.execute(re.state,re.delay))break}while(re=fe.shift());if(this._active=!1,pe){for(;re=fe.shift();)re.unsubscribe();throw pe}}}},3236:(Xe,ye,P)=>{P.d(ye,{E:()=>O});var _=P(6780);const O=new(P(9687).q)(_.R)},6129:(Xe,ye,P)=>{P.d(ye,{U:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},9270:(Xe,ye,P)=>{P.d(ye,{f:()=>_});const _={setTimeout(X,O,...ee){const{delegate:re}=_;return re?.setTimeout?re.setTimeout(X,O,...ee):setTimeout(X,O,...ee)},clearTimeout(X){const{delegate:O}=_;return(O?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4761:(Xe,ye,P)=>{P.d(ye,{l:()=>X});const X=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Xe,ye,P)=>{P.d(ye,{s:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Xe,ye,P)=>{P.d(ye,{R0:()=>fe,ms:()=>ee,lI:()=>re});var _=P(8071);function O(pe){return pe[pe.length-1]}function ee(pe){return(0,_.T)(O(pe))?pe.pop():void 0}function re(pe){return function X(pe){return pe&&(0,_.T)(pe.schedule)}(O(pe))?pe.pop():void 0}function fe(pe,Te){return"number"==typeof O(pe)?pe.pop():Te}},7908:(Xe,ye,P)=>{function _(X,O){if(X){const ee=X.indexOf(O);0<=ee&&X.splice(ee,1)}}P.d(ye,{o:()=>_})},1853:(Xe,ye,P)=>{function _(X){const ee=X(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}P.d(ye,{L:()=>_})},9786:(Xe,ye,P)=>{P.d(ye,{Y:()=>O,l:()=>ee});var _=P(1026);let X=null;function O(re){if(_.$.useDeprecatedSynchronousErrorHandling){const fe=!X;if(fe&&(X={errorThrown:!1,error:null}),re(),fe){const{errorThrown:pe,error:Te}=X;if(X=null,pe)throw Te}}else re()}function ee(re){_.$.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=re)}},5225:(Xe,ye,P)=>{function _(X,O,ee,re=0,fe=!1){const pe=O.schedule(function(){ee(),fe?X.add(this.schedule(null,re)):this.unsubscribe()},re);if(X.add(pe),!fe)return pe}P.d(ye,{N:()=>_})},3669:(Xe,ye,P)=>{function _(X){return X}P.d(ye,{D:()=>_})},7441:(Xe,ye,P)=>{P.d(ye,{X:()=>_});const _=X=>X&&"number"==typeof X.length&&"function"!=typeof X},7953:(Xe,ye,P)=>{P.d(ye,{T:()=>X});var _=P(8071);function X(O){return Symbol.asyncIterator&&(0,_.T)(O?.[Symbol.asyncIterator])}},8071:(Xe,ye,P)=>{function _(X){return"function"==typeof X}P.d(ye,{T:()=>_})},5055:(Xe,ye,P)=>{P.d(ye,{l:()=>O});var _=P(3494),X=P(8071);function O(ee){return(0,X.T)(ee[_.s])}},5397:(Xe,ye,P)=>{P.d(ye,{x:()=>O});var _=P(4761),X=P(8071);function O(ee){return(0,X.T)(ee?.[_.l])}},9858:(Xe,ye,P)=>{P.d(ye,{y:()=>X});var _=P(8071);function X(O){return(0,_.T)(O?.then)}},5196:(Xe,ye,P)=>{P.d(ye,{C:()=>O,U:()=>ee});var _=P(1635),X=P(8071);function O(re){return(0,_.AQ)(this,arguments,function*(){const pe=re.getReader();try{for(;;){const{value:Te,done:de}=yield(0,_.N3)(pe.read());if(de)return yield(0,_.N3)(void 0);yield yield(0,_.N3)(Te)}}finally{pe.releaseLock()}})}function ee(re){return(0,X.T)(re?.getReader)}},9974:(Xe,ye,P)=>{P.d(ye,{N:()=>O,S:()=>X});var _=P(8071);function X(ee){return(0,_.T)(ee?.lift)}function O(ee){return re=>{if(X(re))return re.lift(function(fe){try{return ee(fe,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Xe,ye,P)=>{function _(){}P.d(ye,{l:()=>_})},1203:(Xe,ye,P)=>{P.d(ye,{F:()=>X,m:()=>O});var _=P(3669);function X(...ee){return O(ee)}function O(ee){return 0===ee.length?_.D:1===ee.length?ee[0]:function(fe){return ee.reduce((pe,Te)=>Te(pe),fe)}}},5334:(Xe,ye,P)=>{P.d(ye,{m:()=>O});var _=P(1026),X=P(9270);function O(ee){X.f.setTimeout(()=>{const{onUnhandledError:re}=_.$;if(!re)throw ee;re(ee)})}},591:(Xe,ye,P)=>{function _(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{L:()=>_})},7705:(Xe,ye,P)=>{P.d(ye,{$C:()=>Ma,$GK:()=>tt,$K3:()=>mb,Agw:()=>dm,BIS:()=>Vc,BMQ:()=>Cd,C4Q:()=>Cg,Co$:()=>uI,DNE:()=>u_,EFF:()=>ul,EJ8:()=>Na,FsC:()=>Lu,G2t:()=>Ut,GFd:()=>Wy,H3F:()=>gb,H5H:()=>F_,H8p:()=>Bi,HJs:()=>mT,Hbi:()=>rT,JZv:()=>Vt,KH2:()=>Bd,KVO:()=>Lt,L39:()=>pT,LfX:()=>dt,MKu:()=>sD,NEm:()=>OA,NYb:()=>RA,O8t:()=>Nh,OA$:()=>co,Ocv:()=>iA,Ol2:()=>dI,PLl:()=>lm,QTQ:()=>km,Ql9:()=>aA,QuC:()=>qi,R7$:()=>by,RxE:()=>uy,SKi:()=>Sn,SpI:()=>cl,TL$:()=>Nv,Tbb:()=>Q,VBU:()=>$n,Vns:()=>Tu,WHO:()=>Eb,WQX:()=>ft,XpG:()=>cE,Xx1:()=>zl,Y8G:()=>c_,Z63:()=>od,_9s:()=>mp,_q3:()=>iD,aKT:()=>dd,aNF:()=>fI,bIt:()=>f_,bkB:()=>ds,c1b:()=>nv,czy:()=>au,e01:()=>Ib,fpN:()=>nT,gRc:()=>HA,gXe:()=>Ke,giA:()=>Cb,hnV:()=>pb,i5U:()=>J_,iLQ:()=>Zw,j41:()=>jp,jDH:()=>We,jNT:()=>al,k0s:()=>Rd,kS0:()=>Dc,kdw:()=>Gl,lsd:()=>sv,mGM:()=>Lw,mq5:()=>FE,n$t:()=>mC,nI1:()=>wI,nKC:()=>qe,naY:()=>jA,nrm:()=>Md,o8S:()=>Rg,oH4:()=>Ab,plB:()=>uv,rXU:()=>pd,sFG:()=>oy,sZ2:()=>um,uvJ:()=>Ro,w6W:()=>_w,wOt:()=>ne,wni:()=>UI,xGo:()=>jl,xe9:()=>qI,xvI:()=>ym,zZn:()=>Gs,zcH:()=>ha,zjR:()=>oE});var _=P(1413),X=P(8359),O=P(1985),ee=P(7786),re=P(4412),fe=P(7673),pe=P(7647),Te=P(5558),de=P(3294);function L(e){for(let r in e)if(e[r]===L)return r;throw Error("Could not find renamed property on target object.")}function Q(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Q).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const r=e.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(e,r){return null==e||""===e?null===r?"":r:null==r||""===r?e:e+" "+r}const Ce=L({__forward_ref__:L});function Be(e){return e.__forward_ref__=Be,e.toString=function(){return Q(this())},e}function Ae(e){return Fe(e)?e():e}function Fe(e){return"function"==typeof e&&e.hasOwnProperty(Ce)&&e.__forward_ref__===Be}function Me(e){return e&&!!e.\u0275providers}const Ze="https://g.co/ng/security#xss";class ne extends Error{constructor(r,s){super(function ge(e,r){return`NG0${Math.abs(e)}${r?": "+r:""}`}(r,s)),this.code=r}}function te(e){return"string"==typeof e?e:null==e?"":String(e)}function st(e,r){throw new ne(-201,!1)}function Ee(e,r){null==e&&function ue(e,r,s,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,e,null,"!=")}function We(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ut(e){return{providers:e.providers||[],imports:e.imports||[]}}function ir(e){return an(e,fn)||an(e,Gi)}function dt(e){return null!==ir(e)}function an(e,r){return e.hasOwnProperty(r)?e[r]:null}function Mn(e){return e&&(e.hasOwnProperty(Sr)||e.hasOwnProperty(ko))?e[Sr]:null}const fn=L({\u0275prov:L}),Sr=L({\u0275inj:L}),Gi=L({ngInjectableDef:L}),ko=L({ngInjectorDef:L});var tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tt||{});let wt;function Gt(e){const r=wt;return wt=e,r}function rn(e,r,s){const a=ir(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tt.Optional?null:void 0!==r?r:void st(Q(e))}const Vt=globalThis;class qe{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=We({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const un={},Yr="__NG_DI_FLAG__",or="ngTempTokenPath",F=/\n/gm,_e="__source";let ie;function rt(e){const r=ie;return ie=e,r}function Mt(e,r=tt.Default){if(void 0===ie)throw new ne(-203,!1);return null===ie?rn(e,void 0,r):ie.get(e,r&tt.Optional?null:void 0,r)}function Lt(e,r=tt.Default){return(function lt(){return wt}()||Mt)(Ae(e),r)}function ft(e,r=tt.Default){return Lt(e,Tt(r))}function Tt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hn(e){const r=[];for(let s=0;s<e.length;s++){const a=Ae(e[s]);if(Array.isArray(a)){if(0===a.length)throw new ne(900,!1);let c,d=tt.Default;for(let g=0;g<a.length;g++){const y=a[g],I=bi(y);"number"==typeof I?-1===I?c=y.token:d|=I:c=y}r.push(Lt(c,d))}else r.push(Lt(a))}return r}function gr(e,r){return e[Yr]=r,e.prototype[Yr]=r,e}function bi(e){return e[Yr]}function Z(e){return{toString:e}.toString()}var Se=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Se||{}),Ke=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ke||{});const Je={},je=[],Pt=L({\u0275cmp:L}),En=L({\u0275dir:L}),hn=L({\u0275pipe:L}),ui=L({\u0275mod:L}),mr=L({\u0275fac:L}),Ai=L({__NG_ELEMENT_ID__:L}),Su=L({__NG_ENV_ID__:L});function Da(e,r,s){let a=e.length;for(;;){const c=e.indexOf(r,s);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||e.charCodeAt(c+d)<=32)return c}s=c+1}}function ba(e,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],y=s[a++];e.setAttribute(r,g,y,d)}else{const d=c,g=s[++a];Aa(d)?e.setProperty(r,d,g):e.setAttribute(r,d,g),a++}}return a}function Fr(e){return 3===e||4===e||6===e}function Aa(e){return 64===e.charCodeAt(0)}function Es(e,r){if(null!==r&&0!==r.length)if(null===e||0===e.length)e=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Ru(e,s,c,null,-1===s||2===s?r[++a]:null)}}return e}function Ru(e,r,s,a,c){let d=0,g=e.length;if(-1===r)g=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===r){g=-1;break}if(y>r){g=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==c&&(e[d+1]=c));if(a===e[d+1])return void(e[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(e.splice(g,0,r),d=g+1),e.splice(d++,0,s),null!==a&&e.splice(d++,0,a),null!==c&&e.splice(d++,0,c)}const pn="ng-template";function Fo(e,r,s){let a=0,c=!0;for(;a<e.length;){let d=e[a++];if("string"==typeof d&&c){const g=e[a++];if(s&&"class"===d&&-1!==Da(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<e.length&&"string"==typeof(d=e[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Zd(e){return 4===e.type&&e.value!==pn}function Jd(e,r,s){return r===(4!==e.type||s?e.value:pn)}function Ta(e,r,s){let a=4;const c=e.attrs||[],d=function Is(e){for(let r=0;r<e.length;r++)if(Fr(e[r]))return r;return e.length}(c);let g=!1;for(let y=0;y<r.length;y++){const I=r[y];if("number"!=typeof I){if(!g)if(4&a){if(a=2|1&a,""!==I&&!Jd(e,I,s)||""===I&&1===r.length){if(Yn(a))return!1;g=!0}}else{const A=8&a?I:r[++y];if(8&a&&null!==e.attrs){if(!Fo(e.attrs,A,s)){if(Yn(a))return!1;g=!0}continue}const x=pl(8&a?"class":I,c,Zd(e),s);if(-1===x){if(Yn(a))return!1;g=!0;continue}if(""!==A){let W;W=x>d?"":c[x+1].toLowerCase();const Y=8&a?W:null;if(Y&&-1!==Da(Y,A,0)||2&a&&A!==W){if(Yn(a))return!1;g=!0}}}}else{if(!g&&!Yn(a)&&!Yn(I))return!1;if(g&&Yn(I))continue;g=!1,a=I|1&a}}return Yn(a)||g}function Yn(e){return 0==(1&e)}function pl(e,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===e)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=r[++c];for(;"string"==typeof y;)y=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function ef(e,r){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const a=e[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,e)}function Mu(e,r,s=!1){for(let a=0;a<r.length;a++)if(Ta(e,r[a],s))return!0;return!1}function Nu(e,r){return e?":not("+r.trim()+")":r}function gl(e){let r=e[0],s=1,a=2,c="",d=!1;for(;s<e.length;){let g=e[s];if("string"==typeof g)if(2&a){const y=e[++s];c+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Yn(g)&&(r+=Nu(d,c),c=""),a=g,d=d||!Yn(a);s++}return""!==c&&(r+=Nu(d,c)),r}function $n(e){return Z(()=>{const r=tf(e),s={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ke.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""};Fu(s);const a=e.dependencies;return s.directiveDefs=Cs(a,!1),s.pipeDefs=Cs(a,!0),s.id=function Uu(e){let r=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Ra(e){return bt(e)||Wn(e)}function xu(e){return null!==e}function Ma(e){return Z(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function no(e,r){if(null==e)return Je;const s={};for(const a in e)if(e.hasOwnProperty(a)){let c=e[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Lu(e){return Z(()=>{const r=tf(e);return Fu(r),r})}function Na(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bt(e){return e[Pt]||null}function Wn(e){return e[En]||null}function On(e){return e[hn]||null}function qi(e){const r=bt(e)||Wn(e)||On(e);return null!==r&&r.standalone}function _r(e,r){const s=e[ui]||null;if(!s&&!0===r)throw new Error(`Type ${Q(e)} does not have '\u0275mod' property.`);return s}function tf(e){const r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Je,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:no(e.inputs,r),outputs:no(e.outputs)}}function Fu(e){e.features?.forEach(r=>r(e))}function Cs(e,r){if(!e)return null;const s=r?On:Ra;return()=>("function"==typeof e?e():e).map(a=>s(a)).filter(xu)}const cn=0,ke=1,mt=2,$t=3,Rr=4,ro=5,ar=6,Yi=7,ln=8,Qi=9,Qr=10,et=11,Pa=12,Oa=13,Ti=14,Dn=15,io=16,vr=17,yr=18,Br=19,ml=20,Xr=21,Si=22,Xi=23,ci=24,St=25,Uo=1,li=2,Mr=7,Ri=9,xn=11;function ur(e){return Array.isArray(e)&&"object"==typeof e[Uo]}function Xn(e){return Array.isArray(e)&&!0===e[Uo]}function Bu(e){return 0!=(4&e.flags)}function Zn(e){return e.componentOffset>-1}function ws(e){return 1==(1&e.flags)}function Er(e){return!!e.template}function Zi(e){return 0!=(512&e[mt])}function Ni(e,r){return e.hasOwnProperty(mr)?e[mr]:null}let In=null,so=!1;function zn(e){const r=In;return In=e,r}const qu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function El(e){if(!bs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Yu(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function af(e){e.dirty=!0,function Ho(e){if(void 0===e.liveConsumerNode)return;const r=so;so=!0;try{for(const s of e.liveConsumerNode)s.dirty||af(s)}finally{so=r}}(e),e.consumerMarkedDirty?.(e)}function kn(e){return e&&(e.nextProducerIndex=0),zn(e)}function La(e,r){if(zn(r),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(bs(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)ao(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Yu(e){Pi(e);for(let r=0;r<e.producerNode.length;r++){const s=e.producerNode[r],a=e.producerLastReadVersion[r];if(a!==s.version||(El(s),a!==s.version))return!0}return!1}function Qu(e){if(Pi(e),bs(e))for(let r=0;r<e.producerNode.length;r++)ao(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ao(e,r){if(function Fa(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Pi(e),1===e.liveConsumerNode.length)for(let a=0;a<e.producerNode.length;a++)ao(e.producerNode[a],e.producerIndexOfThis[a]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){const a=e.liveConsumerIndexOfThis[r],c=e.liveConsumerNode[r];Pi(c),c.producerIndexOfThis[a]=r}}function bs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Pi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Zu=null;function Nh(e){const r=zn(null);try{return e()}finally{zn(r)}}const Dl=()=>{},Ha=(()=>({...qu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Dl}))();class bl{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function co(){return Al}function Al(e){return e.type.prototype.ngOnChanges&&(e.setInput=Oi),As}function As(){const e=nc(this),r=e?.current;if(r){const s=e.previous;if(s===Je)e.previous=r;else for(let a in r)s[a]=r[a];e.current=null,this.ngOnChanges(r)}}function Oi(e,r,s,a){const c=this.declaredInputs[s],d=nc(e)||function rc(e,r){return e[Ts]=r}(e,{previous:Je,current:null}),g=d.current||(d.current={}),y=d.previous,I=y[c];g[c]=new bl(I&&I.currentValue,r,y===Je),e[a]=r}co.ngInherit=!0;const Ts="__ngSimpleChanges__";function nc(e){return e[Ts]||null}const fi=function(e,r,s){};function Bt(e){for(;Array.isArray(e);)e=e[cn];return e}function Ir(e,r){return Bt(r[e.index])}function sc(e,r){return e.data[r]}function Nr(e,r){const s=r[e];return ur(s)?s:s[cn]}function Ns(e,r){return null==r?null:e[r]}function $a(e){e[vr]=0}function oc(e){1024&e[mt]||(e[mt]|=1024,Yt(e,1))}function Oh(e){1024&e[mt]&&(e[mt]&=-1025,Yt(e,-1))}function Yt(e,r){let s=e[$t];if(null===s)return;s[ro]+=r;let a=s;for(s=s[$t];null!==s&&(1===r&&1===a[ro]||-1===r&&0===a[ro]);)s[ro]+=r,a=s,s=s[$t]}const ut={lFrame:Fn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ho(){return ut.bindingsEnabled}function Ie(){return ut.lFrame.lView}function _t(){return ut.lFrame.tView}function bn(){let e=dc();for(;null!==e&&64===e.type;)e=e.parent;return e}function dc(){return ut.lFrame.currentTNode}function Cr(e,r){const s=ut.lFrame;s.currentTNode=e,s.isParent=r}function hc(){return ut.lFrame.isParent}function Go(){return ut.lFrame.bindingIndex++}function Lh(e,r){const s=ut.lFrame;s.bindingIndex=s.bindingRootIndex=e,Ol(r)}function Ol(e){ut.lFrame.currentDirectiveIndex=e}function gf(){return ut.lFrame.currentQueryIndex}function Ka(e){ut.lFrame.currentQueryIndex=e}function Fh(e){const r=e[ke];return 2===r.type?r.declTNode:1===r.type?e[ar]:null}function Pr(e,r,s){if(s&tt.SkipSelf){let c=r,d=e;for(;!(c=c.parent,null!==c||s&tt.Host||(c=Fh(d),null===c||(d=d[Ti],10&c.type))););if(null===c)return!1;r=c,e=d}const a=ut.lFrame=po();return a.currentTNode=r,a.lView=e,!0}function Ps(e){const r=po(),s=e[ke];ut.lFrame=r,r.currentTNode=s.firstChild,r.lView=e,r.tView=s,r.contextLView=e,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function po(){const e=ut.lFrame,r=null===e?null:e.child;return null===r?Fn(e):r}function Fn(e){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=r),r}function it(){const e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wr=it;function go(){const e=it();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Gn(){return ut.lFrame.selectedIndex}function ki(e){ut.lFrame.selectedIndex=e}function Ht(){const e=ut.lFrame;return sc(e.tView,e.selectedIndex)}let Li=!0;function mo(){return Li}function jt(e){Li=e}function Os(e,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=e.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:S}=d;g&&(e.contentHooks??=[]).push(-s,g),y&&((e.contentHooks??=[]).push(s,y),(e.contentCheckHooks??=[]).push(s,y)),I&&(e.viewHooks??=[]).push(-s,I),A&&((e.viewHooks??=[]).push(s,A),(e.viewCheckHooks??=[]).push(s,A)),null!=S&&(e.destroyHooks??=[]).push(s,S)}}function qa(e,r,s){ks(e,r,3,s)}function xs(e,r,s,a){(3&e[mt])===s&&ks(e,r,s,a)}function Ll(e,r){let s=e[mt];(3&s)===r&&(s&=8191,s+=1,e[mt]=s)}function ks(e,r,s,a){const d=a??-1,g=r.length-1;let y=0;for(let I=void 0!==a?65535&e[vr]:0;I<g;I++)if("number"==typeof r[I+1]){if(y=r[I],null!=a&&y>=a)break}else r[I]<0&&(e[vr]+=65536),(y<d||-1==d)&&(vc(e,s,r,I),e[vr]=(4294901760&e[vr])+I+2),I++}function es(e,r){fi(4,e,r);const s=zn(null);try{r.call(e)}finally{zn(s),fi(5,e,r)}}function vc(e,r,s,a){const c=s[a]<0,d=s[a+1],y=e[c?-s[a]:s[a]];c?e[mt]>>13<e[vr]>>16&&(3&e[mt])===r&&(e[mt]+=8192,es(y,d)):es(y,d)}const Jr=-1;class Ls{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Hr(e){return e!==Jr}function dn(e){return 32767&e}function Xo(e,r){let s=function rs(e){return e>>16}(e),a=r;for(;s>0;)a=a[Ti],s--;return a}let ei=!0;function Cn(e){const r=ei;return ei=e,r}const Vl=255,Qa=5;let is=0;const tr={};function $r(e,r){const s=ss(e,r);if(-1!==s)return s;const a=r[ke];a.firstCreatePass&&(e.injectorIndex=r.length,_o(a.data,e),_o(r,null),_o(a.blueprint,null));const c=os(e,r),d=e.injectorIndex;if(Hr(c)){const g=dn(c),y=Xo(c,r),I=y[ke].data;for(let A=0;A<8;A++)r[d+A]=y[g+A]|I[g+A]}return r[d+8]=c,d}function _o(e,r){e.push(0,0,0,0,0,0,0,0,r)}function ss(e,r){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===r[e.injectorIndex+8]?-1:e.injectorIndex}function os(e,r){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=wc(c),null===a)return Jr;if(s++,c=c[Ti],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Jr}function vo(e,r,s){!function Tn(e,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ai)&&(a=s[Ai]),null==a&&(a=s[Ai]=is++);const c=a&Vl;r.data[e+(c>>Qa)]|=1<<c}(e,r,s)}function Fs(e,r,s){if(s&tt.Optional||void 0!==e)return e;st()}function Zo(e,r,s,a){if(s&tt.Optional&&void 0===a&&(a=null),!(s&(tt.Self|tt.Host))){const c=e[Qi],d=Gt(void 0);try{return c?c.get(r,a,s&tt.Optional):rn(r,a,s&tt.Optional)}finally{Gt(d)}}return Fs(a,0,s)}function Bl(e,r,s,a=tt.Default,c){if(null!==e){if(2048&r[mt]&&!(a&tt.Self)){const g=function Hl(e,r,s,a,c){let d=e,g=r;for(;null!==d&&null!==g&&2048&g[mt]&&!(512&g[mt]);){const y=gt(d,g,s,a|tt.Self,tr);if(y!==tr)return y;let I=d.parent;if(!I){const A=g[ml];if(A){const S=A.get(s,tr,a);if(S!==tr)return S}I=wc(g),g=g[Ti]}d=I}return c}(e,r,s,a,tr);if(g!==tr)return g}const d=gt(e,r,s,a,tr);if(d!==tr)return d}return Zo(r,s,a,c)}function gt(e,r,s,a,c){const d=function as(e){if("string"==typeof e)return e.charCodeAt(0)||0;const r=e.hasOwnProperty(Ai)?e[Ai]:void 0;return"number"==typeof r?r>=0?r&Vl:Vs:r}(s);if("function"==typeof d){if(!Pr(r,e,a))return a&tt.Host?Fs(c,0,a):Zo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&tt.Optional)return g;st()}finally{wr()}}else if("number"==typeof d){let g=null,y=ss(e,r),I=Jr,A=a&tt.Host?r[Dn][ar]:null;for((-1===y||a&tt.SkipSelf)&&(I=-1===y?os(e,r):r[y+8],I!==Jr&&ti(a,!1)?(g=r[ke],y=dn(I),r=Xo(I,r)):y=-1);-1!==y;){const S=r[ke];if(Ic(d,y,S.data)){const x=Za(y,r,s,g,a,A);if(x!==tr)return x}I=r[y+8],I!==Jr&&ti(a,r[ke].data[y+8]===A)&&Ic(d,y,r)?(g=S,y=dn(I),r=Xo(I,r)):y=-1}}return c}function Za(e,r,s,a,c,d){const g=r[ke],y=g.data[e+8],S=Ja(y,g,s,null==a?Zn(y)&&ei:a!=g&&0!=(3&y.type),c&tt.Host&&d===y);return null!==S?Wr(r,g,S,y):tr}function Ja(e,r,s,a,c){const d=e.providerIndexes,g=r.data,y=1048575&d,I=e.directiveStart,S=d>>20,W=c?y+S:e.directiveEnd;for(let Y=a?y:y+S;Y<W;Y++){const me=g[Y];if(Y<I&&s===me||Y>=I&&me.type===s)return Y}if(c){const Y=g[I];if(Y&&Er(Y)&&Y.type===s)return I}return null}function Wr(e,r,s,a){let c=e[s];const d=r.data;if(function Ya(e){return e instanceof Ls}(c)){const g=c;g.resolving&&function Re(e,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${e}`:"";throw new ne(-200,`Circular dependency in DI detected for ${e}${s}`)}(function ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(d[s]));const y=Cn(g.canSeeViewProviders);g.resolving=!0;const A=g.injectImpl?Gt(g.injectImpl):null;Pr(e,a,tt.Default);try{c=e[s]=g.factory(void 0,d,e,a),r.firstCreatePass&&s>=a.directiveStart&&function _c(e,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Al(r);(s.preOrderHooks??=[]).push(e,g),(s.preOrderCheckHooks??=[]).push(e,g)}c&&(s.preOrderHooks??=[]).push(0-e,c),d&&((s.preOrderHooks??=[]).push(e,d),(s.preOrderCheckHooks??=[]).push(e,d))}(s,d[s],r)}finally{null!==A&&Gt(A),Cn(y),g.resolving=!1,wr()}}return c}function Ic(e,r,s){return!!(s[r+(e>>Qa)]&1<<e)}function ti(e,r){return!(e&tt.Self||e&tt.Host&&r)}class Qt{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Bl(this._tNode,this._lView,r,Tt(a),s)}}function Vs(){return new Qt(bn(),Ie())}function jl(e){return Z(()=>{const r=e.prototype.constructor,s=r[mr]||Cc(r),a=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==a;){const d=c[mr]||Cc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Cc(e){return Fe(e)?()=>{const r=Cc(Ae(e));return r&&r()}:Ni(e)}function wc(e){const r=e[ke],s=r.type;return 2===s?r.declTNode:1===s?e[ar]:null}function Dc(e){return function Xa(e,r){if("class"===r)return e.classes;if("style"===r)return e.styles;const s=e.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Fr(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(bn(),e)}const E="__parameters__";function H(e,r,s){return Z(()=>{const a=function N(e){return function(...s){if(e){const a=e(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return y.annotation=g,y;function y(I,A,S){const x=I.hasOwnProperty(E)?I[E]:Object.defineProperty(I,E,{value:[]})[E];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(g),I}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}function tu(e,r){e.forEach(s=>Array.isArray(s)?tu(s,r):r(s))}function Og(e,r,s){r>=e.length?e.push(s):e.splice(r,0,s)}function Eo(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}const zl=gr(H("Optional"),8),Gl=gr(H("SkipSelf"),4);function oa(e){return 128==(128&e.flags)}var au=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(au||{});const Af=new Map;let Nc=0;const Sf="__ngContext__";function Kn(e,r){ur(r)?(e[Sf]=r[Br],function Tf(e){Af.set(e[Br],e)}(r)):e[Sf]=r}let G;function De(e,r){return G(e,r)}function He(e){const r=e[$t];return Xn(r)?r[$t]:r}function ri(e){return Rf(e[Pa])}function Ao(e){return Rf(e[Rr])}function Rf(e){for(;null!==e&&!Xn(e);)e=e[Rr];return e}function To(e,r,s,a,c){if(null!=a){let d,g=!1;Xn(a)?d=a:ur(a)&&(g=!0,a=a[cn]);const y=Bt(a);0===e&&null!==s?null==c?wv(r,s,y):kc(r,s,y,c||null,!0):1===e&&null!==s?kc(r,s,y,c||null,!0):2===e?function Jh(e,r,s){const a=Zh(e,r);a&&function tC(e,r,s,a){e.removeChild(r,s,a)}(e,a,r,s)}(r,y,g):3===e&&r.destroyNode(y),null!=d&&function rC(e,r,s,a,c){const d=s[Mr];d!==Bt(s)&&To(r,e,a,d,c);for(let y=xn;y<s.length;y++){const I=s[y];Lc(I[ke],I,e,r,a,d)}}(r,e,d,s,c)}}function xc(e,r,s){return e.createElement(r,s)}function yv(e,r){const s=e[Ri],a=s.indexOf(r);Oh(r),s.splice(a,1)}function Qh(e,r){if(e.length<=xn)return;const s=xn+r,a=e[s];if(a){const c=a[io];null!==c&&c!==e&&yv(c,a),r>0&&(e[s-1][Rr]=a[Rr]);const d=Eo(e,xn+r);!function cu(e,r){Lc(e,r,r[et],2,null,null),r[cn]=null,r[ar]=null}(a[ke],a);const g=d[yr];null!==g&&g.detachView(d[ke]),a[$t]=null,a[Rr]=null,a[mt]&=-129}return a}function Ev(e,r){if(!(256&r[mt])){const s=r[et];r[Xi]&&Qu(r[Xi]),r[ci]&&Qu(r[ci]),s.destroyNode&&Lc(e,r,s,3,null,null),function $g(e){let r=e[Pa];if(!r)return zg(e[ke],e);for(;r;){let s=null;if(ur(r))s=r[Pa];else{const a=r[xn];a&&(s=a)}if(!s){for(;r&&!r[Rr]&&r!==e;)ur(r)&&zg(r[ke],r),r=r[$t];null===r&&(r=e),ur(r)&&zg(r[ke],r),s=r&&r[Rr]}r=s}}(r)}}function zg(e,r){if(!(256&r[mt])){r[mt]&=-129,r[mt]|=256,function Xh(e,r){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Ls)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=c[d[g]],I=d[g+1];fi(4,y,I);try{I.call(y)}finally{fi(5,y,I)}}else{fi(4,c,d);try{d.call(c)}finally{fi(5,c,d)}}}}}(e,r),function Iv(e,r){const s=e.cleanup,a=r[Yi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Yi]=null);const c=r[Xr];if(null!==c){r[Xr]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(e,r),1===r[ke].type&&r[et].destroy();const s=r[io];if(null!==s&&Xn(r[$t])){s!==r[$t]&&yv(s,r);const a=r[yr];null!==a&&a.detachView(e)}!function jg(e){Af.delete(e[Br])}(r)}}function lu(e,r,s){return function Cv(e,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[cn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=e.data[a.directiveStart+c];if(d===Ke.None||d===Ke.Emulated)return null}return Ir(a,s)}}(e,r.parent,s)}function kc(e,r,s,a,c){e.insertBefore(r,s,a,c)}function wv(e,r,s){e.appendChild(r,s)}function Dv(e,r,s,a,c){null!==a?kc(e,r,s,a,c):wv(e,r,s)}function Zh(e,r){return e.parentNode(r)}let td,np,rp,Av=function Gg(e,r,s){return 40&e.type?Ir(e,s):null};function ca(e,r,s,a){const c=lu(e,a,r),d=r[et],y=function bv(e,r,s){return Av(e,r,s)}(a.parent||r[ar],a,r);if(null!=c)if(Array.isArray(s))for(let I=0;I<s.length;I++)Dv(d,c,s[I],y,!1);else Dv(d,c,s,y,!1);void 0!==td&&td(d,a,r,s,c)}function nd(e,r){if(null!==r){const s=r.type;if(3&s)return Ir(r,e);if(4&s)return qg(-1,e[r.index]);if(8&s){const a=r.child;if(null!==a)return nd(e,a);{const c=e[r.index];return Xn(c)?qg(-1,c):Bt(c)}}if(32&s)return De(r,e)()||Bt(e[r.index]);{const a=Tv(e,r);return null!==a?Array.isArray(a)?a[0]:nd(He(e[Dn]),a):nd(e,r.next)}}return null}function Tv(e,r){return null!==r?e[Dn][ar].projection[r.projection]:null}function qg(e,r){const s=xn+e+1;if(s<r.length){const a=r[s],c=a[ke].firstChild;if(null!==c)return nd(a,c)}return r[Mr]}function Yg(e,r,s,a,c,d,g){for(;null!=s;){const y=a[s.index],I=s.type;if(g&&0===r&&(y&&Kn(Bt(y),a),s.flags|=2),32!=(32&s.flags))if(8&I)Yg(e,r,s.child,a,c,d,!1),To(r,e,c,y,d);else if(32&I){const A=De(s,a);let S;for(;S=A();)To(r,e,c,S,d);To(r,e,c,y,d)}else 16&I?Rv(e,r,a,s,c,d):To(r,e,c,y,d);s=g?s.projectionNext:s.next}}function Lc(e,r,s,a,c,d){Yg(s,a,e.firstChild,r,c,d,!1)}function Rv(e,r,s,a,c,d){const g=s[Dn],I=g[ar].projection[a.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)To(r,e,c,I[A],d);else{let A=I;const S=g[$t];oa(a)&&(A.flags|=128),Yg(e,r,A,S,c,d,!0)}}function Nf(e,r,s){""===s?e.removeAttribute(r,"class"):e.setAttribute(r,"class",s)}function Mv(e,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&ba(e,r,a),null!==c&&Nf(e,r,c),null!==d&&function sC(e,r,s){e.setAttribute(r,"style",s)}(e,r,d)}function Nv(e){np=e}function xv(e){return function Xg(){if(void 0===rp&&(rp=null,Vt.trustedTypes))try{rp=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return rp}()?.createScriptURL(e)||e}class Zg{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}function la(e){return e instanceof Zg?e.changingThisBreaksApplicationSecurity:e}function du(e,r){const s=function kv(e){return e instanceof Zg&&e.getTypeName()||null}(e);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Ze})`)}return s===r}const Lv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Fc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Fc||{});function zv(e){const r=op();return r?r.sanitize(Fc.URL,e)||"":du(e,"URL")?la(e):function tm(e){return(e=String(e)).match(Lv)?e:"unsafe:"+e}(te(e))}function Gv(e){const r=op();if(r)return xv(r.sanitize(Fc.RESOURCE_URL,e)||"");if(du(e,"ResourceURL"))return xv(la(e));throw new ne(904,!1)}function mC(e,r,s){return function yD(e,r){return"src"===r&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===r&&("base"===e||"link"===e)?Gv:zv}(r,s)(e)}function op(){const e=Ie();return e&&e[Qr].sanitizer}const od=new qe("ENVIRONMENT_INITIALIZER"),qv=new qe("INJECTOR",-1),Yv=new qe("INJECTOR_DEF_TYPES");class sm{get(r,s=un){if(s===un){const a=new Error(`NullInjectorError: No provider for ${Q(r)}!`);throw a.name="NullInjectorError",a}return s}}function _C(...e){return{\u0275providers:Xv(0,e),\u0275fromNgModule:!0}}function Xv(e,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return tu(r,g=>{const y=g;ap(y,d,[],a)&&(c||=[],c.push(y))}),void 0!==c&&Zv(c,d),s}function Zv(e,r){for(let s=0;s<e.length;s++){const{ngModule:a,providers:c}=e[s];om(c,d=>{r(d,a)})}}function ap(e,r,s,a){if(!(e=Ae(e)))return!1;let c=null,d=Mn(e);const g=!d&&bt(e);if(d||g){if(g&&!g.standalone)return!1;c=e}else{const I=e.ngModule;if(d=Mn(I),!d)return!1;c=I}const y=a.has(c);if(g){if(y)return!1;if(a.add(c),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const A of I)ap(A,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let A;a.add(c);try{tu(d.imports,S=>{ap(S,r,s,a)&&(A||=[],A.push(S))})}finally{}void 0!==A&&Zv(A,r)}if(!y){const A=Ni(c)||(()=>new c);r({provide:c,useFactory:A,deps:je},c),r({provide:Yv,useValue:c,multi:!0},c),r({provide:od,useValue:()=>Lt(c),multi:!0},c)}const I=d.providers;if(null!=I&&!y){const A=e;om(I,S=>{r(S,A)})}}}return c!==e&&void 0!==e.providers}function om(e,r){for(let s of e)Me(s)&&(s=s.\u0275providers),Array.isArray(s)?om(s,r):r(s)}const ID=L({provide:String,useValue:L});function Jv(e){return null!==e&&"object"==typeof e&&ID in e}function ad(e){return"function"==typeof e}const Bi=new qe("Set Injector scope."),up={},am={};let cp;function lp(){return void 0===cp&&(cp=new sm),cp}class Ro{}class ud extends Ro{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fp(r,g=>this.processProvider(g)),this.records.set(qv,ji(void 0,this)),c.has("environment")&&this.records.set(Ro,ji(void 0,this));const d=this.records.get(Bi);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Yv.multi,je,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=rt(this),a=Gt(void 0);try{return r()}finally{rt(s),Gt(a)}}get(r,s=un,a=tt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Su))return r[Su](this);a=Tt(a);const d=rt(this),g=Gt(void 0);try{if(!(a&tt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const A=function dp(e){return"function"==typeof e||"object"==typeof e&&e instanceof qe}(r)&&ir(r);I=A&&this.injectableDefInScope(A)?ji(gi(r),up):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&tt.Self?lp():this.parent).get(r,s=a&tt.Optional&&s===un?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[or]=y[or]||[]).unshift(Q(r)),d)throw y;return function Lo(e,r,s,a){const c=e[or];throw r[_e]&&c.unshift(r[_e]),e.message=function he(e,r,s,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=Q(r);if(Array.isArray(r))c=r.map(Q).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let y=r[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${e.replace(F,"\n  ")}`}("\n"+e.message,c,s,a),e.ngTokenPath=c,e[or]=null,e}(y,r,"R3InjectorError",this.source)}throw y}finally{Gt(g),rt(d)}}resolveInjectorInitializers(){const r=rt(this),s=Gt(void 0);try{const c=this.get(od.multi,je,tt.Self);for(const d of c)d()}finally{rt(r),Gt(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Q(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(r){let s=ad(r=Ae(r))?r:Ae(r&&r.provide);const a=function IC(e){return Jv(e)?ji(void 0,e.useValue):ji(function fu(e,r,s){let a;if(ad(e)){const c=Ae(e);return Ni(c)||gi(c)}if(Jv(e))a=()=>Ae(e.useValue);else if(function EC(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Hn(e.deps||[]));else if(function yC(e){return!(!e||!e.useExisting)}(e))a=()=>Lt(Ae(e.useExisting));else{const c=Ae(e&&(e.useClass||e.provide));if(!function Uc(e){return!!e.deps}(e))return Ni(c)||gi(c);a=()=>new c(...Hn(e.deps))}return a}(e),up)}(r);if(ad(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ji(void 0,up,!0),c.factory=()=>Hn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===up&&(s.value=am,s.value=s.factory()),"object"==typeof s.value&&s.value&&function k(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ae(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function gi(e){const r=ir(e),s=null!==r?r.factory:Ni(e);if(null!==s)return s;if(e instanceof qe)throw new ne(204,!1);if(e instanceof Function)return function wD(e){const r=e.length;if(r>0)throw function nu(e,r){const s=[];for(let a=0;a<e;a++)s.push(r);return s}(r,"?"),new ne(204,!1);const s=function wn(e){return e&&(e[fn]||e[Gi])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new ne(204,!1)}function ji(e,r,s=!1){return{factory:e,value:r,multi:s?[]:void 0}}function fp(e,r){for(const s of e)Array.isArray(s)?fp(s,r):s&&Me(s)?fp(s.\u0275providers,r):r(s)}const um=new qe("AppId",{providedIn:"root",factory:()=>cm}),cm="ng",lm=new qe("Platform Initializer"),dm=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Vc=new qe("CSP nonce",{providedIn:"root",factory:()=>function id(){if(void 0!==np)return np;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ld=(e,r,s)=>null;function rr(e,r,s=!1){return ld(e,r,s)}class SC{}class ny{}class ry{resolveComponentFactory(r){throw function Uf(e){const r=Error(`No component factory found for ${Q(e)}.`);return r.ngComponent=e,r}(r)}}let Bf=(()=>{class e{static{this.NULL=new ry}}return e})();function iy(){return zc(bn(),Ie())}function zc(e,r){return new dd(Ir(e,r))}let dd=(()=>{class e{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=iy}}return e})();function sy(e){return e instanceof dd?e.nativeElement:e}class mp{}let oy=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ay(){const e=Ie(),s=Nr(bn().index,e);return(ur(s)?s:e)[et]}()}}return e})(),vm=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>null})}}return e})();class uy{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ym=new uy("16.2.12"),Em={};function Cm(e,r=null,s=null,a){const c=fy(e,r,s,a);return c.resolveInjectorInitializers(),c}function fy(e,r=null,s=null,a,c=new Set){const d=[s||je,_C(e)];return a=a||("object"==typeof e?void 0:Q(e)),new ud(d,r||lp(),a||null,c)}let Gs=(()=>{class e{static{this.THROW_IF_NOT_FOUND=un}static{this.NULL=new sm}static create(s,a){if(Array.isArray(s))return Cm({name:""},a,s,"");{const c=s.name??"";return Cm({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=We({token:e,providedIn:"any",factory:()=>Lt(qv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function wm(e){return e.ngOriginalError}class ha{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&wm(r);for(;s&&wm(s);)s=wm(s);return s||null}}function Mo(e){return r=>{setTimeout(e,void 0,r)}}const ds=class FC extends _.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const I=r;c=I.next?.bind(I),d=I.error?.bind(I),g=I.complete?.bind(I)}this.__isAsync&&(d=Mo(d),c&&(c=Mo(c)),g&&(g=Mo(g)));const y=super.subscribe({next:c,error:d,complete:g});return r instanceof X.yU&&r.add(y),y}};function py(...e){}class Sn{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ds(!1),this.onMicrotaskEmpty=new ds(!1),this.onStable=new ds(!1),this.onError=new ds(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function UC(){const e="function"==typeof Vt.requestAnimationFrame;let r=Vt[e?"requestAnimationFrame":"setTimeout"],s=Vt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function BC(e){const r=()=>{!function VC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Vt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Am(e),e.isCheckStableRunning=!0,bm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Am(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,y)=>{if(function _y(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return s.invokeTask(c,d,g,y);try{return vp(e),s.invokeTask(c,d,g,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&r(),Tm(e)}},onInvoke:(s,a,c,d,g,y,I)=>{try{return vp(e),s.invoke(c,d,g,y,I)}finally{e.shouldCoalesceRunChangeDetection&&r(),Tm(e)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,Am(e),bm(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sn.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(Sn.isInAngularZone())throw new ne(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,gy,py,py);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const gy={};function bm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Am(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function vp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Tm(e){e._nesting--,bm(e)}class jC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ds,this.onMicrotaskEmpty=new ds,this.onStable=new ds,this.onError=new ds}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const Sm=new qe("",{providedIn:"root",factory:my});function my(){const e=ft(Sn);let r=!0;const s=new O.c(c=>{r=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new O.c(c=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=e.onUnstable.subscribe(()=>{Sn.assertInAngularZone(),r&&(r=!1,e.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ee.h)(s,a.pipe((0,pe.u)()))}function No(e){return e instanceof Function?e():e}let Wt=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ft(e){for(;e;){e[mt]|=64;const r=He(e);if(Zi(e)&&!r)return e;e=r}return null}const tn=new qe("",{providedIn:"root",factory:()=>!1});let Ep=null;function Om(e,r){return e[r]??Dy()}function pu(e,r){const s=Dy();s.producerNode?.length&&(e[r]=Ep,s.lView=e,Ep=hd())}const xm={...qu,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ft(e.lView)},lView:null};function hd(){return Object.create(xm)}function Dy(){return Ep??=hd(),Ep}const Et={};function by(e){Ay(_t(),Ie(),Gn()+e,!1)}function Ay(e,r,s,a){if(!a)if(3==(3&r[mt])){const d=e.preOrderCheckHooks;null!==d&&qa(r,d,s)}else{const d=e.preOrderHooks;null!==d&&xs(r,d,0,s)}ki(s)}function pd(e,r=tt.Default){const s=Ie();return null===s?Lt(e,r):Bl(bn(),s,Ae(e),r)}function km(){throw new Error("invalid")}function Rt(e,r,s,a,c,d,g,y,I,A,S){const x=r.blueprint.slice();return x[cn]=c,x[mt]=140|a,(null!==A||e&&2048&e[mt])&&(x[mt]|=2048),$a(x),x[$t]=x[Ti]=e,x[ln]=s,x[Qr]=g||e&&e[Qr],x[et]=y||e&&e[et],x[Qi]=I||e&&e[Qi]||null,x[ar]=d,x[Br]=function xr(){return Nc++}(),x[Si]=S,x[ml]=A,x[Dn]=2==r.type?e[Dn]:x,x}function ga(e,r,s,a,c){let d=e.data[r];if(null===d)d=function gd(e,r,s,a,c){const d=dc(),g=hc(),I=e.data[r]=function Ry(e,r,s,a,c,d){let g=r?r.injectorIndex:-1,y=0;return function Ji(){return null!==ut.skipHydrationRootTNode}()&&(y|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===e.firstChild&&(e.firstChild=I),null!==d&&(g?null==d.child&&null!==I.parent&&(d.child=I):null===d.next&&(d.next=I,I.prev=d)),I}(e,r,s,a,c),function pf(){return ut.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function fc(){const e=ut.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Cr(d,!0),d}function md(e,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),e.blueprint.push(a),e.data.push(null);return c}function Ks(e,r,s,a,c){const d=Om(r,Xi),g=Gn(),y=2&a;try{ki(-1),y&&r.length>St&&Ay(e,r,St,!1),fi(y?2:0,c);const A=y?d:null,S=kn(A);try{null!==A&&(A.dirty=!1),s(a,c)}finally{La(A,S)}}finally{y&&null===r[Xi]&&pu(r,Xi),ki(g),fi(y?3:1,c)}}function _d(e,r,s){if(Bu(r)){const a=zn(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,s[g],g)}}finally{zn(a)}}}function Wi(e,r,s){ho()&&(function Dt(e,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Zn(s)&&function yd(e,r,s){const a=Ir(r,e),c=si(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const y=Cp(e,Rt(e,c,null,g,a,r,null,e[Qr].rendererFactory.createRenderer(a,s),null,null,null));e[r.index]=y}(r,s,e.data[c+s.componentOffset]),e.firstCreatePass||$r(s,r),Kn(a,r);const g=s.initialInputs;for(let y=c;y<d;y++){const I=e.data[y],A=Wr(r,e,y,s);Kn(A,r),null!==g&&QC(0,y-c,A,I,0,g),Er(I)&&(Nr(s.index,r)[ln]=Wr(r,e,y,s))}}(e,r,s,Ir(s,r)),64==(64&s.flags)&&Ny(e,r,s))}function Lm(e,r,s=Ir){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],y=-1===g?s(r,e):e[g];e[c++]=y}}}function si(e){const r=e.tView;return null===r||r.incompleteFirstPass?e.tView=Fm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function Fm(e,r,s,a,c,d,g,y,I,A,S){const x=St+a,W=x+c,Y=function Um(e,r){const s=[];for(let a=0;a<r;a++)s.push(a<e?null:Et);return s}(x,W),me="function"==typeof A?A():A;return Y[ke]={type:e,blueprint:Y,template:s,queries:null,viewQuery:y,declTNode:r,data:Y.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:me,incompleteFirstPass:!1,ssrId:S}}let Bm=e=>null;function jm(e,r,s,a){for(let c in e)if(e.hasOwnProperty(c)){s=null===s?{}:s;const d=e[c];null===a?My(s,r,c,d):a.hasOwnProperty(c)&&My(s,r,a[c],d)}return s}function My(e,r,s,a){e.hasOwnProperty(s)?e[s].push(r,a):e[s]=[r,a]}function Wf(e,r,s,a){if(ho()){const c=null===a?null:{"":-1},d=function qC(e,r){const s=e.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Mu(r,g.selectors,!1))if(a||(a=[]),Er(g))if(null!==g.findHostDirectiveDefs){const y=[];c=c||new Map,g.findHostDirectiveDefs(g,y,c),a.unshift(...y,g),_n(e,r,y.length)}else a.unshift(g),_n(e,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(e,s);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&qc(e,r,s,g,c,y),c&&function $m(e,r,s){if(r){const a=e.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ne(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Es(s.mergedAttrs,s.attrs)}function qc(e,r,s,a,c,d){for(let A=0;A<a.length;A++)vo($r(s,r),e,a[A].type);!function Wm(e,r,s){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+s,e.providerIndexes=r}(s,e.data.length,a.length);for(let A=0;A<a.length;A++){const S=a[A];S.providersResolver&&S.providersResolver(S)}let g=!1,y=!1,I=md(e,r,a.length,null);for(let A=0;A<a.length;A++){const S=a[A];s.mergedAttrs=Es(s.mergedAttrs,S.hostAttrs),Py(e,s,r,I,S),YC(I,S,c),null!==S.contentQueries&&(s.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(s.flags|=64);const x=S.type.prototype;!g&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),g=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),y=!0),I++}!function WC(e,r,s){const c=r.directiveEnd,d=e.data,g=r.attrs,y=[];let I=null,A=null;for(let S=r.directiveStart;S<c;S++){const x=d[S],W=s?s.get(x):null,me=W?W.outputs:null;I=jm(x.inputs,S,I,W?W.inputs:null),A=jm(x.outputs,S,A,me);const Pe=null===I||null===g||Zd(r)?null:Kf(I,S,g);y.push(Pe)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=8),I.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=y,r.inputs=I,r.outputs=A}(e,s,d)}function Ny(e,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function Pl(){return ut.lFrame.currentDirectiveIndex}();try{ki(d);for(let y=a;y<c;y++){const I=e.data[y],A=r[y];Ol(y),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Gf(I,A)}}finally{ki(-1),Ol(g)}}function Gf(e,r){null!==e.hostBindings&&e.hostBindings(1,r)}function _n(e,r,s){r.componentOffset=s,(e.components??=[]).push(r.index)}function YC(e,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=e;Er(r)&&(s[""]=e)}}function Py(e,r,s,a,c){e.data[a]=c;const d=c.factory||(c.factory=Ni(c.type)),g=new Ls(d,Er(c),pd);e.blueprint[a]=g,s[a]=g,function ma(e,r,s,a,c){const d=c.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~r.index;(function zf(e){let r=e.length;for(;r>0;){const s=e[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=y&&g.push(y),g.push(s,a,d)}}(e,r,a,md(e,s,c.hostVars,Et),c)}function mi(e,r,s,a,c,d){const g=Ir(e,r);!function Yc(e,r,s,a,c,d,g){if(null==d)e.removeAttribute(r,c,s);else{const y=null==g?te(d):g(d,a||"",c);e.setAttribute(r,c,y,s)}}(r[et],g,d,e.value,s,a,c)}function QC(e,r,s,a,c,d){const g=d[r];if(null!==g)for(let y=0;y<g.length;)Ip(a,s,g[y++],g[y++],g[y++])}function Ip(e,r,s,a,c){const d=zn(null);try{const g=e.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==e.setInput?e.setInput(r,c,s,a):r[a]=c}finally{zn(d)}}function Kf(e,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===a&&(a=[]);const g=e[d];for(let y=0;y<g.length;y+=2)if(g[y]===r){a.push(d,g[y+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Oy(e,r,s,a){return[e,!0,!1,r,null,0,a,s,null,null,null]}function qf(e,r){const s=e.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=e.data[d];Ka(s[a]),g.contentQueries(2,r[d],d)}}}function Cp(e,r){return e[Pa]?e[Oa][Rr]=r:e[Pa]=r,e[Oa]=r,r}function zm(e,r,s){Ka(0);const a=zn(null);try{r(e,s)}finally{zn(a)}}function wp(e){return e[Yi]||(e[Yi]=[])}function xy(e){return e.cleanup||(e.cleanup=[])}function ky(e,r){const s=e[Qi],a=s?s.get(ha,null):null;a&&a.handleError(r)}function Ed(e,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],y=s[d++];Ip(e.data[g],r[g],a,y,c)}}function Po(e,r,s){const a=function Rs(e,r){return Bt(r[e])}(r,e);!function aa(e,r,s){e.setValue(r,s)}(e[et],a,s)}function Ly(e,r){const s=Nr(r,e),a=s[ke];!function bp(e,r){for(let s=r.length;s<e.blueprint.length;s++)r.push(e.blueprint[s])}(a,s);const c=s[cn];null!==c&&null===s[Si]&&(s[Si]=rr(c,s[Qi])),Gm(a,s,s[ln])}function Gm(e,r,s){Ps(r);try{const a=e.viewQuery;null!==a&&zm(1,a,s);const c=e.template;null!==c&&Ks(e,r,c,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qf(e,r),e.staticViewQueries&&zm(2,e.viewQuery,s);const d=e.components;null!==d&&function Ap(e,r){for(let s=0;s<r.length;s++)Ly(e,r[s])}(r,d)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{r[mt]&=-5,go()}}let Qc=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function wl(e,r,s){const a=Object.create(Ha);s&&(a.consumerAllowSignalWrites=!0),a.fn=e,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>af(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Yu(a))return;a.hasRun=!0;const g=kn(a);try{a.cleanupFn(),a.cleanupFn=Dl,a.fn(c)}finally{La(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,A=>{this.all.has(A)&&this.queue.set(A,d)},c);let y;this.all.add(g),g.notify();const I=()=>{g.cleanup(),y?.(),this.all.delete(g),this.queue.delete(g)};return y=a?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Id(e,r,s){let a=s?e.styles:null,c=s?e.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const y=r[g];"number"==typeof y?d=y:1==d?c=Ne(c,y):2==d&&(a=Ne(a,y+": "+r[++g]+";"))}s?e.styles=a:e.stylesWithoutHost=a,s?e.classes=c:e.classesWithoutHost=c}function Yf(e,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Bt(d)),Xn(d)&&Fy(d,a);const g=s.type;if(8&g)Yf(e,r,s.child,a);else if(32&g){const y=De(s,r);let I;for(;I=y();)a.push(I)}else if(16&g){const y=Tv(r,s);if(Array.isArray(y))a.push(...y);else{const I=He(r[Dn]);Yf(I[ke],I,y,a,!0)}}s=c?s.projectionNext:s.next}return a}function Fy(e,r){for(let s=xn;s<e.length;s++){const a=e[s],c=a[ke].firstChild;null!==c&&Yf(a[ke],a,c,r)}e[Mr]!==e[cn]&&r.push(e[Mr])}function Qf(e,r,s,a=!0){const c=r[Qr],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Uy(e,r,e.template,s)}catch(I){throw a&&ky(r,I),I}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Uy(e,r,s,a){const c=r[mt];if(256!=(256&c)){r[Qr].effectManager?.flush(),Ps(r);try{$a(r),function gc(e){return ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&Ks(e,r,s,2,a);const g=3==(3&c);if(g){const A=e.preOrderCheckHooks;null!==A&&qa(r,A,null)}else{const A=e.preOrderHooks;null!==A&&xs(r,A,0,null),Ll(r,0)}if(function qm(e){for(let r=ri(e);null!==r;r=Ao(r)){if(!r[li])continue;const s=r[Ri];for(let a=0;a<s.length;a++){oc(s[a])}}}(r),qs(r,2),null!==e.contentQueries&&qf(e,r),g){const A=e.contentCheckHooks;null!==A&&qa(r,A)}else{const A=e.contentHooks;null!==A&&xs(r,A,1),Ll(r,1)}!function Kc(e,r){const s=e.hostBindingOpCodes;if(null===s)return;const a=Om(r,ci);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)ki(~d);else{const g=d,y=s[++c],I=s[++c];Lh(y,g),a.dirty=!1;const A=kn(a);try{I(2,r[g])}finally{La(a,A)}}}}finally{null===r[ci]&&pu(r,ci),ki(-1)}}(e,r);const y=e.components;null!==y&&Xf(r,y,0);const I=e.viewQuery;if(null!==I&&zm(2,I,a),g){const A=e.viewCheckHooks;null!==A&&qa(r,A)}else{const A=e.viewHooks;null!==A&&xs(r,A,2),Ll(r,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r[mt]&=-73,Oh(r)}finally{go()}}}function qs(e,r){for(let s=ri(e);null!==s;s=Ao(s))for(let a=xn;a<s.length;a++)Tp(s[a],r)}function Ym(e,r,s){Tp(Nr(r,e),s)}function Tp(e,r){if(!function lf(e){return 128==(128&e[mt])}(e))return;const s=e[ke],a=e[mt];if(80&a&&0===r||1024&a||2===r)Uy(s,e,s.template,e[ln]);else if(e[ro]>0){qs(e,1);const c=s.components;null!==c&&Xf(e,c,1)}}function Xf(e,r,s){for(let a=0;a<r.length;a++)Ym(e,r[a],s)}class _a{get rootNodes(){const r=this._lView,s=r[ke];return Yf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(r){this._lView[ln]=r}get destroyed(){return 256==(256&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$t];if(Xn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Qh(r,a),Eo(s,a))}this._attachedToViewContainer=!1}Ev(this._lView[ke],this._lView)}onDestroy(r){!function df(e,r){if(256==(256&e[mt]))throw new ne(911,!1);null===e[Xr]&&(e[Xr]=[]),e[Xr].push(r)}(this._lView,r)}markForCheck(){Ft(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){this._lView[mt]|=128}detectChanges(){Qf(this._lView[ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Yh(e,r){Lc(e,r,r[et],2,null,null)}(this._lView[ke],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=r}}class Xc extends _a{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Qf(r[ke],r,r[ln],!1)}checkNoChanges(){}get context(){return null}}class Zc extends Bf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=bt(r);return new ya(s,this.ngModule)}}function va(e){const r=[];for(let s in e)e.hasOwnProperty(s)&&r.push({propName:e[s],templateName:s});return r}class JC{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Tt(a);const c=this.injector.get(r,Em,a);return c!==Em||s===Em?c:this.parentInjector.get(r,s,a)}}class ya extends ny{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=va(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return va(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ur(e){return e.map(gl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ro?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new JC(r,d):r,y=g.get(mp,null);if(null===y)throw new ne(407,!1);const x={rendererFactory:y,sanitizer:g.get(vm,null),effectManager:g.get(Qc,null),afterRenderEventManager:g.get(Wt,null)},W=y.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",me=a?function Vm(e,r,s,a){const d=a.get(tn,!1)||s===Ke.ShadowDom,g=e.selectRootElement(r,d);return function $C(e){Bm(e)}(g),g}(W,a,this.componentDef.encapsulation,g):xc(W,Y,function ZC(e){const r=e.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let be=null;null!==me&&(be=rr(me,g,!0));const It=Fm(0,null,null,1,0,null,null,null,null,null,null),kt=Rt(null,It,null,ot,null,null,x,W,g,null,be);let on,vs;Ps(kt);try{const hl=this.componentDef;let Mg,aD=null;hl.findHostDirectiveDefs?(Mg=[],aD=new Map,hl.findHostDirectiveDefs(hl,Mg,aD),Mg.push(hl)):Mg=[hl];const _T=function t0(e,r){const s=e[ke],a=St;return e[a]=r,ga(s,a,2,"#host",null)}(kt,me),vT=function Sp(e,r,s,a,c,d,g){const y=c[ke];!function Zf(e,r,s,a){for(const c of e)r.mergedAttrs=Es(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Id(r,r.mergedAttrs,!0),null!==s&&Mv(a,s,r))}(a,e,r,g);let I=null;null!==r&&(I=rr(r,c[Qi]));const A=d.rendererFactory.createRenderer(r,s);let S=16;s.signals?S=4096:s.onPush&&(S=64);const x=Rt(c,si(s),null,S,c[e.index],e,d,A,null,null,I);return y.firstCreatePass&&_n(y,e,a.length-1),Cp(c,x),c[e.index]=x}(_T,me,hl,Mg,kt,x,W);vs=sc(It,St),me&&function Rp(e,r,s,a){if(a)ba(e,s,["ng-version",ym.full]);else{const{attrs:c,classes:d}=function Pu(e){const r=[],s=[];let a=1,c=2;for(;a<e.length;){let d=e[a];if("string"==typeof d)2===c?""!==d&&r.push(d,e[++a]):8===c&&s.push(d);else{if(!Yn(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&ba(e,s,c),d&&d.length>0&&Nf(e,s,d.join(" "))}}(W,hl,me,a),void 0!==s&&function Jc(e,r,s){const a=e.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(vs,this.ngContentSelectors,s),on=function Vy(e,r,s,a,c,d){const g=bn(),y=c[ke],I=Ir(g,c);qc(y,c,g,s,null,a);for(let S=0;S<s.length;S++)Kn(Wr(c,y,g.directiveStart+S,g),c);Ny(y,c,g),I&&Kn(I,c);const A=Wr(c,y,g.directiveStart+g.componentOffset,g);if(e[ln]=c[ln]=A,null!==d)for(const S of d)S(A,r);return _d(y,g,e),A}(vT,hl,Mg,aD,kt,[Qm]),Gm(It,kt,null)}finally{go()}return new e0(this.componentType,on,zc(vs,kt),kt,vs)}}class e0 extends SC{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Xc(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Ed(d[ke],d,c,r,s),this.previousInputValues.set(r,s),Ft(Nr(this._tNode.index,d))}}get injector(){return new Qt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Qm(){const e=bn();Os(Ie()[ke],e)}function Wy(e){const r=e.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}e.inputTransforms=s}function Np(e){return!!Pp(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Pp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Kr(e,r,s){return!Object.is(e[r],s)&&(e[r]=s,!0)}function Cd(e,r,s,a){const c=Ie();return Kr(c,Go(),r)&&(_t(),mi(Ht(),c,e,r,s,a)),Cd}function u_(e,r,s,a,c,d,g,y){const I=Ie(),A=_t(),S=e+St,x=A.firstCreatePass?function _0(e,r,s,a,c,d,g,y,I){const A=r.consts,S=ga(r,e,4,g||null,Ns(A,y));Wf(r,s,S,Ns(A,I)),Os(r,S);const x=S.tView=Fm(2,S,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,A,null);return null!==r.queries&&(r.queries.template(r,S),x.queries=r.queries.embeddedTView(S)),S}(S,A,I,r,s,a,c,d,g):A.data[S];Cr(x,!1);const W=Bp(A,I,x,e);mo()&&ca(A,I,W,x),Kn(W,I),Cp(I,I[S]=Oy(W,I,W,x)),ws(x)&&Wi(A,I,x),null!=g&&Lm(I,x,y)}let Bp=function tE(e,r,s,a){return jt(!0),r[et].createComment("")};function c_(e,r,s){const a=Ie();return Kr(a,Go(),r)&&function xt(e,r,s,a,c,d,g,y){const I=Ir(r,s);let S,A=r.inputs;!y&&null!=A&&(S=A[a])?(Ed(e,s,S,a,c),Zn(r)&&function GC(e,r){const s=Nr(r,e);16&s[mt]||(s[mt]|=64)}(s,r.index)):3&r.type&&(a=function zC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(I,a,c))}(_t(),Ht(),a,e,r,a[et],s,!1),c_}function Sd(e,r,s,a,c){const g=c?"class":"style";Ed(e,s,r.inputs[g],g,a)}function jp(e,r,s,a){const c=Ie(),d=_t(),g=St+e,y=c[et],I=d.firstCreatePass?function nE(e,r,s,a,c,d){const g=r.consts,I=ga(r,e,2,a,Ns(g,c));return Wf(r,s,I,Ns(g,d)),null!==I.attrs&&Id(I,I.attrs,!1),null!==I.mergedAttrs&&Id(I,I.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,I),I}(g,d,c,r,s,a):d.data[g],A=rE(d,c,I,y,r,e);c[g]=A;const S=ws(I);return Cr(I,!0),Mv(y,A,I),32!=(32&I.flags)&&mo()&&ca(d,c,A,I),0===function Ln(){return ut.lFrame.elementDepthCount}()&&Kn(A,c),function Ml(){ut.lFrame.elementDepthCount++}(),S&&(Wi(d,c,I),_d(d,I,c)),null!==a&&Lm(c,I),jp}function Rd(){let e=bn();hc()?function pc(){ut.lFrame.isParent=!1}():(e=e.parent,Cr(e,!1));const r=e;(function za(e){return ut.skipHydrationRootTNode===e})(r)&&function zo(){ut.skipHydrationRootTNode=null}(),function Jn(){ut.lFrame.elementDepthCount--}();const s=_t();return s.firstCreatePass&&(Os(s,e),Bu(e)&&s.queries.elementEnd(e)),null!=r.classesWithoutHost&&function Fl(e){return 0!=(8&e.flags)}(r)&&Sd(s,r,Ie(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function er(e){return 0!=(16&e.flags)}(r)&&Sd(s,r,Ie(),r.stylesWithoutHost,!1),Rd}function Md(e,r,s,a){return jp(e,r,s,a),Rd(),Md}let rE=(e,r,s,a,c,d)=>(jt(!0),xc(a,c,function Qo(){return ut.lFrame.currentNamespace}()));function al(e){return!!e&&"function"==typeof e.then}function oE(e){return!!e&&"function"==typeof e.subscribe}function f_(e,r,s,a){const c=Ie(),d=_t(),g=bn();return function Wp(e,r,s,a,c,d,g){const y=ws(a),A=e.firstCreatePass&&xy(e),S=r[ln],x=wp(r);let W=!0;if(3&a.type||g){const Pe=Ir(a,r),$e=g?g(Pe):Pe,ot=x.length,be=g?kt=>g(Bt(kt[a.index])):a.index;let It=null;if(!g&&y&&(It=function h_(e,r,s,a){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const y=r[Yi],I=c[d+2];return y.length>I?y[I]:null}"string"==typeof g&&(d+=2)}return null}(e,r,c,a.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=d,It.__ngLastListenerFn__=d,W=!1;else{d=p_(a,r,S,d,!1);const kt=s.listen($e,c,d);x.push(d,kt),A&&A.push(c,be,ot,ot+1)}}else d=p_(a,r,S,d,!1);const Y=a.outputs;let me;if(W&&null!==Y&&(me=Y[c])){const Pe=me.length;if(Pe)for(let $e=0;$e<Pe;$e+=2){const on=r[me[$e]][me[$e+1]].subscribe(d),vs=x.length;x.push(d,on),A&&A.push(c,a.index,vs,-(vs+1))}}}(d,c,c[et],g,e,r,a),f_}function uE(e,r,s,a){try{return fi(6,r,s),!1!==s(a)}catch(c){return ky(e,c),!1}finally{fi(7,r,s)}}function p_(e,r,s,a,c){return function d(g){if(g===Function)return a;Ft(e.componentOffset>-1?Nr(e.index,r):r);let I=uE(r,s,a,g),A=d.__ngNextListenerFn__;for(;A;)I=uE(r,s,A,g)&&I,A=A.__ngNextListenerFn__;return c&&!1===I&&g.preventDefault(),I}}function cE(e=1){return function Yo(e){return(ut.lFrame.contextLView=function mc(e,r){for(;e>0;)r=r[Ti],e--;return r}(e,ut.lFrame.contextLView))[ln]}(e)}function ul(e,r=""){const s=Ie(),a=_t(),c=e+St,d=a.firstCreatePass?ga(a,c,1,r,null):a.data[c],g=IE(a,s,d,r,e);s[c]=g,mo()&&ca(a,s,g,d),Cr(d,!1)}let IE=(e,r,s,a,c)=>(jt(!0),function ls(e,r){return e.createText(r)}(r[et],a));function cl(e,r,s){const a=Ie(),c=function rl(e,r,s,a){return Kr(e,Go(),s)?r+te(s)+a:Et}(a,e,r,s);return c!==Et&&Po(a,Gn(),c),cl}const bu=void 0;var LE=["en",[["a","p"],["AM","PM"],bu],[["AM","PM"],bu,bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bu,"{1} 'at' {0}",bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Js(e){const s=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Vd={};function F_(e){const r=function U0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=UE(r);if(s)return s;const a=r.split("-")[0];if(s=UE(a),s)return s;if("en"===a)return LE;throw new ne(701,!1)}function FE(e){return F_(e)[Bd.PluralCase]}function UE(e){return e in Vd||(Vd[e]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[e]),Vd[e]}var Bd=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Bd||{});const jd="en-US";let VE=jd;class Tu{}class uI{}function _w(e,r){return new pg(e,r??null,[])}class pg extends Tu{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Zc(this);const c=_r(r);this._bootstrapComponents=No(c.bootstrap),this._r3Injector=fy(r,s,[{provide:Tu,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver},...a],Q(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Wd extends uI{constructor(r){super(),this.moduleType=r}create(r){return new pg(this.moduleType,r,[])}}class lI extends Tu{constructor(r){super(),this.componentFactoryResolver=new Zc(this),this.instance=null;const s=new ud([...r.providers,{provide:Tu,useValue:this},{provide:Bf,useValue:this.componentFactoryResolver}],r.parent||lp(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function dI(e,r,s=null){return new lI({providers:e,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let vw=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Xv(0,s.type),c=a.length>0?dI([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=We({token:e,providedIn:"environment",factory:()=>new e(Lt(Ro))})}}return e})();function fI(e){e.getStandaloneInjector=r=>r.get(vw).getOrCreateStandaloneInjector(e)}function yI(e,r,s,a,c,d,g){const y=r+s;return function nl(e,r,s,a){const c=Kr(e,r,s);return Kr(e,r+1,a)||c}(e,y,c,d)?function Oo(e,r,s){return e[r]=s}(e,y+2,g?a.call(g,c,d):a(c,d)):function Gd(e,r){const s=e[r];return s===Et?void 0:s}(e,y+2)}function wI(e,r){const s=_t();let a;const c=e+St;s.firstCreatePass?(a=function ww(e,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(e===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Ni(a.type)),y=Gt(pd);try{const I=Cn(!1),A=d();return Cn(I),function v0(e,r,s,a){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),r[s]=a}(s,Ie(),c,A),A}finally{Gt(y)}}function J_(e,r,s,a){const c=e+St,d=Ie(),g=function hi(e,r){return e[r]}(d,c);return function Eh(e,r){return e[ke].data[r].pure}(d,c)?yI(d,function An(){const e=ut.lFrame;let r=e.bindingRootIndex;return-1===r&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}(),r,g.transform,s,a,g):g.transform(s,a)}function bw(){return this._results[Symbol.iterator]()}class Ig{get changes(){return this._changes||(this._changes=new ds)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ig.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=bw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function zr(e){return e.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function eu(e,r,s){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++){let c=e[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function AI(e,r,s,a=!0){const c=r[ke];if(function Mf(e,r,s,a){const c=xn+a,d=s.length;a>0&&(s[c-1][Rr]=r),a<d-xn?(r[Rr]=s[c],Og(s,xn+a,r)):(s.push(r),r[Rr]=null),r[$t]=s;const g=r[io];null!==g&&s!==g&&function Wg(e,r){const s=e[Ri];r[Dn]!==r[$t][$t][Dn]&&(e[li]=!0),null===s?e[Ri]=[r]:s.push(r)}(g,r);const y=r[yr];null!==y&&y.insertView(e),r[mt]|=128}(c,r,e,s),a){const d=qg(s,e),g=r[et],y=Zh(g,e[Mr]);null!==y&&function ua(e,r,s,a,c,d){a[cn]=c,a[ar]=r,Lc(e,a,s,1,c,d)}(c,e[ar],g,r,y,d)}}let Cg=(()=>{class e{static{this.__NG_ELEMENT_ID__=rb}}return e})();const Sw=Cg,nb=class extends Sw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function bI(e,r,s,a){const c=r.tView,y=Rt(e,c,s,4096&e[mt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);y[io]=e[r.index];const A=e[yr];return null!==A&&(y[yr]=A.createEmbeddedView(c)),Gm(c,y,s),y}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new _a(c)}};function rb(){return Kd(bn(),Ie())}function Kd(e,r){return 4&e.type?new nb(r,e,zc(e,r)):null}let nv=(()=>{class e{static{this.__NG_ELEMENT_ID__=Nw}}return e})();function Nw(){return Pw(bn(),Ie())}const ob=nv,RI=class extends ob{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return zc(this._hostTNode,this._hostLView)}get injector(){return new Qt(this._hostTNode,this._hostLView)}get parentInjector(){const r=os(this._hostTNode,this._hostLView);if(Hr(r)){const s=Xo(r,this._hostLView),a=dn(r);return new Qt(s[ke].data[a+8],s)}return new Qt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=MI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const y=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(y,c,false),y}createComponent(r,s,a,c,d){const g=r&&!function br(e){return"function"==typeof e}(r);let y;if(g)y=s;else{const Pe=s||{};y=Pe.index,a=Pe.injector,c=Pe.projectableNodes,d=Pe.environmentInjector||Pe.ngModuleRef}const I=g?r:new ya(bt(r)),A=a||this.parentInjector;if(!d&&null==I.ngModule){const $e=(g?A:this.parentInjector).get(Ro,null);$e&&(d=$e)}bt(I.componentType??{});const Y=I.create(A,c,null,d);return this.insertImpl(Y.hostView,y,false),Y}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ms(e){return Xn(e[$t])}(c)){const I=this.indexOf(r);if(-1!==I)this.detach(I);else{const A=c[$t],S=new RI(A,A[ar],A[$t]);S.detach(S.indexOf(r))}}const g=this._adjustIndex(s),y=this._lContainer;return AI(y,c,g,!a),r.attachToViewContainerRef(),Og(NI(y),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=MI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Qh(this._lContainer,s);a&&(Eo(NI(this._lContainer),s),Ev(a[ke],a))}detach(r){const s=this._adjustIndex(r,-1),a=Qh(this._lContainer,s);return a&&null!=Eo(NI(this._lContainer),s)?new _a(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function MI(e){return e[8]}function NI(e){return e[8]||(e[8]=[])}function Pw(e,r){let s;const a=r[e.index];return Xn(a)?s=a:(s=Oy(a,r,null,e),r[e.index]=s,Cp(r,s)),xw(s,r,e,a),new RI(s,e,r)}let xw=function kw(e,r,s,a){if(e[Mr])return;let c;c=8&s.type?Bt(a):function Ow(e,r){const s=e[et],a=s.createComment(""),c=Ir(r,e);return kc(s,Zh(s,c),a,function nC(e,r){return e.nextSibling(r)}(s,c),!1),a}(r,s),e[Mr]=c};class PI{constructor(r){this.queryList=r,this.matches=null}clone(){return new PI(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new rv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==BI(r,s).matches&&this.queries[s].setDirty()}}class OI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class bg{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new bg(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Ag{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Ag(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,xI(s,d)),this.matchTNodeWithReadOption(r,s,Ja(s,r,d,!1,!1))}else a===Cg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ja(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===dd||c===nv||c===Cg&&4&s.type)this.addMatch(s.index,-2);else{const d=Ja(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function xI(e,r){const s=e.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function LI(e,r,s,a){return-1===s?function kI(e,r){return 11&e.type?zc(e,r):4&e.type?Kd(e,r):null}(r,e):-2===s?function FI(e,r,s){return s===dd?zc(r,e):s===Cg?Kd(r,e):s===nv?Pw(r,e):void 0}(e,r,a):Wr(e,e[ke],s,r)}function iv(e,r,s,a){const c=r[yr].queries[a];if(null===c.matches){const d=e.data,g=s.matches,y=[];for(let I=0;I<g.length;I+=2){const A=g[I];y.push(A<0?null:LI(r,d[A],g[I+1],s.metadata.read))}c.matches=y}return c.matches}function Tg(e,r,s,a){const c=e.queries.getByIndex(s),d=c.matches;if(null!==d){const g=iv(e,r,c,s);for(let y=0;y<d.length;y+=2){const I=d[y];if(I>0)a.push(g[y/2]);else{const A=d[y+1],S=r[-I];for(let x=xn;x<S.length;x++){const W=S[x];W[io]===W[$t]&&Tg(W[ke],W,A,a)}if(null!==S[Ri]){const x=S[Ri];for(let W=0;W<x.length;W++){const Y=x[W];Tg(Y[ke],Y,A,a)}}}}}return a}function Lw(e){const r=Ie(),s=_t(),a=gf();Ka(a+1);const c=BI(s,a);if(e.dirty&&function fo(e){return 4==(4&e[mt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)e.reset([]);else{const d=c.crossesNgTemplate?Tg(s,r,a,[]):iv(s,r,c,a);e.reset(d,sy),e.notifyOnChanges()}return!0}return!1}function UI(e,r,s,a){const c=_t();if(c.firstCreatePass){const d=bn();(function av(e,r,s){null===e.queries&&(e.queries=new bg),e.queries.track(new Ag(r,s))})(c,new OI(r,s,a),d.index),function Ch(e,r){const s=e.contentQueries||(e.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,r)}(c,e),2==(2&s)&&(c.staticContentQueries=!0)}!function ov(e,r,s){const a=new Ig(4==(4&s));(function vd(e,r,s,a){const c=wp(r);c.push(s),e.firstCreatePass&&xy(e).push(a,c.length-1)})(e,r,a,a.destroy),null===r[yr]&&(r[yr]=new rv),r[yr].queries.push(new PI(a))}(c,Ie(),s)}function sv(){return function VI(e,r){return e[yr].queries[r].queryList}(Ie(),gf())}function BI(e,r){return e.queries.getByIndex(r)}function uv(e){return!!_r(e)}const pb=new qe("Application Initializer");let Kw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=ft(pb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(al(d))s.push(d);else if(oE(d)){const g=new Promise((y,I)=>{d.subscribe({complete:y,error:I})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gb=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const qI=new qe("LocaleId",{providedIn:"root",factory:()=>ft(qI,tt.Optional|tt.SkipSelf)||function rA(){return typeof $localize<"u"&&$localize.locale||jd}()}),iA=new qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let mb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class oA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let aA=(()=>{class e{compileModuleSync(s){return new Wd(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=No(_r(s).declarations).reduce((g,y)=>{const I=bt(y);return I&&g.push(new ya(I)),g},[]);return new oA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Eb=new qe(""),Ib=new qe("");let Qw,RA=(()=>{class e{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qw||(function MA(e){Qw=e}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||e)(Lt(Sn),Lt(Cb),Lt(Ib))}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac})}}return e})(),Cb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Qw?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Xd=null;const wb=new qe("AllowMultipleToken"),Xw=new qe("PlatformDestroyListeners"),Zw=new qe("appBootstrapListener");class OA{constructor(r,s){this.name=r,this.token=s}}function Ab(e,r,s=[]){const a=`Platform: ${r}`,c=new qe(a);return(d=[])=>{let g=Jw();if(!g||g.injector.get(wb,!1)){const y=[...s,...d,{provide:c,useValue:!0}];e?e(y):function xA(e){if(Xd&&!Xd.get(wb,!1))throw new ne(400,!1);(function Db(){!function Ba(e){Zu=e}(()=>{throw new ne(600,!1)})})(),Xd=e;const r=e.get(Sb);(function bb(e){e.get(lm,null)?.forEach(s=>s())})(e)}(function Tb(e=[],r){return Gs.create({name:r,providers:[{provide:Bi,useValue:"platform"},{provide:Xw,useValue:new Set([()=>Xd=null])},...e]})}(y,a))}return function LA(e){const r=Jw();if(!r)throw new ne(401,!1);return r}()}}function Jw(){return Xd?.get(Sb)??null}let Sb=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function FA(e="zone.js",r){return"noop"===e?new jC:"zone.js"===e?new Sn(r):e}(a?.ngZone,function Rb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function cI(e,r,s){return new pg(e,r,s)}(s.moduleType,this.injector,function xb(e){return[{provide:Sn,useFactory:e},{provide:od,multi:!0,useFactory:()=>{const r=ft(VA,{optional:!0});return()=>r.initialize()}},{provide:Ob,useFactory:UA},{provide:Sm,useFactory:my}]}(()=>c)),g=d.injector.get(ha,null);return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:I=>{g.handleError(I)}});d.onDestroy(()=>{QI(this._modules,d),y.unsubscribe()})}),function Mb(e,r,s){try{const a=s();return al(a)?a.catch(c=>{throw r.runOutsideAngular(()=>e.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>e.handleError(a)),a}}(g,c,()=>{const y=d.injector.get(Kw);return y.runInitializers(),y.donePromise.then(()=>(function BE(e){Ee(e,"Expected localeId to be defined"),"string"==typeof e&&(VE=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(qI,jd)||jd),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=Nb({},a);return function NA(e,r,s){const a=new Wd(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Rg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ne(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Xw,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||e)(Lt(Gs))}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Nb(e,r){return Array.isArray(r)?r.reduce(Nb,e):{...e,...r}}let Rg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ft(Ob),this.zoneIsStable=ft(Sm),this.componentTypes=[],this.components=[],this.isStable=ft(mb).hasPendingTasks.pipe((0,Te.n)(s=>s?(0,fe.of)(!1):this.zoneIsStable),(0,de.F)(),(0,pe.u)()),this._injector=ft(Ro)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof ny;if(!this._injector.get(Kw).done)throw!c&&qi(s),new ne(405,!1);let g;g=c?s:this._injector.get(Bf).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const y=function PA(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Tu),A=g.create(Gs.NULL,[],a||g.selector,y),S=A.location.nativeElement,x=A.injector.get(Eb,null);return x?.registerApplication(S),A.onDestroy(()=>{this.detachView(A.hostView),QI(this.components,A),x?.unregisterApplication(S)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;QI(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(Zw,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>QI(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ne(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function QI(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}const Ob=new qe("",{providedIn:"root",factory:()=>ft(ha).handleError.bind(void 0)});function UA(){const e=ft(Sn),r=ft(ha);return s=>e.runOutsideAngular(()=>r.handleError(s))}let VA=(()=>{class e{constructor(){this.zone=ft(Sn),this.applicationRef=ft(Rg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jA(){return!1}let HA=(()=>{class e{static{this.__NG_ELEMENT_ID__=$A}}return e})();function $A(e){return function WA(e,r,s){if(Zn(e)&&!s){const a=Nr(e.index,r);return new _a(a,a)}return 47&e.type?new _a(r[Dn],r):null}(bn(),Ie(),16==(16&e))}class Vb{constructor(){}supports(r){return Np(r)}create(r){return new YA(r)}}const qA=(e,r)=>r;class YA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||qA}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<jb(a,c,d)?s:a,y=jb(g,c,d),I=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const A=y-c,S=I-c;if(A!=S){for(let W=0;W<A;W++){const Y=W<d.length?d[W]:d[W]=0,me=Y+W;S<=me&&me<A&&(d[W]=Y+1)}d[g.previousIndex]=S-A}}y!==I&&r(g,y,I)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Np(r))throw new ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)d=r[y],g=this._trackByFn(y,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,y)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,y),a=!0),s=s._next}else c=0,function r0(e,r){if(Array.isArray(e))for(let s=0;s<e.length;s++)r(e[s]);else{const s=e[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,y=>{g=this._trackByFn(c,y),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,y,g,c)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new QA(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Bb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class QA{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Bb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new XA,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jb(e,r,s){const a=e.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class Hb{constructor(){}supports(r){return r instanceof Map||Pp(r)}create(){return new ZA}}class ZA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Pp(r)))throw new ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new JA(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class JA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $b(){return new iD([new Vb])}let iD=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:$b})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||$b()),deps:[[e,new Gl,new zl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ne(901,!1)}}return e})();function Wb(){return new sD([new Hb])}let sD=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:Wb})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||Wb()),deps:[[e,new Gl,new zl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ne(901,!1)}}return e})();const nT=Ab(null,"core",[]);let rT=(()=>{class e{constructor(s){}static{this.\u0275fac=function(a){return new(a||e)(Lt(Rg))}}static{this.\u0275mod=Ma({type:e})}static{this.\u0275inj=Ut({})}}return e})();function pT(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function mT(e){const r=bt(e);if(!r)return null;const s=new ya(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},3345:(Xe,ye,P)=>{P.d(ye,{A:()=>Be});var _=P(1076),X=P(1362),O=P(7852),ee=P(8041);class re{constructor(Fe,Me){this._delegate=Fe,this.firebase=Me,(0,O._addComponent)(Fe,new X.uA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Fe,Me=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(Fe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(nt=Ze.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Me})}_removeServiceInstance(Fe,Me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Me)}_addComponent(Fe){(0,O._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,O._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new _.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function de(){const Ae=function Te(Ae){const Fe={},Me={__esModule:!0,initializeApp:function ne(Re,Ue={}){const ae=O.initializeApp(Re,Ue);if((0,_.gR)(Fe,ae.name))return Fe[ae.name];const st=new Ae(ae,Me);return Fe[ae.name]=st,st},app:Ze,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function te(Re){const Ue=Re.name,ae=Ue.replace("-compat","");if(O._registerComponent(Re)&&"PUBLIC"===Re.type){const st=(Ct=Ze())=>{if("function"!=typeof Ct[ae])throw pe.create("invalid-app-argument",{appName:Ue});return Ct[ae]()};void 0!==Re.serviceProps&&(0,_.zw)(st,Re.serviceProps),Me[ae]=st,Ae.prototype[ae]=function(...Ct){return this._getService.bind(this,Ue).apply(this,Re.multipleInstances?Ct:[])}}return"PUBLIC"===Re.type?Me[ae]:null},removeApp:function nt(Re){delete Fe[Re]},useAsService:function ve(Re,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:O}};function Ze(Re){if(!(0,_.gR)(Fe,Re=Re||O._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Re});return Fe[Re]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function ge(){return Object.keys(Fe).map(Re=>Fe[Re])}}),Ze.App=Ae,Me}(re);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Fe(Me){(0,_.zw)(Ae,Me)},createSubscribe:_.tD,ErrorFactory:_.FA,deepExtend:_.zw}),Ae}(),j=new ee.Vy("@firebase/app-compat");if((0,_.Bd)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=L;!function Ce(Ae){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Ae)}()},7852:(Xe,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>ee.g,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>tt,_addComponent:()=>rn,_addOrOverwriteComponent:()=>hr,_apps:()=>lt,_clearComponents:()=>qe,_components:()=>Gt,_getProvider:()=>jn,_registerComponent:()=>Vt,_removeServiceInstance:()=>eo,deleteApp:()=>qr,getApp:()=>sr,getApps:()=>Ki,initializeApp:()=>to,onLog:()=>Di,registerVersion:()=>Pn,setLogLevel:()=>un});var _=P(467),X=P(1362),O=P(8041),ee=P(1076);const re=(he,Z)=>Z.some(Se=>he instanceof Se);let fe,pe;const L=new WeakMap,j=new WeakMap,Q=new WeakMap,Ne=new WeakMap,Ce=new WeakMap;let Fe={get(he,Z,Se){if(he instanceof IDBTransaction){if("done"===Z)return j.get(he);if("objectStoreNames"===Z)return he.objectStoreNames||Q.get(he);if("store"===Z)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return ne(he[Z])},set:(he,Z,Se)=>(he[Z]=Se,!0),has:(he,Z)=>he instanceof IDBTransaction&&("done"===Z||"store"===Z)||Z in he};function Ze(he){return"function"==typeof he?function nt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Z){return he.apply(ge(this),Z),ne(L.get(this))}:function(...Z){return ne(he.apply(ge(this),Z))}:function(Z,...Se){const Ke=he.call(ge(this),Z,...Se);return Q.set(Ke,Z.sort?Z.sort():[Z]),ne(Ke)}}(he):(he instanceof IDBTransaction&&function Ae(he){if(j.has(he))return;const Z=new Promise((Se,Ke)=>{const Je=()=>{he.removeEventListener("complete",je),he.removeEventListener("error",Pt),he.removeEventListener("abort",Pt)},je=()=>{Se(),Je()},Pt=()=>{Ke(he.error||new DOMException("AbortError","AbortError")),Je()};he.addEventListener("complete",je),he.addEventListener("error",Pt),he.addEventListener("abort",Pt)});j.set(he,Z)}(he),re(he,function Te(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Fe):he)}function ne(he){if(he instanceof IDBRequest)return function Be(he){const Z=new Promise((Se,Ke)=>{const Je=()=>{he.removeEventListener("success",je),he.removeEventListener("error",Pt)},je=()=>{Se(ne(he.result)),Je()},Pt=()=>{Ke(he.error),Je()};he.addEventListener("success",je),he.addEventListener("error",Pt)});return Z.then(Se=>{Se instanceof IDBCursor&&L.set(Se,he)}).catch(()=>{}),Ce.set(Z,he),Z}(he);if(Ne.has(he))return Ne.get(he);const Z=Ze(he);return Z!==he&&(Ne.set(he,Z),Ce.set(Z,he)),Z}const ge=he=>Ce.get(he),Re=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ae=new Map;function st(he,Z){if(!(he instanceof IDBDatabase)||Z in he||"string"!=typeof Z)return;if(ae.get(Z))return ae.get(Z);const Se=Z.replace(/FromIndex$/,""),Ke=Z!==Se,Je=Ue.includes(Se);if(!(Se in(Ke?IDBIndex:IDBObjectStore).prototype)||!Je&&!Re.includes(Se))return;const je=function(){var Pt=(0,_.A)(function*(En,...hn){const ui=this.transaction(En,Je?"readwrite":"readonly");let mr=ui.store;return Ke&&(mr=mr.index(hn.shift())),(yield Promise.all([mr[Se](...hn),Je&&ui.done]))[0]});return function(hn){return Pt.apply(this,arguments)}}();return ae.set(Z,je),je}!function Me(he){Fe=he(Fe)}(he=>({...he,get:(Z,Se,Ke)=>st(Z,Se)||he.get(Z,Se,Ke),has:(Z,Se)=>!!st(Z,Se)||he.has(Z,Se)}));class Ct{constructor(Z){this.container=Z}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Bn(he){const Z=he.getComponent();return"VERSION"===Z?.type}(Se)){const Ke=Se.getImmediate();return`${Ke.library}/${Ke.version}`}return null}).filter(Se=>Se).join(" ")}}const fr="@firebase/app",vn=new O.Vy("@firebase/app"),tt="[DEFAULT]",wt={[fr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,Gt=new Map;function rn(he,Z){try{he.container.addComponent(Z)}catch(Se){vn.debug(`Component ${Z.name} failed to register with FirebaseApp ${he.name}`,Se)}}function hr(he,Z){he.container.addOrOverwriteComponent(Z)}function Vt(he){const Z=he.name;if(Gt.has(Z))return vn.debug(`There were multiple attempts to register component ${Z}.`),!1;Gt.set(Z,he);for(const Se of lt.values())rn(Se,he);return!0}function jn(he,Z){const Se=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),he.container.getProvider(Z)}function eo(he,Z,Se=tt){jn(he,Z).clearInstance(Se)}function qe(){Gt.clear()}const yt=new ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wi{constructor(Z,Se,Ke){this._isDeleted=!1,this._options=Object.assign({},Z),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Ke,this.container.addComponent(new X.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this.checkDestroyed(),this._automaticDataCollectionEnabled=Z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Z){this._isDeleted=Z}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const ai="9.23.0";function to(he,Z={}){let Se=he;"object"!=typeof Z&&(Z={name:Z});const Ke=Object.assign({name:tt,automaticDataCollectionEnabled:!1},Z),Je=Ke.name;if("string"!=typeof Je||!Je)throw yt.create("bad-app-name",{appName:String(Je)});if(Se||(Se=(0,ee.T9)()),!Se)throw yt.create("no-options");const je=lt.get(Je);if(je){if((0,ee.bD)(Se,je.options)&&(0,ee.bD)(Ke,je.config))return je;throw yt.create("duplicate-app",{appName:Je})}const Pt=new X.h1(Je);for(const hn of Gt.values())Pt.addComponent(hn);const En=new wi(Se,Ke,Pt);return lt.set(Je,En),En}function sr(he=tt){const Z=lt.get(he);if(!Z&&he===tt&&(0,ee.T9)())return to();if(!Z)throw yt.create("no-app",{appName:he});return Z}function Ki(){return Array.from(lt.values())}function qr(he){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.A)(function*(he){const Z=he.name;lt.has(Z)&&(lt.delete(Z),yield Promise.all(he.container.getProviders().map(Se=>Se.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Pn(he,Z,Se){var Ke;let Je=null!==(Ke=wt[he])&&void 0!==Ke?Ke:he;Se&&(Je+=`-${Se}`);const je=Je.match(/\s|\//),Pt=Z.match(/\s|\//);if(je||Pt){const En=[`Unable to register library "${Je}" with version "${Z}":`];return je&&En.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),je&&Pt&&En.push("and"),Pt&&En.push(`version name "${Z}" contains illegal characters (whitespace or "/")`),void vn.warn(En.join(" "))}Vt(new X.uA(`${Je}-version`,()=>({library:Je,version:Z}),"VERSION"))}function Di(he,Z){if(null!==he&&"function"!=typeof he)throw yt.create("invalid-log-argument");(0,O.Ey)(he,Z)}function un(he){(0,O.He)(he)}const Yr="firebase-heartbeat-database",or=1,V="firebase-heartbeat-store";let F=null;function z(){return F||(F=function te(he,Z,{blocked:Se,upgrade:Ke,blocking:Je,terminated:je}={}){const Pt=indexedDB.open(he,Z),En=ne(Pt);return Ke&&Pt.addEventListener("upgradeneeded",hn=>{Ke(ne(Pt.result),hn.oldVersion,hn.newVersion,ne(Pt.transaction),hn)}),Se&&Pt.addEventListener("blocked",hn=>Se(hn.oldVersion,hn.newVersion,hn)),En.then(hn=>{je&&hn.addEventListener("close",()=>je()),Je&&hn.addEventListener("versionchange",ui=>Je(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),En}(Yr,or,{upgrade:(he,Z)=>{0===Z&&he.createObjectStore(V)}}).catch(he=>{throw yt.create("idb-open",{originalErrorMessage:he.message})})),F}function ie(){return(ie=(0,_.A)(function*(he){try{return yield(yield z()).transaction(V).objectStore(V).get(Mt(he))}catch(Z){if(Z instanceof ee.g)vn.warn(Z.message);else{const Se=yt.create("idb-get",{originalErrorMessage:Z?.message});vn.warn(Se.message)}}})).apply(this,arguments)}function ze(he,Z){return rt.apply(this,arguments)}function rt(){return(rt=(0,_.A)(function*(he,Z){try{const Ke=(yield z()).transaction(V,"readwrite");yield Ke.objectStore(V).put(Z,Mt(he)),yield Ke.done}catch(Se){if(Se instanceof ee.g)vn.warn(Se.message);else{const Ke=yt.create("idb-set",{originalErrorMessage:Se?.message});vn.warn(Ke.message)}}})).apply(this,arguments)}function Mt(he){return`${he.name}!${he.options.appId}`}class ft{constructor(Z){this.container=Z,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new gr(Se),this._heartbeatsCachePromise=this._storage.read().then(Ke=>(this._heartbeatsCache=Ke,Ke))}triggerHeartbeat(){var Z=this;return(0,_.A)(function*(){const Ke=Z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=Tt();if(null===Z._heartbeatsCache&&(Z._heartbeatsCache=yield Z._heartbeatsCachePromise),Z._heartbeatsCache.lastSentHeartbeatDate!==Je&&!Z._heartbeatsCache.heartbeats.some(je=>je.date===Je))return Z._heartbeatsCache.heartbeats.push({date:Je,agent:Ke}),Z._heartbeatsCache.heartbeats=Z._heartbeatsCache.heartbeats.filter(je=>{const Pt=new Date(je.date).valueOf();return Date.now()-Pt<=2592e6}),Z._storage.overwrite(Z._heartbeatsCache)})()}getHeartbeatsHeader(){var Z=this;return(0,_.A)(function*(){if(null===Z._heartbeatsCache&&(yield Z._heartbeatsCachePromise),null===Z._heartbeatsCache||0===Z._heartbeatsCache.heartbeats.length)return"";const Se=Tt(),{heartbeatsToSend:Ke,unsentEntries:Je}=function Hn(he,Z=1024){const Se=[];let Ke=he.slice();for(const Je of he){const je=Se.find(Pt=>Pt.agent===Je.agent);if(je){if(je.dates.push(Je.date),bi(Se)>Z){je.dates.pop();break}}else if(Se.push({agent:Je.agent,dates:[Je.date]}),bi(Se)>Z){Se.pop();break}Ke=Ke.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Ke}}(Z._heartbeatsCache.heartbeats),je=(0,ee.Uj)(JSON.stringify({version:2,heartbeats:Ke}));return Z._heartbeatsCache.lastSentHeartbeatDate=Se,Je.length>0?(Z._heartbeatsCache.heartbeats=Je,yield Z._storage.overwrite(Z._heartbeatsCache)):(Z._heartbeatsCache.heartbeats=[],Z._storage.overwrite(Z._heartbeatsCache)),je})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class gr{constructor(Z){this.app=Z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.A)(function*(){return!!(0,ee.zW)()&&(0,ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var Z=this;return(0,_.A)(function*(){return(yield Z._canUseIndexedDBPromise)&&(yield function _e(he){return ie.apply(this,arguments)}(Z.app))||{heartbeats:[]}})()}overwrite(Z){var Se=this;return(0,_.A)(function*(){var Ke;if(yield Se._canUseIndexedDBPromise){const je=yield Se.read();return ze(Se.app,{lastSentHeartbeatDate:null!==(Ke=Z.lastSentHeartbeatDate)&&void 0!==Ke?Ke:je.lastSentHeartbeatDate,heartbeats:Z.heartbeats})}})()}add(Z){var Se=this;return(0,_.A)(function*(){var Ke;if(yield Se._canUseIndexedDBPromise){const je=yield Se.read();return ze(Se.app,{lastSentHeartbeatDate:null!==(Ke=Z.lastSentHeartbeatDate)&&void 0!==Ke?Ke:je.lastSentHeartbeatDate,heartbeats:[...je.heartbeats,...Z.heartbeats]})}})()}}function bi(he){return(0,ee.Uj)(JSON.stringify({version:2,heartbeats:he})).length}!function Lo(he){Vt(new X.uA("platform-logger",Z=>new Ct(Z),"PRIVATE")),Vt(new X.uA("heartbeat",Z=>new ft(Z),"PRIVATE")),Pn(fr,"0.9.13",he),Pn(fr,"0.9.13","esm2017"),Pn("fire-js","")}("")},1362:(Xe,ye,P)=>{P.d(ye,{Kq:()=>re,h1:()=>Te,uA:()=>O});var _=P(467),X=P(1076);class O{constructor(L,j,Q){this.name=L,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ee="[DEFAULT]";class re{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const Q=new X.cY;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:j});Ne&&Q.resolve(Ne)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const Q=this.normalizeInstanceIdentifier(L?.identifier),Ne=null!==(j=L?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ce){if(Ne)return null;throw Ce}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function pe(de){return"EAGER"===de.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(j);try{const Ce=this.getOrInitializeService({instanceIdentifier:Ne});Q.resolve(Ce)}catch{}}}}clearInstance(L=ee){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,_.A)(function*(){const j=Array.from(L.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ee){return this.instances.has(L)}getOptions(L=ee){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:j={}}=L,Q=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Ce,Be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ce)&&Be.resolve(Ne);return Ne}onInit(L,j){var Q;const Ne=this.normalizeInstanceIdentifier(j),Ce=null!==(Q=this.onInitCallbacks.get(Ne))&&void 0!==Q?Q:new Set;Ce.add(L),this.onInitCallbacks.set(Ne,Ce);const Be=this.instances.get(Ne);return Be&&L(Be,Ne),()=>{Ce.delete(L)}}invokeOnInitCallbacks(L,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Ne of Q)try{Ne(L,j)}catch{}}getOrInitializeService({instanceIdentifier:L,options:j={}}){let Q=this.instances.get(L);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=L,de===ee?void 0:de),options:j}),this.instances.set(L,Q),this.instancesOptions.set(L,j),this.invokeOnInitCallbacks(Q,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(L=ee){return this.component?this.component.multipleInstances?L:ee:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new re(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},8041:(Xe,ye,P)=>{P.d(ye,{$b:()=>X,Ey:()=>de,He:()=>Te,Vy:()=>pe});const _=[];var X=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(X||{});const O={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ee=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},fe=(L,j,...Q)=>{if(j<L.logLevel)return;const Ne=(new Date).toISOString(),Ce=re[j];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ce](`[${Ne}]  ${L.name}:`,...Q)};class pe{constructor(j){this.name=j,this._logLevel=ee,this._logHandler=fe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in X))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...j),this._logHandler(this,X.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...j),this._logHandler(this,X.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,X.INFO,...j),this._logHandler(this,X.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,X.WARN,...j),this._logHandler(this,X.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...j),this._logHandler(this,X.ERROR,...j)}}function Te(L){_.forEach(j=>{j.setLogLevel(L)})}function de(L,j){for(const Q of _){let Ne=null;j&&j.level&&(Ne=O[j.level]),Q.userLogHandler=null===L?null:(Ce,Be,...Ae)=>{const Fe=Ae.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Be>=(Ne??Ce.logLevel)&&L({level:X[Be].toLowerCase(),message:Fe,args:Ae,type:Ce.name})}}}},2214:(Xe,ye,P)=>{P.d(ye,{Dk:()=>_.getApps,Sx:()=>_.getApp});var _=P(7852);(0,_.registerVersion)("firebase","9.23.0","app")},7935:(Xe,ye,P)=>{P.d(ye,{A:()=>_.A});var _=P(3345);_.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Xe,ye,P)=>{var _=P(467),X=P(3345),O=P(1076),ee=P(7852),re=P(1635),fe=P(8041),pe=P(1362);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Be=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ae=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new O.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new fe.Vy("@firebase/auth");function ne(m,...l){nt.logLevel<=fe.$b.ERROR&&nt.error(`Auth (${ee.SDK_VERSION}): ${m}`,...l)}function ge(m,...l){throw Ue(m,...l)}function te(m,...l){return Ue(m,...l)}function ve(m,l,h){const v=Object.assign(Object.assign({},Ae()),{[l]:h});return new O.FA("auth","Firebase",v).create(l,{appName:m.name})}function Re(m,l,h){if(!(l instanceof h))throw h.name!==l.constructor.name&&ge(m,"argument-error"),ve(m,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(m,...l){if("string"!=typeof m){const h=l[0],v=[...l.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(h,...v)}return Fe.create(m,...l)}function ae(m,l,...h){if(!m)throw Ue(l,...h)}function st(m){const l="INTERNAL ASSERTION FAILED: "+m;throw ne(l),new Error(l)}function Ct(m,l){m||st(l)}function Bn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function fr(){return"http:"===Ei()||"https:"===Ei()}function Ei(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ii{constructor(l,h){this.shortDelay=l,this.longDelay=h,Ct(h>l,"Short delay should be less than long delay!"),this.isMobile=(0,O.jZ)()||(0,O.lV)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fr()||(0,O.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zi(m,l){Ct(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return l?`${h}${l.startsWith("/")?l.slice(1):l}`:h}class Ci{static initialize(l,h,v){this.fetchImpl=l,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new Ii(3e4,6e4);function J(m,l){return m.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:m.tenantId}):l}function oe(m,l,h,v){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,_.A)(function*(m,l,h,v,b={}){return ue(m,b,(0,_.A)(function*(){let R={},B={};v&&("GET"===l?B=v:R={body:JSON.stringify(v)});const G=(0,O.Am)(Object.assign({key:m.config.apiKey},B)).slice(1),De=yield m._getAdditionalHeaders();return De["Content-Type"]="application/json",m.languageCode&&(De["X-Firebase-Locale"]=m.languageCode),Ci.fetch()(We(m,m.config.apiHost,h,G),Object.assign({method:l,headers:De,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ue(m,l,h){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,_.A)(function*(m,l,h){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},se),l);try{const b=new qt(m),R=yield Promise.race([h(),b.promise]);b.clearNetworkTimeout();const B=yield R.json();if("needConfirmation"in B)throw Ut(m,"account-exists-with-different-credential",B);if(R.ok&&!("errorMessage"in B))return B;{const G=R.ok?B.errorMessage:B.error.message,[De,Oe]=G.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Ut(m,"credential-already-in-use",B);if("EMAIL_EXISTS"===De)throw Ut(m,"email-already-in-use",B);if("USER_DISABLED"===De)throw Ut(m,"user-disabled",B);const He=v[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw ve(m,He,Oe);ge(m,He)}}catch(b){if(b instanceof O.g)throw b;ge(m,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function vt(m,l,h,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,_.A)(function*(m,l,h,v,b={}){const R=yield oe(m,l,h,v,b);return"mfaPendingCredential"in R&&ge(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function We(m,l,h,v){const b=`${l}${h}?${v}`;return m.config.emulator?zi(m.config,b):`${m.config.apiScheme}://${b}`}class qt{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(te(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ut(m,l,h){const v={appName:m.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const b=te(m,l,v);return b.customData._tokenResponse=h,b}function dt(){return(dt=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function wn(){return(wn=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function fn(){return(fn=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Sr(m){if(m)try{const l=new Date(Number(m));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function tt(){return(tt=(0,_.A)(function*(m,l=!1){const h=(0,O.Ku)(m),v=yield h.getIdToken(l),b=lt(v);ae(b&&b.exp&&b.auth_time&&b.iat,h.auth,"internal-error");const R="object"==typeof b.firebase?b.firebase:void 0,B=R?.sign_in_provider;return{claims:b,token:v,authTime:Sr(wt(b.auth_time)),issuedAtTime:Sr(wt(b.iat)),expirationTime:Sr(wt(b.exp)),signInProvider:B||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(m){return 1e3*Number(m)}function lt(m){const[l,h,v]=m.split(".");if(void 0===l||void 0===h||void 0===v)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.u)(h);return b?JSON.parse(b):(ne("Failed to decode base64 JWT payload"),null)}catch(b){return ne("Caught error parsing JWT payload as JSON",b?.toString()),null}}function rn(m,l){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.A)(function*(m,l,h=!1){if(h)return l;try{return yield l}catch(v){throw v instanceof O.g&&function Vt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}class jn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var h;if(l){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const b=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(l=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(l);this.timerId=setTimeout((0,_.A)(function*(){yield h.iteration()}),v)}iteration(){var l=this;return(0,_.A)(function*(){try{yield l.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&l.schedule(!0))}l.schedule()})()}}class eo{constructor(l,h){this.createdAt=l,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qe(m){return pr.apply(this,arguments)}function pr(){return pr=(0,_.A)(function*(m){var l;const h=m.auth,v=yield m.getIdToken(),b=yield rn(m,function Mn(m,l){return fn.apply(this,arguments)}(h,{idToken:v}));ae(b?.users.length,h,"internal-error");const R=b.users[0];m._notifyReloadListener(R);const B=null!==(l=R.providerUserInfo)&&void 0!==l&&l.length?function to(m){return m.map(l=>{var{providerId:h}=l,v=(0,re.Tt)(l,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(R.providerUserInfo):[],G=function ai(m,l){return[...m.filter(v=>!l.some(b=>b.providerId===v.providerId)),...l]}(m.providerData,B),He=!!m.isAnonymous&&!(m.email&&R.passwordHash||G?.length),Ge={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:G,metadata:new eo(R.createdAt,R.lastLoginAt),isAnonymous:He};Object.assign(m,Ge)}),pr.apply(this,arguments)}function wi(){return(wi=(0,_.A)(function*(m){const l=(0,O.Ku)(m);yield qe(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Ki(){return(Ki=(0,_.A)(function*(m,l){const h=yield ue(m,{},(0,_.A)(function*(){const v=(0,O.Am)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:b,apiKey:R}=m.config,B=We(m,b,"/v1/token",`key=${R}`),G=yield m._getAdditionalHeaders();return G["Content-Type"]="application/x-www-form-urlencoded",Ci.fetch()(B,{method:"POST",headers:G,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ae(l.idToken,"internal-error"),ae(typeof l.idToken<"u","internal-error"),ae(typeof l.refreshToken<"u","internal-error");const h="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Gt(m){const l=lt(m);return ae(l,"internal-error"),ae(typeof l.exp<"u","internal-error"),ae(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,h)}getToken(l,h=!1){var v=this;return(0,_.A)(function*(){return ae(!v.accessToken||v.refreshToken,l,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(l,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,h){var v=this;return(0,_.A)(function*(){const{accessToken:b,refreshToken:R,expiresIn:B}=yield function sr(m,l){return Ki.apply(this,arguments)}(l,h);v.updateTokensAndExpiration(b,R,Number(B))})()}updateTokensAndExpiration(l,h,v){this.refreshToken=h||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(l,h){const{refreshToken:v,accessToken:b,expirationTime:R}=h,B=new qr;return v&&(ae("string"==typeof v,"internal-error",{appName:l}),B.refreshToken=v),b&&(ae("string"==typeof b,"internal-error",{appName:l}),B.accessToken=b),R&&(ae("number"==typeof R,"internal-error",{appName:l}),B.expirationTime=R),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return st("not implemented")}}function Nn(m,l){ae("string"==typeof m||typeof m>"u","internal-error",{appName:l})}class Pn{constructor(l){var{uid:h,auth:v,stsTokenManager:b}=l,R=(0,re.Tt)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new eo(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(l){var h=this;return(0,_.A)(function*(){const v=yield rn(h,h.stsTokenManager.getToken(h.auth,l));return ae(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(l){return function ko(m){return tt.apply(this,arguments)}(this,l)}reload(){return function yt(m){return wi.apply(this,arguments)}(this)}_assign(l){this!==l&&(ae(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(h=>Object.assign({},h)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const h=new Pn(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(l){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,h=!1){var v=this;return(0,_.A)(function*(){let b=!1;l.idToken&&l.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(l),b=!0),h&&(yield qe(v)),yield v.auth._persistUserIfCurrent(v),b&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var l=this;return(0,_.A)(function*(){const h=yield l.getIdToken();return yield rn(l,function ir(m,l){return dt.apply(this,arguments)}(l.auth,{idToken:h})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,h){var v,b,R,B,G,De,Oe,He;const Ge=null!==(v=h.displayName)&&void 0!==v?v:void 0,gn=null!==(b=h.email)&&void 0!==b?b:void 0,ri=null!==(R=h.phoneNumber)&&void 0!==R?R:void 0,Ao=null!==(B=h.photoURL)&&void 0!==B?B:void 0,Rf=null!==(G=h.tenantId)&&void 0!==G?G:void 0,To=null!==(De=h._redirectEventId)&&void 0!==De?De:void 0,ls=null!==(Oe=h.createdAt)&&void 0!==Oe?Oe:void 0,aa=null!==(He=h.lastLoginAt)&&void 0!==He?He:void 0,{uid:Oc,emailVerified:xc,isAnonymous:cu,providerData:ua,stsTokenManager:Yh}=h;ae(Oc&&Yh,l,"internal-error");const $g=qr.fromJSON(this.name,Yh);ae("string"==typeof Oc,l,"internal-error"),Nn(Ge,l.name),Nn(gn,l.name),ae("boolean"==typeof xc,l,"internal-error"),ae("boolean"==typeof cu,l,"internal-error"),Nn(ri,l.name),Nn(Ao,l.name),Nn(Rf,l.name),Nn(To,l.name),Nn(ls,l.name),Nn(aa,l.name);const Mf=new Pn({uid:Oc,auth:l,email:gn,emailVerified:xc,displayName:Ge,isAnonymous:cu,photoURL:Ao,phoneNumber:ri,tenantId:Rf,stsTokenManager:$g,createdAt:ls,lastLoginAt:aa});return ua&&Array.isArray(ua)&&(Mf.providerData=ua.map(Wg=>Object.assign({},Wg))),To&&(Mf._redirectEventId=To),Mf}static _fromIdTokenResponse(l,h,v=!1){return(0,_.A)(function*(){const b=new qr;b.updateFromServerResponse(h);const R=new Pn({uid:h.localId,auth:l,stsTokenManager:b,isAnonymous:v});return yield qe(R),R})()}}const Di=new Map;function un(m){Ct(m instanceof Function,"Expected a class definition");let l=Di.get(m);return l?(Ct(l instanceof m,"Instance stored in cache mismatched with class"),l):(l=new m,Di.set(m,l),l)}const or=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.A)(function*(){return!0})()}_set(h,v){var b=this;return(0,_.A)(function*(){b.storage[h]=v})()}_get(h){var v=this;return(0,_.A)(function*(){const b=v.storage[h];return void 0===b?null:b})()}_remove(h){var v=this;return(0,_.A)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return m.type="NONE",m})();function V(m,l,h){return`firebase:${m}:${l}:${h}`}class F{constructor(l,h,v){this.persistence=l,this.auth=h,this.userKey=v;const{config:b,name:R}=this.auth;this.fullUserKey=V(this.userKey,b.apiKey,R),this.fullPersistenceKey=V("persistence",b.apiKey,R),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,_.A)(function*(){const h=yield l.persistence._get(l.fullUserKey);return h?Pn._fromJSON(l.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var h=this;return(0,_.A)(function*(){if(h.persistence===l)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=l,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,h,v="authUser"){return(0,_.A)(function*(){if(!h.length)return new F(un(or),l,v);const b=(yield Promise.all(h.map(function(){var Oe=(0,_.A)(function*(He){if(yield He._isAvailable())return He});return function(He){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let R=b[0]||un(or);const B=V(v,l.config.apiKey,l.name);let G=null;for(const Oe of h)try{const He=yield Oe._get(B);if(He){const Ge=Pn._fromJSON(l,He);Oe!==R&&(G=Ge),R=Oe;break}}catch{}const De=b.filter(Oe=>Oe._shouldAllowMigration);return R._shouldAllowMigration&&De.length?(R=De[0],G&&(yield R._set(B,G.toJSON())),yield Promise.all(h.map(function(){var Oe=(0,_.A)(function*(He){if(He!==R)try{yield He._remove(B)}catch{}});return function(He){return Oe.apply(this,arguments)}}())),new F(R,l,v)):new F(R,l,v)})()}}function z(m){const l=m.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(rt(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(_e(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Lt(l))return"Blackberry";if(yn(l))return"Webos";if(ie(l))return"Safari";if((l.includes("chrome/")||ze(l))&&!l.includes("edge/"))return"Chrome";if(Mt(l))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function _e(m=(0,O.ZQ)()){return/firefox\//i.test(m)}function ie(m=(0,O.ZQ)()){const l=m.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ze(m=(0,O.ZQ)()){return/crios\//i.test(m)}function rt(m=(0,O.ZQ)()){return/iemobile/i.test(m)}function Mt(m=(0,O.ZQ)()){return/android/i.test(m)}function Lt(m=(0,O.ZQ)()){return/blackberry/i.test(m)}function yn(m=(0,O.ZQ)()){return/webos/i.test(m)}function ft(m=(0,O.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function bi(m=(0,O.ZQ)()){return ft(m)||Mt(m)||yn(m)||Lt(m)||/windows phone/i.test(m)||rt(m)}function he(m,l=[]){let h;switch(m){case"Browser":h=z((0,O.ZQ)());break;case"Worker":h=`${z((0,O.ZQ)())}-${m}`;break;default:h=m}const v=l.length?l.join(","):"FirebaseCore-web";return`${h}/JsCore/${ee.SDK_VERSION}/${v}`}function Se(){return(Se=(0,_.A)(function*(m){return(yield oe(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ke(m,l){return Je.apply(this,arguments)}function Je(){return(Je=(0,_.A)(function*(m,l){return oe(m,"GET","/v2/recaptchaConfig",J(m,l))})).apply(this,arguments)}function je(m){return void 0!==m&&void 0!==m.getResponse}function Pt(m){return void 0!==m&&void 0!==m.enterprise}class En{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(h=>"EMAIL_PASSWORD_PROVIDER"===h.provider&&"OFF"!==h.enforcementState)}}function ui(m){return new Promise((l,h)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=l,v.onerror=b=>{const R=te("internal-error");R.customData=b,h(R)},v.type="text/javascript",v.charset="UTF-8",function hn(){var m,l;return null!==(l=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==l?l:document}().appendChild(v)})}function mr(m){return`__${m}${Math.floor(1e6*Math.random())}`}class ba{constructor(l){this.type="recaptcha-enterprise",this.auth=pn(l)}verify(l="verify",h=!1){var v=this;return(0,_.A)(function*(){function R(){return R=(0,_.A)(function*(G){if(!h){if(null==G.tenantId&&null!=G._agentRecaptchaConfig)return G._agentRecaptchaConfig.siteKey;if(null!=G.tenantId&&void 0!==G._tenantRecaptchaConfigs[G.tenantId])return G._tenantRecaptchaConfigs[G.tenantId].siteKey}return new Promise(function(){var De=(0,_.A)(function*(Oe,He){Ke(G,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ge=>{if(void 0!==Ge.recaptchaKey){const gn=new En(Ge);return null==G.tenantId?G._agentRecaptchaConfig=gn:G._tenantRecaptchaConfigs[G.tenantId]=gn,Oe(gn.siteKey)}He(new Error("recaptcha Enterprise site key undefined"))}).catch(Ge=>{He(Ge)})});return function(Oe,He){return De.apply(this,arguments)}}())}),R.apply(this,arguments)}function B(G,De,Oe){const He=window.grecaptcha;Pt(He)?He.enterprise.ready(()=>{He.enterprise.execute(G,{action:l}).then(Ge=>{De(Ge)}).catch(()=>{De("NO_RECAPTCHA")})}):Oe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((G,De)=>{(function b(G){return R.apply(this,arguments)})(v.auth).then(Oe=>{if(!h&&Pt(window.grecaptcha))B(Oe,G,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));ui("https://www.google.com/recaptcha/enterprise.js?render="+Oe).then(()=>{B(Oe,G,De)}).catch(He=>{De(He)})}}).catch(Oe=>{De(Oe)})})})()}}function Fr(m,l,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,_.A)(function*(m,l,h,v=!1){const b=new ba(m);let R;try{R=yield b.verify(h)}catch{R=yield b.verify(h,!0)}const B=Object.assign({},l);return Object.assign(B,v?{captchaResp:R}:{captchaResponse:R}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Es{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,h){const v=R=>new Promise((B,G)=>{try{B(l(R))}catch(De){G(De)}});v.onAbort=h,this.queue.push(v);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(l){var h=this;return(0,_.A)(function*(){if(h.auth.currentUser===l)return;const v=[];try{for(const b of h.queue)yield b(l),b.onAbort&&v.push(b.onAbort)}catch(b){v.reverse();for(const R of v)try{R()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class Ru{constructor(l,h,v,b){this.app=l,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=v,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new Es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(l,h){var v=this;return h&&(this._popupRedirectResolver=un(h)),this._initializationPromise=this.queue((0,_.A)(function*(){var b,R;if(!v._deleted&&(v.persistenceManager=yield F.create(v,l),!v._deleted)){if(null!==(b=v._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,_.A)(function*(){if(l._deleted)return;const h=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||h){if(l.currentUser&&h&&l.currentUser.uid===h.uid)return l._currentUser._assign(h),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(h,!0)}})()}initializeCurrentUser(l){var h=this;return(0,_.A)(function*(){var v;const b=yield h.assertedPersistence.getCurrentUser();let R=b,B=!1;if(l&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const G=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,De=R?._redirectEventId,Oe=yield h.tryRedirectSignIn(l);(!G||G===De)&&Oe?.user&&(R=Oe.user,B=!0)}if(!R)return h.directlySetCurrentUser(null);if(!R._redirectEventId){if(B)try{yield h.beforeStateQueue.runMiddleware(R)}catch(G){R=b,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(G))}return R?h.reloadAndSetCurrentUserOrClear(R):h.directlySetCurrentUser(null)}return ae(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===R._redirectEventId?h.directlySetCurrentUser(R):h.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(l){var h=this;return(0,_.A)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,l,!0)}catch{yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(l){var h=this;return(0,_.A)(function*(){try{yield qe(l)}catch(v){if("auth/network-request-failed"!==v?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ys(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var l=this;return(0,_.A)(function*(){l._deleted=!0})()}updateCurrentUser(l){var h=this;return(0,_.A)(function*(){const v=l?(0,O.Ku)(l):null;return v&&ae(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(l,h=!1){var v=this;return(0,_.A)(function*(){if(!v._deleted)return l&&ae(v.tenantId===l.tenantId,v,"tenant-id-mismatch"),h||(yield v.beforeStateQueue.runMiddleware(l)),v.queue((0,_.A)(function*(){yield v.directlySetCurrentUser(l),v.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,_.A)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var h=this;return this.queue((0,_.A)(function*(){yield h.assertedPersistence.setPersistence(un(l))}))}initializeRecaptchaConfig(){var l=this;return(0,_.A)(function*(){const h=yield Ke(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new En(h);null==l.tenantId?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,v.emailPasswordEnabled&&new ba(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new O.FA("auth","Firebase",l())}onAuthStateChanged(l,h,v){return this.registerStateListener(this.authStateSubscription,l,h,v)}beforeAuthStateChanged(l,h){return this.beforeStateQueue.pushCallback(l,h)}onIdTokenChanged(l,h,v){return this.registerStateListener(this.idTokenSubscription,l,h,v)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,h){var v=this;return(0,_.A)(function*(){const b=yield v.getOrInitRedirectPersistenceManager(h);return null===l?b.removeCurrentUser():b.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var h=this;return(0,_.A)(function*(){if(!h.redirectPersistenceManager){const v=l&&un(l)||h._popupRedirectResolver;ae(v,h,"argument-error"),h.redirectPersistenceManager=yield F.create(h,[un(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(l){var h=this;return(0,_.A)(function*(){var v,b;return h._isInitialized&&(yield h.queue((0,_.A)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===l?h._currentUser:(null===(b=h.redirectUser)||void 0===b?void 0:b._redirectEventId)===l?h.redirectUser:null})()}_persistUserIfCurrent(l){var h=this;return(0,_.A)(function*(){if(l===h.currentUser)return h.queue((0,_.A)(function*(){return h.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,h,v,b){if(this._deleted)return()=>{};const R="function"==typeof h?h:h.next.bind(h),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(B,this,"internal-error"),B.then(()=>R(this.currentUser)),"function"==typeof h?l.addObserver(h,v,b):l.addObserver(h)}directlySetCurrentUser(l){var h=this;return(0,_.A)(function*(){h.currentUser&&h.currentUser!==l&&h._currentUser._stopProactiveRefresh(),l&&h.isProactiveRefreshEnabled&&l._startProactiveRefresh(),h.currentUser=l,l?yield h.assertedPersistence.setCurrentUser(l):yield h.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,_.A)(function*(){var h;const v={"X-Client-Version":l.clientVersion};l.app.options.appId&&(v["X-Firebase-gmpid"]=l.app.options.appId);const b=yield null===(h=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();b&&(v["X-Firebase-Client"]=b);const R=yield l._getAppCheckToken();return R&&(v["X-Firebase-AppCheck"]=R),v})()}_getAppCheckToken(){var l=this;return(0,_.A)(function*(){var h;const v=yield null===(h=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return v?.error&&function Ze(m,...l){nt.logLevel<=fe.$b.WARN&&nt.warn(`Auth (${ee.SDK_VERSION}): ${m}`,...l)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function pn(m){return(0,O.Ku)(m)}class Fo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,O.tD)(h=>this.observer=h)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(m){const l=m.indexOf(":");return l<0?"":m.substr(0,l+1)}function Mu(m){if(!m)return null;const l=Number(m);return isNaN(l)?null:l}class Is{constructor(l,h){this.providerId=l,this.signInMethod=h}toJSON(){return st("not implemented")}_getIdTokenResponse(l){return st("not implemented")}_linkToIdToken(l,h){return st("not implemented")}_getReauthenticationResolver(l){return st("not implemented")}}function ef(m,l){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:resetPassword",J(m,l))})).apply(this,arguments)}function Nu(m,l){return gl.apply(this,arguments)}function gl(){return(gl=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Pu(){return(Pu=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",J(m,l))})).apply(this,arguments)}function $n(m,l){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPassword",J(m,l))})).apply(this,arguments)}function Ra(m,l){return xu.apply(this,arguments)}function xu(){return(xu=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:sendOobCode",J(m,l))})).apply(this,arguments)}function ku(){return(ku=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function no(m,l){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function Na(m,l){return bt.apply(this,arguments)}function bt(){return(bt=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function On(){return(On=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function _r(){return(_r=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,l))})).apply(this,arguments)}function Fu(){return(Fu=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,l))})).apply(this,arguments)}class Cs extends Is{constructor(l,h,v,b=null){super("password",v),this._email=l,this._password=h,this._tenantId=b}static _fromEmailAndPassword(l,h){return new Cs(l,h,"password")}static _fromEmailAndCode(l,h,v=null){return new Cs(l,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(l){var h=this;return(0,_.A)(function*(){var v;switch(h.signInMethod){case"password":const b={returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=l._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const R=yield Fr(l,b,"signInWithPassword");return $n(l,R)}return $n(l,b).catch(function(){var R=(0,_.A)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const G=yield Fr(l,b,"signInWithPassword");return $n(l,G)}return Promise.reject(B)});return function(B){return R.apply(this,arguments)}}());case"emailLink":return function qi(m,l){return _r.apply(this,arguments)}(l,{email:h._email,oobCode:h._password});default:ge(l,"internal-error")}})()}_linkToIdToken(l,h){var v=this;return(0,_.A)(function*(){switch(v.signInMethod){case"password":return Nu(l,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function tf(m,l){return Fu.apply(this,arguments)}(l,{idToken:h,email:v._email,oobCode:v._password});default:ge(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Vr(m,l){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithIdp",J(m,l))})).apply(this,arguments)}class ke extends Is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const h=new ke(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(h.idToken=l.idToken),l.accessToken&&(h.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(h.nonce=l.nonce),l.pendingToken&&(h.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(h.accessToken=l.oauthToken,h.secret=l.oauthTokenSecret):ge("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:b}=h,R=(0,re.Tt)(h,["providerId","signInMethod"]);if(!v||!b)return null;const B=new ke(v,b);return B.idToken=R.idToken||void 0,B.accessToken=R.accessToken||void 0,B.secret=R.secret,B.nonce=R.nonce,B.pendingToken=R.pendingToken||null,B}_getIdTokenResponse(l){return Vr(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Vr(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Vr(l,h)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),l.postBody=(0,O.Am)(h)}return l}}function $t(){return($t=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:sendVerificationCode",J(m,l))})).apply(this,arguments)}function ro(){return(ro=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,l))})).apply(this,arguments)}function Yi(){return(Yi=(0,_.A)(function*(m,l){const h=yield vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,l));if(h.temporaryProof)throw Ut(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ln={USER_NOT_FOUND:"user-not-found"};function Qr(){return(Qr=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,Object.assign(Object.assign({},l),{operation:"REAUTH"})),ln)})).apply(this,arguments)}class et extends Is{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,h){return new et({verificationId:l,verificationCode:h})}static _fromTokenResponse(l,h){return new et({phoneNumber:l,temporaryProof:h})}_getIdTokenResponse(l){return function Rr(m,l){return ro.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,h){return function ar(m,l){return Yi.apply(this,arguments)}(l,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Qi(m,l){return Qr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:h,verificationId:v,verificationCode:b}=this.params;return l&&h?{temporaryProof:l,phoneNumber:h}:{sessionInfo:v,code:b}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:h,verificationCode:v,phoneNumber:b,temporaryProof:R}=l;return v||h||b||R?new et({verificationId:h,verificationCode:v,phoneNumber:b,temporaryProof:R}):null}}class Ti{constructor(l){var h,v,b,R,B,G;const De=(0,O.I9)((0,O.hp)(l)),Oe=null!==(h=De.apiKey)&&void 0!==h?h:null,He=null!==(v=De.oobCode)&&void 0!==v?v:null,Ge=function Pa(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=De.mode)&&void 0!==b?b:null);ae(Oe&&He&&Ge,"argument-error"),this.apiKey=Oe,this.operation=Ge,this.code=He,this.continueUrl=null!==(R=De.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(B=De.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(G=De.tenantId)&&void 0!==G?G:null}static parseLink(l){const h=function Oa(m){const l=(0,O.I9)((0,O.hp)(m)).link,h=l?(0,O.I9)((0,O.hp)(l)).deep_link_id:null,v=(0,O.I9)((0,O.hp)(m)).deep_link_id;return(v?(0,O.I9)((0,O.hp)(v)).link:null)||v||h||l||m}(l);try{return new Ti(h)}catch{return null}}}let io=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,v){return Cs._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const b=Ti.parseLink(v);return ae(b,"argument-error"),Cs._fromEmailAndCode(h,b.code,b.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class vr{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class yr extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Br extends yr{static credentialFromJSON(l){const h="string"==typeof l?JSON.parse(l):l;return ae("providerId"in h&&"signInMethod"in h,"argument-error"),ke._fromParams(h)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ae(l.idToken||l.accessToken,"argument-error"),ke._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Br.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Br.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:b,pendingToken:R,nonce:B,providerId:G}=l;if(!v&&!b&&!h&&!R||!G)return null;try{return new Br(G)._credential({idToken:h,accessToken:v,nonce:B,pendingToken:R})}catch{return null}}}let ml=(()=>{class m extends yr{constructor(){super("facebook.com")}static credential(h){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Xr=(()=>{class m extends yr{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:b}=h;if(!v&&!b)return null;try{return m.credential(v,b)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Si=(()=>{class m extends yr{constructor(){super("github.com")}static credential(h){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ci extends Is{constructor(l,h){super(l,l),this.pendingToken=h}_getIdTokenResponse(l){return Vr(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Vr(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Vr(l,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:b,pendingToken:R}=h;return v&&b&&R&&v===b?new ci(v,R):null}static _create(l,h){return new ci(l,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vu extends vr{constructor(l){ae(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Vu.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Vu.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const h=ci.fromJSON(l);return ae(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:h,providerId:v}=l;if(!h||!v)return null;try{return ci._create(v,h)}catch{return null}}}let Uo=(()=>{class m extends yr{constructor(){super("twitter.com")}static credential(h,v){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:b}=h;if(!v||!b)return null;try{return m.credential(v,b)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function li(m,l){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signUp",J(m,l))})).apply(this,arguments)}class Qn{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,h,v,b=!1){return(0,_.A)(function*(){const R=yield Pn._fromIdTokenResponse(l,v,b),B=Ri(v);return new Qn({user:R,providerId:B,_tokenResponse:v,operationType:h})})()}static _forOperation(l,h,v){return(0,_.A)(function*(){yield l._updateTokensIfNecessary(v,!0);const b=Ri(v);return new Qn({user:l,providerId:b,_tokenResponse:v,operationType:h})})()}}function Ri(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function xn(){return(xn=(0,_.A)(function*(m){var l;const h=pn(m);if(yield h._initializationPromise,null!==(l=h.currentUser)&&void 0!==l&&l.isAnonymous)return new Qn({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield li(h,{returnSecureToken:!0}),b=yield Qn._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(b.user),b})).apply(this,arguments)}class xa extends O.g{constructor(l,h,v,b){var R;super(h.code,h.message),this.operationType=v,this.user=b,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:l.name,tenantId:null!==(R=l.tenantId)&&void 0!==R?R:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(l,h,v,b){return new xa(l,h,v,b)}}function ur(m,l,h,v){return("reauthenticate"===l?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?xa._fromErrorAndOperation(m,R,l,v):R})}function Xn(m){return new Set(m.map(({providerId:l})=>l).filter(l=>!!l))}function Zn(){return Zn=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m);yield Zi(!0,h,l);const{providerUserInfo:v}=yield function an(m,l){return wn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[l]}),b=Xn(v||[]);return h.providerData=h.providerData.filter(R=>b.has(R.providerId)),b.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Zn.apply(this,arguments)}function ws(m,l){return Er.apply(this,arguments)}function Er(){return(Er=(0,_.A)(function*(m,l,h=!1){const v=yield rn(m,l._linkToIdToken(m.auth,yield m.getIdToken()),h);return Qn._forOperation(m,"link",v)})).apply(this,arguments)}function Zi(m,l,h){return ju.apply(this,arguments)}function ju(){return(ju=(0,_.A)(function*(m,l,h){yield qe(l);const b=!1===m?"provider-already-linked":"no-such-provider";ae(Xn(l.providerData).has(h)===m,l.auth,b)})).apply(this,arguments)}function nf(m,l){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,_.A)(function*(m,l,h=!1){const{auth:v}=m,b="reauthenticate";try{const R=yield rn(m,ur(v,b,l,m),h);ae(R.idToken,v,"internal-error");const B=lt(R.idToken);ae(B,v,"internal-error");const{sub:G}=B;return ae(m.uid===G,v,"user-mismatch"),Qn._forOperation(m,b,R)}catch(R){throw"auth/user-not-found"===R?.code&&ge(v,"user-mismatch"),R}})).apply(this,arguments)}function $u(m,l){return Wu.apply(this,arguments)}function Wu(){return(Wu=(0,_.A)(function*(m,l,h=!1){const v="signIn",b=yield ur(m,v,l),R=yield Qn._fromIdTokenResponse(m,v,b);return h||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function zu(m,l){return _l.apply(this,arguments)}function _l(){return(_l=(0,_.A)(function*(m,l){return $u(pn(m),l)})).apply(this,arguments)}function bh(m,l){return en.apply(this,arguments)}function en(){return(en=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m);return yield Zi(!1,h,l.providerId),ws(h,l)})).apply(this,arguments)}function Ah(m,l){return rf.apply(this,arguments)}function rf(){return(rf=(0,_.A)(function*(m,l){return nf((0,O.Ku)(m),l)})).apply(this,arguments)}function sf(){return(sf=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithCustomToken",J(m,l))})).apply(this,arguments)}function Mi(){return Mi=(0,_.A)(function*(m,l){const h=pn(m),v=yield function Ng(m,l){return sf.apply(this,arguments)}(h,{token:l,returnSecureToken:!0}),b=yield Qn._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(b.user),b}),Mi.apply(this,arguments)}class Gu{constructor(l,h){this.factorId=l,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(l,h){return"phoneInfo"in h?ka._fromServerResponse(l,h):"totpInfo"in h?Ku._fromServerResponse(l,h):ge(l,"internal-error")}}class ka extends Gu{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,h){return new ka(h)}}class Ku extends Gu{constructor(l){super("totp",l)}static _fromServerResponse(l,h){return new Ku(h)}}function Ds(m,l,h){var v;ae((null===(v=h.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),ae(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),l.continueUrl=h.url,l.dynamicLinkDomain=h.dynamicLinkDomain,l.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ae(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),l.iOSBundleId=h.iOS.bundleId),h.android&&(ae(h.android.packageName.length>0,m,"missing-android-pkg-name"),l.androidInstallApp=h.android.installApp,l.androidMinimumVersionCode=h.android.minimumVersion,l.androidPackageName=h.android.packageName)}function Bo(){return Bo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield Fr(b,R,"getOobCode",!0);h&&Ds(b,B,h),yield no(b,B)}else h&&Ds(b,R,h),yield no(b,R).catch(function(){var B=(0,_.A)(function*(G){if("auth/missing-recaptcha-token"!==G.code)return Promise.reject(G);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Fr(b,R,"getOobCode",!0);h&&Ds(b,De,h),yield no(b,De)}});return function(G){return B.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function Ni(){return(Ni=(0,_.A)(function*(m,l,h){yield ef((0,O.Ku)(m),{oobCode:l,newPassword:h})})).apply(this,arguments)}function jr(){return jr=(0,_.A)(function*(m,l){yield function Ur(m,l){return Pu.apply(this,arguments)}((0,O.Ku)(m),{oobCode:l})}),jr.apply(this,arguments)}function yl(m,l){return In.apply(this,arguments)}function In(){return(In=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m),v=yield ef(h,{oobCode:l}),b=v.requestType;switch(ae(b,h,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(v.mfaInfo,h,"internal-error");default:ae(v.email,h,"internal-error")}let R=null;return v.mfaInfo&&(R=Gu._fromServerResponse(pn(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:b}})).apply(this,arguments)}function zn(){return(zn=(0,_.A)(function*(m,l){const{data:h}=yield yl((0,O.Ku)(m),l);return h.email})).apply(this,arguments)}function jo(){return jo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={returnSecureToken:!0,email:l,password:h,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Oe=yield Fr(b,R,"signUpPassword");B=li(b,Oe)}else B=li(b,R).catch(function(){var Oe=(0,_.A)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ge=yield Fr(b,R,"signUpPassword");return li(b,Ge)}return Promise.reject(He)});return function(He){return Oe.apply(this,arguments)}}());const G=yield B.catch(Oe=>Promise.reject(Oe)),De=yield Qn._fromIdTokenResponse(b,"signIn",G);return yield b._updateCurrentUser(De.user),De}),jo.apply(this,arguments)}function oo(){return oo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function B(G,De){ae(De.handleCodeInApp,b,"argument-error"),De&&Ds(b,G,De)}if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const G=yield Fr(b,R,"getOobCode",!0);B(G,h),yield Na(b,G)}else B(R,h),yield Na(b,R).catch(function(){var G=(0,_.A)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Oe=yield Fr(b,R,"getOobCode",!0);B(Oe,h),yield Na(b,Oe)}});return function(De){return G.apply(this,arguments)}}())}),oo.apply(this,arguments)}function La(){return(La=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),b=io.credentialWithLink(l,h||Bn());return ae(b._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),zu(v,b)})).apply(this,arguments)}function Qu(){return(Qu=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:createAuthUri",J(m,l))})).apply(this,arguments)}function ao(){return ao=(0,_.A)(function*(m,l){const v={identifier:l,continueUri:fr()?Bn():"http://localhost"},{signinMethods:b}=yield function Yu(m,l){return Qu.apply(this,arguments)}((0,O.Ku)(m),v);return b||[]}),ao.apply(this,arguments)}function Pi(){return Pi=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m),b={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};l&&Ds(h.auth,b,l);const{email:R}=yield function Ma(m,l){return ku.apply(this,arguments)}(h.auth,b);R!==m.email&&(yield m.reload())}),Pi.apply(this,arguments)}function Ua(){return Ua=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:l};h&&Ds(v.auth,R,h);const{email:B}=yield function Wn(m,l){return On.apply(this,arguments)}(v.auth,R);B!==m.email&&(yield m.reload())}),Ua.apply(this,arguments)}function uf(){return(uf=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Va(){return Va=(0,_.A)(function*(m,{displayName:l,photoURL:h}){if(void 0===l&&void 0===h)return;const v=(0,O.Ku)(m),R={idToken:yield v.getIdToken(),displayName:l,photoUrl:h,returnSecureToken:!0},B=yield rn(v,function Sh(m,l){return uf.apply(this,arguments)}(v.auth,R));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const G=v.providerData.find(({providerId:De})=>"password"===De);G&&(G.displayName=v.displayName,G.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Va.apply(this,arguments)}function Ju(m,l,h){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,_.A)(function*(m,l,h){const{auth:v}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};l&&(R.email=l),h&&(R.password=h);const B=yield rn(m,Nu(v,R));yield m._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class uo{constructor(l,h,v={}){this.isNewUser=l,this.providerId=h,this.profile=v}}class ja extends uo{constructor(l,h,v,b){super(l,h,v),this.username=b}}class Il extends uo{constructor(l,h){super(l,"facebook.com",h)}}class Cl extends ja{constructor(l,h){super(l,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class $o extends uo{constructor(l,h){super(l,"google.com",h)}}class Wo extends ja{constructor(l,h,v){super(l,"twitter.com",h,v)}}function cf(m){const{user:l,_tokenResponse:h}=m;return l.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function ec(m){var l,h;if(!m)return null;const{providerId:v}=m,b=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&m?.idToken){const B=null===(h=null===(l=lt(m.idToken))||void 0===l?void 0:l.firebase)||void 0===h?void 0:h.sign_in_provider;if(B)return new uo(R,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new Il(R,b);case"github.com":return new Cl(R,b);case"google.com":return new $o(R,b);case"twitter.com":return new Wo(R,b,m.screenName||null);case"custom":case"anonymous":return new uo(R,null);default:return new uo(R,v,b)}}(h)}class Oi{constructor(l,h,v){this.type=l,this.credential=h,this.auth=v}static _fromIdtoken(l,h){return new Oi("enroll",l,h)}static _fromMfaPendingCredential(l){return new Oi("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var h,v;if(l?.multiFactorSession){if(null!==(h=l.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Oi._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(v=l.multiFactorSession)&&void 0!==v&&v.idToken)return Oi._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Ts{constructor(l,h,v){this.session=l,this.hints=h,this.signInResolver=v}static _fromError(l,h){const v=pn(l),b=h.customData._serverResponse,R=(b.mfaInfo||[]).map(G=>Gu._fromServerResponse(v,G));ae(b.mfaPendingCredential,v,"internal-error");const B=Oi._fromMfaPendingCredential(b.mfaPendingCredential);return new Ts(B,R,function(){var G=(0,_.A)(function*(De){const Oe=yield De._process(v,B);delete b.mfaInfo,delete b.mfaPendingCredential;const He=Object.assign(Object.assign({},b),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(h.operationType){case"signIn":const Ge=yield Qn._fromIdTokenResponse(v,h.operationType,He);return yield v._updateCurrentUser(Ge.user),Ge;case"reauthenticate":return ae(h.user,v,"internal-error"),Qn._forOperation(h.user,h.operationType,He);default:ge(v,"internal-error")}});return function(De){return G.apply(this,arguments)}}())}resolveSignIn(l){var h=this;return(0,_.A)(function*(){return h.signInResolver(l)})()}}class Ss{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>Gu._fromServerResponse(l.auth,v)))})}static _fromUser(l){return new Ss(l)}getSession(){var l=this;return(0,_.A)(function*(){return Oi._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,h){var v=this;return(0,_.A)(function*(){const b=l,R=yield v.getSession(),B=yield rn(v.user,b._process(v.user.auth,R,h));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(l){var h=this;return(0,_.A)(function*(){const v="string"==typeof l?l:l.uid,b=yield h.user.getIdToken();try{const R=yield rn(h.user,function Sl(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:withdraw",J(m,l))}(h.user.auth,{idToken:b,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:B})=>B!==v),yield h.user._updateTokensIfNecessary(R),yield h.user.reload()}catch(R){throw R}})()}}const Bt=new WeakMap,Rs="__sak";class Ir{constructor(l,h){this.storageRetriever=l,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,h){return this.storage.setItem(l,JSON.stringify(h)),Promise.resolve()}_get(l){const h=this.storage.getItem(l);return Promise.resolve(h?JSON.parse(h):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const fo=(()=>{class m extends Ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rl(){const m=(0,O.ZQ)();return ie(m)||ft(m)}()&&function Lo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const b=this.storage.getItem(v),R=this.localCache[v];b!==R&&h(v,R,b)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((G,De,Oe)=>{this.notifyListeners(G,Oe)});const b=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const G=this.storage.getItem(b);if(h.newValue!==G)null!==h.newValue?this.storage.setItem(b,h.newValue):this.storage.removeItem(b);else if(this.localCache[b]===h.newValue&&!v)return}const R=()=>{const G=this.storage.getItem(b);!v&&this.localCache[b]===G||this.notifyListeners(b,G)},B=this.storage.getItem(b);!function gr(){return(0,O.lT)()&&10===document.documentMode}()||B===h.newValue||h.newValue===h.oldValue?R():setTimeout(R,10)}notifyListeners(h,v){this.localCache[h]=v;const b=this.listeners[h];if(b)for(const R of Array.from(b))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var b=()=>super._set,R=this;return(0,_.A)(function*(){yield b().call(R,h,v),R.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,b=this;return(0,_.A)(function*(){const R=yield v().call(b,h);return b.localCache[h]=JSON.stringify(R),R})()}_remove(h){var v=()=>super._remove,b=this;return(0,_.A)(function*(){yield v().call(b,h),delete b.localCache[h]})()}}return m.type="LOCAL",m})(),Ms=(()=>{class m extends Ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return m.type="SESSION",m})();let $a=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(R=>R.isListeningto(h));if(v)return v;const b=new m(h);return this.receivers.push(b),b}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,_.A)(function*(){const b=h,{eventId:R,eventType:B,data:G}=b.data,De=v.handlersMap[B];if(!De?.size)return;b.ports[0].postMessage({status:"ack",eventId:R,eventType:B});const Oe=Array.from(De).map(function(){var Ge=(0,_.A)(function*(gn){return gn(b.origin,G)});return function(gn){return Ge.apply(this,arguments)}}()),He=yield function Ns(m){return Promise.all(m.map(function(){var l=(0,_.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return l.apply(this,arguments)}}()))}(Oe);b.ports[0].postMessage({status:"done",eventId:R,eventType:B,response:He})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function oc(m="",l=10){let h="";for(let v=0;v<l;v++)h+=Math.floor(10*Math.random());return m+h}class Oh{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,h,v=50){var b=this;return(0,_.A)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let B,G;return new Promise((De,Oe)=>{const He=oc("",20);R.port1.start();const Ge=setTimeout(()=>{Oe(new Error("unsupported_event"))},v);G={messageChannel:R,onMessage(gn){const ri=gn;if(ri.data.eventId===He)switch(ri.data.status){case"ack":clearTimeout(Ge),B=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),De(ri.data.response);break;default:clearTimeout(Ge),clearTimeout(B),Oe(new Error("invalid_response"))}}},b.handlers.add(G),R.port1.addEventListener("message",G.onMessage),b.target.postMessage({eventType:l,eventId:He,data:h},[R.port2])}).finally(()=>{G&&b.removeMessageHandler(G)})})()}}function Yt(){return window}function ac(){return typeof Yt().WorkerGlobalScope<"u"&&"function"==typeof Yt().importScripts}function Wa(){return(Wa=(0,_.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",ho="firebaseLocalStorage",Ji="fbase_key";class za{constructor(l){this.request=l}toPromise(){return new Promise((l,h)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Ga(m,l){return m.transaction([ho],l?"readwrite":"readonly").objectStore(ho)}function cc(){const m=indexedDB.open(Ml,1);return new Promise((l,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(ho,{keyPath:Ji})}catch(b){h(b)}}),m.addEventListener("success",(0,_.A)(function*(){const v=m.result;v.objectStoreNames.contains(ho)?l(v):(v.close(),yield function xh(){const m=indexedDB.deleteDatabase(Ml);return new za(m).toPromise()}(),l(yield cc()))}))})}function zo(m,l,h){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,_.A)(function*(m,l,h){const v=Ga(m,!0).put({[Ji]:l,value:h});return new za(v).toPromise()})).apply(this,arguments)}function lc(){return(lc=(0,_.A)(function*(m,l){const h=Ga(m,!1).get(l),v=yield new za(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Nl(m,l){const h=Ga(m,!0).delete(l);return new za(h).toPromise()}const Cr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,_.A)(function*(){return h.db||(h.db=yield cc()),h.db})()}_withRetries(h){var v=this;return(0,_.A)(function*(){let b=0;for(;;)try{const R=yield v._openDb();return yield h(R)}catch(R){if(b++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,_.A)(function*(){return ac()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,_.A)(function*(){h.receiver=$a._getInstance(function Ln(){return ac()?self:null}()),h.receiver._subscribe("keyChanged",function(){var v=(0,_.A)(function*(b,R){return{keyProcessed:(yield h._poll()).includes(R.key)}});return function(b,R){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,_.A)(function*(b,R){return["keyChanged"]});return function(b,R){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,_.A)(function*(){var v,b;if(h.activeServiceWorker=yield function ut(){return Wa.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Oh(h.activeServiceWorker);const R=yield h.sender._send("ping",{},800);R&&null!==(v=R[0])&&void 0!==v&&v.fulfilled&&null!==(b=R[0])&&void 0!==b&&b.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,_.A)(function*(){if(v.sender&&v.activeServiceWorker&&function uc(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.A)(function*(){try{if(!indexedDB)return!1;const h=yield cc();return yield zo(h,Rs,"1"),yield Nl(h,Rs),!0}catch{}return!1})()}_withPendingWrite(h){var v=this;return(0,_.A)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var b=this;return(0,_.A)(function*(){return b._withPendingWrite((0,_.A)(function*(){return yield b._withRetries(R=>zo(R,h,v)),b.localCache[h]=v,b.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,_.A)(function*(){const b=yield v._withRetries(R=>function _t(m,l){return lc.apply(this,arguments)}(R,h));return v.localCache[h]=b,b})()}_remove(h){var v=this;return(0,_.A)(function*(){return v._withPendingWrite((0,_.A)(function*(){return yield v._withRetries(b=>Nl(b,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,_.A)(function*(){const v=yield h._withRetries(B=>{const G=Ga(B,!1).getAll();return new za(G).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const b=[],R=new Set;for(const{fbase_key:B,value:G}of v)R.add(B),JSON.stringify(h.localCache[B])!==JSON.stringify(G)&&(h.notifyListeners(B,G),b.push(B));for(const B of Object.keys(h.localCache))h.localCache[B]&&!R.has(B)&&(h.notifyListeners(B,null),b.push(B));return b})()}notifyListeners(h,v){this.localCache[h]=v;const b=this.listeners[h];if(b)for(const R of Array.from(b))R(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,_.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),An=1e12;class xi{constructor(l){this.auth=l,this.counter=An,this._widgets=new Map}render(l,h){const v=this.counter;return this._widgets.set(v,new gc(l,this.auth.name,h||{})),this.counter++,v}reset(l){var h;const v=l||An;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(l){var h;return(null===(h=this._widgets.get(l||An))||void 0===h?void 0:h.getResponse())||""}execute(l){var h=this;return(0,_.A)(function*(){var v;return null===(v=h._widgets.get(l||An))||void 0===v||v.execute(),""})()}}class gc{constructor(l,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof l?document.getElementById(l):l;ae(b,"argument-error",{appName:h}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Go(m){const l=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)l.push(h.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":h}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pi=mr("rcb"),pf=new Ii(3e4,6e4);class Lh{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Yt().grecaptcha)||void 0===l||!l.render)}load(l,h=""){return ae(function Pl(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),l,"argument-error"),this.shouldResolveImmediately(h)&&je(Yt().grecaptcha)?Promise.resolve(Yt().grecaptcha):new Promise((v,b)=>{const R=Yt().setTimeout(()=>{b(te(l,"network-request-failed"))},pf.get());Yt()[pi]=()=>{Yt().clearTimeout(R),delete Yt()[pi];const G=Yt().grecaptcha;if(!G||!je(G))return void b(te(l,"internal-error"));const De=G.render;G.render=(Oe,He)=>{const Ge=De(Oe,He);return this.counter++,Ge},this.hostLanguage=h,v(G)},ui(`https://www.google.com/recaptcha/api.js??${(0,O.Am)({onload:pi,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(R),b(te(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var h;return!(null===(h=Yt().grecaptcha)||void 0===h||!h.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ol{load(l){return(0,_.A)(function*(){return new xi(l)})()}clearedOneInstance(){}}const qo="recaptcha",gf={theme:"light",type:"image"};class Ka{constructor(l,h=Object.assign({},gf),v){this.parameters=h,this.type=qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(v),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof l?document.getElementById(l):l;ae(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ol:new Lh,this.validateStartingState()}verify(){var l=this;return(0,_.A)(function*(){l.assertNotDestroyed();const h=yield l.render(),v=l.getAssertedRecaptcha();return v.getResponse(h)||new Promise(R=>{const B=G=>{G&&(l.tokenChangeListeners.delete(B),R(G))};l.tokenChangeListeners.add(B),l.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof l)l(h);else if("string"==typeof l){const v=Yt()[l];"function"==typeof v&&v(h)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,_.A)(function*(){if(yield l.init(),!l.widgetId){let h=l.container;if(!l.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}l.widgetId=l.getAssertedRecaptcha().render(h,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,_.A)(function*(){ae(fr()&&!ac(),l.auth,"internal-error"),yield function Fh(){let m=null;return new Promise(l=>{"complete"!==document.readyState?(m=()=>l(),window.addEventListener("load",m)):l()}).catch(l=>{throw m&&window.removeEventListener("load",m),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const h=yield function Z(m){return Se.apply(this,arguments)}(l.auth);ae(h,l.auth,"internal-error"),l.parameters.sitekey=h})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pr{constructor(l,h){this.verificationId=l,this.onConfirmation=h}confirm(l){const h=et._fromVerification(this.verificationId,l);return this.onConfirmation(h)}}function po(){return(po=(0,_.A)(function*(m,l,h){const v=pn(m),b=yield Yo(v,l,(0,O.Ku)(h));return new Pr(b,R=>zu(v,R))})).apply(this,arguments)}function it(){return(it=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);yield Zi(!1,v,"phone");const b=yield Yo(v.auth,l,(0,O.Ku)(h));return new Pr(b,R=>bh(v,R))})).apply(this,arguments)}function go(){return(go=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),b=yield Yo(v.auth,l,(0,O.Ku)(h));return new Pr(b,R=>Ah(v,R))})).apply(this,arguments)}function Yo(m,l,h){return mc.apply(this,arguments)}function mc(){return mc=(0,_.A)(function*(m,l,h){var v;const b=yield h.verify();try{let R;if(ae("string"==typeof b,m,"argument-error"),ae(h.type===qo,m,"argument-error"),R="string"==typeof l?{phoneNumber:l}:l,"session"in R){const B=R.session;if("phoneNumber"in R)return ae("enroll"===B.type,m,"internal-error"),(yield function rc(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:start",J(m,l))}(m,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ae("signin"===B.type,m,"internal-error");const G=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return ae(G,m,"missing-multi-factor-info"),(yield function hc(m,l){return oe(m,"POST","/v2/accounts/mfaSignIn:start",J(m,l))}(m,{mfaPendingCredential:B.credential,mfaEnrollmentId:G,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function mt(m,l){return $t.apply(this,arguments)}(m,{phoneNumber:R.phoneNumber,recaptchaToken:b});return B}}finally{h._reset()}}),mc.apply(this,arguments)}function ki(){return(ki=(0,_.A)(function*(m,l){yield ws((0,O.Ku)(m),l)})).apply(this,arguments)}let Ht=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=pn(h)}verifyPhoneNumber(h,v){return Yo(this.auth,h,(0,O.Ku)(v))}static credential(h,v){return et._fromVerification(h,v)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:b}=h;return v&&b?et._fromTokenResponse(v,b):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Zr(m,l){return l?un(l):(ae(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class ht extends Is{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Vr(l,this._buildIdpRequest())}_linkToIdToken(l,h){return Vr(l,this._buildIdpRequest(h))}_getReauthenticationResolver(l){return Vr(l,this._buildIdpRequest())}_buildIdpRequest(l){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(h.idToken=l),h}}function xl(m){return $u(m.auth,new ht(m),m.bypassAuthState)}function kl(m){const{auth:l,user:h}=m;return ae(h,l,"internal-error"),nf(h,new ht(m),m.bypassAuthState)}function Qo(m){return Li.apply(this,arguments)}function Li(){return(Li=(0,_.A)(function*(m){const{auth:l,user:h}=m;return ae(h,l,"internal-error"),ws(h,new ht(m),m.bypassAuthState)})).apply(this,arguments)}class mo{constructor(l,h,v,b,R=!1){this.auth=l,this.resolver=v,this.user=b,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var l=this;return new Promise(function(){var h=(0,_.A)(function*(v,b){l.pendingPromise={resolve:v,reject:b};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(R){l.reject(R)}});return function(v,b){return h.apply(this,arguments)}}())}onAuthEvent(l){var h=this;return(0,_.A)(function*(){const{urlResponse:v,sessionId:b,postBody:R,tenantId:B,error:G,type:De}=l;if(G)return void h.reject(G);const Oe={auth:h.auth,requestUri:v,sessionId:b,tenantId:B||void 0,postBody:R||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(De)(Oe))}catch(He){h.reject(He)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return Qo;case"reauthViaPopup":case"reauthViaRedirect":return kl;default:ge(this.auth,"internal-error")}}resolve(l){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jt=new Ii(2e3,1e4);function Os(){return(Os=(0,_.A)(function*(m,l,h){const v=pn(m);Re(m,l,vr);const b=Zr(v,h);return new es(v,"signInViaPopup",l,b).executeNotNull()})).apply(this,arguments)}function xs(){return(xs=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr);const b=Zr(v.auth,h);return new es(v.auth,"reauthViaPopup",l,b,v).executeNotNull()})).apply(this,arguments)}function ks(){return(ks=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr);const b=Zr(v.auth,h);return new es(v.auth,"linkViaPopup",l,b,v).executeNotNull()})).apply(this,arguments)}let es=(()=>{class m extends mo{constructor(h,v,b,R,B){super(h,v,R,B),this.provider=b,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,_.A)(function*(){const v=yield h.execute();return ae(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,_.A)(function*(){Ct(1===h.filter.length,"Popup operations only handle one event");const v=oc();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(b=>{h.reject(b)}),h.resolver._isIframeWebStorageSupported(h.auth,b=>{b||h.reject(te(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,b;this.pollId=null!==(b=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,jt.get())};h()}}return m.currentPopupAction=null,m})();const vc="pendingRedirect",Jr=new Map;class Ls extends mo{constructor(l,h,v=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var l=()=>super.execute,h=this;return(0,_.A)(function*(){let v=Jr.get(h.auth._key());if(!v){try{const R=(yield function Ya(m,l){return mf.apply(this,arguments)}(h.resolver,h.auth))?yield l().call(h):null;v=()=>Promise.resolve(R)}catch(b){v=()=>Promise.reject(b)}Jr.set(h.auth._key(),v)}return h.bypassAuthState||Jr.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(l){var h=()=>super.onAuthEvent,v=this;return(0,_.A)(function*(){if("signInViaRedirect"===l.type)return h().call(v,l);if("unknown"!==l.type){if(l.eventId){const b=yield v.auth._redirectUserForId(l.eventId);if(b)return v.user=b,h().call(v,l);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,_.A)(function*(){})()}cleanUp(){}}function mf(){return(mf=(0,_.A)(function*(m,l){const h=yc(l),v=Ul(m);if(!(yield v._isAvailable()))return!1;const b="true"===(yield v._get(h));return yield v._remove(h),b})).apply(this,arguments)}function ts(m,l){return ns.apply(this,arguments)}function ns(){return(ns=(0,_.A)(function*(m,l){return Ul(m)._set(yc(l),"true")})).apply(this,arguments)}function er(m,l){Jr.set(m._key(),l)}function Ul(m){return un(m._redirectPersistence)}function yc(m){return V(vc,m.config.apiKey,m.name)}function Hr(m,l,h){return function dn(m,l,h){return rs.apply(this,arguments)}(m,l,h)}function rs(){return(rs=(0,_.A)(function*(m,l,h){const v=pn(m);Re(m,l,vr),yield v._initializationPromise;const b=Zr(v,h);return yield ts(b,v),b._openRedirect(v,l,"signInViaRedirect")})).apply(this,arguments)}function Xo(m,l,h){return function ei(m,l,h){return Cn.apply(this,arguments)}(m,l,h)}function Cn(){return(Cn=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr),yield v.auth._initializationPromise;const b=Zr(v.auth,h);yield ts(b,v.auth);const R=yield _o(v);return b._openRedirect(v.auth,l,"reauthViaRedirect",R)})).apply(this,arguments)}function Ec(m,l,h){return function Vl(m,l,h){return Qa.apply(this,arguments)}(m,l,h)}function Qa(){return(Qa=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr),yield v.auth._initializationPromise;const b=Zr(v.auth,h);yield Zi(!1,v,l.providerId),yield ts(b,v.auth);const R=yield _o(v);return b._openRedirect(v.auth,l,"linkViaRedirect",R)})).apply(this,arguments)}function tr(){return(tr=(0,_.A)(function*(m,l){return yield pn(m)._initializationPromise,Tn(m,l,!1)})).apply(this,arguments)}function Tn(m,l){return $r.apply(this,arguments)}function $r(){return($r=(0,_.A)(function*(m,l,h=!1){const v=pn(m),b=Zr(v,l),B=yield new Ls(v,b,h).execute();return B&&!h&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,l)),B})).apply(this,arguments)}function _o(m){return ss.apply(this,arguments)}function ss(){return(ss=(0,_.A)(function*(m){const l=oc(`${m.uid}:::`);return m._redirectEventId=l,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),l})).apply(this,arguments)}class vo{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(l,v)&&(h=!0,this.sendToConsumer(l,v),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Zo(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fs(m);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=l,h=!0)),h}sendToConsumer(l,h){var v;if(l.error&&!Fs(l)){const b=(null===(v=l.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(te(this.auth,b))}else h.onAuthEvent(l)}isEventForConsumer(l,h){const v=null===h.eventId||!!l.eventId&&l.eventId===h.eventId;return h.filter.includes(l.type)&&v}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xa(l))}saveEventToCache(l){this.cachedEventUids.add(Xa(l)),this.lastProcessedEventTime=Date.now()}}function Xa(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(l=>l).join("-")}function Fs({type:m,error:l}){return"unknown"===m&&"auth/no-auth-event"===l?.code}function Bl(m){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.A)(function*(m,l={}){return oe(m,"GET","/v1/projects",l)})).apply(this,arguments)}const Za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;function as(){return(as=(0,_.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:l}=yield Bl(m);for(const h of l)try{if(Ic(h))return}catch{}ge(m,"unauthorized-domain")})).apply(this,arguments)}function Ic(m){const l=Bn(),{protocol:h,hostname:v}=new URL(l);if(m.startsWith("chrome-extension://")){const B=new URL(m);return""===B.hostname&&""===v?"chrome-extension:"===h&&m.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===h&&B.hostname===v}if(!Ja.test(h))return!1;if(Za.test(m))return v===m;const b=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(v)}const ti=new Ii(3e4,6e4);function Us(){const m=Yt().___jsl;if(m?.H)for(const l of Object.keys(m.H))if(m.H[l].r=m.H[l].r||[],m.H[l].L=m.H[l].L||[],m.H[l].r=[...m.H[l].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let Qt=null;const jl=new Ii(5e3,15e3),Cc="__/auth/iframe",Hl="emulator/auth/iframe",wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yo(m){const l=m.config;ae(l.authDomain,m,"auth-domain-config-required");const h=l.emulator?zi(l,Hl):`https://${m.config.authDomain}/${Cc}`,v={apiKey:l.apiKey,appName:m.name,v:ee.SDK_VERSION},b=Dc.get(m.config.apiHost);b&&(v.eid=b);const R=m._getFrameworks();return R.length&&(v.fw=R.join(",")),`${h}?${(0,O.Am)(v).slice(1)}`}function w(){return w=(0,_.A)(function*(m){const l=yield function Vs(m){return Qt=Qt||function us(m){return new Promise((l,h)=>{var v,b,R;function B(){Us(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Us(),h(te(m,"network-request-failed"))},timeout:ti.get()})}if(null!==(b=null===(v=Yt().gapi)||void 0===v?void 0:v.iframes)&&void 0!==b&&b.Iframe)l(gapi.iframes.getContext());else{if(null===(R=Yt().gapi)||void 0===R||!R.load){const G=mr("iframefcb");return Yt()[G]=()=>{gapi.load?B():h(te(m,"network-request-failed"))},ui(`https://apis.google.com/js/api.js?onload=${G}`).catch(De=>h(De))}B()}}).catch(l=>{throw Qt=null,l})}(m),Qt}(m),h=Yt().gapi;return ae(h,m,"internal-error"),l.open({where:document.body,url:yo(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wc,dontclear:!0},v=>new Promise(function(){var b=(0,_.A)(function*(R,B){yield v.restyle({setHideOnLeave:!1});const G=te(m,"network-request-failed"),De=Yt().setTimeout(()=>{B(G)},jl.get());function Oe(){Yt().clearTimeout(De),R(v)}v.ping(Oe).then(Oe,()=>{B(G)})});return function(R,B){return b.apply(this,arguments)}}()))}),w.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ve{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pt="__/auth/handler",ct="emulator/auth/handler",cr=encodeURIComponent("fac");function Xt(m,l,h,v,b,R){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,_.A)(function*(m,l,h,v,b,R){ae(m.config.authDomain,m,"auth-domain-config-required"),ae(m.config.apiKey,m,"invalid-api-key");const B={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:v,v:ee.SDK_VERSION,eventId:b};if(l instanceof vr){l.setDefaultLanguage(m.languageCode),B.providerId=l.providerId||"",(0,O.Im)(l.getCustomParameters())||(B.customParameters=JSON.stringify(l.getCustomParameters()));for(const[He,Ge]of Object.entries(R||{}))B[He]=Ge}if(l instanceof yr){const He=l.getScopes().filter(Ge=>""!==Ge);He.length>0&&(B.scopes=He.join(","))}m.tenantId&&(B.tid=m.tenantId);const G=B;for(const He of Object.keys(G))void 0===G[He]&&delete G[He];const De=yield m._getAppCheckToken(),Oe=De?`#${cr}=${encodeURIComponent(De)}`:"";return`${function bc({config:m}){return m.emulator?zi(m,ct):`https://${m.authDomain}/${pt}`}(m)}?${(0,O.Am)(G).slice(1)}${Oe}`})).apply(this,arguments)}const Kt="webStorageSupport",br=class Dr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_openPopup(l,h,v,b){var R=this;return(0,_.A)(function*(){var B;Ct(null===(B=R.eventManagers[l._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const G=yield Xt(l,h,v,Bn(),b);return function xe(m,l,h,v=500,b=600){const R=Math.max((window.screen.availHeight-b)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let G="";const De=Object.assign(Object.assign({},T),{width:v.toString(),height:b.toString(),top:R,left:B}),Oe=(0,O.ZQ)().toLowerCase();h&&(G=ze(Oe)?"_blank":h),_e(Oe)&&(l=l||"http://localhost",De.scrollbars="yes");const He=Object.entries(De).reduce((gn,[ri,Ao])=>`${gn}${ri}=${Ao},`,"");if(function Hn(m=(0,O.ZQ)()){var l;return ft(m)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Oe)&&"_self"!==G)return function Ye(m,l){const h=document.createElement("a");h.href=m,h.target=l;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(l||"",G),new Ve(null);const Ge=window.open(l||"",G,He);ae(Ge,m,"popup-blocked");try{Ge.focus()}catch{}return new Ve(Ge)}(l,G,oc())})()}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R._originValidation(l),function df(m){Yt().location.href=m}(yield Xt(l,h,v,Bn(),b)),new Promise(()=>{})})()}_initialize(l){const h=l._key();if(this.eventManagers[h]){const{manager:b,promise:R}=this.eventManagers[h];return b?Promise.resolve(b):(Ct(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(l);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(l){var h=this;return(0,_.A)(function*(){const v=yield function E(m){return w.apply(this,arguments)}(l),b=new vo(l);return v.register("authEvent",R=>(ae(R?.authEvent,l,"invalid-auth-event"),{status:b.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[l._key()]={manager:b},h.iframes[l._key()]=v,b})()}_isIframeWebStorageSupported(l,h){this.iframes[l._key()].send(Kt,{type:Kt},b=>{var R;const B=null===(R=b?.[0])||void 0===R?void 0:R[Kt];void 0!==B&&h(!!B),ge(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Wr(m){return as.apply(this,arguments)}(l)),this.originValidationPromises[h]}get _shouldInitProactively(){return bi()||ie()||ft()}};class eu{constructor(l){this.factorId=l}_process(l,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(l,h.credential,v);case"signin":return this._finalizeSignIn(l,h.credential);default:return st("unexpected MultiFactorSessionType")}}}class zr extends eu{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new zr(l)}_finalizeEnroll(l,h,v){return function ic(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:finalize",J(m,l))}(l,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,h){return function pc(m,l){return oe(m,"POST","/v2/accounts/mfaSignIn:finalize",J(m,l))}(l,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tu=(()=>{class m{constructor(){}static assertion(h){return zr._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var xg="@firebase/auth";class pv{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var h=this;return(0,_.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const h=this.auth.onIdTokenChanged(v=>{l(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,h),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const h=this.internalListeners.get(l);h&&(this.internalListeners.delete(l),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Io(){return window}(0,O.XA)("authIdTokenMaxAge"),function _f(m){(0,ee._registerComponent)(new pe.uA("auth",(l,{options:h})=>{const v=l.getProvider("app").getImmediate(),b=l.getProvider("heartbeat"),R=l.getProvider("app-check-internal"),{apiKey:B,authDomain:G}=v.options;ae(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const De={apiKey:B,authDomain:G,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(m)},Oe=new Ru(v,b,R,De);return function Jd(m,l){const h=l?.persistence||[],v=(Array.isArray(h)?h:[h]).map(un);l?.errorMap&&m._updateErrorMap(l.errorMap),m._initializeWithPersistence(v,l?.popupRedirectResolver)}(Oe,h),Oe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,h,v)=>{l.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new pe.uA("auth-internal",l=>{const h=pn(l.getProvider("auth").getImmediate());return new pv(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(xg,"0.23.2",function ni(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ee.registerVersion)(xg,"0.23.2","esm2017")}("Browser");function ta(){return ta=(0,_.A)(function*(m,l,h){var v;const{BuildInfo:b}=Io();Ct(l.sessionId,"AuthEvent did not contain a session ID");const R=yield function Lg(m){return Kl.apply(this,arguments)}(l.sessionId),B={};return ft()?B.ibi=b.packageName:Mt()?B.apn=b.packageName:ge(m,"operation-not-supported-in-this-environment"),b.displayName&&(B.appDisplayName=b.displayName),B.sessionId=R,Xt(m,h,l.type,void 0,null!==(v=l.eventId)&&void 0!==v?v:void 0,B)}),ta.apply(this,arguments)}function na(){return(na=(0,_.A)(function*(m){const{BuildInfo:l}=Io(),h={};ft()?h.iosBundleId=l.packageName:Mt()?h.androidPackageName=l.packageName:ge(m,"operation-not-supported-in-this-environment"),yield Bl(m,h)})).apply(this,arguments)}function ru(){return(ru=(0,_.A)(function*(m,l,h){const{cordova:v}=Io();let b=()=>{};try{yield new Promise((R,B)=>{let G=null;function De(){var Ge;R();const gn=null===(Ge=v.plugins.browsertab)||void 0===Ge?void 0:Ge.close;"function"==typeof gn&&gn(),"function"==typeof h?.close&&h.close()}function Oe(){G||(G=window.setTimeout(()=>{B(te(m,"redirect-cancelled-by-user"))},2e3))}function He(){"visible"===document?.visibilityState&&Oe()}l.addPassiveListener(De),document.addEventListener("resume",Oe,!1),Mt()&&document.addEventListener("visibilitychange",He,!1),b=()=>{l.removePassiveListener(De),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",He,!1),G&&window.clearTimeout(G)}})}finally{b()}})).apply(this,arguments)}function Kl(){return(Kl=(0,_.A)(function*(m){const l=function ql(m){if(Ct(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const l=new ArrayBuffer(m.length),h=new Uint8Array(l);for(let v=0;v<m.length;v++)h[v]=m.charCodeAt(v);return h}(m),h=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class jh extends vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(l)),super.onEvent(l)}initialized(){var l=this;return(0,_.A)(function*(){yield l.initPromise})()}}function wo(m){return Do.apply(this,arguments)}function Do(){return(Do=(0,_.A)(function*(m){const l=yield ra()._get(cs(m));return l&&(yield ra()._remove(cs(m))),l})).apply(this,arguments)}function Bs(){const m=[];for(let h=0;h<20;h++){const v=Math.floor(62*Math.random());m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return m.join("")}function ra(){return un(fo)}function cs(m){return V("authEvent",m.config.apiKey,m.name)}function ia(m){if(!m?.includes("?"))return{};const[l,...h]=m.split("?");return(0,O.I9)(h.join("?"))}const $h=class Ql{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_initialize(l){var h=this;return(0,_.A)(function*(){const v=l._key();let b=h.eventManagers.get(v);return b||(b=new jh(l),h.eventManagers.set(v,b),h.attachCallbackListeners(l,b)),b})()}_openPopup(l){ge(l,"operation-not-supported-in-this-environment")}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){!function Gl(m){var l,h,v,b,R,B,G,De,Oe,He;const Ge=Io();ae("function"==typeof(null===(l=Ge?.universalLinks)||void 0===l?void 0:l.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(h=Ge?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(R=null===(b=null===(v=Ge?.cordova)||void 0===v?void 0:v.plugins)||void 0===b?void 0:b.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(De=null===(G=null===(B=Ge?.cordova)||void 0===B?void 0:B.plugins)||void 0===G?void 0:G.browsertab)||void 0===De?void 0:De.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(He=null===(Oe=Ge?.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===He?void 0:He.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const B=yield R._initialize(l);yield B.initialized(),B.resetRedirect(),function Fl(){Jr.clear()}(),yield R._originValidation(l);const G=function yf(m,l,h=null){return{type:l,eventId:h,urlResponse:null,sessionId:Bs(),postBody:null,tenantId:m.tenantId,error:te(m,"no-auth-event")}}(l,v,b);yield function Fg(m,l){return ra()._set(cs(m),l)}(l,G);const De=yield function Wl(m,l,h){return ta.apply(this,arguments)}(l,G,h),Oe=yield function Bh(m){const{cordova:l}=Io();return new Promise(h=>{l.plugins.browsertab.isAvailable(v=>{let b=null;v?l.plugins.browsertab.openUrl(m):b=l.InAppBrowser.open(m,function Tt(m=(0,O.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(b)})})}(De);return function zl(m,l,h){return ru.apply(this,arguments)}(l,B,Oe)})()}_isIframeWebStorageSupported(l,h){throw new Error("Method not implemented.")}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Ac(m){return na.apply(this,arguments)}(l)),this.originValidationPromises[h]}attachCallbackListeners(l,h){const{universalLinks:v,handleOpenURL:b,BuildInfo:R}=Io(),B=setTimeout((0,_.A)(function*(){yield wo(l),h.onEvent(Wh())}),500),G=function(){var He=(0,_.A)(function*(Ge){clearTimeout(B);const gn=yield wo(l);let ri=null;gn&&Ge?.url&&(ri=function Tc(m,l){var h,v;const b=function iu(m){const l=ia(m),h=l.link?decodeURIComponent(l.link):void 0,v=ia(h).link,b=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return ia(b).link||b||v||h||m}(l);if(b.includes("/__/auth/callback")){const R=ia(b),B=R.firebaseError?function Yl(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,G=null===(v=null===(h=B?.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],De=G?te(G):null;return De?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:b,postBody:null}}return null}(gn,Ge.url)),h.onEvent(ri||Wh())});return function(gn){return He.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,G);const De=b,Oe=`${R.packageName.toLowerCase()}://`;Io().handleOpenURL=function(){var He=(0,_.A)(function*(Ge){if(Ge.toLowerCase().startsWith(Oe)&&G({url:Ge}),"function"==typeof De)try{De(Ge)}catch(gn){console.error(gn)}});return function(Ge){return He.apply(this,arguments)}}()}};function Wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:te("no-auth-event")}}function Sc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Xl(m=(0,O.ZQ)()){return!("file:"!==Sc()&&"ionic:"!==Sc()&&"capacitor:"!==Sc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bg(){try{const m=self.localStorage,l=oc();if(m)return m.setItem(l,"1"),m.removeItem(l),!function eC(m=(0,O.ZQ)()){return function Kh(){return(0,O.lT)()&&11===document?.documentMode}()||function Rc(m=(0,O.ZQ)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.zW)()}catch{return su()&&(0,O.zW)()}return!1}function su(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ef(){return(function Ug(){return"http:"===Sc()||"https:"===Sc()}()||(0,O.sr)()||Xl())&&!function Vg(){return(0,O.lV)()||(0,O.Ll)()}()&&Bg()&&!su()}function If(){return Xl()&&typeof document<"u"}function Gr(){return(Gr=(0,_.A)(function*(){return!!If()&&new Promise(m=>{const l=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),m(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},sa=ae,wf="persistence";function Mc(m){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,_.A)(function*(m){yield m._initializationPromise;const l=ou(),h=V(wf,m.config.apiKey,m.name);l&&l.setItem(h,m._getPersistence())})).apply(this,arguments)}function ou(){var m;try{return(null===(m=function js(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const au=ae;class Hs{constructor(){this.browserResolver=un(br),this.cordovaResolver=un($h),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_initialize(l){var h=this;return(0,_.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(l,h,v,b)})()}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(l,h,v,b)})()}_isIframeWebStorageSupported(l,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,h)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return If()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return au(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,_.A)(function*(){if(l.underlyingResolver)return;const h=yield function Cf(){return Gr.apply(this,arguments)}();l.underlyingResolver=h?l.cordovaResolver:l.browserResolver})()}}function Jl(m){return m.unwrap()}function bf(m){return Nc(m)}function Nc(m){const{_tokenResponse:l}=m instanceof O.g?m.customData:m;if(!l)return null;if(!(m instanceof O.g)&&"temporaryProof"in l&&"phoneNumber"in l)return Ht.credentialFromResult(m);const h=l.providerId;if(!h||h===de.PASSWORD)return null;let v;switch(h){case de.GOOGLE:v=Xr;break;case de.FACEBOOK:v=ml;break;case de.GITHUB:v=Si;break;case de.TWITTER:v=Uo;break;default:const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:B,pendingToken:G,nonce:De}=l;return R||B||b||G?G?h.startsWith("saml.")?ci._create(h,G):ke._fromParams({providerId:h,signInMethod:h,pendingToken:G,idToken:b,accessToken:R}):new Br(h).credential({idToken:b,accessToken:R,rawNonce:De}):null}return m instanceof O.g?v.credentialFromError(m):v.credentialFromResult(m)}function xr(m,l){return l.catch(h=>{throw h instanceof O.g&&function Af(m,l){var h;const v=null===(h=l.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new jg(m,function nc(m,l){var h;const v=(0,O.Ku)(m),b=l;return ae(l.customData.operationType,v,"argument-error"),ae(null===(h=b.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),Ts._fromError(v,b)}(m,l));else if(v){const b=Nc(l),R=l;b&&(R.credential=b,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(m,h),h}).then(h=>{const b=h.user;return{operationType:h.operationType,credential:bf(h),additionalUserInfo:cf(h),user:$s.getOrCreate(b)}})}function Tf(m,l){return bo.apply(this,arguments)}function bo(){return(bo=(0,_.A)(function*(m,l){const h=yield l;return{verificationId:h.verificationId,confirm:v=>xr(m,h.confirm(v))}})).apply(this,arguments)}class jg{constructor(l,h){this.resolver=h,this.auth=function Df(m){return m.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return xr(Jl(this.auth),this.resolver.resolveSignIn(l))}}class $s{constructor(l){this._delegate=l,this.multiFactor=function lo(m){const l=(0,O.Ku)(m);return Bt.has(l)||Bt.set(l,Ss._fromUser(l)),Bt.get(l)}(l)}static getOrCreate(l){return $s.USER_MAP.has(l)||$s.USER_MAP.set(l,new $s(l)),$s.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,bh(h._delegate,l))})()}linkWithPhoneNumber(l,h){var v=this;return(0,_.A)(function*(){return Tf(v.auth,function Fn(m,l,h){return it.apply(this,arguments)}(v._delegate,l,h))})()}linkWithPopup(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,function Ll(m,l,h){return ks.apply(this,arguments)}(h._delegate,l,Hs))})()}linkWithRedirect(l){var h=this;return(0,_.A)(function*(){return yield Mc(pn(h.auth)),Ec(h._delegate,l,Hs)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,Ah(h._delegate,l))})()}reauthenticateWithPhoneNumber(l,h){return Tf(this.auth,function wr(m,l,h){return go.apply(this,arguments)}(this._delegate,l,h))}reauthenticateWithPopup(l){return xr(this.auth,function qa(m,l,h){return xs.apply(this,arguments)}(this._delegate,l,Hs))}reauthenticateWithRedirect(l){var h=this;return(0,_.A)(function*(){return yield Mc(pn(h.auth)),Xo(h._delegate,l,Hs)})()}sendEmailVerification(l){return function bs(m,l){return Pi.apply(this,arguments)}(this._delegate,l)}unlink(l){var h=this;return(0,_.A)(function*(){return yield function Bu(m,l){return Zn.apply(this,arguments)}(h._delegate,l),h})()}updateEmail(l){return function Mh(m,l){return Ju((0,O.Ku)(m),l,null)}(this._delegate,l)}updatePassword(l){return function Zu(m,l){return Ju((0,O.Ku)(m),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Gn(m,l){return ki.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Rh(m,l){return Va.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,h){return function Fa(m,l,h){return Ua.apply(this,arguments)}(this._delegate,l,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$s.USER_MAP=new WeakMap;const Un=ae;let Pc=(()=>{class m{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=h.options;Un(b,"invalid-api-key",{appName:h.name}),Un(b,"invalid-api-key",{appName:h.name});const R=typeof window<"u"?Hs:void 0;this._delegate=v.initialize({options:{persistence:Sf(b,h.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$s.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function Ta(m,l,h){const v=pn(m);ae(v._canInitEmulator,v,"emulator-config-failed"),ae(/^https?:\/\//.test(l),v,"invalid-emulator-scheme");const b=!!h?.disableWarnings,R=Yn(l),{host:B,port:G}=function pl(m){const l=Yn(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(l.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(v);if(b){const R=b[1];return{host:R,port:Mu(v.substr(R.length+1))}}{const[R,B]=v.split(":");return{host:R,port:Mu(B)}}}(l);v.config.emulator={url:`${R}//${B}${null===G?"":`:${G}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:G,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function Dh(){function m(){const l=document.createElement("p"),h=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,v)}applyActionCode(h){return function di(m,l){return jr.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return yl(this._delegate,h)}confirmPasswordReset(h,v){return function Th(m,l,h){return Ni.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var b=this;return(0,_.A)(function*(){return xr(b._delegate,function qu(m,l,h){return jo.apply(this,arguments)}(b._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Xu(m,l){return ao.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function af(m,l){const h=Ti.parseLink(l);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,_.A)(function*(){Un(Ef(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function is(m,l){return tr.apply(this,arguments)}(h._delegate,Hs);return v?xr(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function zh(m,l){pn(m)._logFramework(l)}(this._delegate,h)}onAuthStateChanged(h,v,b){const{next:R,error:B,complete:G}=ed(h,v,b);return this._delegate.onAuthStateChanged(R,B,G)}onIdTokenChanged(h,v,b){const{next:R,error:B,complete:G}=ed(h,v,b);return this._delegate.onIdTokenChanged(R,B,G)}sendSignInLinkToEmail(h,v){return function Ho(m,l,h){return oo.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function Pg(m,l,h){return Bo.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,_.A)(function*(){let b;switch(function Ui(m,l){sa(Object.values(Or).includes(l),m,"invalid-persistence-type"),(0,O.lV)()?sa(l!==Or.SESSION,m,"unsupported-persistence-type"):(0,O.Ll)()?sa(l===Or.NONE,m,"unsupported-persistence-type"):su()?sa(l===Or.NONE||l===Or.LOCAL&&(0,O.zW)(),m,"unsupported-persistence-type"):sa(l===Or.NONE||Bg(),m,"unsupported-persistence-type")}(v._delegate,h),h){case Or.SESSION:b=Ms;break;case Or.LOCAL:b=(yield un(Cr)._isAvailable())?Cr:fo;break;case Or.NONE:b=or;break;default:return ge("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return xr(this._delegate,function Vo(m){return xn.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return xr(this._delegate,zu(this._delegate,h))}signInWithCustomToken(h){return xr(this._delegate,function vl(m,l){return Mi.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return xr(this._delegate,function El(m,l,h){return zu((0,O.Ku)(m),io.credential(l,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return xr(this._delegate,function kn(m,l,h){return La.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return Tf(this._delegate,function Ps(m,l,h){return po.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,_.A)(function*(){return Un(Ef(),v._delegate,"operation-not-supported-in-this-environment"),xr(v._delegate,function _c(m,l,h){return Os.apply(this,arguments)}(v._delegate,h,Hs))})()}signInWithRedirect(h){var v=this;return(0,_.A)(function*(){return Un(Ef(),v._delegate,"operation-not-supported-in-this-environment"),yield Mc(v._delegate),Hr(v._delegate,h,Hs)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function so(m,l){return zn.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Or,m})();function ed(m,l,h){let v=m;"function"!=typeof m&&({next:v,error:l,complete:h}=m);const b=v;return{next:B=>b(B&&$s.getOrCreate(B)),error:l,complete:h}}function Sf(m,l){const h=function oa(m,l){const h=ou();if(!h)return[];const v=V(wf,m,l);switch(h.getItem(v)){case Or.NONE:return[or];case Or.LOCAL:return[Cr,Ms];case Or.SESSION:return[Ms];default:return[]}}(m,l);if(typeof self<"u"&&!h.includes(Cr)&&h.push(Cr),typeof window<"u")for(const v of[fo,Ms])h.includes(v)||h.push(v);return h.includes(or)||h.push(or),h}class Kn{constructor(){this.providerId="phone",this._delegate=new Ht(Jl(X.A.auth()))}static credential(l,h){return Ht.credential(l,h)}verifyPhoneNumber(l,h){return this._delegate.verifyPhoneNumber(l,h)}unwrap(){return this._delegate}}Kn.PHONE_SIGN_IN_METHOD=Ht.PHONE_SIGN_IN_METHOD,Kn.PROVIDER_ID=Ht.PROVIDER_ID;const uu=ae;class qh{constructor(l,h,v=X.A.app()){var b;uu(null===(b=v.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ka(l,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function vv(m){m.INTERNAL.registerComponent(new pe.uA("auth-compat",l=>{const h=l.getProvider("app-compat").getImmediate(),v=l.getProvider("auth");return new Pc(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:io,FacebookAuthProvider:ml,GithubAuthProvider:Si,GoogleAuthProvider:Xr,OAuthProvider:Br,SAMLAuthProvider:Vu,PhoneAuthProvider:Kn,PhoneMultiFactorGenerator:tu,RecaptchaVerifier:qh,TwitterAuthProvider:Uo,Auth:Pc,AuthCredential:Is,Error:O.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.4.2")}(X.A)},467:(Xe,ye,P)=>{function _(O,ee,re,fe,pe,Te,de){try{var L=O[Te](de),j=L.value}catch(Q){return void re(Q)}L.done?ee(j):Promise.resolve(j).then(fe,pe)}function X(O){return function(){var ee=this,re=arguments;return new Promise(function(fe,pe){var Te=O.apply(ee,re);function de(j){_(Te,fe,pe,de,L,"next",j)}function L(j){_(Te,fe,pe,de,L,"throw",j)}de(void 0)})}}P.d(ye,{A:()=>X})},1635:(Xe,ye,P)=>{function ee(se,le){var J={};for(var oe in se)Object.prototype.hasOwnProperty.call(se,oe)&&le.indexOf(oe)<0&&(J[oe]=se[oe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(oe=Object.getOwnPropertySymbols(se);Ee<oe.length;Ee++)le.indexOf(oe[Ee])<0&&Object.prototype.propertyIsEnumerable.call(se,oe[Ee])&&(J[oe[Ee]]=se[oe[Ee]])}return J}function Q(se,le,J,oe){return new(J||(J=Promise))(function(ue,Qe){function vt(qt){try{We(oe.next(qt))}catch(Ut){Qe(Ut)}}function zt(qt){try{We(oe.throw(qt))}catch(Ut){Qe(Ut)}}function We(qt){qt.done?ue(qt.value):function Ee(ue){return ue instanceof J?ue:new J(function(Qe){Qe(ue)})}(qt.value).then(vt,zt)}We((oe=oe.apply(se,le||[])).next())})}function ne(se){return this instanceof ne?(this.v=se,this):new ne(se)}function ge(se,le,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,oe=J.apply(se,le||[]),ue=[];return Ee=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vt("next"),vt("throw"),vt("return",function Qe(dt){return function(an){return Promise.resolve(an).then(dt,Ut)}}),Ee[Symbol.asyncIterator]=function(){return this},Ee;function vt(dt,an){oe[dt]&&(Ee[dt]=function(wn){return new Promise(function(Mn,fn){ue.push([dt,wn,Mn,fn])>1||zt(dt,wn)})},an&&(Ee[dt]=an(Ee[dt])))}function zt(dt,an){try{!function We(dt){dt.value instanceof ne?Promise.resolve(dt.value.v).then(qt,Ut):ir(ue[0][2],dt)}(oe[dt](an))}catch(wn){ir(ue[0][3],wn)}}function qt(dt){zt("next",dt)}function Ut(dt){zt("throw",dt)}function ir(dt,an){dt(an),ue.shift(),ue.length&&zt(ue[0][0],ue[0][1])}}function ve(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,le=se[Symbol.asyncIterator];return le?le.call(se):(se=function Ae(se){var le="function"==typeof Symbol&&Symbol.iterator,J=le&&se[le],oe=0;if(J)return J.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&oe>=se.length&&(se=void 0),{value:se&&se[oe++],done:!se}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),J={},oe("next"),oe("throw"),oe("return"),J[Symbol.asyncIterator]=function(){return this},J);function oe(ue){J[ue]=se[ue]&&function(Qe){return new Promise(function(vt,zt){!function Ee(ue,Qe,vt,zt){Promise.resolve(zt).then(function(We){ue({value:We,done:vt})},Qe)}(vt,zt,(Qe=se[ue](Qe)).done,Qe.value)})}}}P.d(ye,{AQ:()=>ge,N3:()=>ne,Tt:()=>ee,sH:()=>Q,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},Xe=>{Xe(Xe.s=4419)}]);