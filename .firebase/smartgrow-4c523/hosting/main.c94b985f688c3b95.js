"use strict";(self.webpackChunksmartgrow=self.webpackChunksmartgrow||[]).push([[792],{4783:(Ze,ye,P)=>{P.d(ye,{BM:()=>Ce,Gt:()=>re,bf:()=>Ne,e7:()=>fe,iB:()=>L,rx:()=>Te,uP:()=>de});var _=P(7705),Z=P(7935),O=P(1161);Ze=P.hmd(Ze);const ee=["ngOnDestroy"],re=(Me,nt,Xe,ne={})=>new Proxy(Me,{get:(ge,te)=>Xe.runOutsideAngular(()=>{var ve;if(Me[te])return!(null===(ve=ne?.spy)||void 0===ve)&&ve.get&&ne.spy.get(te,Me[te]),Me[te];if(ee.indexOf(te)>-1)return()=>{};const Re=nt.toPromise().then(Ue=>{const ae=Ue&&Ue[te];return"function"==typeof ae?ae.bind(Ue):ae&&ae.then?ae.then(st=>Xe.run(()=>st)):Xe.run(()=>ae)});return new Proxy(()=>{},{get:(Ue,ae)=>Re[ae],apply:(Ue,ae,st)=>Re.then(Ct=>{var Bn;const fr=Ct&&Ct(...st);return!(null===(Bn=ne?.spy)||void 0===Bn)&&Bn.apply&&ne.spy.apply(te,st,fr),fr})})})}),fe=(Me,nt)=>{nt.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(ne=>{Object.defineProperty(Me.prototype,ne,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,ne))})})};class pe{constructor(nt){return nt}}const Te=new _.nKC("angularfire2.app.options"),de=new _.nKC("angularfire2.app.name");function L(Me,nt,Xe){const ge="object"==typeof Xe&&Xe||{};ge.name=ge.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const ve=Z.A.apps.filter(Re=>Re&&Re.name===ge.name)[0]||nt.runOutsideAngular(()=>Z.A.initializeApp(Me,ge));try{JSON.stringify(Me)!==JSON.stringify(ve.options)&&j("error",`${ve.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new pe(ve)}const j=(Me,...nt)=>{(0,_.naY)()&&typeof console<"u"&&console[Me](...nt)},Q={provide:pe,useFactory:L,deps:[Te,_.SKi,[new _.Xx1,de]]};let Ne=(()=>{class Me{constructor(Xe){Z.A.registerVersion("angularfire",O.xv.full,"core"),Z.A.registerVersion("angularfire",O.xv.full,"app-compat"),Z.A.registerVersion("angular",_.xvI.full,Xe.toString())}static initializeApp(Xe,ne){return{ngModule:Me,providers:[{provide:Te,useValue:Xe},{provide:de,useValue:ne}]}}}return Me.\u0275fac=function(Xe){return new(Xe||Me)(_.KVO(_.Agw))},Me.\u0275mod=_.$C({type:Me}),Me.\u0275inj=_.G2t({providers:[Q]}),Me})();function Ce(Me,nt,Xe,ne,ge){const[,te,ve]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Me)||[];if(te)return function Be(Me,nt){try{return Me.toString()===nt.toString()}catch{return Me===nt}}(ge,ve)||(Fe("error",`${nt} was already initialized on the ${Xe} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),Fe("warn",{is:ge,was:ve})),te;{const Re=ne();return globalThis.\u0275AngularfireInstanceCache.push([Me,Re,ge]),Re}}const Ae=!!Ze.hot,Fe=(Me,...nt)=>{(0,_.naY)()&&typeof console<"u"&&console[Me](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Ze,ye,P)=>{P.d(ye,{xv:()=>$r,U0:()=>Hl,u0:()=>Us,CA:()=>Wr,lR:()=>Ja});var _=P(7705),Z=P(2214),O=P(467),ee=P(7852),re=P(1076),fe=P(1362),pe=P(8041);const Te=(E,w)=>w.some(T=>E instanceof T);let de,L;const Ne=new WeakMap,Ce=new WeakMap,Be=new WeakMap,Ae=new WeakMap,Fe=new WeakMap;let Xe={get(E,w,T){if(E instanceof IDBTransaction){if("done"===w)return Ce.get(E);if("objectStoreNames"===w)return E.objectStoreNames||Be.get(E);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return ve(E[w])},set:(E,w,T)=>(E[w]=T,!0),has:(E,w)=>E instanceof IDBTransaction&&("done"===w||"store"===w)||w in E};function te(E){return"function"==typeof E?function ge(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...w){return E.apply(Re(this),w),ve(Ne.get(this))}:function(...w){return ve(E.apply(Re(this),w))}:function(w,...T){const N=E.call(Re(this),w,...T);return Be.set(N,w.sort?w.sort():[w]),ve(N)}}(E):(E instanceof IDBTransaction&&function nt(E){if(Ce.has(E))return;const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("complete",G),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},G=()=>{T(),H()},ce=()=>{N(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",G),E.addEventListener("error",ce),E.addEventListener("abort",ce)});Ce.set(E,w)}(E),Te(E,function j(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Xe):E)}function ve(E){if(E instanceof IDBRequest)return function Me(E){const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("success",G),E.removeEventListener("error",ce)},G=()=>{T(ve(E.result)),H()},ce=()=>{N(E.error),H()};E.addEventListener("success",G),E.addEventListener("error",ce)});return w.then(T=>{T instanceof IDBCursor&&Ne.set(T,E)}).catch(()=>{}),Fe.set(w,E),w}(E);if(Ae.has(E))return Ae.get(E);const w=te(E);return w!==E&&(Ae.set(E,w),Fe.set(w,E)),w}const Re=E=>Fe.get(E),st=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],Bn=new Map;function fr(E,w){if(!(E instanceof IDBDatabase)||w in E||"string"!=typeof w)return;if(Bn.get(w))return Bn.get(w);const T=w.replace(/FromIndex$/,""),N=w!==T,H=Ct.includes(T);if(!(T in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!st.includes(T))return;const G=function(){var ce=(0,O.A)(function*(Ve,...xe){const Ye=this.transaction(Ve,H?"readwrite":"readonly");let pt=Ye.store;return N&&(pt=pt.index(xe.shift())),(yield Promise.all([pt[T](...xe),H&&Ye.done]))[0]});return function(xe){return ce.apply(this,arguments)}}();return Bn.set(w,G),G}!function ne(E){Xe=E(Xe)}(E=>({...E,get:(w,T,N)=>fr(w,T)||E.get(w,T,N),has:(w,T)=>!!fr(w,T)||E.has(w,T)}));const Ei="@firebase/installations",vn="0.6.4",ys=1e4,Ii=`w:${vn}`,zi="FIS_v2",Ci="https://firebaseinstallations.googleapis.com/v1",se=36e5,Ee=new re.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ue(E){return E instanceof re.g&&E.code.includes("request-failed")}function Qe({projectId:E}){return`${Ci}/projects/${E}/installations`}function vt(E){return{token:E.token,requestStatus:2,expiresIn:an(E.expiresIn),creationTime:Date.now()}}function zt(E,w){return We.apply(this,arguments)}function We(){return(We=(0,O.A)(function*(E,w){const N=(yield w.json()).error;return Ee.create("request-failed",{requestName:E,serverCode:N.code,serverMessage:N.message,serverStatus:N.status})})).apply(this,arguments)}function qt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function ir(E){return dt.apply(this,arguments)}function dt(){return(dt=(0,O.A)(function*(E){const w=yield E();return w.status>=500&&w.status<600?E():w})).apply(this,arguments)}function an(E){return Number(E.replace("s","000"))}function fn(){return(fn=(0,O.A)(function*({appConfig:E,heartbeatServiceProvider:w},{fid:T}){const N=Qe(E),H=qt(E),G=w.getImmediate({optional:!0});if(G){const Ye=yield G.getHeartbeatsHeader();Ye&&H.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:H,body:JSON.stringify({fid:T,authVersion:zi,appId:E.appId,sdkVersion:Ii})},xe=yield ir(()=>fetch(N,Ve));if(xe.ok){const Ye=yield xe.json();return{fid:Ye.fid||T,registrationStatus:2,refreshToken:Ye.refreshToken,authToken:vt(Ye.authToken)}}throw yield zt("Create Installation",xe)})).apply(this,arguments)}function Sr(E){return new Promise(w=>{setTimeout(w,E)})}const ko=/^[cdef][\w-]{21}$/,tt="";function wt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const T=function lt(E){return function Ki(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return ko.test(T)?T:tt}catch{return tt}}function Kt(E){return`${E.appName}!${E.appId}`}const nn=new Map;function hr(E,w){const T=Kt(E);eo(T,w),function qe(E,w){const T=function yt(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=E=>{eo(E.data.key,E.data.fid)}),pr}();T&&T.postMessage({key:E,fid:w}),function wi(){0===nn.size&&pr&&(pr.close(),pr=null)}()}(T,w)}function eo(E,w){const T=nn.get(E);if(T)for(const N of T)N(w)}let pr=null;const ai="firebase-installations-database",to=1,sr="firebase-installations-store";let Gi=null;function qr(){return Gi||(Gi=function Ue(E,w,{blocked:T,upgrade:N,blocking:H,terminated:G}={}){const ce=indexedDB.open(E,w),Ve=ve(ce);return N&&ce.addEventListener("upgradeneeded",xe=>{N(ve(ce.result),xe.oldVersion,xe.newVersion,ve(ce.transaction))}),T&&ce.addEventListener("blocked",()=>T()),Ve.then(xe=>{G&&xe.addEventListener("close",()=>G()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ve}(ai,to,{upgrade:(E,w)=>{0===w&&E.createObjectStore(sr)}})),Gi}function Nn(E,w){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,O.A)(function*(E,w){const T=Kt(E),H=(yield qr()).transaction(sr,"readwrite"),G=H.objectStore(sr),ce=yield G.get(T);return yield G.put(w,T),yield H.done,(!ce||ce.fid!==w.fid)&&hr(E,w.fid),w})).apply(this,arguments)}function Di(E){return un.apply(this,arguments)}function un(){return(un=(0,O.A)(function*(E){const w=Kt(E),N=(yield qr()).transaction(sr,"readwrite");yield N.objectStore(sr).delete(w),yield N.done})).apply(this,arguments)}function Yr(E,w){return or.apply(this,arguments)}function or(){return(or=(0,O.A)(function*(E,w){const T=Kt(E),H=(yield qr()).transaction(sr,"readwrite"),G=H.objectStore(sr),ce=yield G.get(T),Ve=w(ce);return void 0===Ve?yield G.delete(T):yield G.put(Ve,T),yield H.done,Ve&&(!ce||ce.fid!==Ve.fid)&&hr(E,Ve.fid),Ve})).apply(this,arguments)}function V(E){return F.apply(this,arguments)}function F(){return F=(0,O.A)(function*(E){let w;const T=yield Yr(E.appConfig,N=>{const H=function z(E){return yn(E||{fid:wt(),registrationStatus:0})}(N),G=function _e(E,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(Ee.create("app-offline"))};const T={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},N=function ie(E,w){return ze.apply(this,arguments)}(E,T);return{installationEntry:T,registrationPromise:N}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:rt(E)}:{installationEntry:w}}(E,H);return w=G.registrationPromise,G.installationEntry});return T.fid===tt?{installationEntry:yield w}:{installationEntry:T,registrationPromise:w}}),F.apply(this,arguments)}function ze(){return ze=(0,O.A)(function*(E,w){try{const T=yield function Mn(E,w){return fn.apply(this,arguments)}(E,w);return Nn(E.appConfig,T)}catch(T){throw ue(T)&&409===T.customData.serverCode?yield Di(E.appConfig):yield Nn(E.appConfig,{fid:w.fid,registrationStatus:0}),T}}),ze.apply(this,arguments)}function rt(E){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,O.A)(function*(E){let w=yield Lt(E.appConfig);for(;1===w.registrationStatus;)yield Sr(100),w=yield Lt(E.appConfig);if(0===w.registrationStatus){const{installationEntry:T,registrationPromise:N}=yield V(E);return N||T}return w})).apply(this,arguments)}function Lt(E){return Yr(E,w=>{if(!w)throw Ee.create("installation-not-found");return yn(w)})}function yn(E){return function ft(E){return 1===E.registrationStatus&&E.registrationTime+ys<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Hn(){return(Hn=(0,O.A)(function*({appConfig:E,heartbeatServiceProvider:w},T){const N=function gr(E,{fid:w}){return`${Qe(E)}/${w}/authTokens:generate`}(E,T),H=function Ut(E,{refreshToken:w}){const T=qt(E);return T.append("Authorization",function wn(E){return`${zi} ${E}`}(w)),T}(E,T),G=w.getImmediate({optional:!0});if(G){const Ye=yield G.getHeartbeatsHeader();Ye&&H.append("x-firebase-client",Ye)}const Ve={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Ii,appId:E.appId}})},xe=yield ir(()=>fetch(N,Ve));if(xe.ok)return vt(yield xe.json());throw yield zt("Generate Auth Token",xe)})).apply(this,arguments)}function bi(E){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,O.A)(function*(E,w=!1){let T;const N=yield Yr(E.appConfig,G=>{if(!je(G))throw Ee.create("not-registered");const ce=G.authToken;if(!w&&function Nt(E){return 2===E.requestStatus&&!function En(E){const w=Date.now();return w<E.creationTime||E.creationTime+E.expiresIn<w+se}(E)}(ce))return G;if(1===ce.requestStatus)return T=function he(E,w){return X.apply(this,arguments)}(E,w),G;{if(!navigator.onLine)throw Ee.create("app-offline");const Ve=function hn(E){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:w})}(G);return T=function Ge(E,w){return Je.apply(this,arguments)}(E,Ve),Ve}});return T?yield T:N.authToken}),Lo.apply(this,arguments)}function X(){return(X=(0,O.A)(function*(E,w){let T=yield Se(E.appConfig);for(;1===T.authToken.requestStatus;)yield Sr(100),T=yield Se(E.appConfig);const N=T.authToken;return 0===N.requestStatus?bi(E,w):N})).apply(this,arguments)}function Se(E){return Yr(E,w=>{if(!je(w))throw Ee.create("not-registered");return function ui(E){return 1===E.requestStatus&&E.requestTime+ys<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function Je(){return Je=(0,O.A)(function*(E,w){try{const T=yield function Tt(E,w){return Hn.apply(this,arguments)}(E,w),N=Object.assign(Object.assign({},w),{authToken:T});return yield Nn(E.appConfig,N),T}catch(T){if(!ue(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const N=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield Nn(E.appConfig,N)}else yield Di(E.appConfig);throw T}}),Je.apply(this,arguments)}function je(E){return void 0!==E&&2===E.registrationStatus}function Ai(){return(Ai=(0,O.A)(function*(E){const w=E,{installationEntry:T,registrationPromise:N}=yield V(w);return N?N.catch(console.error):bi(w).catch(console.error),T.fid})).apply(this,arguments)}function Da(){return Da=(0,O.A)(function*(E,w=!1){const T=E;return yield function ba(E){return Fr.apply(this,arguments)}(T),(yield bi(T,w)).token}),Da.apply(this,arguments)}function Fr(){return(Fr=(0,O.A)(function*(E){const{registrationPromise:w}=yield V(E);w&&(yield w)})).apply(this,arguments)}function Yn(E){return Ee.create("missing-app-config-values",{valueName:E})}const pl="installations",wh=E=>{const w=E.getProvider("app").getImmediate(),T=function Ta(E){if(!E||!E.options)throw Yn("App Configuration");if(!E.name)throw Yn("App Name");const w=["projectId","apiKey","appId"];for(const T of w)if(!E.options[T])throw Yn(T);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(w);return{app:w,appConfig:T,heartbeatServiceProvider:(0,ee._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},Is=E=>{const w=E.getProvider("app").getImmediate(),T=(0,ee._getProvider)(w,pl).getImmediate();return{getId:()=>function mr(E){return Ai.apply(this,arguments)}(T),getToken:H=>function Ru(E){return Da.apply(this,arguments)}(T,H)}};(function Jd(){(0,ee._registerComponent)(new fe.uA(pl,wh,"PUBLIC")),(0,ee._registerComponent)(new fe.uA("installations-internal",Is,"PRIVATE"))})(),(0,ee.registerVersion)(Ei,vn),(0,ee.registerVersion)(Ei,vn,"esm2017");const Sa="@firebase/remote-config",$n=new re.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ke{constructor(w,T,N,H){this.client=w,this.storage=T,this.storageCache=N,this.logger=H}isCachedDataFresh(w,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const N=Date.now()-T,H=N<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${N}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${H}.`),H}fetch(w){var T=this;return(0,O.A)(function*(){const[N,H]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(H&&T.isCachedDataFresh(w.cacheMaxAgeMillis,N))return H;w.eTag=H&&H.eTag;const G=yield T.client.fetch(w),ce=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===G.status&&ce.push(T.storage.setLastSuccessfulFetchResponse(G)),yield Promise.all(ce),G})()}}function mt(E=navigator){return E.languages&&E.languages[0]||E.language}class $t{constructor(w,T,N,H,G,ce){this.firebaseInstallations=w,this.sdkVersion=T,this.namespace=N,this.projectId=H,this.apiKey=G,this.appId=ce}fetch(w){var T=this;return(0,O.A)(function*(){const[N,H]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Ve={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},xe={sdk_version:T.sdkVersion,app_instance_id:N,app_instance_id_token:H,app_id:T.appId,language_code:mt()},Ye={method:"POST",headers:Ve,body:JSON.stringify(xe)},pt=fetch(ce,Ye),ct=new Promise((Dr,br)=>{w.signal.addEventListener(()=>{const eu=new Error("The operation was aborted.");eu.name="AbortError",br(eu)})});let cr;try{yield Promise.race([pt,ct]),cr=yield pt}catch(Dr){let br="fetch-client-network";throw"AbortError"===Dr?.name&&(br="fetch-timeout"),$n.create(br,{originalErrorMessage:Dr?.message})}let Xt=cr.status;const Fi=cr.headers.get("ETag")||void 0;let Ac,Gt;if(200===cr.status){let Dr;try{Dr=yield cr.json()}catch(br){throw $n.create("fetch-client-parse",{originalErrorMessage:br?.message})}Ac=Dr.entries,Gt=Dr.state}if("INSTANCE_STATE_UNSPECIFIED"===Gt?Xt=500:"NO_CHANGE"===Gt?Xt=304:("NO_TEMPLATE"===Gt||"EMPTY_CONFIG"===Gt)&&(Ac={}),304!==Xt&&200!==Xt)throw $n.create("fetch-status",{httpStatus:Xt});return{status:Xt,eTag:Fi,config:Ac}})()}}class ar{constructor(w,T){this.client=w,this.storage=T}fetch(w){var T=this;return(0,O.A)(function*(){const N=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(w,N)})()}attemptFetch(w,{throttleEndTimeMillis:T,backoffCount:N}){var H=this;return(0,O.A)(function*(){yield function Rr(E,w){return new Promise((T,N)=>{const H=Math.max(w-Date.now(),0),G=setTimeout(T,H);E.addEventListener(()=>{clearTimeout(G),N($n.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,T);try{const G=yield H.client.fetch(w);return yield H.storage.deleteThrottleMetadata(),G}catch(G){if(!function ro(E){if(!(E instanceof re.g&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}(G))throw G;const ce={throttleEndTimeMillis:Date.now()+(0,re.p9)(N),backoffCount:N+1};return yield H.storage.setThrottleMetadata(ce),H.attemptFetch(w,ce)}})()}}class Qi{constructor(w,T,N,H,G){this.app=w,this._client=T,this._storageCache=N,this._storage=H,this._logger=G,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qr(E,w){const T=E.target.error||void 0;return $n.create(w,{originalErrorMessage:T&&T?.message})}const et="app_namespace_store";class Dn{constructor(w,T,N,H=function Ti(){return new Promise((E,w)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=N=>{w(Qr(N,"storage-open"))},T.onsuccess=N=>{E(N.target.result)},T.onupgradeneeded=N=>{0===N.oldVersion&&N.target.result.createObjectStore(et,{keyPath:"compositeKey"})}}catch(T){w($n.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=w,this.appName=T,this.namespace=N,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var T=this;return(0,O.A)(function*(){const N=yield T.openDbPromise;return new Promise((H,G)=>{const Ve=N.transaction([et],"readonly").objectStore(et),xe=T.createCompositeKey(w);try{const Ye=Ve.get(xe);Ye.onerror=pt=>{G(Qr(pt,"storage-get"))},Ye.onsuccess=pt=>{const ct=pt.target.result;H(ct?ct.value:void 0)}}catch(Ye){G($n.create("storage-get",{originalErrorMessage:Ye?.message}))}})})()}set(w,T){var N=this;return(0,O.A)(function*(){const H=yield N.openDbPromise;return new Promise((G,ce)=>{const xe=H.transaction([et],"readwrite").objectStore(et),Ye=N.createCompositeKey(w);try{const pt=xe.put({compositeKey:Ye,value:T});pt.onerror=ct=>{ce(Qr(ct,"storage-set"))},pt.onsuccess=()=>{G()}}catch(pt){ce($n.create("storage-set",{originalErrorMessage:pt?.message}))}})})()}delete(w){var T=this;return(0,O.A)(function*(){const N=yield T.openDbPromise;return new Promise((H,G)=>{const Ve=N.transaction([et],"readwrite").objectStore(et),xe=T.createCompositeKey(w);try{const Ye=Ve.delete(xe);Ye.onerror=pt=>{G(Qr(pt,"storage-delete"))},Ye.onsuccess=()=>{H()}}catch(Ye){G($n.create("storage-delete",{originalErrorMessage:Ye?.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class io{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,O.A)(function*(){const T=w.storage.getLastFetchStatus(),N=w.storage.getLastSuccessfulFetchTimestampMillis(),H=w.storage.getActiveConfig(),G=yield T;G&&(w.lastFetchStatus=G);const ce=yield N;ce&&(w.lastSuccessfulFetchTimestampMillis=ce);const Ve=yield H;Ve&&(w.activeConfig=Ve)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function ml(){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,O.A)(function*(){if(!(0,re.zW)())return!1;try{return yield(0,re.eX)()}catch{return!1}})).apply(this,arguments)}!function vr(){(0,ee._registerComponent)(new fe.uA("remote-config",function E(w,{instanceIdentifier:T}){const N=w.getProvider("app").getImmediate(),H=w.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,re.zW)())throw $n.create("indexed-db-unavailable");const{projectId:G,apiKey:ce,appId:Ve}=N.options;if(!G)throw $n.create("registration-project-id");if(!ce)throw $n.create("registration-api-key");if(!Ve)throw $n.create("registration-app-id");const xe=new Dn(Ve,N.name,T=T||"firebase"),Ye=new io(xe),pt=new pe.Vy(Sa);pt.logLevel=pe.$b.ERROR;const ct=new $t(H,ee.SDK_VERSION,T,G,ce,Ve),cr=new ar(ct,xe),Xt=new ke(cr,xe,Ye,pt),Fi=new Qi(N,Xt,Ye,xe,pt);return function Wn(E){const w=(0,re.Ku)(E);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(Fi),Fi},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Sa,"0.4.4"),(0,ee.registerVersion)(Sa,"0.4.4","esm2017")}();const Si=(E,w)=>w.some(T=>E instanceof T);let Zi,ci;const Uo=new WeakMap,li=new WeakMap,Mr=new WeakMap,Qn=new WeakMap,Ri=new WeakMap;let xa={get(E,w,T){if(E instanceof IDBTransaction){if("done"===w)return li.get(E);if("objectStoreNames"===w)return E.objectStoreNames||Mr.get(E);if("store"===w)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Xn(E[w])},set:(E,w,T)=>(E[w]=T,!0),has:(E,w)=>E instanceof IDBTransaction&&("done"===w||"store"===w)||w in E};function ju(E){return"function"==typeof E?function Zn(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bu(){return ci||(ci=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...w){return E.apply(ws(this),w),Xn(Uo.get(this))}:function(...w){return Xn(E.apply(ws(this),w))}:function(w,...T){const N=E.call(ws(this),w,...T);return Mr.set(N,w.sort?w.sort():[w]),Xn(N)}}(E):(E instanceof IDBTransaction&&function xn(E){if(li.has(E))return;const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("complete",G),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},G=()=>{T(),H()},ce=()=>{N(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",G),E.addEventListener("error",ce),E.addEventListener("abort",ce)});li.set(E,w)}(E),Si(E,function St(){return Zi||(Zi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,xa):E)}function Xn(E){if(E instanceof IDBRequest)return function Vo(E){const w=new Promise((T,N)=>{const H=()=>{E.removeEventListener("success",G),E.removeEventListener("error",ce)},G=()=>{T(Xn(E.result)),H()},ce=()=>{N(E.error),H()};E.addEventListener("success",G),E.addEventListener("error",ce)});return w.then(T=>{T instanceof IDBCursor&&Uo.set(T,E)}).catch(()=>{}),Ri.set(w,E),w}(E);if(Qn.has(E))return Qn.get(E);const w=ju(E);return w!==E&&(Qn.set(E,w),Ri.set(w,E)),w}const ws=E=>Ri.get(E);function Er(E,w,{blocked:T,upgrade:N,blocking:H,terminated:G}={}){const ce=indexedDB.open(E,w),Ve=Xn(ce);return N&&ce.addEventListener("upgradeneeded",xe=>{N(Xn(ce.result),xe.oldVersion,xe.newVersion,Xn(ce.transaction))}),T&&ce.addEventListener("blocked",()=>T()),Ve.then(xe=>{G&&xe.addEventListener("close",()=>G()),H&&xe.addEventListener("versionchange",()=>H())}).catch(()=>{}),Ve}function Xi(E,{blocked:w}={}){const T=indexedDB.deleteDatabase(E);return w&&T.addEventListener("blocked",()=>w()),Xn(T).then(()=>{})}const Hu=["get","getKey","getAll","getAllKeys","count"],tf=["put","add","delete","clear"],$u=new Map;function Wu(E,w){if(!(E instanceof IDBDatabase)||w in E||"string"!=typeof w)return;if($u.get(w))return $u.get(w);const T=w.replace(/FromIndex$/,""),N=w!==T,H=tf.includes(T);if(!(T in(N?IDBIndex:IDBObjectStore).prototype)||!H&&!Hu.includes(T))return;const G=function(){var ce=(0,O.A)(function*(Ve,...xe){const Ye=this.transaction(Ve,H?"readwrite":"readonly");let pt=Ye.store;return N&&(pt=pt.index(xe.shift())),(yield Promise.all([pt[T](...xe),H&&Ye.done]))[0]});return function(xe){return ce.apply(this,arguments)}}();return $u.set(w,G),G}!function ur(E){xa=E(xa)}(E=>({...E,get:(w,T,N)=>Wu(w,T)||E.get(w,T,N),has:(w,T)=>!!Wu(w,T)||E.has(w,T)}));const zu="/firebase-messaging-sw.js",Ku="/firebase-cloud-messaging-push-scope",_l="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dh="https://fcmregistrations.googleapis.com/v1",en="google.c.a.c_id",bh="google.c.a.c_l",nf="google.c.a.ts";var vl=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(vl||{});function Mi(E){const w=new Uint8Array(E);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gu(E){const T=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),N=atob(T),H=new Uint8Array(N.length);for(let G=0;G<N.length;++G)H[G]=N.charCodeAt(G);return H}const ka="fcm_token_details_db",qu=5,Ds="fcm_token_object_Store";function Bo(){return Bo=(0,O.A)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(G=>G.name).includes(ka))return null;let w=null;return(yield Er(ka,qu,{upgrade:(N=(0,O.A)(function*(H,G,ce,Ve){var xe;if(G<2||!H.objectStoreNames.contains(Ds))return;const Ye=Ve.objectStore(Ds),pt=yield Ye.index("fcmSenderId").get(E);if(yield Ye.clear(),pt)if(2===G){const ct=pt;if(!ct.auth||!ct.p256dh||!ct.endpoint)return;w={token:ct.fcmToken,createTime:null!==(xe=ct.createTime)&&void 0!==xe?xe:Date.now(),subscriptionOptions:{auth:ct.auth,p256dh:ct.p256dh,endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:"string"==typeof ct.vapidKey?ct.vapidKey:Mi(ct.vapidKey)}}}else if(3===G){const ct=pt;w={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Mi(ct.auth),p256dh:Mi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Mi(ct.vapidKey)}}}else if(4===G){const ct=pt;w={token:ct.fcmToken,createTime:ct.createTime,subscriptionOptions:{auth:Mi(ct.auth),p256dh:Mi(ct.p256dh),endpoint:ct.endpoint,swScope:ct.swScope,vapidKey:Mi(ct.vapidKey)}}}}),function(G,ce,Ve,xe){return N.apply(this,arguments)})})).close(),yield Xi(ka),yield Xi("fcm_vapid_details_db"),yield Xi("undefined"),function Ah(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:w}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}(w)?w:null;var N}),Bo.apply(this,arguments)}const Ni="firebase-messaging-database",di=1,jr="firebase-messaging-store";let yl=null;function In(){return yl||(yl=Er(Ni,di,{upgrade:(E,w)=>{0===w&&E.createObjectStore(jr)}})),yl}function so(E){return zn.apply(this,arguments)}function zn(){return zn=(0,O.A)(function*(E){const w=oo(E),N=yield(yield In()).transaction(jr).objectStore(jr).get(w);if(N)return N;{const H=yield function Ng(E){return Bo.apply(this,arguments)}(E.appConfig.senderId);if(H)return yield Yu(E,H),H}}),zn.apply(this,arguments)}function Yu(E,w){return jo.apply(this,arguments)}function jo(){return(jo=(0,O.A)(function*(E,w){const T=oo(E),H=(yield In()).transaction(jr,"readwrite");return yield H.objectStore(jr).put(w,T),yield H.done,w})).apply(this,arguments)}function Ho(){return(Ho=(0,O.A)(function*(E){const w=oo(E),N=(yield In()).transaction(jr,"readwrite");yield N.objectStore(jr).delete(w),yield N.done})).apply(this,arguments)}function oo({appConfig:E}){return E.appId}const kn=new re.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function La(E,w){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,O.A)(function*(E,w){const T=yield Fa(E),N=Th(w),H={method:"POST",headers:T,body:JSON.stringify(N)};let G;try{G=yield(yield fetch(Pi(E.appConfig),H)).json()}catch(ce){throw kn.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(G.error)throw kn.create("token-subscribe-failed",{errorInfo:G.error.message});if(!G.token)throw kn.create("token-subscribe-no-token");return G.token})).apply(this,arguments)}function Xu(){return(Xu=(0,O.A)(function*(E,w){const T=yield Fa(E),N=Th(w.subscriptionOptions),H={method:"PATCH",headers:T,body:JSON.stringify(N)};let G;try{G=yield(yield fetch(`${Pi(E.appConfig)}/${w.token}`,H)).json()}catch(ce){throw kn.create("token-update-failed",{errorInfo:ce?.toString()})}if(G.error)throw kn.create("token-update-failed",{errorInfo:G.error.message});if(!G.token)throw kn.create("token-update-no-token");return G.token})).apply(this,arguments)}function ao(E,w){return bs.apply(this,arguments)}function bs(){return(bs=(0,O.A)(function*(E,w){const N={method:"DELETE",headers:yield Fa(E)};try{const G=yield(yield fetch(`${Pi(E.appConfig)}/${w}`,N)).json();if(G.error)throw kn.create("token-unsubscribe-failed",{errorInfo:G.error.message})}catch(H){throw kn.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Pi({projectId:E}){return`${Dh}/projects/${E}/registrations`}function Fa(E){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,O.A)(function*({appConfig:E,installations:w}){const T=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Th({p256dh:E,auth:w,endpoint:T,vapidKey:N}){const H={web:{endpoint:T,auth:w,p256dh:E}};return N!==_l&&(H.web.applicationPubKey=N),H}const af=6048e5;function Va(){return Va=(0,O.A)(function*(E){const w=yield function ja(E,w){return Il.apply(this,arguments)}(E.swRegistration,E.vapidKey),T={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:w.endpoint,auth:Mi(w.getKey("auth")),p256dh:Mi(w.getKey("p256dh"))},N=yield so(E.firebaseDependencies);if(N){if(function Cl(E,w){return w.vapidKey===E.vapidKey&&w.endpoint===E.endpoint&&w.auth===E.auth&&w.p256dh===E.p256dh}(N.subscriptionOptions,T))return Date.now()>=N.createTime+af?function ec(E,w){return Ba.apply(this,arguments)}(E,{token:N.token,createTime:Date.now(),subscriptionOptions:T}):N.token;try{yield ao(E.firebaseDependencies,N.token)}catch(H){console.warn(H)}return tc(E.firebaseDependencies,T)}return tc(E.firebaseDependencies,T)}),Va.apply(this,arguments)}function Ju(){return Ju=(0,O.A)(function*(E){const w=yield so(E.firebaseDependencies);w&&(yield ao(E.firebaseDependencies,w.token),yield function El(E){return Ho.apply(this,arguments)}(E.firebaseDependencies));const T=yield E.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),Ju.apply(this,arguments)}function Ba(){return Ba=(0,O.A)(function*(E,w){try{const T=yield function Zu(E,w){return Xu.apply(this,arguments)}(E.firebaseDependencies,w),N=Object.assign(Object.assign({},w),{token:T,createTime:Date.now()});return yield Yu(E.firebaseDependencies,N),T}catch(T){throw yield function Rh(E){return Ju.apply(this,arguments)}(E),T}}),Ba.apply(this,arguments)}function tc(E,w){return uo.apply(this,arguments)}function uo(){return(uo=(0,O.A)(function*(E,w){const N={token:yield La(E,w),createTime:Date.now(),subscriptionOptions:w};return yield Yu(E,N),N.token})).apply(this,arguments)}function Il(){return(Il=(0,O.A)(function*(E,w){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gu(w)})})).apply(this,arguments)}function $o(E){const w={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Wo(E,w){if(!w.notification)return;E.notification={};const T=w.notification.title;T&&(E.notification.title=T);const N=w.notification.body;N&&(E.notification.body=N);const H=w.notification.image;H&&(E.notification.image=H);const G=w.notification.icon;G&&(E.notification.icon=G)}(w,E),function uf(E,w){w.data&&(E.data=w.data)}(w,E),function nc(E,w){var T,N,H,G,ce;if(!(w.fcmOptions||null!==(T=w.notification)&&void 0!==T&&T.click_action))return;E.fcmOptions={};const Ve=null!==(H=null===(N=w.fcmOptions)||void 0===N?void 0:N.link)&&void 0!==H?H:null===(G=w.notification)||void 0===G?void 0:G.click_action;Ve&&(E.fcmOptions.link=Ve);const xe=null===(ce=w.fcmOptions)||void 0===ce?void 0:ce.analytics_label;xe&&(E.fcmOptions.analyticsLabel=xe)}(w,E),w}function wl(E,w){const T=[];for(let N=0;N<E.length;N++)T.push(E.charAt(N)),N<w.length&&T.push(w.charAt(N));return T.join("")}function Ha(E){return kn.create("missing-app-config-values",{valueName:E})}wl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nh{constructor(w,T,N){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Dl(E){if(!E||!E.options)throw Ha("App Configuration Object");if(!E.name)throw Ha("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:T}=E;for(const N of w)if(!T[N])throw Ha(N);return{appName:E.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:H,installations:T,analyticsProvider:N}}_delete(){return Promise.resolve()}}function co(){return(co=(0,O.A)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(zu,{scope:Ku}),E.swRegistration.update().catch(()=>{})}catch(w){throw kn.create("failed-service-worker-registration",{browserErrorMessage:w?.message})}})).apply(this,arguments)}function As(){return(As=(0,O.A)(function*(E,w){if(!w&&!E.swRegistration&&(yield function bl(E){return co.apply(this,arguments)}(E)),w||!E.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");E.swRegistration=w}})).apply(this,arguments)}function Ts(){return(Ts=(0,O.A)(function*(E,w){w?E.vapidKey=w:E.vapidKey||(E.vapidKey=_l)})).apply(this,arguments)}function ic(){return ic=(0,O.A)(function*(E,w){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield function Oi(E,w){return Ts.apply(this,arguments)}(E,w?.vapidKey),yield function Al(E,w){return As.apply(this,arguments)}(E,w?.serviceWorkerRegistration),function Sh(E){return Va.apply(this,arguments)}(E)}),ic.apply(this,arguments)}function Tl(){return(Tl=(0,O.A)(function*(E,w,T){const N=function fi(E){switch(E){case vl.NOTIFICATION_CLICKED:return"notification_open";case vl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(w);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(N,{message_id:T[en],message_name:T[bh],message_time:T[nf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ss(){return Ss=(0,O.A)(function*(E,w){const T=w.data;if(!T.isFirebaseMessaging)return;E.onMessageHandler&&T.messageType===vl.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler($o(T)):E.onMessageHandler.next($o(T)));const N=T.data;(function Mh(E){return"object"==typeof E&&!!E&&en in E})(N)&&"1"===N["google.c.a.e"]&&(yield function sc(E,w,T){return Tl.apply(this,arguments)}(E,T.messageType,N))}),Ss.apply(this,arguments)}const Bt="@firebase/messaging",Rs=E=>{const w=new Nh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function Sl(E,w){return Ss.apply(this,arguments)}(w,T)),w},Ir=E=>{const w=E.getProvider("messaging").getImmediate();return{getToken:N=>function rc(E,w){return ic.apply(this,arguments)}(w,N)}};function oc(){return hi.apply(this,arguments)}function hi(){return(hi=(0,O.A)(function*(){try{yield(0,re.eX)()}catch{return!1}return typeof window<"u"&&(0,re.zW)()&&(0,re.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Rl(){(0,ee._registerComponent)(new fe.uA("messaging",Rs,"PUBLIC")),(0,ee._registerComponent)(new fe.uA("messaging-internal",Ir,"PRIVATE")),(0,ee.registerVersion)(Bt,"0.12.4"),(0,ee.registerVersion)(Bt,"0.12.4","esm2017")}();const Qt="analytics",lf="firebase_id",uc="origin",ut=6e4,Wa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cc="https://www.googletagmanager.com/gtag/js",Ln=new pe.Vy("@firebase/analytics"),Jn=new re.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ho(E){if(!E.startsWith(cc)){const w=Jn.create("invalid-gtag-resource",{gtagURL:E});return Ln.warn(w.message),""}return E}function Ji(E){return Promise.all(E.map(w=>w.catch(T=>T)))}function zo(){return(zo=(0,O.A)(function*(E,w,T,N,H,G){const ce=N[H];try{if(ce)yield w[ce];else{const xe=(yield Ji(T)).find(Ye=>Ye.measurementId===H);xe&&(yield w[xe.appId])}}catch(Ve){Ln.error(Ve)}E("config",H,G)})).apply(this,arguments)}function _t(){return(_t=(0,O.A)(function*(E,w,T,N,H){try{let G=[];if(H&&H.send_to){let ce=H.send_to;Array.isArray(ce)||(ce=[ce]);const Ve=yield Ji(T);for(const xe of ce){const Ye=Ve.find(ct=>ct.measurementId===xe),pt=Ye&&w[Ye.appId];if(!pt){G=[];break}G.push(pt)}}0===G.length&&(G=Object.values(w)),yield Promise.all(G),E("event",N,H||{})}catch(G){Ln.error(G)}})).apply(this,arguments)}const fc=30,pc=new class Cr{constructor(w={},T=1e3){this.throttleMetadata=w,this.intervalMillis=T}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,T){this.throttleMetadata[w]=T}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function gc(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function df(){return(df=(0,O.A)(function*(E){var w;const{appId:T,apiKey:N}=E,H={method:"GET",headers:gc(N)},G=Wa.replace("{app-id}",T),ce=yield fetch(G,H);if(200!==ce.status&&304!==ce.status){let Ve="";try{const xe=yield ce.json();null!==(w=xe.error)&&void 0!==w&&w.message&&(Ve=xe.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:Ve})}return ce.json()})).apply(this,arguments)}function An(){return(An=(0,O.A)(function*(E,w=pc,T){const{appId:N,apiKey:H,measurementId:G}=E.options;if(!N)throw Jn.create("no-app-id");if(!H){if(G)return{measurementId:G,appId:N};throw Jn.create("no-api-key")}const ce=w.getThrottleMetadata(N)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new hf;return setTimeout((0,O.A)(function*(){Ve.abort()}),void 0!==T?T:ut),xi({appId:N,apiKey:H,measurementId:G},ce,Ve,w)})).apply(this,arguments)}function xi(E,w,T){return mc.apply(this,arguments)}function mc(){return mc=(0,O.A)(function*(E,{throttleEndTimeMillis:w,backoffCount:T},N,H=pc){var G;const{appId:ce,measurementId:Ve}=E;try{yield function Ko(E,w){return new Promise((T,N)=>{const H=Math.max(w-Date.now(),0),G=setTimeout(T,H);E.addEventListener(()=>{clearTimeout(G),N(Jn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(N,w)}catch(xe){if(Ve)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${xe?.message}]`),{appId:ce,measurementId:Ve};throw xe}try{const xe=yield function xh(E){return df.apply(this,arguments)}(E);return H.deleteThrottleMetadata(ce),xe}catch(xe){const Ye=xe;if(!function pi(E){if(!(E instanceof re.g&&E.customData))return!1;const w=Number(E.customData.httpStatus);return 429===w||500===w||503===w||504===w}(Ye)){if(H.deleteThrottleMetadata(ce),Ve)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ve} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:ce,measurementId:Ve};throw xe}const pt=503===Number(null===(G=Ye?.customData)||void 0===G?void 0:G.httpStatus)?(0,re.p9)(T,H.intervalMillis,fc):(0,re.p9)(T,H.intervalMillis),ct={throttleEndTimeMillis:Date.now()+pt,backoffCount:T+1};return H.setThrottleMetadata(ce,ct),Ln.debug(`Calling attemptFetch again in ${pt} millis`),xi(E,ct,N,H)}}),mc.apply(this,arguments)}class hf{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}let Go,wr;function Pl(){return(Pl=(0,O.A)(function*(E,w,T,N,H){if(H&&H.global)E("event",T,N);else{const G=yield w;E("event",T,Object.assign(Object.assign({},N),{send_to:G}))}})).apply(this,arguments)}function Kn(){return(Kn=(0,O.A)(function*(){if(!(0,re.zW)())return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eX)()}catch(E){return Ln.warn(Jn.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ht(){return Ht=(0,O.A)(function*(E,w,T,N,H,G,ce){var Ve;const xe=function ff(E){return An.apply(this,arguments)}(E);xe.then(Xt=>{T[Xt.measurementId]=Xt.appId,E.options.measurementId&&Xt.measurementId!==E.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Xt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xt=>Ln.error(Xt)),w.push(xe);const Ye=function _c(){return Kn.apply(this,arguments)}().then(Xt=>{if(Xt)return N.getId()}),[pt,ct]=yield Promise.all([xe,Ye]);(function bn(E){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(cc)&&T.src.includes(E))return T;return null})(G)||function Ka(E,w){const T=function za(E,w){let T;return window.trustedTypes&&(T=window.trustedTypes.createPolicy(E,w)),T}("firebase-js-sdk-policy",{createScriptURL:ho}),N=document.createElement("script"),H=`${cc}?l=${E}&id=${w}`;N.src=T?T?.createScriptURL(H):H,N.async=!0,document.head.appendChild(N)}(G,pt.measurementId),wr&&(H("consent","default",wr),function go(E){wr=E}(void 0)),H("js",new Date);const cr=null!==(Ve=ce?.config)&&void 0!==Ve?Ve:{};return cr[uc]="firebase",cr.update=!0,null!=ct&&(cr[lf]=ct),H("config",pt.measurementId,cr),Go&&(H("set",Go),function Yo(E){Go=E}(void 0)),pt.measurementId}),Ht.apply(this,arguments)}class Xr{constructor(w){this.app=w}_delete(){return delete ht[this.app.options.appId],Promise.resolve()}}let ht={},xl=[];const kl={};let mo,jt,Qo="dataLayer",vc=!1;function xs(E,w,T){!function qa(){const E=[];if((0,re.sr)()&&E.push("This is a browser extension environment."),(0,re.dM)()||E.push("Cookies are not available."),E.length>0){const w=E.map((N,H)=>`(${H+1}) ${N}`).join(" "),T=Jn.create("invalid-analytics-context",{errorInfo:w});Ln.warn(T.message)}}();const N=E.options.appId;if(!N)throw Jn.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Jn.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ht[N])throw Jn.create("already-exists",{id:N});if(!vc){!function Oh(E){let w=[];Array.isArray(window[E])?w=window[E]:window[E]=w}(Qo);const{wrappedGtag:G,gtagCore:ce}=function Nl(E,w,T,N,H){let G=function(...ce){window[N].push(arguments)};return window[H]&&"function"==typeof window[H]&&(G=window[H]),window[H]=function dc(E,w,T,N){function G(){return G=(0,O.A)(function*(ce,...Ve){try{if("event"===ce){const[xe,Ye]=Ve;yield function Ie(E,w,T,N,H){return _t.apply(this,arguments)}(E,w,T,xe,Ye)}else if("config"===ce){const[xe,Ye]=Ve;yield function lc(E,w,T,N,H,G){return zo.apply(this,arguments)}(E,w,T,N,xe,Ye)}else if("consent"===ce){const[xe]=Ve;E("consent","update",xe)}else if("get"===ce){const[xe,Ye,pt]=Ve;E("get",xe,Ye,pt)}else if("set"===ce){const[xe]=Ve;E("set",xe)}else E(ce,...Ve)}catch(xe){Ln.error(xe)}}),G.apply(this,arguments)}return function H(ce){return G.apply(this,arguments)}}(G,E,w,T),{gtagCore:G,wrappedGtag:window[H]}}(ht,xl,kl,Qo,"gtag");jt=G,mo=ce,vc=!0}return ht[N]=function ki(E,w,T,N,H,G,ce){return Ht.apply(this,arguments)}(E,xl,kl,w,mo,Qo,T),new Xr(E)}function es(){return yc.apply(this,arguments)}function yc(){return(yc=(0,O.A)(function*(){if((0,re.sr)()||!(0,re.dM)()||!(0,re.zW)())return!1;try{return yield(0,re.eX)()}catch{return!1}})).apply(this,arguments)}const Ec="@firebase/analytics";!function dn(){(0,ee._registerComponent)(new fe.uA(Qt,(w,{options:T})=>xs(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,ee._registerComponent)(new fe.uA("analytics-internal",function E(w){try{const T=w.getProvider(Qt).getImmediate();return{logEvent:(N,H,G)=>function er(E,w,T,N){E=(0,re.Ku)(E),function kh(E,w,T,N,H){return Pl.apply(this,arguments)}(jt,ht[E.app.options.appId],w,T,N).catch(H=>Ln.error(H))}(T,N,H,G)}}catch(T){throw Jn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,ee.registerVersion)(Ec,"0.10.0"),(0,ee.registerVersion)(Ec,"0.10.0","esm2017")}();var rs=P(6780),ei=P(9687);const Ic=new class Cn extends ei.q{}(class Zo extends rs.R{constructor(w,T){super(w,T),this.scheduler=w,this.work=T}schedule(w,T=0){return T>0?super.schedule(w,T):(this.delay=T,this.state=w,this.scheduler.flush(this),this)}execute(w,T){return T>0||this.closed?super.execute(w,T):this._execute(w,T)}requestAsyncId(w,T,N=0){return null!=N&&N>0||null==N&&this.delay>0?super.requestAsyncId(w,T,N):(w.flush(this),0)}});var Qa=P(3236),is=P(8141),tr=P(6745),Tn=P(941);const $r=new _.RxE("7.6.1"),_o="__angularfire_symbol__analyticsIsSupportedValue",ss="__angularfire_symbol__analyticsIsSupported",os="__angularfire_symbol__remoteConfigIsSupportedValue",vo="__angularfire_symbol__remoteConfigIsSupported",Za="__angularfire_symbol__messagingIsSupportedValue",Fs="__angularfire_symbol__messagingIsSupported";function Ja(E,w,T){if(w){if(1===w.length)return w[0];const G=w.filter(ce=>ce.app===T);if(1===G.length)return G[0]}return T.container.getProvider(E).getImmediate({optional:!0})}globalThis[ss]||(globalThis[ss]=es().then(E=>globalThis[_o]=E).catch(()=>globalThis[_o]=!1)),globalThis[Fs]||(globalThis[Fs]=oc().then(E=>globalThis[Za]=E).catch(()=>globalThis[Za]=!1)),globalThis[vo]||(globalThis[vo]=ml().then(E=>globalThis[os]=E).catch(()=>globalThis[os]=!1));const Wr=(E,w)=>{const T=w?[w]:(0,Z.Dk)(),N=[];return T.forEach(H=>{H.container.getProvider(E).instances.forEach(ce=>{N.includes(ce)||N.push(ce)})}),N};function as(){}class Cc{constructor(w,T=Ic){this.zone=w,this.delegate=T}now(){return this.delegate.now()}schedule(w,T,N){const H=this.zone;return this.delegate.schedule(function(ce){H.runGuarded(()=>{w.apply(this,[ce])})},T,N)}}class ti{constructor(w){this.zone=w,this.task=null}call(w,T){const N=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",as,{},as,as)),T.pipe((0,is.M)({next:N,complete:N,error:N})).subscribe(w).add(N)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Us=(()=>{class E{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Cc(Zone.current)),this.insideAngular=T.run(()=>new Cc(Zone.current,Qa.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(T){return new(T||E)(_.KVO(_.SKi))},E.\u0275prov=_.jDH({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function us(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Hl(E){return us(),function Dc(E){return function(T){return(T=T.lift(new ti(E.ngZone))).pipe((0,tr._)(E.outsideAngular),(0,Tn.Q)(E.insideAngular))}}(us())(E)}},1076:(Ze,ye,P)=>{P.d(ye,{$L:()=>Qe,$g:()=>ys,A4:()=>j,Am:()=>ko,As:()=>vt,Bd:()=>st,Cv:()=>Ut,FA:()=>oe,Fy:()=>ve,HN:()=>wi,Hk:()=>O,I9:()=>tt,Im:()=>wn,K3:()=>fe,KA:()=>Te,Ku:()=>or,Ll:()=>ae,OE:()=>to,T9:()=>ne,Uj:()=>de,XA:()=>ge,ZQ:()=>Re,bD:()=>fn,cY:()=>te,dI:()=>qe,dM:()=>se,eX:()=>Ci,g:()=>J,gR:()=>dt,gz:()=>lt,hp:()=>wt,jZ:()=>Ue,kH:()=>Mn,kj:()=>ai,lT:()=>Ei,lV:()=>Bn,oD:()=>yt,od:()=>eo,p9:()=>Di,qc:()=>ir,sr:()=>Ct,tD:()=>Kt,u:()=>L,vA:()=>Z,yw:()=>an,zW:()=>zi,zw:()=>Q});const _={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Z=function(V,F){if(!V)throw O(F)},O=function(V){return new Error("Firebase Database ("+_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+V)},ee=function(V){const F=[];let z=0;for(let _e=0;_e<V.length;_e++){let ie=V.charCodeAt(_e);ie<128?F[z++]=ie:ie<2048?(F[z++]=ie>>6|192,F[z++]=63&ie|128):55296==(64512&ie)&&_e+1<V.length&&56320==(64512&V.charCodeAt(_e+1))?(ie=65536+((1023&ie)<<10)+(1023&V.charCodeAt(++_e)),F[z++]=ie>>18|240,F[z++]=ie>>12&63|128,F[z++]=ie>>6&63|128,F[z++]=63&ie|128):(F[z++]=ie>>12|224,F[z++]=ie>>6&63|128,F[z++]=63&ie|128)}return F},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(V,F){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[];for(let ie=0;ie<V.length;ie+=3){const ze=V[ie],rt=ie+1<V.length,Mt=rt?V[ie+1]:0,Lt=ie+2<V.length,yn=Lt?V[ie+2]:0;let Hn=(15&Mt)<<2|yn>>6,gr=63&yn;Lt||(gr=64,rt||(Hn=64)),_e.push(z[ze>>2],z[(3&ze)<<4|Mt>>4],z[Hn],z[gr])}return _e.join("")},encodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(V):this.encodeByteArray(ee(V),F)},decodeString(V,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(V):function(V){const F=[];let z=0,_e=0;for(;z<V.length;){const ie=V[z++];if(ie<128)F[_e++]=String.fromCharCode(ie);else if(ie>191&&ie<224){const ze=V[z++];F[_e++]=String.fromCharCode((31&ie)<<6|63&ze)}else if(ie>239&&ie<365){const Lt=((7&ie)<<18|(63&V[z++])<<12|(63&V[z++])<<6|63&V[z++])-65536;F[_e++]=String.fromCharCode(55296+(Lt>>10)),F[_e++]=String.fromCharCode(56320+(1023&Lt))}else{const ze=V[z++],rt=V[z++];F[_e++]=String.fromCharCode((15&ie)<<12|(63&ze)<<6|63&rt)}}return F.join("")}(this.decodeStringToByteArray(V,F))},decodeStringToByteArray(V,F){this.init_();const z=F?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[];for(let ie=0;ie<V.length;){const ze=z[V.charAt(ie++)],Mt=ie<V.length?z[V.charAt(ie)]:0;++ie;const yn=ie<V.length?z[V.charAt(ie)]:64;++ie;const Tt=ie<V.length?z[V.charAt(ie)]:64;if(++ie,null==ze||null==Mt||null==yn||null==Tt)throw new pe;_e.push(ze<<2|Mt>>4),64!==yn&&(_e.push(Mt<<4&240|yn>>2),64!==Tt&&_e.push(yn<<6&192|Tt))}return _e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(V){const F=ee(V);return fe.encodeByteArray(F,!0)},de=function(V){return Te(V).replace(/\./g,"")},L=function(V){try{return fe.decodeString(V,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function j(V){return Q(void 0,V)}function Q(V,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return F}for(const z in F)!F.hasOwnProperty(z)||!Ne(z)||(V[z]=Q(V[z],F[z]));return V}function Ne(V){return"__proto__"!==V}const Me=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const V=process.env.__FIREBASE_DEFAULTS__;return V?JSON.parse(V):void 0})()||(()=>{if(typeof document>"u")return;let V;try{V=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=V&&L(V[1]);return F&&JSON.parse(F)})()}catch(V){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${V}`)}},ne=()=>{var V;return null===(V=Me())||void 0===V?void 0:V.config},ge=V=>{var F;return null===(F=Me())||void 0===F?void 0:F[`_${V}`]};class te{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,z)=>{this.resolve=F,this.reject=z})}wrapCallback(F){return(z,_e)=>{z?this.reject(z):this.resolve(_e),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(z):F(z,_e))}}}function ve(V,F){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _e=F||"demo-project",ie=V.iat||0,ze=V.sub||V.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${_e}`,aud:_e,iat:ie,exp:ie+3600,auth_time:ie,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},V);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(rt)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function ae(){var V;const F=null===(V=Me())||void 0===V?void 0:V.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function Ct(){const V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Bn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ei(){const V=Re();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function ys(){return!0===_.NODE_CLIENT||!0===_.NODE_ADMIN}function zi(){try{return"object"==typeof indexedDB}catch{return!1}}function Ci(){return new Promise((V,F)=>{try{let z=!0;const _e="validate-browser-context-for-indexeddb-analytics-module",ie=self.indexedDB.open(_e);ie.onsuccess=()=>{ie.result.close(),z||self.indexedDB.deleteDatabase(_e),V(!0)},ie.onupgradeneeded=()=>{z=!1},ie.onerror=()=>{var ze;F((null===(ze=ie.error)||void 0===ze?void 0:ze.message)||"")}}catch(z){F(z)}})}function se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class J extends Error{constructor(F,z,_e){super(z),this.code=F,this.customData=_e,this.name="FirebaseError",Object.setPrototypeOf(this,J.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(F,z,_e){this.service=F,this.serviceName=z,this.errors=_e}create(F,...z){const _e=z[0]||{},ie=`${this.service}/${F}`,ze=this.errors[F],rt=ze?function Ee(V,F){return V.replace(ue,(z,_e)=>{const ie=F[_e];return null!=ie?String(ie):`<${_e}?>`})}(ze,_e):"Error";return new J(ie,`${this.serviceName}: ${rt} (${ie}).`,_e)}}const ue=/\{\$([^}]+)}/g;function Qe(V){return JSON.parse(V)}function vt(V){return JSON.stringify(V)}const zt=function(V){let F={},z={},_e={},ie="";try{const ze=V.split(".");F=Qe(L(ze[0])||""),z=Qe(L(ze[1])||""),ie=ze[2],_e=z.d||{},delete z.d}catch{}return{header:F,claims:z,data:_e,signature:ie}},Ut=function(V){const z=zt(V).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},ir=function(V){const F=zt(V).claims;return"object"==typeof F&&!0===F.admin};function dt(V,F){return Object.prototype.hasOwnProperty.call(V,F)}function an(V,F){if(Object.prototype.hasOwnProperty.call(V,F))return V[F]}function wn(V){for(const F in V)if(Object.prototype.hasOwnProperty.call(V,F))return!1;return!0}function Mn(V,F,z){const _e={};for(const ie in V)Object.prototype.hasOwnProperty.call(V,ie)&&(_e[ie]=F.call(z,V[ie],ie,V));return _e}function fn(V,F){if(V===F)return!0;const z=Object.keys(V),_e=Object.keys(F);for(const ie of z){if(!_e.includes(ie))return!1;const ze=V[ie],rt=F[ie];if(Sr(ze)&&Sr(rt)){if(!fn(ze,rt))return!1}else if(ze!==rt)return!1}for(const ie of _e)if(!z.includes(ie))return!1;return!0}function Sr(V){return null!==V&&"object"==typeof V}function ko(V){const F=[];for(const[z,_e]of Object.entries(V))Array.isArray(_e)?_e.forEach(ie=>{F.push(encodeURIComponent(z)+"="+encodeURIComponent(ie))}):F.push(encodeURIComponent(z)+"="+encodeURIComponent(_e));return F.length?"&"+F.join("&"):""}function tt(V){const F={};return V.replace(/^\?/,"").split("&").forEach(_e=>{if(_e){const[ie,ze]=_e.split("=");F[decodeURIComponent(ie)]=decodeURIComponent(ze)}}),F}function wt(V){const F=V.indexOf("?");if(!F)return"";const z=V.indexOf("#",F);return V.substring(F,z>0?z:void 0)}class lt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,z){z||(z=0);const _e=this.W_;if("string"==typeof F)for(let Tt=0;Tt<16;Tt++)_e[Tt]=F.charCodeAt(z)<<24|F.charCodeAt(z+1)<<16|F.charCodeAt(z+2)<<8|F.charCodeAt(z+3),z+=4;else for(let Tt=0;Tt<16;Tt++)_e[Tt]=F[z]<<24|F[z+1]<<16|F[z+2]<<8|F[z+3],z+=4;for(let Tt=16;Tt<80;Tt++){const Hn=_e[Tt-3]^_e[Tt-8]^_e[Tt-14]^_e[Tt-16];_e[Tt]=4294967295&(Hn<<1|Hn>>>31)}let yn,ft,ie=this.chain_[0],ze=this.chain_[1],rt=this.chain_[2],Mt=this.chain_[3],Lt=this.chain_[4];for(let Tt=0;Tt<80;Tt++){Tt<40?Tt<20?(yn=Mt^ze&(rt^Mt),ft=1518500249):(yn=ze^rt^Mt,ft=1859775393):Tt<60?(yn=ze&rt|Mt&(ze|rt),ft=2400959708):(yn=ze^rt^Mt,ft=3395469782);const Hn=(ie<<5|ie>>>27)+yn+Lt+ft+_e[Tt]&4294967295;Lt=Mt,Mt=rt,rt=4294967295&(ze<<30|ze>>>2),ze=ie,ie=Hn}this.chain_[0]=this.chain_[0]+ie&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+rt&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+Lt&4294967295}update(F,z){if(null==F)return;void 0===z&&(z=F.length);const _e=z-this.blockSize;let ie=0;const ze=this.buf_;let rt=this.inbuf_;for(;ie<z;){if(0===rt)for(;ie<=_e;)this.compress_(F,ie),ie+=this.blockSize;if("string"==typeof F){for(;ie<z;)if(ze[rt]=F.charCodeAt(ie),++rt,++ie,rt===this.blockSize){this.compress_(ze),rt=0;break}}else for(;ie<z;)if(ze[rt]=F[ie],++rt,++ie,rt===this.blockSize){this.compress_(ze),rt=0;break}}this.inbuf_=rt,this.total_+=z}digest(){const F=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ie=this.blockSize-1;ie>=56;ie--)this.buf_[ie]=255&z,z/=256;this.compress_(this.buf_);let _e=0;for(let ie=0;ie<5;ie++)for(let ze=24;ze>=0;ze-=8)F[_e]=this.chain_[ie]>>ze&255,++_e;return F}}function Kt(V,F){const z=new nn(V,F);return z.subscribe.bind(z)}class nn{constructor(F,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{F(this)}).catch(_e=>{this.error(_e)})}next(F){this.forEachObserver(z=>{z.next(F)})}error(F){this.forEachObserver(z=>{z.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,z,_e){let ie;if(void 0===F&&void 0===z&&void 0===_e)throw new Error("Missing Observer.");ie=function Vt(V,F){if("object"!=typeof V||null===V)return!1;for(const z of F)if(z in V&&"function"==typeof V[z])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:z,complete:_e},void 0===ie.next&&(ie.next=jn),void 0===ie.error&&(ie.error=jn),void 0===ie.complete&&(ie.complete=jn);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ie.error(this.finalError):ie.complete()}catch{}}),this.observers.push(ie),ze}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,F)}sendOne(F,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{z(this.observers[F])}catch(_e){typeof console<"u"&&console.error&&console.error(_e)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jn(){}const eo=function(V,F,z,_e){let ie;if(_e<F?ie="at least "+F:_e>z&&(ie=0===z?"none":"no more than "+z),ie)throw new Error(V+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ie+".")};function qe(V,F){return`${V} failed: ${F} argument `}function yt(V,F,z,_e){if((!_e||z)&&"function"!=typeof z)throw new Error(qe(V,F)+"must be a valid function.")}function wi(V,F,z,_e){if((!_e||z)&&("object"!=typeof z||null===z))throw new Error(qe(V,F)+"must be a valid context object.")}const ai=function(V){const F=[];let z=0;for(let _e=0;_e<V.length;_e++){let ie=V.charCodeAt(_e);if(ie>=55296&&ie<=56319){const ze=ie-55296;_e++,Z(_e<V.length,"Surrogate pair missing trail surrogate."),ie=65536+(ze<<10)+(V.charCodeAt(_e)-56320)}ie<128?F[z++]=ie:ie<2048?(F[z++]=ie>>6|192,F[z++]=63&ie|128):ie<65536?(F[z++]=ie>>12|224,F[z++]=ie>>6&63|128,F[z++]=63&ie|128):(F[z++]=ie>>18|240,F[z++]=ie>>12&63|128,F[z++]=ie>>6&63|128,F[z++]=63&ie|128)}return F},to=function(V){let F=0;for(let z=0;z<V.length;z++){const _e=V.charCodeAt(z);_e<128?F++:_e<2048?F+=2:_e>=55296&&_e<=56319?(F+=4,z++):F+=3}return F},Gi=1e3,qr=2,Nn=144e5,Pn=.5;function Di(V,F=Gi,z=qr){const _e=F*Math.pow(z,V),ie=Math.round(Pn*_e*(Math.random()-.5)*2);return Math.min(Nn,_e+ie)}function or(V){return V&&V._delegate?V._delegate:V}},4419:(Ze,ye,P)=>{var _=P(7705);let Z=null;function O(){return Z}class re{}const fe=new _.nKC("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(de)},providedIn:"platform"})}}return n})();const Te=new _.nKC("Location Initialized");let de=(()=>{class n extends pe{constructor(){super(),this._doc=(0,_.WQX)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=O().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,u){this._history.pushState(t,o,u)}replaceState(t,o,u){this._history.replaceState(t,o,u)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function L(n,i){if(0==n.length)return i;if(0==i.length)return n;let t=0;return n.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?n+i.substring(1):1==t?n+i:n+"/"+i}function j(n){const i=n.match(/#|\?|$/),t=i&&i.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Q(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(Be)},providedIn:"root"})}}return n})();const Ce=new _.nKC("appBaseHref");let Be=(()=>{class n extends Ne{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??(0,_.WQX)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Q(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,f){const p=this.prepareExternalUrl(u+Q(f));this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,f){const p=this.prepareExternalUrl(u+Q(f));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(pe),_.KVO(Ce,8))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ae=(()=>{class n extends Ne{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=L(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,f){let p=this.prepareExternalUrl(u+Q(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,u,f){let p=this.prepareExternalUrl(u+Q(f));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(pe),_.KVO(Ce,8))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})(),Fe=(()=>{class n{constructor(t){this._subject=new _.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(j(Xe(o))),this._locationStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Q(o))}normalize(t){return n.stripTrailingSlash(function nt(n,i){if(!n||!i.startsWith(n))return i;const t=i.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,Xe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._locationStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(o)),u)}replaceState(t,o="",u=null){this._locationStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Q(o)),u)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}static{this.normalizeQueryParams=Q}static{this.joinWithSlash=L}static{this.stripTrailingSlash=j}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ne))}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return function Me(){return new Fe((0,_.KVO)(Ne))}()},providedIn:"root"})}}return n})();function Xe(n){return n.replace(/\/index.html$/,"")}var Re=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Re||{}),Ue=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ue||{}),ae=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ae||{}),st=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(st||{});function Ci(n,i){return dt((0,_.H5H)(n)[_.KH2.DateFormat],i)}function se(n,i){return dt((0,_.H5H)(n)[_.KH2.TimeFormat],i)}function le(n,i){return dt((0,_.H5H)(n)[_.KH2.DateTimeFormat],i)}function J(n,i){const t=(0,_.H5H)(n),o=t[_.KH2.NumberSymbols][i];if(typeof o>"u"){if(i===st.CurrencyDecimal)return t[_.KH2.NumberSymbols][st.Decimal];if(i===st.CurrencyGroup)return t[_.KH2.NumberSymbols][st.Group]}return o}function We(n){if(!n[_.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[_.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dt(n,i){for(let t=i;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function an(n){const[i,t]=n.split(":");return{hours:+i,minutes:+t}}const Sr=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ki={},ko=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tt=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(tt||{}),wt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(wt||{}),lt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(lt||{});function Kt(n,i,t,o){let u=function F(n){if(_e(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[u,f=1,p=1]=n.split("-").map(C=>+C);return nn(u,f-1,p)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let o;if(o=n.match(Sr))return function z(n){const i=new Date(0);let t=0,o=0;const u=n[8]?i.setUTCFullYear:i.setFullYear,f=n[8]?i.setUTCHours:i.setHours;n[9]&&(t=Number(n[9]+n[10]),o=Number(n[9]+n[11])),u.call(i,Number(n[1]),Number(n[2])-1,Number(n[3]));const p=Number(n[4]||0)-t,C=Number(n[5]||0)-o,D=Number(n[6]||0),M=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return f.call(i,p,C,D,M),i}(o)}const i=new Date(n);if(!_e(i))throw new Error(`Unable to convert "${n}" into a date`);return i}(n);i=hr(t,i)||i;let C,p=[];for(;i;){if(C=ko.exec(i),!C){p.push(i);break}{p=p.concat(C.slice(1));const U=p.pop();if(!U)break;i=U}}let D=u.getTimezoneOffset();o&&(D=Yr(o,D),u=function V(n,i,t){const o=t?-1:1,u=n.getTimezoneOffset();return function or(n,i){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+i),n}(n,o*(Yr(i,u)-u))}(u,o,!0));let M="";return p.forEach(U=>{const $=function un(n){if(Di[n])return Di[n];let i;switch(n){case"G":case"GG":case"GGG":i=yt(lt.Eras,Ue.Abbreviated);break;case"GGGG":i=yt(lt.Eras,Ue.Wide);break;case"GGGGG":i=yt(lt.Eras,Ue.Narrow);break;case"y":i=qe(wt.FullYear,1,0,!1,!0);break;case"yy":i=qe(wt.FullYear,2,0,!0,!0);break;case"yyy":i=qe(wt.FullYear,3,0,!1,!0);break;case"yyyy":i=qe(wt.FullYear,4,0,!1,!0);break;case"Y":i=Pn(1);break;case"YY":i=Pn(2,!0);break;case"YYY":i=Pn(3);break;case"YYYY":i=Pn(4);break;case"M":case"L":i=qe(wt.Month,1,1);break;case"MM":case"LL":i=qe(wt.Month,2,1);break;case"MMM":i=yt(lt.Months,Ue.Abbreviated);break;case"MMMM":i=yt(lt.Months,Ue.Wide);break;case"MMMMM":i=yt(lt.Months,Ue.Narrow);break;case"LLL":i=yt(lt.Months,Ue.Abbreviated,Re.Standalone);break;case"LLLL":i=yt(lt.Months,Ue.Wide,Re.Standalone);break;case"LLLLL":i=yt(lt.Months,Ue.Narrow,Re.Standalone);break;case"w":i=Nn(1);break;case"ww":i=Nn(2);break;case"W":i=Nn(1,!0);break;case"d":i=qe(wt.Date,1);break;case"dd":i=qe(wt.Date,2);break;case"c":case"cc":i=qe(wt.Day,1);break;case"ccc":i=yt(lt.Days,Ue.Abbreviated,Re.Standalone);break;case"cccc":i=yt(lt.Days,Ue.Wide,Re.Standalone);break;case"ccccc":i=yt(lt.Days,Ue.Narrow,Re.Standalone);break;case"cccccc":i=yt(lt.Days,Ue.Short,Re.Standalone);break;case"E":case"EE":case"EEE":i=yt(lt.Days,Ue.Abbreviated);break;case"EEEE":i=yt(lt.Days,Ue.Wide);break;case"EEEEE":i=yt(lt.Days,Ue.Narrow);break;case"EEEEEE":i=yt(lt.Days,Ue.Short);break;case"a":case"aa":case"aaa":i=yt(lt.DayPeriods,Ue.Abbreviated);break;case"aaaa":i=yt(lt.DayPeriods,Ue.Wide);break;case"aaaaa":i=yt(lt.DayPeriods,Ue.Narrow);break;case"b":case"bb":case"bbb":i=yt(lt.DayPeriods,Ue.Abbreviated,Re.Standalone,!0);break;case"bbbb":i=yt(lt.DayPeriods,Ue.Wide,Re.Standalone,!0);break;case"bbbbb":i=yt(lt.DayPeriods,Ue.Narrow,Re.Standalone,!0);break;case"B":case"BB":case"BBB":i=yt(lt.DayPeriods,Ue.Abbreviated,Re.Format,!0);break;case"BBBB":i=yt(lt.DayPeriods,Ue.Wide,Re.Format,!0);break;case"BBBBB":i=yt(lt.DayPeriods,Ue.Narrow,Re.Format,!0);break;case"h":i=qe(wt.Hours,1,-12);break;case"hh":i=qe(wt.Hours,2,-12);break;case"H":i=qe(wt.Hours,1);break;case"HH":i=qe(wt.Hours,2);break;case"m":i=qe(wt.Minutes,1);break;case"mm":i=qe(wt.Minutes,2);break;case"s":i=qe(wt.Seconds,1);break;case"ss":i=qe(wt.Seconds,2);break;case"S":i=qe(wt.FractionalSeconds,1);break;case"SS":i=qe(wt.FractionalSeconds,2);break;case"SSS":i=qe(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":i=ai(tt.Short);break;case"ZZZZZ":i=ai(tt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=ai(tt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":i=ai(tt.Long);break;default:return null}return Di[n]=i,i}(U);M+=$?$(u,t,D):"''"===U?"'":U.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function nn(n,i,t){const o=new Date(0);return o.setFullYear(n,i,t),o.setHours(0,0,0),o}function hr(n,i){const t=function Bn(n){return(0,_.H5H)(n)[_.KH2.LocaleId]}(n);if(Ki[t]=Ki[t]||{},Ki[t][i])return Ki[t][i];let o="";switch(i){case"shortDate":o=Ci(n,ae.Short);break;case"mediumDate":o=Ci(n,ae.Medium);break;case"longDate":o=Ci(n,ae.Long);break;case"fullDate":o=Ci(n,ae.Full);break;case"shortTime":o=se(n,ae.Short);break;case"mediumTime":o=se(n,ae.Medium);break;case"longTime":o=se(n,ae.Long);break;case"fullTime":o=se(n,ae.Full);break;case"short":const u=hr(n,"shortTime"),f=hr(n,"shortDate");o=Vt(le(n,ae.Short),[u,f]);break;case"medium":const p=hr(n,"mediumTime"),C=hr(n,"mediumDate");o=Vt(le(n,ae.Medium),[p,C]);break;case"long":const D=hr(n,"longTime"),M=hr(n,"longDate");o=Vt(le(n,ae.Long),[D,M]);break;case"full":const U=hr(n,"fullTime"),$=hr(n,"fullDate");o=Vt(le(n,ae.Full),[U,$])}return o&&(Ki[t][i]=o),o}function Vt(n,i){return i&&(n=n.replace(/\{([^}]+)}/g,function(t,o){return null!=i&&o in i?i[o]:t})),n}function jn(n,i,t="-",o,u){let f="";(n<0||u&&n<=0)&&(u?n=1-n:(n=-n,f=t));let p=String(n);for(;p.length<i;)p="0"+p;return o&&(p=p.slice(p.length-i)),f+p}function qe(n,i,t=0,o=!1,u=!1){return function(f,p){let C=function pr(n,i){switch(n){case wt.FullYear:return i.getFullYear();case wt.Month:return i.getMonth();case wt.Date:return i.getDate();case wt.Hours:return i.getHours();case wt.Minutes:return i.getMinutes();case wt.Seconds:return i.getSeconds();case wt.FractionalSeconds:return i.getMilliseconds();case wt.Day:return i.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,f);if((t>0||C>-t)&&(C+=t),n===wt.Hours)0===C&&-12===t&&(C=12);else if(n===wt.FractionalSeconds)return function eo(n,i){return jn(n,3).substring(0,i)}(C,i);const D=J(p,st.MinusSign);return jn(C,i,D,o,u)}}function yt(n,i,t=Re.Format,o=!1){return function(u,f){return function wi(n,i,t,o,u,f){switch(t){case lt.Months:return function vn(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.MonthsFormat],o[_.KH2.MonthsStandalone]],i);return dt(f,t)}(i,u,o)[n.getMonth()];case lt.Days:return function Ei(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.DaysFormat],o[_.KH2.DaysStandalone]],i);return dt(f,t)}(i,u,o)[n.getDay()];case lt.DayPeriods:const p=n.getHours(),C=n.getMinutes();if(f){const M=function qt(n){const i=(0,_.H5H)(n);return We(i),(i[_.KH2.ExtraData][2]||[]).map(o=>"string"==typeof o?an(o):[an(o[0]),an(o[1])])}(i),U=function Ut(n,i,t){const o=(0,_.H5H)(n);We(o);const f=dt([o[_.KH2.ExtraData][0],o[_.KH2.ExtraData][1]],i)||[];return dt(f,t)||[]}(i,u,o),$=M.findIndex(q=>{if(Array.isArray(q)){const[we,Le]=q,at=p>=we.hours&&C>=we.minutes,xt=p<Le.hours||p===Le.hours&&C<Le.minutes;if(we.hours<Le.hours){if(at&&xt)return!0}else if(at||xt)return!0}else if(q.hours===p&&q.minutes===C)return!0;return!1});if(-1!==$)return U[$]}return function fr(n,i,t){const o=(0,_.H5H)(n),f=dt([o[_.KH2.DayPeriodsFormat],o[_.KH2.DayPeriodsStandalone]],i);return dt(f,t)}(i,u,o)[p<12?0:1];case lt.Eras:return function ys(n,i){return dt((0,_.H5H)(n)[_.KH2.Eras],i)}(i,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(u,f,n,i,t,o)}}function ai(n){return function(i,t,o){const u=-1*o,f=J(t,st.MinusSign),p=u>0?Math.floor(u/60):Math.ceil(u/60);switch(n){case tt.Short:return(u>=0?"+":"")+jn(p,2,f)+jn(Math.abs(u%60),2,f);case tt.ShortGMT:return"GMT"+(u>=0?"+":"")+jn(p,1,f);case tt.Long:return"GMT"+(u>=0?"+":"")+jn(p,2,f)+":"+jn(Math.abs(u%60),2,f);case tt.Extended:return 0===o?"Z":(u>=0?"+":"")+jn(p,2,f)+":"+jn(Math.abs(u%60),2,f);default:throw new Error(`Unknown zone width "${n}"`)}}}const to=0,sr=4;function qr(n){return nn(n.getFullYear(),n.getMonth(),n.getDate()+(sr-n.getDay()))}function Nn(n,i=!1){return function(t,o){let u;if(i){const f=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,p=t.getDate();u=1+Math.floor((p+f)/7)}else{const f=qr(t),p=function Gi(n){const i=nn(n,to,1).getDay();return nn(n,0,1+(i<=sr?sr:sr+7)-i)}(f.getFullYear()),C=f.getTime()-p.getTime();u=1+Math.round(C/6048e5)}return jn(u,n,J(o,st.MinusSign))}}function Pn(n,i=!1){return function(t,o){return jn(qr(t).getFullYear(),n,J(o,st.MinusSign),i)}}const Di={};function Yr(n,i){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?i:t}function _e(n){return n instanceof Date&&!isNaN(n.valueOf())}let Fo=(()=>{class n{constructor(t,o){this._viewContainer=t,this._context=new Zd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xd("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xd("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}static{this.\u0275fac=function(o){return new(o||n)(_.rXU(_.c1b),_.rXU(_.C4Q))}}static{this.\u0275dir=_.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class Zd{constructor(){this.$implicit=null,this.ngIf=null}}function Xd(n,i){if(i&&!i.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,_.Tbb)(i)}'.`)}const bt=new _.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Wn=new _.nKC("DATE_PIPE_DEFAULT_OPTIONS");let On=(()=>{class n{constructor(t,o,u){this.locale=t,this.defaultTimezone=o,this.defaultOptions=u}transform(t,o,u,f){if(null==t||""===t||t!=t)return null;try{return Kt(t,o??this.defaultOptions?.dateFormat??"mediumDate",f||this.locale,u??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(p){throw function Ur(n,i){return new _.wOt(2100,!1)}()}}static{this.\u0275fac=function(o){return new(o||n)(_.rXU(_.xe9,16),_.rXU(bt,24),_.rXU(Wn,24))}}static{this.\u0275pipe=_.EJ8({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),Yi=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({})}}return n})();function Oa(n){return"server"===n}let vr=(()=>{class n{static{this.\u0275prov=(0,_.jDH)({token:n,providedIn:"root",factory:()=>new yr((0,_.KVO)(fe),window)})}}return n})();class yr{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function Br(n,i){const t=n.getElementById(i)||n.getElementsByName(i)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const p=f.getElementById(i)||f.querySelector(`[name="${i}"]`);if(p)return p}u=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Cl extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $o extends Cl{static makeCurrent(){!function ee(n){Z||(Z=n)}(new $o)}onAndCancel(i,t,o){return i.addEventListener(t,o),()=>{i.removeEventListener(t,o)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function uf(){return Wo=Wo||document.querySelector("base"),Wo?Wo.getAttribute("href"):null}();return null==t?null:function Mh(n){nc=nc||document.createElement("a"),nc.setAttribute("href",n);const i=nc.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){Wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function mr(n,i){i=encodeURIComponent(i);for(const t of n.split(";")){const o=t.indexOf("="),[u,f]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===i)return decodeURIComponent(f)}return null}(document.cookie,i)}}let nc,Wo=null,Dl=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ha=new _.nKC("EventManagerPlugins");let Nh=(()=>{class n{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>{u.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(f=>f.supports(t)),!o)throw new _.wOt(5101,!1);return this._eventNameToPlugin.set(t,o),o}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ha),_.KVO(_.SKi))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();class bl{constructor(i){this._doc=i}}const co="ng-app-id";let Al=(()=>{class n{constructor(t,o,u,f={}){this.doc=t,this.appId=o,this.nonce=u,this.platformId=f,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Oa(f),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(u=>u.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${co}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(u=>{null!=u.textContent&&o.set(u.textContent,u)}),o}return null}changeUsageCount(t,o){const u=this.styleRef;if(u.has(t)){const f=u.get(t);return f.usage+=o,f.usage}return u.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const u=this.styleNodesInDOM,f=u?.get(o);if(f?.parentNode===t)return u.delete(o),f.removeAttribute(co),f;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(co,this.appId),p}}addStyleToHost(t,o){const u=this.getStyleElement(t,o);t.appendChild(u);const f=this.styleRef,p=f.get(o)?.elements;p?p.push(u):f.set(o,{elements:[u],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe),_.KVO(_.sZ2),_.KVO(_.BIS,8),_.KVO(_.Agw))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const As={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Oi=/%COMP%/g,Tl=new _.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ss(n,i){return i.map(t=>t.replace(Oi,n))}let Bt=(()=>{class n{constructor(t,o,u,f,p,C,D,M=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.removeStylesOnCompDestroy=f,this.doc=p,this.platformId=C,this.ngZone=D,this.nonce=M,this.rendererByCompId=new Map,this.platformIsServer=Oa(C),this.defaultRenderer=new lo(t,p,D,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===_.gXe.ShadowDom&&(o={...o,encapsulation:_.gXe.Emulated});const u=this.getOrCreateRenderer(t,o);return u instanceof Nr?u.applyToHost(t):u instanceof hi&&u.applyStyles(),u}getOrCreateRenderer(t,o){const u=this.rendererByCompId;let f=u.get(o.id);if(!f){const p=this.doc,C=this.ngZone,D=this.eventManager,M=this.sharedStylesHost,U=this.removeStylesOnCompDestroy,$=this.platformIsServer;switch(o.encapsulation){case _.gXe.Emulated:f=new Nr(D,M,o,this.appId,U,p,C,$);break;case _.gXe.ShadowDom:return new oc(D,M,t,o,p,C,this.nonce,$);default:f=new hi(D,M,o,U,p,C,$)}u.set(o.id,f)}return f}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Nh),_.KVO(Al),_.KVO(_.sZ2),_.KVO(Tl),_.KVO(fe),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(_.BIS))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();class lo{constructor(i,t,o,u){this.eventManager=i,this.doc=t,this.ngZone=o,this.platformIsServer=u,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(As[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(Rl(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(Rl(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new _.wOt(-5104,!1);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,u){if(u){t=u+":"+t;const f=As[u];f?i.setAttributeNS(f,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const u=As[o];u?i.removeAttributeNS(u,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,u){u&(_.czy.DashCase|_.czy.Important)?i.style.setProperty(t,o,u&_.czy.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&_.czy.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){if("string"==typeof i&&!(i=O().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(o))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function Rl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class oc extends lo{constructor(i,t,o,u,f,p,C,D){super(i,f,p,D),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=Ss(u.id,u.styles);for(const U of M){const $=document.createElement("style");C&&$.setAttribute("nonce",C),$.textContent=U,this.shadowRoot.appendChild($)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hi extends lo{constructor(i,t,o,u,f,p,C,D){super(i,f,p,C),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=u,this.styles=D?Ss(D,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Nr extends hi{constructor(i,t,o,u,f,p,C,D){const M=u+"-"+o.id;super(i,t,o,f,p,C,D,M),this.contentAttr=function fi(n){return"_ngcontent-%COMP%".replace(Oi,n)}(M),this.hostAttr=function Sl(n){return"_nghost-%COMP%".replace(Oi,n)}(M)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}let fo=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const cf=["alt","control","meta","shift"],Ms={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ns={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $a=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,o,u){const f=n.parseEventName(o),p=n.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,f.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=n._normalizeKey(o.pop());let p="",C=o.indexOf("code");if(C>-1&&(o.splice(C,1),p="code."),cf.forEach(M=>{const U=o.indexOf(M);U>-1&&(o.splice(U,1),p+=M+".")}),p+=f,0!=o.length||0===f.length)return null;const D={};return D.domEventName=u,D.fullKey=p,D}static matchEventFullKeyCode(t,o){let u=Ms[t.key]||t.key,f="";return o.indexOf("code.")>-1&&(u=t.code,f="code."),!(null==u||!u)&&(u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),cf.forEach(p=>{p!==u&&(0,Ns[p])(t)&&(f+=p+".")}),f+=u,f===o)}static eventCallback(t,o,u){return f=>{n.matchEventFullKeyCode(f,t)&&u.runGuarded(()=>o(f))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ln=(0,_.oH4)(_.fpN,"browser",[{provide:_.Agw,useValue:"browser"},{provide:_.PLl,useValue:function uc(){$o.makeCurrent()},multi:!0},{provide:fe,useFactory:function Wa(){return(0,_.TL$)(document),document},deps:[]}]),Ml=new _.nKC(""),Jn=[{provide:_.e01,useClass:class wl{addToWindow(i){_.JZv.getAngularTestability=(o,u=!0)=>{const f=i.findTestabilityInTree(o,u);if(null==f)throw new _.wOt(5103,!1);return f},_.JZv.getAllAngularTestabilities=()=>i.getAllTestabilities(),_.JZv.getAllAngularRootElements=()=>i.getAllRootElements(),_.JZv.frameworkStabilizers||(_.JZv.frameworkStabilizers=[]),_.JZv.frameworkStabilizers.push(o=>{const u=_.JZv.getAllAngularTestabilities();let f=u.length,p=!1;const C=function(D){p=p||D,f--,0==f&&o(p)};u.forEach(D=>{D.whenStable(C)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?O().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:_.WHO,useClass:_.NYb,deps:[_.SKi,_.giA,_.e01]},{provide:_.NYb,useClass:_.NYb,deps:[_.SKi,_.giA,_.e01]}],ho=[{provide:_.H8p,useValue:"root"},{provide:_.zcH,useFactory:function ut(){return new _.zcH},deps:[]},{provide:Ha,useClass:fo,multi:!0,deps:[fe,_.SKi,_.Agw]},{provide:Ha,useClass:$a,multi:!0,deps:[fe]},Bt,Al,Nh,{provide:_._9s,useExisting:Bt},{provide:class Zr{},useClass:Dl,deps:[]},[]];let Ji=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_.sZ2,useValue:t.appId}]}}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Ml,12))}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({providers:[...ho,...Jn],imports:[Yi,_.Hbi]})}}return n})(),zo=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(fe))}}static{this.\u0275prov=_.jDH({token:n,factory:function(o){let u=null;return u=o?new o:function lc(){return new zo((0,_.KVO)(fe))}(),u},providedIn:"root"})}}return n})();typeof window<"u"&&window;var Pr=P(1985),Ps=P(8071),Fn=P(8455),it=P(7673),wr=P(4412);const{isArray:go}=Array,{getPrototypeOf:Yo,prototype:_c,keys:Kn}=Object;var Xr=P(3669),ht=P(6354);const{isArray:xl}=Array;var Li=P(3794),jt=P(4360),vc=P(5225);function Os(...n){const i=(0,Li.lI)(n),t=(0,Li.ms)(n),{args:o,keys:u}=function ki(n){if(1===n.length){const i=n[0];if(go(i))return{args:i,keys:null};if(function Ht(n){return n&&"object"==typeof n&&Yo(n)===_c}(i)){const t=Kn(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:n,keys:null}}(n);if(0===o.length)return(0,Fn.H)([],i);const f=new Pr.c(function qa(n,i,t=Xr.D){return o=>{xs(i,()=>{const{length:u}=n,f=new Array(u);let p=u,C=u;for(let D=0;D<u;D++)xs(i,()=>{const M=(0,Fn.H)(n[D],i);let U=!1;M.subscribe((0,jt._)(o,$=>{f[D]=$,U||(U=!0,C--),C||o.next(t(f.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,i,u?p=>function mo(n,i){return n.reduce((t,o,u)=>(t[o]=i[u],t),{})}(u,p):Xr.D));return t?f.pipe(function Qo(n){return(0,ht.T)(i=>function kl(n,i){return xl(i)?n(...i):n(i)}(n,i))}(t)):f}function xs(n,i,t){n?(0,vc.N)(t,n,i):i()}const ks=(0,P(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var es=P(6365);function Jr(...n){return function yc(){return(0,es.U)(1)}()((0,Fn.H)(n,(0,Li.lI)(n)))}var Ls=P(8750);function Ya(n){return new Pr.c(i=>{(0,Ls.Tg)(n()).subscribe(i)})}var gf=P(1203);function ts(n,i){const t=(0,Ps.T)(n)?n:()=>n,o=u=>u.error(t());return new Pr.c(i?u=>i.schedule(o,0,u):o)}var ns=P(983),Fl=P(8359),er=P(9974);function Ul(){return(0,er.N)((n,i)=>{let t=null;n._refCount++;const o=(0,jt._)(i,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const u=n._connection,f=t;t=null,u&&(!f||u===f)&&u.unsubscribe(),i.unsubscribe()});n.subscribe(o),o.closed||(t=n.connect())})}class Ec extends Pr.c{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,er.S)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Fl.yU;const t=this.getSubject();i.add(this.source.subscribe((0,jt._)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Fl.yU.EMPTY)}return i}refCount(){return Ul()(this)}}var Hr=P(1413),dn=P(5558);function rs(n){return n<=0?()=>ns.w:(0,er.N)((i,t)=>{let o=0;i.subscribe((0,jt._)(t,u=>{++o<=n&&(t.next(u),n<=o&&t.complete())}))})}function ei(n,i){return(0,er.N)((t,o)=>{let u=0;t.subscribe((0,jt._)(o,f=>n.call(i,f,u++)&&o.next(f)))})}var Cn=P(1397);function Ic(n){return(0,er.N)((i,t)=>{let o=!1;i.subscribe((0,jt._)(t,u=>{o=!0,t.next(u)},()=>{o||t.next(n),t.complete()}))})}function Vl(n=Qa){return(0,er.N)((i,t)=>{let o=!1;i.subscribe((0,jt._)(t,u=>{o=!0,t.next(u)},()=>o?t.complete():t.error(n())))})}function Qa(){return new ks}function is(n,i){const t=arguments.length>=2;return o=>o.pipe(n?ei((u,f)=>n(u,f,o)):Xr.D,rs(1),t?Ic(i):Vl(()=>new ks))}function tr(n,i){return(0,Ps.T)(i)?(0,Cn.Z)(n,i,1):(0,Cn.Z)(n,1)}var Tn=P(8141);function $r(n){return(0,er.N)((i,t)=>{let f,o=null,u=!1;o=i.subscribe((0,jt._)(t,void 0,void 0,p=>{f=(0,Ls.Tg)(n(p,$r(n)(i))),o?(o.unsubscribe(),o=null,f.subscribe(t)):u=!0})),u&&(o.unsubscribe(),o=null,f.subscribe(t))})}function ss(n,i){return(0,er.N)(function _o(n,i,t,o,u){return(f,p)=>{let C=t,D=i,M=0;f.subscribe((0,jt._)(p,U=>{const $=M++;D=C?n(D,U,$):(C=!0,U),o&&p.next(D)},u&&(()=>{C&&p.next(D),p.complete()})))}}(n,i,arguments.length>=2,!0))}function os(n){return n<=0?()=>ns.w:(0,er.N)((i,t)=>{let o=[];i.subscribe((0,jt._)(t,u=>{o.push(u),n<o.length&&o.shift()},()=>{for(const u of o)t.next(u);t.complete()},void 0,()=>{o=null}))})}function Fs(n){return(0,er.N)((i,t)=>{try{i.subscribe(t)}finally{t.add(n)}})}var Xo=P(5343);const gt="primary",Xa=Symbol("RouteTitle");class Ja{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wr(n){return new Ja(n)}function as(n,i,t){const o=t.path.split("/");if(o.length>n.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<n.length))return null;const u={};for(let f=0;f<o.length;f++){const p=o[f],C=n[f];if(p.startsWith(":"))u[p.substring(1)]=C;else if(p!==C.path)return null}return{consumed:n.slice(0,o.length),posParams:u}}function ti(n,i){const t=n?Object.keys(n):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let f=0;f<t.length;f++)if(u=t[f],!Us(n[u],i[u]))return!1;return!0}function Us(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;const t=[...n].sort(),o=[...i].sort();return t.every((u,f)=>o[f]===u)}return n===i}function us(n){return n.length>0?n[n.length-1]:null}function Zt(n){return function po(n){return!!n&&(n instanceof Pr.c||(0,Ps.T)(n.lift)&&(0,Ps.T)(n.subscribe))}(n)?n:(0,_.jNT)(n)?(0,Fn.H)(Promise.resolve(n)):(0,it.of)(n)}const Vs={exact:function Dc(n,i,t){if(!ce(n.segments,i.segments)||!w(n.segments,i.segments,t)||n.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!n.children[o]||!Dc(n.children[o],i.children[o],t))return!1;return!0},subset:yo},jl={exact:function Hl(n,i){return ti(n,i)},subset:function bc(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(t=>Us(n[t],i[t]))},ignored:()=>!0};function wc(n,i,t){return Vs[t.paths](n.root,i.root,t.matrixParams)&&jl[t.queryParams](n.queryParams,i.queryParams)&&!("exact"===t.fragment&&n.fragment!==i.fragment)}function yo(n,i,t){return E(n,i,i.segments,t)}function E(n,i,t,o){if(n.segments.length>t.length){const u=n.segments.slice(0,t.length);return!(!ce(u,t)||i.hasChildren()||!w(u,t,o))}if(n.segments.length===t.length){if(!ce(n.segments,t)||!w(n.segments,t,o))return!1;for(const u in i.children)if(!n.children[u]||!yo(n.children[u],i.children[u],o))return!1;return!0}{const u=t.slice(0,n.segments.length),f=t.slice(n.segments.length);return!!(ce(n.segments,u)&&w(n.segments,u,o)&&n.children[gt])&&E(n.children[gt],i,f,o)}}function w(n,i,t){return i.every((o,u)=>jl[t](n[u].parameters,o.parameters))}class T{constructor(i=new N([],{}),t={},o=null){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return pt.serialize(this)}}class N{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class H{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wr(this.parameters)),this._parameterMap}toString(){return eu(this)}}function ce(n,i){return n.length===i.length&&n.every((t,o)=>t.path===i[o].path)}let xe=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return new Ye},providedIn:"root"})}}return n})();class Ye{parse(i){const t=new mf(i);return new T(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${cr(i.root,!0)}`,o=function tu(n){const i=Object.keys(n).map(t=>{const o=n[t];return Array.isArray(o)?o.map(u=>`${Fi(t)}=${Fi(u)}`).join("&"):`${Fi(t)}=${Fi(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function Ac(n){return encodeURI(n)}(i.fragment)}`:""}`}}const pt=new Ye;function ct(n){return n.segments.map(i=>eu(i)).join("/")}function cr(n,i){if(!n.hasChildren())return ct(n);if(i){const t=n.children[gt]?cr(n.children[gt],!1):"",o=[];return Object.entries(n.children).forEach(([u,f])=>{u!==gt&&o.push(`${u}:${cr(f,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function Ve(n,i){let t=[];return Object.entries(n.children).forEach(([o,u])=>{o===gt&&(t=t.concat(i(u,o)))}),Object.entries(n.children).forEach(([o,u])=>{o!==gt&&(t=t.concat(i(u,o)))}),t}(n,(o,u)=>u===gt?[cr(n.children[gt],!1)]:[`${u}:${cr(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gt]?`${ct(n)}/${t[0]}`:`${ct(n)}/(${t.join("//")})`}}function Xt(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fi(n){return Xt(n).replace(/%3B/gi,";")}function Gt(n){return Xt(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(n){return decodeURIComponent(n)}function br(n){return Dr(n.replace(/\+/g,"%20"))}function eu(n){return`${Gt(n.path)}${function zr(n){return Object.keys(n).map(i=>`;${Gt(i)}=${Gt(n[i])}`).join("")}(n.parameters)}`}const Pg=/^[^\/()?;#]+/;function Eo(n){const i=n.match(Pg);return i?i[0]:""}const nu=/^[^\/()?;=#]+/,Og=/^[^=?&#]+/,hv=/^[^&#]+/;class mf{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new N([],{}):new N([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[gt]=new N(i,t)),o}parseSegment(){const i=Eo(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new _.wOt(4009,!1);return this.capture(i),new H(Dr(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function $l(n){const i=n.match(nu);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=Eo(this.remaining);u&&(o=u,this.capture(o))}i[Dr(t)]=Dr(o)}parseQueryParam(i){const t=function Fh(n){const i=n.match(Og);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function ni(n){const i=n.match(hv);return i?i[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const u=br(t),f=br(o);if(i.hasOwnProperty(u)){let p=i[u];Array.isArray(p)||(p=[p],i[u]=p),p.push(f)}else i[u]=f}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Eo(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new _.wOt(4010,!1);let f;o.indexOf(":")>-1?(f=o.slice(0,o.indexOf(":")),this.capture(f),this.capture(":")):i&&(f=gt);const p=this.parseChildren();t[f]=1===Object.keys(p).length?p[gt]:new N([],p),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new _.wOt(4011,!1)}}function Jo(n){return n.segments.length>0?new N([],{[gt]:n}):n}function xg(n){const i={};for(const o of Object.keys(n.children)){const f=xg(n.children[o]);if(o===gt&&0===f.segments.length&&f.hasChildren())for(const[p,C]of Object.entries(f.children))i[p]=C;else(f.segments.length>0||f.hasChildren())&&(i[o]=f)}return function _f(n){if(1===n.numberOfChildren&&n.children[gt]){const i=n.children[gt];return new N(n.segments.concat(i.segments),i.children)}return n}(new N(n.segments,i))}function ea(n){return n instanceof T}function Io(n){let i;const u=Jo(function t(f){const p={};for(const D of f.children){const M=t(D);p[D.outlet]=M}const C=new N(f.url,p);return f===n&&(i=C),C}(n.root));return i??u}function Uh(n,i,t,o){let u=n;for(;u.parent;)u=u.parent;if(0===i.length)return Tc(u,u,u,t,o);const f=function zl(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vh(!0,0,n);let i=0,t=!1;const o=n.reduce((u,f,p)=>{if("object"==typeof f&&null!=f){if(f.outlets){const C={};return Object.entries(f.outlets).forEach(([D,M])=>{C[D]="string"==typeof M?M.split("/"):M}),[...u,{outlets:C}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===p?(f.split("/").forEach((C,D)=>{0==D&&"."===C||(0==D&&""===C?t=!0:".."===C?i++:""!=C&&u.push(C))}),u):[...u,f]},[]);return new Vh(t,i,o)}(i);if(f.toRoot())return Tc(u,u,new N([],{}),t,o);const p=function Kl(n,i,t){if(n.isAbsolute)return new ru(i,!0,0);if(!t)return new ru(i,!1,NaN);if(null===t.parent)return new ru(t,!0,0);const o=Wl(n.commands[0])?0:1;return function kg(n,i,t){let o=n,u=i,f=t;for(;f>u;){if(f-=u,o=o.parent,!o)throw new _.wOt(4005,!1);u=o.segments.length}return new ru(o,!1,u-f)}(t,t.segments.length-1+o,n.numberOfDoubleDots)}(f,u,n),C=p.processChildren?Co(p.segmentGroup,p.index,f.commands):ql(p.segmentGroup,p.index,f.commands);return Tc(u,p.segmentGroup,C,t,o)}function Wl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ta(n){return"object"==typeof n&&null!=n&&n.outlets}function Tc(n,i,t,o,u){let p,f={};o&&Object.entries(o).forEach(([D,M])=>{f[D]=Array.isArray(M)?M.map(U=>`${U}`):`${M}`}),p=n===i?t:na(n,i,t);const C=Jo(xg(p));return new T(C,f,u)}function na(n,i,t){const o={};return Object.entries(n.children).forEach(([u,f])=>{o[u]=f===i?t:na(f,i,t)}),new N(n.segments,o)}class Vh{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&Wl(o[0]))throw new _.wOt(4003,!1);const u=o.find(ta);if(u&&u!==us(o))throw new _.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ru{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function ql(n,i,t){if(n||(n=new N([],{})),0===n.segments.length&&n.hasChildren())return Co(n,i,t);const o=function Bh(n,i,t){let o=0,u=i;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(o>=t.length)return f;const p=n.segments[u],C=t[o];if(ta(C))break;const D=`${C}`,M=o<t.length-1?t[o+1]:null;if(u>0&&void 0===D)break;if(D&&M&&"object"==typeof M&&void 0===M.outlets){if(!Do(D,M,p))return f;o+=2}else{if(!Do(D,{},p))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(n,i,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const f=new N(n.segments.slice(0,o.pathIndex),{});return f.children[gt]=new N(n.segments.slice(o.pathIndex),n.children),Co(f,0,u)}return o.match&&0===u.length?new N(n.segments,{}):o.match&&!n.hasChildren()?vf(n,i,t):o.match?Co(n,0,u):vf(n,i,t)}function Co(n,i,t){if(0===t.length)return new N(n.segments,{});{const o=function Gl(n){return ta(n[0])?n[0].outlets:{[gt]:n}}(t),u={};if(Object.keys(o).some(f=>f!==gt)&&n.children[gt]&&1===n.numberOfChildren&&0===n.children[gt].segments.length){const f=Co(n.children[gt],i,t);return new N(n.segments,f.children)}return Object.entries(o).forEach(([f,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(u[f]=ql(n.children[f],i,p))}),Object.entries(n.children).forEach(([f,p])=>{void 0===o[f]&&(u[f]=p)}),new N(n.segments,u)}}function vf(n,i,t){const o=n.segments.slice(0,i);let u=0;for(;u<t.length;){const f=t[u];if(ta(f)){const D=Lg(f.outlets);return new N(o,D)}if(0===u&&Wl(t[0])){o.push(new H(n.segments[i].path,wo(t[0]))),u++;continue}const p=ta(f)?f.outlets[gt]:`${f}`,C=u<t.length-1?t[u+1]:null;p&&C&&Wl(C)?(o.push(new H(p,wo(C))),u+=2):(o.push(new H(p,{})),u++)}return new N(o,{})}function Lg(n){const i={};return Object.entries(n).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[t]=vf(new N([],{}),0,o))}),i}function wo(n){const i={};return Object.entries(n).forEach(([t,o])=>i[t]=`${o}`),i}function Do(n,i,t){return n==t.path&&ti(i,t.parameters)}const Sc="imperative";class Bs{constructor(i,t){this.id=i,this.url=t}}class ra extends Bs{constructor(i,t,o="imperative",u=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cs extends Bs{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends Bs{constructor(i,t,o,u){super(i,t),this.reason=o,this.code=u,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class iu extends Bs{constructor(i,t,o,u){super(i,t),this.reason=o,this.code=u,this.type=16}}class ia extends Bs{constructor(i,t,o,u){super(i,t),this.error=o,this.target=u,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jh extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ql extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hh extends Bs{constructor(i,t,o,u,f){super(i,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $h extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wh extends Bs{constructor(i,t,o,u){super(i,t),this.urlAfterRedirects=o,this.state=u,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gv{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zh{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mv{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fg{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Kh{}class Mc{constructor(i){this.url=i}}class Vg{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new su,this.attachRef=null}}let su=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const u=this.getOrCreateContext(t);u.outlet=o,this.contexts.set(t,u)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new Vg,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class yf{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=Ef(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=Ef(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=If(i,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==i)}pathFromRoot(i){return If(i,this._root).map(t=>t.value)}}function Ef(n,i){if(n===i.value)return i;for(const t of i.children){const o=Ef(n,t);if(o)return o}return null}function If(n,i){if(n===i.value)return[i];for(const t of i.children){const o=If(n,t);if(o.length)return o.unshift(i),o}return[]}class Kr{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function js(n){const i={};return n&&n.children.forEach(t=>i[t.value.outlet]=t),i}class Or extends yf{constructor(i,t){super(i),this.snapshot=t,au(this,i)}toString(){return this.snapshot.toString()}}function sa(n,i){const t=function Cf(n,i){const p=new oa([],{},{},"",{},gt,i,null,{});return new ou("",new Kr(p,[]))}(0,i),o=new wr.t([new H("",{})]),u=new wr.t({}),f=new wr.t({}),p=new wr.t({}),C=new wr.t(""),D=new Ui(o,u,p,C,f,gt,i,t.root);return D.snapshot=t.root,new Or(new Kr(D,[]),t)}class Ui{constructor(i,t,o,u,f,p,C,D){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=u,this.dataSubject=f,this.outlet=p,this.component=C,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,ht.T)(M=>M[Xa]))??(0,it.of)(void 0),this.url=i,this.params=t,this.queryParams=o,this.fragment=u,this.data=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.T)(i=>Wr(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.T)(i=>Wr(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Nc(n,i="emptyOnly"){const t=n.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const u=t[o],f=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function Xl(n){return n.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class oa{get title(){return this.data?.[Xa]}constructor(i,t,o,u,f,p,C,D,M){this.url=i,this.params=t,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=p,this.component=C,this.routeConfig=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ou extends yf{constructor(i,t){super(t),this.url=i,au(this,t)}toString(){return Hs(this._root)}}function au(n,i){i.value._routerState=n,i.children.forEach(t=>au(n,t))}function Hs(n){const i=n.children.length>0?` { ${n.children.map(Hs).join(", ")} } `:"";return`${n.value}${i}`}function Jl(n){if(n.snapshot){const i=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ti(i.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ti(i.params,t.params)||n.paramsSubject.next(t.params),function Cc(n,i){if(n.length!==i.length)return!1;for(let t=0;t<n.length;++t)if(!ti(n[t],i[t]))return!1;return!0}(i.url,t.url)||n.urlSubject.next(t.url),ti(i.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wf(n,i){const t=ti(n.params,i.params)&&function G(n,i){return ce(n,i)&&n.every((t,o)=>ti(t.parameters,i[o].parameters))}(n.url,i.url);return t&&!(!n.parent!=!i.parent)&&(!n.parent||wf(n.parent,i.parent))}let Df=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=gt,this.activateEvents=new _.bkB,this.deactivateEvents=new _.bkB,this.attachEvents=new _.bkB,this.detachEvents=new _.bkB,this.parentContexts=(0,_.WQX)(su),this.location=(0,_.WQX)(_.c1b),this.changeDetector=(0,_.WQX)(_.gRc),this.environmentInjector=(0,_.WQX)(_.uvJ),this.inputBinder=(0,_.WQX)(Pc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:u}=t.name;if(o)return;this.isTrackedInParentContexts(u)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(u)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _.wOt(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new _.wOt(4013,!1);this._activatedRoute=t;const u=this.location,p=t.snapshot.component,C=this.parentContexts.getOrCreateContext(this.name).children,D=new bf(t,C,u.injector);this.activated=u.createComponent(p,{index:u.length,injector:D,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275dir=_.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_.OA$]})}}return n})();class bf{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===Ui?this.route:i===su?this.childContexts:this.parent.get(i,t)}}const Pc=new _.nKC("");let xr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,u=Os([o.queryParams,o.params,o.data]).pipe((0,dn.n)(([f,p,C],D)=>(C={...f,...p,...C},0===D?(0,it.of)(C):Promise.resolve(C)))).subscribe(f=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const p=(0,_.HJs)(o.component);if(p)for(const{templateName:C}of p.inputs)t.activatedComponentRef.setInput(C,f[C]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,u)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();function bo(n,i,t){if(t&&n.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const u=function Bg(n,i,t){return i.children.map(o=>{for(const u of t.children)if(n.shouldReuseRoute(o.value,u.value.snapshot))return bo(n,o,u);return bo(n,o)})}(n,i,t);return new Kr(o,u)}{if(n.shouldAttach(i.value)){const f=n.retrieve(i.value);if(null!==f){const p=f.route;return p.value._futureSnapshot=i.value,p.children=i.children.map(C=>bo(n,C)),p}}const o=function $s(n){return new Ui(new wr.t(n.url),new wr.t(n.params),new wr.t(n.queryParams),new wr.t(n.fragment),new wr.t(n.data),n.outlet,n.component,n)}(i.value),u=i.children.map(f=>bo(n,f));return new Kr(o,u)}}const Un="ngNavigationCancelingError";function Oc(n,i){const{redirectTo:t,navigationBehaviorOptions:o}=ea(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,u=ed(!1,0,i);return u.url=t,u.navigationBehaviorOptions=o,u}function ed(n,i,t){const o=new Error("NavigationCancelingError: "+(n||""));return o[Un]=!0,o.cancellationCode=i,t&&(o.url=t),o}function Gn(n){return n&&n[Un]}let uu=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=_.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[_.aNF],decls:1,vars:0,template:function(o,u){1&o&&_.nrm(0,"router-outlet")},dependencies:[Df],encapsulation:2})}}return n})();function B(n){const i=n.children&&n.children.map(B),t=i?{...n,children:i}:{...n};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==gt&&(t.component=uu),t}function K(n){return n.outlet||gt}function Oe(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let i=n.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class gn{constructor(i,t,o,u,f){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=u,this.inputBindingEnabled=f}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),Jl(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const u=js(t);i.children.forEach(f=>{const p=f.value.outlet;this.deactivateRoutes(f,u[p],o),delete u[p]}),Object.values(u).forEach(f=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(i,t,o){const u=i.value,f=t?t.value:null;if(u===f)if(u.component){const p=o.getContext(u.outlet);p&&this.deactivateChildRoutes(i,t,p.children)}else this.deactivateChildRoutes(i,t,o);else f&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),u=o&&i.value.component?o.children:t,f=js(i);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],u);if(o&&o.outlet){const p=o.outlet.detach(),C=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:p,route:i,contexts:C})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),u=o&&i.value.component?o.children:t,f=js(i);for(const p of Object.keys(f))this.deactivateRouteAndItsChildren(f[p],u);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,t,o){const u=js(t);i.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new Zl(f.value.snapshot))}),i.children.length&&this.forwardEvent(new Rc(i.value.snapshot))}activateRoutes(i,t,o){const u=i.value,f=t?t.value:null;if(Jl(u),u===f)if(u.component){const p=o.getOrCreateContext(u.outlet);this.activateChildRoutes(i,t,p.children)}else this.activateChildRoutes(i,t,o);else if(u.component){const p=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const C=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),p.children.onOutletReAttached(C.contexts),p.attachRef=C.componentRef,p.route=C.route.value,p.outlet&&p.outlet.attach(C.componentRef,C.route.value),Jl(C.route.value),this.activateChildRoutes(i,null,p.children)}else{const C=Oe(u.snapshot);p.attachRef=null,p.route=u,p.injector=C,p.outlet&&p.outlet.activateWith(u,p.injector),this.activateChildRoutes(i,null,p.children)}}else this.activateChildRoutes(i,null,o)}}class ri{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class Ao{constructor(i,t){this.component=i,this.route=t}}function Sf(n,i,t){const o=n._root;return aa(o,i?i._root:null,t,[o.value])}function ls(n,i){const t=Symbol(),o=i.get(n,t);return o===t?"function"!=typeof n||(0,_.LfX)(n)?i.get(n):n:o}function aa(n,i,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=js(i);return n.children.forEach(p=>{(function xc(n,i,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=n.value,p=i?i.value:null,C=t?t.getContext(n.value.outlet):null;if(p&&f.routeConfig===p.routeConfig){const D=function kc(n,i,t){if("function"==typeof t)return t(n,i);switch(t){case"pathParamsChange":return!ce(n.url,i.url);case"pathParamsOrQueryParamsChange":return!ce(n.url,i.url)||!ti(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wf(n,i)||!ti(n.queryParams,i.queryParams);default:return!wf(n,i)}}(p,f,f.routeConfig.runGuardsAndResolvers);D?u.canActivateChecks.push(new ri(o)):(f.data=p.data,f._resolvedData=p._resolvedData),aa(n,i,f.component?C?C.children:null:t,o,u),D&&C&&C.outlet&&C.outlet.isActivated&&u.canDeactivateChecks.push(new Ao(C.outlet.component,p))}else p&&cu(i,C,u),u.canActivateChecks.push(new ri(o)),aa(n,null,f.component?C?C.children:null:t,o,u)})(p,f[p.value.outlet],t,o.concat([p.value]),u),delete f[p.value.outlet]}),Object.entries(f).forEach(([p,C])=>cu(C,t.getContext(p),u)),u}function cu(n,i,t){const o=js(n),u=n.value;Object.entries(o).forEach(([f,p])=>{cu(p,u.component?i?i.children.getContext(f):null:i,t)}),t.canDeactivateChecks.push(new Ao(u.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,u))}function ua(n){return"function"==typeof n}function Ev(n){return n instanceof ks||"EmptyError"===n?.name}const Qh=Symbol("INITIAL_VALUE");function lu(){return(0,dn.n)(n=>Os(n.map(i=>i.pipe(rs(1),function Zo(...n){const i=(0,Li.lI)(n);return(0,er.N)((t,o)=>{(i?Jr(n,t,i):Jr(n,t)).subscribe(o)})}(Qh)))).pipe((0,ht.T)(i=>{for(const t of i)if(!0!==t){if(t===Qh)return Qh;if(!1===t||t instanceof T)return t}return!0}),ei(i=>i!==Qh),rs(1)))}function zg(n){return(0,gf.F)((0,Tn.M)(i=>{if(ea(i))throw Oc(0,i)}),(0,ht.T)(i=>!0===i))}class td{constructor(i){this.segmentGroup=i||null}}class Kg{constructor(i){this.urlTree=i}}function ca(n){return ts(new td(n))}function nd(n){return ts(new Kg(n))}class Xh{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new _.wOt(4002,!1)}lineralizeSegments(i,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,it.of)(o);if(u.numberOfChildren>1||!u.children[gt])return ts(new _.wOt(4e3,!1));u=u.children[gt]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,u){const f=this.createSegmentGroup(i,t.root,o,u);return new T(f,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Object.entries(i).forEach(([u,f])=>{if("string"==typeof f&&f.startsWith(":")){const C=f.substring(1);o[u]=t[C]}else o[u]=f}),o}createSegmentGroup(i,t,o,u){const f=this.createSegments(i,t.segments,o,u);let p={};return Object.entries(t.children).forEach(([C,D])=>{p[C]=this.createSegmentGroup(i,D,o,u)}),new N(f,p)}createSegments(i,t,o,u){return t.map(f=>f.path.startsWith(":")?this.findPosParam(i,f,u):this.findOrReturn(f,o))}findPosParam(i,t,o){const u=o[t.path.substring(1)];if(!u)throw new _.wOt(4001,!1);return u}findOrReturn(i,t){let o=0;for(const u of t){if(u.path===i.path)return t.splice(o),u;o++}return i}}const Jh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qg(n,i,t,o,u){const f=Fc(n,i,t);return f.matched?(o=function Gh(n,i){return n.providers&&!n._injector&&(n._injector=(0,_.Ol2)(n.providers,i,`Route: ${n.path}`)),n._injector??i}(i,o),function bv(n,i,t,o){const u=i.canMatch;if(!u||0===u.length)return(0,it.of)(!0);const f=u.map(p=>{const C=ls(p,n);return Zt(function Yh(n){return n&&ua(n.canMatch)}(C)?C.canMatch(i,t):n.runInContext(()=>C(i,t)))});return(0,it.of)(f).pipe(lu(),zg())}(o,i,t).pipe((0,ht.T)(p=>!0===p?f:{...Jh}))):(0,it.of)(f)}function Fc(n,i,t){if(""===i.path)return"full"===i.pathMatch&&(n.hasChildren()||t.length>0)?{...Jh}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(i.matcher||as)(t,n,i);if(!u)return{...Jh};const f={};Object.entries(u.posParams??{}).forEach(([C,D])=>{f[C]=D.path});const p=u.consumed.length>0?{...f,...u.consumed[u.consumed.length-1].parameters}:f;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:u.posParams??{}}}function Tv(n,i,t,o){return t.length>0&&function rC(n,i,t){return t.some(o=>Mf(n,i,o)&&K(o)!==gt)}(n,t,o)?{segmentGroup:new N(i,nC(o,new N(t,n.children))),slicedSegments:[]}:0===t.length&&function iC(n,i,t){return t.some(o=>Mf(n,i,o))}(n,t,o)?{segmentGroup:new N(n.segments,Sv(n,0,t,o,n.children)),slicedSegments:t}:{segmentGroup:new N(n.segments,n.children),slicedSegments:t}}function Sv(n,i,t,o,u){const f={};for(const p of o)if(Mf(n,t,p)&&!u[K(p)]){const C=new N([],{});f[K(p)]=C}return{...u,...f}}function nC(n,i){const t={};t[gt]=i;for(const o of n)if(""===o.path&&K(o)!==gt){const u=new N([],{});t[K(o)]=u}return t}function Mf(n,i,t){return(!(n.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class rd{constructor(i,t,o,u,f,p,C){this.injector=i,this.configLoader=t,this.rootComponentType=o,this.config=u,this.urlTree=f,this.paramsInheritanceStrategy=p,this.urlSerializer=C,this.allowRedirects=!0,this.applyRedirects=new Xh(this.urlSerializer,this.urlTree)}noMatchError(i){return new _.wOt(4002,!1)}recognize(){const i=Tv(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,gt).pipe($r(t=>{if(t instanceof Kg)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof td?this.noMatchError(t):t}),(0,ht.T)(t=>{const o=new oa([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gt,this.rootComponentType,null,{}),u=new Kr(o,t),f=new ou("",u),p=function pv(n,i,t=null,o=null){return Uh(Io(n),i,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,f.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(f._root),{state:f,tree:p}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,gt).pipe($r(o=>{throw o instanceof td?this.noMatchError(o):o}))}inheritParamsAndData(i){const t=i.value,o=Nc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(i,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,u,!0)}processChildren(i,t,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,Fn.H)(u).pipe(tr(f=>{const p=o.children[f],C=function De(n,i){const t=n.filter(o=>K(o)===i);return t.push(...n.filter(o=>K(o)!==i)),t}(t,f);return this.processSegmentGroup(i,C,p,f)}),ss((f,p)=>(f.push(...p),f)),Ic(null),function vo(n,i){const t=arguments.length>=2;return o=>o.pipe(n?ei((u,f)=>n(u,f,o)):Xr.D,os(1),t?Ic(i):Vl(()=>new ks))}(),(0,Cn.Z)(f=>{if(null===f)return ca(o);const p=aC(f);return function sC(n){n.sort((i,t)=>i.value.outlet===gt?-1:t.value.outlet===gt?1:i.value.outlet.localeCompare(t.value.outlet))}(p),(0,it.of)(p)}))}processSegment(i,t,o,u,f,p){return(0,Fn.H)(t).pipe(tr(C=>this.processSegmentAgainstRoute(C._injector??i,t,C,o,u,f,p).pipe($r(D=>{if(D instanceof td)return(0,it.of)(null);throw D}))),is(C=>!!C),$r(C=>{if(Ev(C))return function ep(n,i,t){return 0===i.length&&!n.children[t]}(o,u,f)?(0,it.of)([]):ca(o);throw C}))}processSegmentAgainstRoute(i,t,o,u,f,p,C){return function Rv(n,i,t,o){return!!(K(n)===o||o!==gt&&Mf(i,t,n))&&("**"===n.path||Fc(i,n,t).matched)}(o,u,f,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,u,o,f,p,C):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,u,t,o,f,p):ca(u):ca(u)}expandSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,u,p):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,u){const f=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?nd(f):this.applyRedirects.lineralizeSegments(o,f).pipe((0,Cn.Z)(p=>{const C=new N(p,{});return this.processSegment(i,t,C,p,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,u,f,p){const{matched:C,consumedSegments:D,remainingSegments:M,positionalParamSegments:U}=Fc(t,u,f);if(!C)return ca(t);const $=this.applyRedirects.applyRedirectCommands(D,u.redirectTo,U);return u.redirectTo.startsWith("/")?nd($):this.applyRedirects.lineralizeSegments(u,$).pipe((0,Cn.Z)(q=>this.processSegment(i,o,t,q.concat(M),p,!1)))}matchSegmentAgainstRoute(i,t,o,u,f,p){let C;if("**"===o.path){const D=u.length>0?us(u).parameters:{},M=new oa(u,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tp(o),K(o),o.component??o._loadedComponent??null,o,Mv(o));C=(0,it.of)({snapshot:M,consumedSegments:[],remainingSegments:[]}),t.children={}}else C=qg(t,o,u,i).pipe((0,ht.T)(({matched:D,consumedSegments:M,remainingSegments:U,parameters:$})=>D?{snapshot:new oa(M,$,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,tp(o),K(o),o.component??o._loadedComponent??null,o,Mv(o)),consumedSegments:M,remainingSegments:U}:null));return C.pipe((0,dn.n)(D=>null===D?ca(t):this.getChildConfig(i=o._injector??i,o,u).pipe((0,dn.n)(({routes:M})=>{const U=o._loadedInjector??i,{snapshot:$,consumedSegments:q,remainingSegments:we}=D,{segmentGroup:Le,slicedSegments:at}=Tv(t,q,we,M);if(0===at.length&&Le.hasChildren())return this.processChildren(U,M,Le).pipe((0,ht.T)(Yt=>null===Yt?null:[new Kr($,Yt)]));if(0===M.length&&0===at.length)return(0,it.of)([new Kr($,[])]);const xt=K(o)===f;return this.processSegment(U,M,Le,at,xt?gt:f,!0).pipe((0,ht.T)(Yt=>[new Kr($,Yt)]))}))))}getChildConfig(i,t,o){return t.children?(0,it.of)({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?(0,it.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Dv(n,i,t,o){const u=i.canLoad;if(void 0===u||0===u.length)return(0,it.of)(!0);const f=u.map(p=>{const C=ls(p,n);return Zt(function Hg(n){return n&&ua(n.canLoad)}(C)?C.canLoad(i,t):n.runInContext(()=>C(i,t)))});return(0,it.of)(f).pipe(lu(),zg())}(i,t,o).pipe((0,Cn.Z)(u=>u?this.configLoader.loadChildren(i,t).pipe((0,Tn.M)(f=>{t._loadedRoutes=f.routes,t._loadedInjector=f.injector})):function Gg(n){return ts(ed(!1,3))}())):(0,it.of)({routes:[],injector:i})}}function oC(n){const i=n.value.routeConfig;return i&&""===i.path}function aC(n){const i=[],t=new Set;for(const o of n){if(!oC(o)){i.push(o);continue}const u=i.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):i.push(o)}for(const o of t){const u=aC(o.children);i.push(new Kr(o.value,u))}return i.filter(o=>!t.has(o))}function tp(n){return n.data||{}}function Mv(n){return n.resolve||{}}function Zg(n){return"string"==typeof n.title||null===n.title}function Xg(n){return(0,dn.n)(i=>{const t=n(i);return t?(0,Fn.H)(t).pipe((0,ht.T)(()=>i)):(0,it.of)(i)})}const sd=new _.nKC("ROUTES");let Jg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,_.WQX)(_.Ql9)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,it.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Zt(t.loadComponent()).pipe((0,ht.T)(la),(0,Tn.M)(f=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=f}),Fs(()=>{this.componentLoaders.delete(t)})),u=new Ec(o,()=>new Hr.B).pipe(Ul());return this.componentLoaders.set(t,u),u}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return(0,it.of)({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const f=function uC(n,i,t,o){return Zt(n.loadChildren()).pipe((0,ht.T)(la),(0,Cn.Z)(u=>u instanceof _.Co$||Array.isArray(u)?(0,it.of)(u):(0,Fn.H)(i.compileModuleAsync(u))),(0,ht.T)(u=>{o&&o(n);let f,p,C=!1;return Array.isArray(u)?(p=u,!0):(f=u.create(t).injector,p=f.get(sd,[],{optional:!0,self:!0}).flat()),{routes:p.map(B),injector:f}}))}(o,this.compiler,t,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(o)})),p=new Ec(f,()=>new Hr.B).pipe(Ul());return this.childrenLoaders.set(o,p),p}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function la(n){return function cC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let du=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hr.B,this.transitionAbortSubject=new Hr.B,this.configLoader=(0,_.WQX)(Jg),this.environmentInjector=(0,_.WQX)(_.uvJ),this.urlSerializer=(0,_.WQX)(xe),this.rootContexts=(0,_.WQX)(su),this.inputBindingEnabled=null!==(0,_.WQX)(Pc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,it.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=u=>this.events.next(new zh(u)),this.configLoader.onLoadStartListener=u=>this.events.next(new gv(u))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t,o,u){return this.transitions=new wr.t({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:t.urlHandlingStrategy.extract(o),urlAfterRedirects:t.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sc,restoredState:null,currentSnapshot:u.snapshot,targetSnapshot:null,currentRouterState:u,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ei(f=>0!==f.id),(0,ht.T)(f=>({...f,extractedUrl:t.urlHandlingStrategy.extract(f.rawUrl)})),(0,dn.n)(f=>{this.currentTransition=f;let p=!1,C=!1;return(0,it.of)(f).pipe((0,Tn.M)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dn.n)(D=>{const M=D.currentBrowserUrl.toString(),U=!t.navigated||D.extractedUrl.toString()!==M||M!==D.currentUrlTree.toString();if(!U&&"reload"!==(D.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const q="";return this.events.next(new iu(D.id,this.urlSerializer.serialize(D.rawUrl),q,0)),D.resolve(null),ns.w}if(t.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return(0,it.of)(D).pipe((0,dn.n)(q=>{const we=this.transitions?.getValue();return this.events.next(new ra(q.id,this.urlSerializer.serialize(q.extractedUrl),q.source,q.restoredState)),we!==this.transitions?.getValue()?ns.w:Promise.resolve(q)}),function id(n,i,t,o,u,f){return(0,Cn.Z)(p=>function Yg(n,i,t,o,u,f,p="emptyOnly"){return new rd(n,i,t,o,u,p,f).recognize()}(n,i,t,o,p.extractedUrl,u,f).pipe((0,ht.T)(({state:C,tree:D})=>({...p,targetSnapshot:C,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Tn.M)(q=>{f.targetSnapshot=q.targetSnapshot,f.urlAfterRedirects=q.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects};const we=new jh(q.id,this.urlSerializer.serialize(q.extractedUrl),this.urlSerializer.serialize(q.urlAfterRedirects),q.targetSnapshot);this.events.next(we)}));if(U&&t.urlHandlingStrategy.shouldProcessUrl(D.currentRawUrl)){const{id:q,extractedUrl:we,source:Le,restoredState:at,extras:xt}=D,Yt=new ra(q,this.urlSerializer.serialize(we),Le,at);this.events.next(Yt);const sn=sa(0,this.rootComponentType).snapshot;return this.currentTransition=f={...D,targetSnapshot:sn,urlAfterRedirects:we,extras:{...xt,skipLocationChange:!1,replaceUrl:!1}},(0,it.of)(f)}{const q="";return this.events.next(new iu(D.id,this.urlSerializer.serialize(D.extractedUrl),q,1)),D.resolve(null),ns.w}}),(0,Tn.M)(D=>{const M=new Ql(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}),(0,ht.T)(D=>(this.currentTransition=f={...D,guards:Sf(D.targetSnapshot,D.currentSnapshot,this.rootContexts)},f)),function Iv(n,i){return(0,Cn.Z)(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:p}}=t;return 0===p.length&&0===f.length?(0,it.of)({...t,guardsResult:!0}):function Lc(n,i,t,o){return(0,Fn.H)(n).pipe((0,Cn.Z)(u=>function tC(n,i,t,o,u){const f=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,it.of)(!0);const p=f.map(C=>{const D=Oe(i)??u,M=ls(C,D);return Zt(function vv(n){return n&&ua(n.canDeactivate)}(M)?M.canDeactivate(n,i,t,o):D.runInContext(()=>M(n,i,t,o))).pipe(is())});return(0,it.of)(p).pipe(lu())}(u.component,u.route,t,i,o)),is(u=>!0!==u,!0))}(p,o,u,n).pipe((0,Cn.Z)(C=>C&&function qh(n){return"boolean"==typeof n}(C)?function Cv(n,i,t,o){return(0,Fn.H)(i).pipe(tr(u=>Jr(function eC(n,i){return null!==n&&i&&i(new mv(n)),(0,it.of)(!0)}(u.route.parent,o),function wv(n,i){return null!==n&&i&&i(new Fg(n)),(0,it.of)(!0)}(u.route,o),function Zh(n,i,t){const o=i[i.length-1],f=i.slice(0,i.length-1).reverse().map(p=>function To(n){const i=n.routeConfig?n.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:n,guards:i}:null}(p)).filter(p=>null!==p).map(p=>Ya(()=>{const C=p.guards.map(D=>{const M=Oe(p.node)??t,U=ls(D,M);return Zt(function $g(n){return n&&ua(n.canActivateChild)}(U)?U.canActivateChild(o,n):M.runInContext(()=>U(o,n))).pipe(is())});return(0,it.of)(C).pipe(lu())}));return(0,it.of)(f).pipe(lu())}(n,u.path,t),function aD(n,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,it.of)(!0);const u=o.map(f=>Ya(()=>{const p=Oe(i)??t,C=ls(f,p);return Zt(function Rf(n){return n&&ua(n.canActivate)}(C)?C.canActivate(i,n):p.runInContext(()=>C(i,n))).pipe(is())}));return(0,it.of)(u).pipe(lu())}(n,u.route,t))),is(u=>!0!==u,!0))}(o,f,n,i):(0,it.of)(C)),(0,ht.T)(C=>({...t,guardsResult:C})))})}(this.environmentInjector,D=>this.events.next(D)),(0,Tn.M)(D=>{if(f.guardsResult=D.guardsResult,ea(D.guardsResult))throw Oc(0,D.guardsResult);const M=new Hh(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.events.next(M)}),ei(D=>!!D.guardsResult||(this.cancelNavigationTransition(D,"",3),!1)),Xg(D=>{if(D.guards.canActivateChecks.length)return(0,it.of)(D).pipe((0,Tn.M)(M=>{const U=new $h(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(U)}),(0,dn.n)(M=>{let U=!1;return(0,it.of)(M).pipe(function np(n,i){return(0,Cn.Z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,it.of)(t);let f=0;return(0,Fn.H)(u).pipe(tr(p=>function Qg(n,i,t,o){const u=n.routeConfig,f=n._resolve;return void 0!==u?.title&&!Zg(u)&&(f[Xa]=u.title),function Nv(n,i,t,o){const u=function Pv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===u.length)return(0,it.of)({});const f={};return(0,Fn.H)(u).pipe((0,Cn.Z)(p=>function Ov(n,i,t,o){const u=Oe(i)??o,f=ls(n,u);return Zt(f.resolve?f.resolve(i,t):u.runInContext(()=>f(i,t)))}(n[p],i,t,o).pipe(is(),(0,Tn.M)(C=>{f[p]=C}))),os(1),function Za(n){return(0,ht.T)(()=>n)}(f),$r(p=>Ev(p)?ns.w:ts(p)))}(f,n,i,o).pipe((0,ht.T)(p=>(n._resolvedData=p,n.data=Nc(n,t).resolve,u&&Zg(u)&&(n.data[Xa]=u.title),null)))}(p.route,o,n,i)),(0,Tn.M)(()=>f++),os(1),(0,Cn.Z)(p=>f===u.length?(0,it.of)(t):ns.w))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Tn.M)({next:()=>U=!0,complete:()=>{U||this.cancelNavigationTransition(M,"",2)}}))}),(0,Tn.M)(M=>{const U=new Wh(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(U)}))}),Xg(D=>{const M=U=>{const $=[];U.routeConfig?.loadComponent&&!U.routeConfig._loadedComponent&&$.push(this.configLoader.loadComponent(U.routeConfig).pipe((0,Tn.M)(q=>{U.component=q}),(0,ht.T)(()=>{})));for(const q of U.children)$.push(...M(q));return $};return Os(M(D.targetSnapshot.root)).pipe(Ic(),rs(1))}),Xg(()=>this.afterPreactivation()),(0,ht.T)(D=>{const M=function Af(n,i,t){const o=bo(n,i._root,t?t._root:void 0);return new Or(o,i)}(t.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return this.currentTransition=f={...D,targetRouterState:M},f}),(0,Tn.M)(()=>{this.events.next(new Kh)}),((n,i,t,o)=>(0,ht.T)(u=>(new gn(i,u.targetRouterState,u.currentRouterState,t,o).activate(n),u)))(this.rootContexts,t.routeReuseStrategy,D=>this.events.next(D),this.inputBindingEnabled),rs(1),(0,Tn.M)({next:D=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects))),t.titleStrategy?.updateTitle(D.targetRouterState.snapshot),D.resolve(!0)},complete:()=>{p=!0}}),function Bl(n){return(0,er.N)((i,t)=>{(0,Ls.Tg)(n).subscribe((0,jt._)(t,()=>t.complete(),Xo.l)),!t.closed&&i.subscribe(t)})}(this.transitionAbortSubject.pipe((0,Tn.M)(D=>{throw D}))),Fs(()=>{p||C||this.cancelNavigationTransition(f,"",1),this.currentNavigation?.id===f.id&&(this.currentNavigation=null)}),$r(D=>{if(C=!0,Gn(D))this.events.next(new Yl(f.id,this.urlSerializer.serialize(f.extractedUrl),D.message,D.cancellationCode)),function Tf(n){return Gn(n)&&ea(n.url)}(D)?this.events.next(new Mc(D.url)):f.resolve(!1);else{this.events.next(new ia(f.id,this.urlSerializer.serialize(f.extractedUrl),D,f.targetSnapshot??void 0));try{f.resolve(t.errorHandler(D))}catch(M){f.reject(M)}}return ns.w}))}))}cancelNavigationTransition(t,o,u){const f=new Yl(t.id,this.urlSerializer.serialize(t.extractedUrl),o,u);this.events.next(f),t.resolve(!1)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xv(n){return n!==Sc}let lC=(()=>{class n{buildTitle(t){let o,u=t.root;for(;void 0!==u;)o=this.getResolvedTitleForRoute(u)??o,u=u.children.find(f=>f.outlet===gt);return o}getResolvedTitleForRoute(t){return t.data[Xa]}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(cD)},providedIn:"root"})}}return n})(),cD=(()=>{class n extends lC{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(zo))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lD=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(fD)},providedIn:"root"})}}return n})();class dD{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let fD=(()=>{class n extends dD{static{this.\u0275fac=function(){let t;return function(u){return(t||(t=_.xGo(n)))(u||n)}}()}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Nf=new _.nKC("",{providedIn:"root",factory:()=>({})});let dC=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:function(){return(0,_.WQX)(fC)},providedIn:"root"})}}return n})(),fC=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Pf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Pf||{});function kv(n,i){n.events.pipe(ei(t=>t instanceof cs||t instanceof Yl||t instanceof ia||t instanceof iu),(0,ht.T)(t=>t instanceof cs||t instanceof iu?Pf.COMPLETE:t instanceof Yl&&(0===t.code||1===t.code)?Pf.REDIRECTING:Pf.FAILED),ei(t=>t!==Pf.REDIRECTING),rs(1)).subscribe(()=>{i()})}function em(n){throw n}function da(n,i,t){return i.parse("/")}const Of={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,_.WQX)(_.H3F),this.isNgZoneEnabled=!1,this._events=new Hr.B,this.options=(0,_.WQX)(Nf,{optional:!0})||{},this.pendingTasks=(0,_.WQX)(_.$K3),this.errorHandler=this.options.errorHandler||em,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||da,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,_.WQX)(dC),this.routeReuseStrategy=(0,_.WQX)(lD),this.titleStrategy=(0,_.WQX)(lC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,_.WQX)(sd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,_.WQX)(du),this.urlSerializer=(0,_.WQX)(xe),this.location=(0,_.WQX)(Fe),this.componentInputBindingEnabled=!!(0,_.WQX)(Pc,{optional:!0}),this.eventsSubscription=new Fl.yU,this.isNgZoneEnabled=(0,_.WQX)(_.SKi)instanceof _.SKi&&_.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new T,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sa(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:u}=this.navigationTransitions;if(null===u)return void(hC(o)&&this._events.next(o));if(o instanceof ra)xv(u.source)&&(this.browserUrlTree=u.extractedUrl);else if(o instanceof iu)this.rawUrlTree=u.rawUrl;else if(o instanceof jh){if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(f,u)}this.browserUrlTree=u.urlAfterRedirects}}else if(o instanceof Kh)this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects);else if(o instanceof Yl)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(u);else if(o instanceof Mc){const f=this.urlHandlingStrategy.merge(o.url,u.currentRawUrl),p={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||xv(u.source)};this.scheduleNavigation(f,Sc,null,p,{resolve:u.resolve,reject:u.reject,promise:u.promise})}o instanceof ia&&this.restoreHistory(u,!0),o instanceof cs&&(this.navigated=!0),hC(o)&&this._events.next(o)}catch(u){this.navigationTransitions.transitionAbortSubject.next(u)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Sc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,u){const f={replaceUrl:!0},p=u?.navigationId?u:null;if(u){const D={...u};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(f.state=D)}const C=this.parseUrl(t);this.scheduleNavigation(C,o,p,f)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(B),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){const{relativeTo:u,queryParams:f,fragment:p,queryParamsHandling:C,preserveFragment:D}=o,M=D?this.currentUrlTree.fragment:p;let $,U=null;switch(C){case"merge":U={...this.currentUrlTree.queryParams,...f};break;case"preserve":U=this.currentUrlTree.queryParams;break;default:U=f||null}null!==U&&(U=this.removeEmptyProps(U));try{$=Io(u?u.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),$=this.currentUrlTree.root}return Uh($,t,U,M??null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=ea(t)?t:this.parseUrl(t),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,Sc,null,o)}navigate(t,o={skipLocationChange:!1}){return function Fv(n){for(let i=0;i<n.length;i++)if(null==n[i])throw new _.wOt(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?{...Of}:!1===o?{...Lv}:o,ea(t))return wc(this.currentUrlTree,t,u);const f=this.parseUrl(t);return wc(this.currentUrlTree,f,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const f=t[u];return null!=f&&(o[u]=f),o},{})}scheduleNavigation(t,o,u,f,p){if(this.disposed)return Promise.resolve(!1);let C,D,M;p?(C=p.resolve,D=p.reject,M=p.promise):M=new Promise(($,q)=>{C=$,D=q});const U=this.pendingTasks.add();return kv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(U))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:f,resolve:C,reject:D,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch($=>Promise.reject($))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl){const p={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(u,"",p)}else{const f={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(u,"",f)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-this.browserPageId;0!==f?this.location.historyGo(f):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hC(n){return!(n instanceof Kh||n instanceof Mc)}class rp{}let Vv=(()=>{class n{constructor(t,o,u,f,p){this.router=t,this.injector=u,this.preloadingStrategy=f,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(ei(t=>t instanceof cs),tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const f of o){f.providers&&!f._injector&&(f._injector=(0,_.Ol2)(f.providers,t,`Route: ${f.path}`));const p=f._injector??t,C=f._loadedInjector??p;(f.loadChildren&&!f._loadedRoutes&&void 0===f.canLoad||f.loadComponent&&!f._loadedComponent)&&u.push(this.preloadConfig(p,f)),(f.children||f._loadedRoutes)&&u.push(this.processRoutes(C,f.children??f._loadedRoutes))}return(0,Fn.H)(u).pipe((0,es.U)())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let u;u=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):(0,it.of)(null);const f=u.pipe((0,Cn.Z)(p=>null===p?(0,it.of)(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));if(o.loadComponent&&!o._loadedComponent){const p=this.loader.loadComponent(o);return(0,Fn.H)([f,p]).pipe((0,es.U)())}return f})}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(Vi),_.KVO(_.Ql9),_.KVO(_.uvJ),_.KVO(rp),_.KVO(Jg))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nm=new _.nKC("");let Bv=(()=>{class n{constructor(t,o,u,f,p={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=u,this.zone=f,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ra?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof cs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof iu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ug&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ug(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(o){_.QTQ()}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac})}}return n})();function So(n,i){return{\u0275kind:n,\u0275providers:i}}function Uc(){const n=(0,_.WQX)(_.zZn);return i=>{const t=n.get(_.o8S);if(i!==t.components[0])return;const o=n.get(Vi),u=n.get($v);1===n.get(rm)&&o.initialNavigation(),n.get(Kv,null,_.$GK.Optional)?.setUpPreloading(),n.get(nm,null,_.$GK.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),u.closed||(u.next(),u.complete(),u.unsubscribe())}}const $v=new _.nKC("",{factory:()=>new Hr.B}),rm=new _.nKC("",{providedIn:"root",factory:()=>1}),Kv=new _.nKC("");function pC(n){return So(0,[{provide:Kv,useExisting:Vv},{provide:rp,useExisting:n}])}const od=new _.nKC("ROUTER_FORROOT_GUARD"),Gv=[Fe,{provide:xe,useClass:Ye},Vi,su,{provide:Ui,useFactory:function jv(n){return n.routerState.root},deps:[Vi]},Jg,[]];function qv(){return new _.NEm("Router",Vi)}let im=(()=>{class n{constructor(t){}static forRoot(t,o){return{ngModule:n,providers:[Gv,[],{provide:sd,multi:!0,useValue:t},{provide:od,useFactory:Zv,deps:[[Vi,new _.Xx1,new _.kdw]]},{provide:Nf,useValue:o||{}},o?.useHash?{provide:Ne,useClass:Ae}:{provide:Ne,useClass:Be},{provide:nm,useFactory:()=>{const n=(0,_.WQX)(vr),i=(0,_.WQX)(_.SKi),t=(0,_.WQX)(Nf),o=(0,_.WQX)(du),u=(0,_.WQX)(xe);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Bv(u,o,n,i,t)}},o?.preloadingStrategy?pC(o.preloadingStrategy).\u0275providers:[],{provide:_.NEm,multi:!0,useFactory:qv},o?.initialNavigation?op(o):[],o?.bindToComponentInputs?So(8,[xr,{provide:Pc,useExisting:xr}]).\u0275providers:[],[{provide:_C,useFactory:Uc},{provide:_.iLQ,multi:!0,useExisting:_C}]]}}static forChild(t){return{ngModule:n,providers:[{provide:sd,multi:!0,useValue:t}]}}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(od,8))}}static{this.\u0275mod=_.$C({type:n})}static{this.\u0275inj=_.G2t({})}}return n})();function Zv(n){return"guarded"}function op(n){return["disabled"===n.initialNavigation?So(3,[{provide:_.hnV,multi:!0,useFactory:()=>{const i=(0,_.WQX)(Vi);return()=>{i.setUpLocationChangeListener()}}},{provide:rm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?So(2,[{provide:rm,useValue:0},{provide:_.hnV,multi:!0,deps:[_.zZn],useFactory:i=>{const t=i.get(Te,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const u=i.get(Vi),f=i.get($v);kv(u,()=>{o(!0)}),i.get(du).afterPreactivation=()=>(o(!0),f.closed?(0,it.of)(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const _C=new _.nKC("");var Bi=P(4783),ap=P(3236),om=P(7786),up=P(7647),cp=P(3294),gi=P(1161),EC=(P(6922),P(3345)),fu=P(1362),ji=P(467),Vc=P(7852),k=P(1076),lp=P(8041);const dp="@firebase/database";let um="";function cm(n){um=n}class lm{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,t){null==t?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,k.As)(t))}get(i){const t=this.domStorage_.getItem(this.prefixedName_(i));return null==t?null:(0,k.$L)(t)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class wD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,t){null==t?delete this.cache_[i]:this.cache_[i]=t}get(i){return(0,k.gR)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const IC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const i=window[n];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new lm(i)}}catch{}return new wD},Bc=IC("localStorage"),dm=IC("sessionStorage"),xf=new lp.Vy("@firebase/database"),CC=function(){let n=1;return function(){return n++}}(),kf=function(n){const i=(0,k.kj)(n),t=new k.gz;t.update(i);const o=t.digest();return k.K3.encodeByteArray(o)},Lf=function(...n){let i="";for(let t=0;t<n.length;t++){const o=n[t];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?i+=Lf.apply(null,o):i+="object"==typeof o?(0,k.As)(o):o,i+=" "}return i};let fa=null,fp=!0;const jc=function(n,i){(0,k.vA)(!i||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xf.logLevel=lp.$b.VERBOSE,fa=xf.log.bind(xf),i&&dm.set("logging_enabled",!0)):"function"==typeof n?fa=n:(fa=null,dm.remove("logging_enabled"))},nr=function(...n){if(!0===fp&&(fp=!1,null===fa&&!0===dm.get("logging_enabled")&&jc(!0)),fa){const i=Lf.apply(null,n);fa(i)}},Hc=function(n){return function(...i){nr(n,...i)}},$c=function(...n){const i="FIREBASE INTERNAL ERROR: "+Lf(...n);xf.error(i)},Hi=function(...n){const i=`FIREBASE FATAL ERROR: ${Lf(...n)}`;throw xf.error(i),new Error(i)},qn=function(...n){const i="FIREBASE WARNING: "+Lf(...n);xf.warn(i)},cd=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Wc="[MIN_NAME]",Ws="[MAX_NAME]",zs=function(n,i){if(n===i)return 0;if(n===Wc||i===Ws)return-1;if(i===Wc||n===Ws)return 1;{const t=ey(n),o=ey(i);return null!==t?null!==o?t-o==0?n.length-i.length:t-o:-1:null!==o?1:n<i?-1:1}},wC=function(n,i){return n===i?0:n<i?-1:1},ld=function(n,i){if(i&&n in i)return i[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.As)(i))},hm=function(n){if("object"!=typeof n||null===n)return(0,k.As)(n);const i=[];for(const o in n)i.push(o);i.sort();let t="{";for(let o=0;o<i.length;o++)0!==o&&(t+=","),t+=(0,k.As)(i[o]),t+=":",t+=hm(n[i[o]]);return t+="}",t},Jv=function(n,i){const t=n.length;if(t<=i)return[n];const o=[];for(let u=0;u<t;u+=i)o.push(n.substring(u,u+i>t?t:u+i));return o};function rr(n,i){for(const t in n)n.hasOwnProperty(t)&&i(t,n[t])}const pm=function(n){(0,k.vA)(!cd(n),"Invalid JSON number");const o=1023;let u,f,p,C,D;0===n?(f=0,p=0,u=1/n==-1/0?1:0):(u=n<0,(n=Math.abs(n))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(n)/Math.LN2),o),f=C+o,p=Math.round(n*Math.pow(2,52-C)-Math.pow(2,52))):(f=0,p=Math.round(n/Math.pow(2,-1074))));const M=[];for(D=52;D;D-=1)M.push(p%2?1:0),p=Math.floor(p/2);for(D=11;D;D-=1)M.push(f%2?1:0),f=Math.floor(f/2);M.push(u?1:0),M.reverse();const U=M.join("");let $="";for(D=0;D<64;D+=8){let q=parseInt(U.substr(D,8),2).toString(16);1===q.length&&(q="0"+q),$+=q}return $.toLowerCase()},AC=new RegExp("^-?(0*)\\d{1,10}$"),ey=function(n){if(AC.test(n)){const i=Number(n);if(i>=-2147483648&&i<=2147483647)return i}return null},zc=function(n){try{n()}catch(i){setTimeout(()=>{throw qn("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},hu=function(n,i){const t=setTimeout(n,i);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class TC{constructor(i,t){this.appName_=i,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(o=>this.appCheck=o)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((t,o)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(t,o):t(null)},0)})}addTokenChangeListener(i){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(o=>o.addTokenListener(i))}notifyForInvalidToken(){qn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ty{constructor(i,t,o){this.appName_=i,this.firebaseOptions_=t,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(t=>t&&"auth/token-not-initialized"===t.code?(nr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,o)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(t,o):t(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(t=>t.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(t=>t.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qn(i)}}let Ff=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Kc=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sy="websocket",oy="long_polling";class _m{constructor(i,t,o,u,f=!1,p="",C=!1,D=!1){this.secure=t,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=p,this.includeNamespaceInQueryParams=C,this.isUsingEmulator=D,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bc.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Bc.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vm(n,i,t){let o;if((0,k.vA)("string"==typeof i,"typeof type must == string"),(0,k.vA)("object"==typeof t,"typeof params must == object"),i===sy)o=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(i!==oy)throw new Error("Unknown connection type: "+i);o=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function ay(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const u=[];return rr(t,(f,p)=>{u.push(f+"="+p)}),o+u.join("&")}class ym{constructor(){this.counters_={}}incrementCounter(i,t=1){(0,k.gR)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=t}get(){return(0,k.A4)(this.counters_)}}const uy={},Bf={};function mp(n){const i=n.toString();return uy[i]||(uy[i]=new ym),uy[i]}class MC{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,t){this.closeAfterResponse=i,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,t){for(this.pendingResponses[i]=t;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&zc(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mo{constructor(i,t,o,u,f,p,C){this.connId=i,this.repoInfo=t,this.applicationId=o,this.appCheckToken=u,this.authToken=f,this.transportSessionId=p,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hc(i),this.stats_=mp(t),this.urlFn=D=>(this.appCheckToken&&(D.ac=this.appCheckToken),vm(t,oy,D))}open(i,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new MC(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.$g)()||"complete"===document.readyState)n();else{let i=!1;const t=function(){document.body?i||(i=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ds((...f)=>{const[p,C,D,M,U]=f;if(this.incrementIncomingBytes_(f),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=C,this.password=D;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...f)=>{const[p,C]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(p,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Kc.test(location.hostname)&&(o.r="f");const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mo.forceAllow_=!0}static forceDisallow(){Mo.forceDisallow_=!0}static isAvailable(){return!((0,k.$g)()||!Mo.forceAllow_&&(Mo.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const t=(0,k.As)(i);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const o=(0,k.KA)(t),u=Jv(o,1840);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(i,t){if((0,k.$g)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=i,o.pw=t,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const t=(0,k.As)(i).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ds{constructor(i,t,o,u){if(this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.$g)())this.commandCB=i,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=CC(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ds.createIFrame_();let f="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(f='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(C){nr("frame writing exception"),C.stack&&nr(C.stack),nr(C)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||nr("No IE domain setting required")}catch{const o=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,t){for(this.myID=i,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let t=this.urlFn(i),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const p=this.pendingSegs.shift();o=o+"&seg"+u+"="+p.seg+"&ts"+u+"="+p.ts+"&d"+u+"="+p.d,u++}return t+=o,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(i,t,o){this.pendingSegs.push({seg:i,ts:t,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(i,t){this.outstandingRequests.add(t);const o=()=>{this.outstandingRequests.delete(t),this.newRequest_()},u=setTimeout(o,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(u),o()})}addTag(i,t){(0,k.$g)()?this.doNodeLongPoll(i,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=i,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||"loaded"===u||"complete"===u)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),t())},o.onerror=()=>{nr("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}let wm=null;typeof MozWebSocket<"u"?wm=MozWebSocket:typeof WebSocket<"u"&&(wm=WebSocket);let Sn=(()=>{class n{constructor(t,o,u,f,p,C,D){this.connId=t,this.applicationId=u,this.appCheckToken=f,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hc(this.connId),this.stats_=mp(o),this.connURL=n.connectionURL_(o,C,D,f,u),this.nodeAdmin=o.nodeAdmin}static connectionURL_(t,o,u,f,p){const C={v:"5"};return!(0,k.$g)()&&typeof location<"u"&&location.hostname&&Kc.test(location.hostname)&&(C.r="f"),o&&(C.s=o),u&&(C.ls=u),f&&(C.ac=f),p&&(C.p=p),vm(t,sy,C)}open(t,o){this.onDisconnect=o,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bc.set("previous_websocket_failure",!0);try{let u;if((0,k.$g)()){u={headers:{"User-Agent":`Firebase/5/${um}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,C=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;C&&(u.proxy={origin:C})}this.mySock=new wm(this.connURL,[],u)}catch(u){this.log_("Error instantiating WebSocket.");const f=u.message||u.data;return f&&this.log_(f),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=u=>{this.handleIncomingFrame(u)},this.mySock.onerror=u=>{this.log_("WebSocket error.  Closing connection.");const f=u.message||u.data;f&&this.log_(f),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const u=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);u&&u.length>1&&parseFloat(u[1])<4.4&&(t=!0)}return!t&&null!==wm&&!n.forceDisallow_}static previouslyFailed(){return Bc.isInMemoryStorage||!0===Bc.get("previous_websocket_failure")}markConnectionHealthy(){Bc.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const u=(0,k.$L)(o);this.onMessage(u)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,k.vA)(null===this.frames,"We already have a frame buffer"),t.length<=6){const o=Number(t);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const o=t.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const u=this.extractFrameCount_(o);null!==u&&this.appendFrame_(u)}}send(t){this.resetKeepAlive();const o=(0,k.As)(t);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const u=Jv(o,16384);u.length>1&&this.sendString_(String(u.length));for(let f=0;f<u.length;f++)this.sendString_(u[f])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),py=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Mo,Sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const o=Sn&&Sn.isAvailable();let u=o&&!Sn.previouslyFailed();if(t.webSocketOnly&&(o||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),u=!0),u)this.transports_=[Sn];else{const f=this.transports_=[];for(const p of n.ALL_TRANSPORTS)p&&p.isAvailable()&&f.push(p);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class No{constructor(i,t,o,u,f,p,C,D,M,U){this.id=i,this.repoInfo_=t,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=p,this.onReady_=C,this.onDisconnect_=D,this.onKill_=M,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hc("c:"+this.id+":"),this.transportManager_=new py(t),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,o)},Math.floor(0));const u=i.healthyTimeout||0;u>0&&(this.healthyTimeout_=hu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return t=>{i===this.conn_?this.onConnectionLost_(t):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return t=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(t):i===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const t=i.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const t=ld("t",i),o=ld("d",i);if("c"===t)this.onSecondaryControl_(o);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const t=ld("t",i),o=ld("d",i);"c"===t?this.onControl_(o):"d"===t&&this.onDataMessage_(o)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const t=ld("t",i);if("d"in i){const o=i.d;if("h"===t){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(o):"r"===t?this.onReset_(o):"e"===t?$c("Server Error: "+o):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$c("Unknown control packet command: "+t)}}onHandshake_(i){const t=i.ts,o=i.v,u=i.h;this.sessionId=i.s,this.repoInfo_.host=u,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==o&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,o),hu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,t){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Gc{put(i,t,o,u){}merge(i,t,o,u){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,t,o){}onDisconnectMerge(i,t,o){}onDisconnectCancel(i,t){}reportStats(i){}}class yy{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,k.vA)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...t){if(Array.isArray(this.listeners_[i])){const o=[...this.listeners_[i]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,t)}}on(i,t,o){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:t,context:o});const u=this.getInitialEvent(i);u&&t.apply(o,u)}off(i,t,o){this.validateEventType_(i);const u=this.listeners_[i]||[];for(let f=0;f<u.length;f++)if(u[f].callback===t&&(!o||o===u[f].context))return void u.splice(f,1)}validateEventType_(i){(0,k.vA)(this.allowedEvents_.find(t=>t===i),"Unknown event: "+i)}}class vp extends yy{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,k.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new vp}getInitialEvent(i){return(0,k.vA)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class Wt{constructor(i,t){if(void 0===t){this.pieces_=i.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=t}toString(){let i="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(i+="/"+this.pieces_[t]);return i||"/"}}function Ft(){return new Wt("")}function At(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function pa(n){return n.pieces_.length-n.pieceNum_}function tn(n){let i=n.pieceNum_;return i<n.pieces_.length&&i++,new Wt(n.pieces_,i)}function Nm(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Hf(n,i=0){return n.pieces_.slice(n.pieceNum_+i)}function Ey(n){if(n.pieceNum_>=n.pieces_.length)return null;const i=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)i.push(n.pieces_[t]);return new Wt(i,0)}function mn(n,i){const t=[];for(let o=n.pieceNum_;o<n.pieces_.length;o++)t.push(n.pieces_[o]);if(i instanceof Wt)for(let o=i.pieceNum_;o<i.pieces_.length;o++)t.push(i.pieces_[o]);else{const o=i.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&t.push(o[u])}return new Wt(t,0)}function Pt(n){return n.pieceNum_>=n.pieces_.length}function ii(n,i){const t=At(n),o=At(i);if(null===t)return i;if(t===o)return ii(tn(n),tn(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+n+")")}function AD(n,i){const t=Hf(n,0),o=Hf(i,0);for(let u=0;u<t.length&&u<o.length;u++){const f=zs(t[u],o[u]);if(0!==f)return f}return t.length===o.length?0:t.length<o.length?-1:1}function Iy(n,i){if(pa(n)!==pa(i))return!1;for(let t=n.pieceNum_,o=i.pieceNum_;t<=n.pieces_.length;t++,o++)if(n.pieces_[t]!==i.pieces_[o])return!1;return!0}function $i(n,i){let t=n.pieceNum_,o=i.pieceNum_;if(pa(n)>pa(i))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==i.pieces_[o])return!1;++t,++o}return!0}class Cy{constructor(i,t){this.errorPrefix_=t,this.parts_=Hf(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,k.OE)(this.parts_[o]);Pm(this)}}function Pm(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pu(n))}function pu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Om extends yy{constructor(){let i,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const o=!document[i];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new Om}getInitialEvent(i){return(0,k.vA)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const hd=1e3;let gd,qc=(()=>{class n extends Gc{constructor(t,o,u,f,p,C,D,M){if(super(),this.repoInfo_=t,this.applicationId_=o,this.onDataUpdate_=u,this.onConnectStatus_=f,this.onServerInfoUpdate_=p,this.authTokenProvider_=C,this.appCheckTokenProvider_=D,this.authOverride_=M,this.id=n.nextPersistentConnectionId_++,this.log_=Hc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,M&&!(0,k.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Om.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&vp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,o,u){const f=++this.requestNumber_,p={r:f,a:t,b:o};this.log_((0,k.As)(p)),(0,k.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),u&&(this.requestCBHash_[f]=u)}get(t){this.initConnection_();const o=new k.cY,f={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:C=>{const D=C.d;"ok"===C.s?o.resolve(D):o.reject(D)}};return this.outstandingGets_.push(f),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),o.promise}listen(t,o,u,f){this.initConnection_();const p=t._queryIdentifier,C=t._path.toString();this.log_("Listen called for "+C+" "+p),this.listens.has(C)||this.listens.set(C,new Map),(0,k.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.vA)(!this.listens.get(C).has(p),"listen() called twice for same path/queryId.");const D={onComplete:f,hashFn:o,query:t,tag:u};this.listens.get(C).set(p,D),this.connected_&&this.sendListen_(D)}sendGet_(t){const o=this.outstandingGets_[t];this.sendRequest("g",o.request,u=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(u)})}sendListen_(t){const o=t.query,u=o._path.toString(),f=o._queryIdentifier;this.log_("Listen on "+u+" for "+f);const p={p:u};t.tag&&(p.q=o._queryObject,p.t=t.tag),p.h=t.hashFn(),this.sendRequest("q",p,D=>{const M=D.d,U=D.s;n.warnOnListenWarnings_(M,o),(this.listens.get(u)&&this.listens.get(u).get(f))===t&&(this.log_("listen response",D),"ok"!==U&&this.removeListen_(u,f),t.onComplete&&t.onComplete(U,M))})}static warnOnListenWarnings_(t,o){if(t&&"object"==typeof t&&(0,k.gR)(t,"w")){const u=(0,k.yw)(t,"w");if(Array.isArray(u)&&~u.indexOf("no_index")){const f='".indexOn": "'+o._queryParams.getIndex().toString()+'"',p=o._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${f} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,k.qc)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,o=(0,k.Cv)(t)?"auth":"gauth",u={cred:t};null===this.authOverride_?u.noauth=!0:"object"==typeof this.authOverride_&&(u.authvar=this.authOverride_),this.sendRequest(o,u,f=>{const p=f.s,C=f.d||"error";this.authToken_===t&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const o=t.s,u=t.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,u)})}unlisten(t,o){const u=t._path.toString(),f=t._queryIdentifier;this.log_("Unlisten called for "+u+" "+f),(0,k.vA)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(u,f)&&this.connected_&&this.sendUnlisten_(u,f,t._queryObject,o)}sendUnlisten_(t,o,u,f){this.log_("Unlisten on "+t+" for "+o);const p={p:t};f&&(p.q=u,p.t=f),this.sendRequest("n",p)}onDisconnectPut(t,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,o,u):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:o,onComplete:u})}onDisconnectMerge(t,o,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,o,u):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:o,onComplete:u})}onDisconnectCancel(t,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(t,o,u,f){const p={p:o,d:u};this.log_("onDisconnect "+t,p),this.sendRequest(t,p,C=>{f&&setTimeout(()=>{f(C.s,C.d)},Math.floor(0))})}put(t,o,u,f){this.putInternal("p",t,o,u,f)}merge(t,o,u,f){this.putInternal("m",t,o,u,f)}putInternal(t,o,u,f,p){this.initConnection_();const C={p:o,d:u};void 0!==p&&(C.h=p),this.outstandingPuts_.push({action:t,request:C,onComplete:f}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(t){const o=this.outstandingPuts_[t].action,u=this.outstandingPuts_[t].request,f=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(o,u,p=>{this.log_(o+" response",p),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),f&&f(p.s,p.d)})}reportStats(t){if(this.connected_){const o={c:t};this.log_("reportStats",o),this.sendRequest("s",o,u=>{"ok"!==u.s&&this.log_("reportStats","Error sending stats: "+u.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,k.As)(t));const o=t.r,u=this.requestCBHash_[o];u&&(delete this.requestCBHash_[o],u(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,o){this.log_("handleServerMessage",t,o),"d"===t?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===t?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===t?this.onListenRevoked_(o.p,o.q):"ac"===t?this.onAuthRevoked_(o.s,o.d):"apc"===t?this.onAppCheckRevoked_(o.s,o.d):"sd"===t?this.onSecurityDebugPacket_(o):$c("Unrecognized action received from server: "+(0,k.As)(t)+"\nAre you using the latest client?")}onReady_(t,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,k.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-t);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ji.A)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const o=t.onDataMessage_.bind(t),u=t.onReady_.bind(t),f=t.onRealtimeDisconnect_.bind(t),p=t.id+":"+n.nextConnectionId_++,C=t.lastSessionId;let D=!1,M=null;const U=function(){M?M.close():(D=!0,f())};t.realtime_={close:U,sendRequest:function(we){(0,k.vA)(M,"sendRequest call when we're not connected not allowed."),M.sendRequest(we)}};const q=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[we,Le]=yield Promise.all([t.authTokenProvider_.getToken(q),t.appCheckTokenProvider_.getToken(q)]);D?nr("getToken() completed but was canceled"):(nr("getToken() completed. Creating connection."),t.authToken_=we&&we.accessToken,t.appCheckToken_=Le&&Le.token,M=new No(p,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,o,u,f,at=>{qn(at+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},C))}catch(we){t.log_("Failed to get token: "+we),D||(t.repoInfo_.nodeAdmin&&qn(we),U())}}})()}interrupt(t){nr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){nr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,k.Im)(this.interruptReasons_)&&(this.reconnectDelay_=hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const o=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const o=this.outstandingPuts_[t];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,o){let u;u=o?o.map(p=>hm(p)).join("$"):"default";const f=this.removeListen_(t,u);f&&f.onComplete&&f.onComplete("permission_denied")}removeListen_(t,o){const u=new Wt(t).toString();let f;if(this.listens.has(u)){const p=this.listens.get(u);f=p.get(o),p.delete(o),0===p.size&&this.listens.delete(u)}else f=void 0;return f}onAuthRevoked_(t,o){nr("Auth token revoked: "+t+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,o){nr("App check token revoked: "+t+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const o of t.values())this.sendListen_(o);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let o="js";(0,k.$g)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+o+"."+um.replace(/\./g,"-")]=1,(0,k.jZ)()?t["framework.cordova"]=1:(0,k.lV)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=vp.getInstance().currentlyOnline();return(0,k.Im)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Rt{constructor(i,t){this.name=i,this.node=t}static Wrap(i,t){return new Rt(i,t)}}class ga{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,t){const o=new Rt(Wc,i),u=new Rt(Wc,t);return 0!==this.compare(o,u)}minPost(){return Rt.MIN}}class md extends ga{static get __EMPTY_NODE(){return gd}static set __EMPTY_NODE(i){gd=i}compare(i,t){return zs(i.name,t.name)}isDefinedOn(i){throw(0,k.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,t){return!1}minPost(){return Rt.MIN}maxPost(){return new Rt(Ws,gd)}makePost(i,t){return(0,k.vA)("string"==typeof i,"KeyIndex indexValue must always be a string."),new Rt(i,gd)}toString(){return".key"}}const Gs=new md;class _d{constructor(i,t,o,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let p=1;for(;!i.isEmpty();)if(p=t?o(i.key,t):1,u&&(p*=-1),p<0)i=this.isReverse_?i.left:i.right;else{if(0===p){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,i=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Um,Wi=(()=>{class n{constructor(t,o,u,f,p){this.key=t,this.value=o,this.color=u??n.RED,this.left=f??si.EMPTY_NODE,this.right=p??si.EMPTY_NODE}copy(t,o,u,f,p){return new n(t??this.key,o??this.value,u??this.color,f??this.left,p??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,o,u){let f=this;const p=u(t,f.key);return f=p<0?f.copy(null,null,null,f.left.insert(t,o,u),null):0===p?f.copy(null,o,null,null,null):f.copy(null,null,null,null,f.right.insert(t,o,u)),f.fixUp_()}removeMin_(){if(this.left.isEmpty())return si.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,o){let u,f;if(u=this,o(t,u.key)<0)!u.left.isEmpty()&&!u.left.isRed_()&&!u.left.left.isRed_()&&(u=u.moveRedLeft_()),u=u.copy(null,null,null,u.left.remove(t,o),null);else{if(u.left.isRed_()&&(u=u.rotateRight_()),!u.right.isEmpty()&&!u.right.isRed_()&&!u.right.left.isRed_()&&(u=u.moveRedRight_()),0===o(t,u.key)){if(u.right.isEmpty())return si.EMPTY_NODE;f=u.right.min_(),u=u.copy(f.key,f.value,null,null,u.right.removeMin_())}u=u.copy(null,null,null,null,u.right.remove(t,o))}return u.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,o)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class si{constructor(i,t=si.EMPTY_NODE){this.comparator_=i,this.root_=t}insert(i,t){return new si(this.comparator_,this.root_.insert(i,t,this.comparator_).copy(null,null,Wi.BLACK,null,null))}remove(i){return new si(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Wi.BLACK,null,null))}get(i){let t,o=this.root_;for(;!o.isEmpty();){if(t=this.comparator_(i,o.key),0===t)return o.value;t<0?o=o.left:t>0&&(o=o.right)}return null}getPredecessorKey(i){let t,o=this.root_,u=null;for(;!o.isEmpty();){if(t=this.comparator_(i,o.key),0===t){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}t<0?o=o.left:t>0&&(u=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new _d(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,t){return new _d(this.root_,i,this.comparator_,!1,t)}getReverseIteratorFrom(i,t){return new _d(this.root_,i,this.comparator_,!0,t)}getReverseIterator(i){return new _d(this.root_,null,this.comparator_,!0,i)}}function Lm(n,i){return zs(n.name,i.name)}function Fm(n,i){return zs(n,i)}si.EMPTY_NODE=new class km{copy(i,t,o,u,f){return this}insert(i,t,o){return new Wi(i,t,null)}remove(i,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Vm=function(n){return"number"==typeof n?"number:"+pm(n):"string:"+n},Ay=function(n){if(n.isLeafNode()){const i=n.val();(0,k.vA)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,k.gR)(i,".sv"),"Priority must be a string or number.")}else(0,k.vA)(n===Um||n.isEmpty(),"priority of unexpected type.");(0,k.vA)(n===Um||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ty,Sy,Bm,vd=(()=>{class n{constructor(t,o=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=o,this.lazyHash_=null,(0,k.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ay(this.priorityNode_)}static set __childrenNodeConstructor(t){Ty=t}static get __childrenNodeConstructor(){return Ty}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Pt(t)?this:".priority"===At(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,o){return null}updateImmediateChild(t,o){return".priority"===t?this.updatePriority(o):o.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,o).updatePriority(this.priorityNode_)}updateChild(t,o){const u=At(t);return null===u?o:o.isEmpty()&&".priority"!==u?this:((0,k.vA)(".priority"!==u||1===pa(t),".priority must be the last token in a path"),this.updateImmediateChild(u,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(tn(t),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,o){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Vm(this.priorityNode_.val())+":");const o=typeof this.value_;t+=o+":",t+="number"===o?pm(this.value_):this.value_,this.lazyHash_=kf(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,k.vA)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const o=typeof t.value_,u=typeof this.value_,f=n.VALUE_TYPE_ORDER.indexOf(o),p=n.VALUE_TYPE_ORDER.indexOf(u);return(0,k.vA)(f>=0,"Unknown leaf type: "+o),(0,k.vA)(p>=0,"Unknown leaf type: "+u),f===p?"object"===u?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:p-f}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Ot=new class WC extends ga{compare(i,t){const o=i.node.getPriority(),u=t.node.getPriority(),f=o.compareTo(u);return 0===f?zs(i.name,t.name):f}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,t){return!i.getPriority().equals(t.getPriority())}minPost(){return Rt.MIN}maxPost(){return new Rt(Ws,new vd("[PRIORITY-POST]",Bm))}makePost(i,t){const o=Sy(i);return new Rt(t,new vd("[PRIORITY-POST]",o))}toString(){return".priority"}},zC=Math.log(2);class KC{constructor(i){this.count=parseInt(Math.log(i+1)/zC,10),this.current_=this.count-1;const u=(f=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&u}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const jm=function(n,i,t,o){n.sort(i);const u=function(D,M){const U=M-D;let $,q;if(0===U)return null;if(1===U)return $=n[D],q=t?t($):$,new Wi(q,$.node,Wi.BLACK,null,null);{const we=parseInt(U/2,10)+D,Le=u(D,we),at=u(we+1,M);return $=n[we],q=t?t($):$,new Wi(q,$.node,Wi.BLACK,Le,at)}},C=function(D){let M=null,U=null,$=n.length;const q=function(Le,at){const xt=$-Le,Yt=$;$-=Le;const sn=u(xt+1,Yt),dr=n[xt],Jt=t?t(dr):dr;we(new Wi(Jt,dr.node,at,null,sn))},we=function(Le){M?(M.left=Le,M=Le):(U=Le,M=Le)};for(let Le=0;Le<D.count;++Le){const at=D.nextBitIsOne(),xt=Math.pow(2,D.count-(Le+1));at?q(xt,Wi.BLACK):(q(xt,Wi.BLACK),q(xt,Wi.RED))}return U}(new KC(n.length));return new si(o||i,C)};let $f;const Yc={};class ma{constructor(i,t){this.indexes_=i,this.indexSet_=t}static get Default(){return(0,k.vA)(Yc&&Ot,"ChildrenNode.ts has not been loaded"),$f=$f||new ma({".priority":Yc},{".priority":Ot}),$f}get(i){const t=(0,k.yw)(this.indexes_,i);if(!t)throw new Error("No index defined for "+i);return t instanceof si?t:null}hasIndex(i){return(0,k.gR)(this.indexSet_,i.toString())}addIndex(i,t){(0,k.vA)(i!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const f=t.getIterator(Rt.Wrap);let C,p=f.getNext();for(;p;)u=u||i.isDefinedOn(p.node),o.push(p),p=f.getNext();C=u?jm(o,i.getCompare()):Yc;const D=i.toString(),M=Object.assign({},this.indexSet_);M[D]=i;const U=Object.assign({},this.indexes_);return U[D]=C,new ma(U,M)}addToIndexes(i,t){const o=(0,k.kH)(this.indexes_,(u,f)=>{const p=(0,k.yw)(this.indexSet_,f);if((0,k.vA)(p,"Missing index implementation for "+f),u===Yc){if(p.isDefinedOn(i.node)){const C=[],D=t.getIterator(Rt.Wrap);let M=D.getNext();for(;M;)M.name!==i.name&&C.push(M),M=D.getNext();return C.push(i),jm(C,p.getCompare())}return Yc}{const C=t.get(i.name);let D=u;return C&&(D=D.remove(new Rt(i.name,C))),D.insert(i,i.node)}});return new ma(o,this.indexSet_)}removeFromIndexes(i,t){const o=(0,k.kH)(this.indexes_,u=>{if(u===Yc)return u;{const f=t.get(i.name);return f?u.remove(new Rt(i.name,f)):u}});return new ma(o,this.indexSet_)}}let Wf,Dt=(()=>{class n{constructor(t,o,u){this.children_=t,this.priorityNode_=o,this.indexMap_=u,this.lazyHash_=null,this.priorityNode_&&Ay(this.priorityNode_),this.children_.isEmpty()&&(0,k.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wf||(Wf=new n(new si(Fm),null,ma.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wf}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const o=this.children_.get(t);return null===o?Wf:o}}getChild(t){const o=At(t);return null===o?this:this.getImmediateChild(o).getChild(tn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,o){if((0,k.vA)(o,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(o);{const u=new Rt(t,o);let f,p;o.isEmpty()?(f=this.children_.remove(t),p=this.indexMap_.removeFromIndexes(u,this.children_)):(f=this.children_.insert(t,o),p=this.indexMap_.addToIndexes(u,this.children_));const C=f.isEmpty()?Wf:this.priorityNode_;return new n(f,C,p)}}updateChild(t,o){const u=At(t);if(null===u)return o;{(0,k.vA)(".priority"!==At(t)||1===pa(t),".priority must be the last token in a path");const f=this.getImmediateChild(u).updateChild(tn(t),o);return this.updateImmediateChild(u,f)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const o={};let u=0,f=0,p=!0;if(this.forEachChild(Ot,(C,D)=>{o[C]=D.val(t),u++,p&&n.INTEGER_REGEXP_.test(C)?f=Math.max(f,Number(C)):p=!1}),!t&&p&&f<2*u){const C=[];for(const D in o)C[D]=o[D];return C}return t&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+Vm(this.getPriority().val())+":"),this.forEachChild(Ot,(o,u)=>{const f=u.hash();""!==f&&(t+=":"+o+":"+f)}),this.lazyHash_=""===t?"":kf(t)}return this.lazyHash_}getPredecessorChildName(t,o,u){const f=this.resolveIndex_(u);if(f){const p=f.getPredecessorKey(new Rt(t,o));return p?p.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const o=this.resolveIndex_(t);if(o){const u=o.minKey();return u&&u.name}return this.children_.minKey()}getFirstChild(t){const o=this.getFirstChildName(t);return o?new Rt(o,this.children_.get(o)):null}getLastChildName(t){const o=this.resolveIndex_(t);if(o){const u=o.maxKey();return u&&u.name}return this.children_.maxKey()}getLastChild(t){const o=this.getLastChildName(t);return o?new Rt(o,this.children_.get(o)):null}forEachChild(t,o){const u=this.resolveIndex_(t);return u?u.inorderTraversal(f=>o(f.name,f.node)):this.children_.inorderTraversal(o)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,o){const u=this.resolveIndex_(o);if(u)return u.getIteratorFrom(t,f=>f);{const f=this.children_.getIteratorFrom(t.name,Rt.Wrap);let p=f.peek();for(;null!=p&&o.compare(p,t)<0;)f.getNext(),p=f.peek();return f}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,o){const u=this.resolveIndex_(o);if(u)return u.getReverseIteratorFrom(t,f=>f);{const f=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap);let p=f.peek();for(;null!=p&&o.compare(p,t)>0;)f.getNext(),p=f.peek();return f}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===zf?-1:0}withIndex(t){if(t===Gs||this.indexMap_.hasIndex(t))return this;{const o=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,o)}}isIndexed(t){return t===Gs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const o=t;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const u=this.getIterator(Ot),f=o.getIterator(Ot);let p=u.getNext(),C=f.getNext();for(;p&&C;){if(p.name!==C.name||!p.node.equals(C.node))return!1;p=u.getNext(),C=f.getNext()}return null===p&&null===C}return!1}return!1}}resolveIndex_(t){return t===Gs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const zf=new class My extends Dt{constructor(){super(new si(Fm),Dt.EMPTY_NODE,ma.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return Dt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Rt,{MIN:{value:new Rt(Wc,Dt.EMPTY_NODE)},MAX:{value:new Rt(Ws,zf)}}),md.__EMPTY_NODE=Dt.EMPTY_NODE,vd.__childrenNodeConstructor=Dt,function HC(n){Um=n}(zf),function $C(n){Bm=n}(zf);const GC=!0;function _n(n,i=null){if(null===n)return Dt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(i=n[".priority"]),(0,k.vA)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vd(n,_n(i));if(n instanceof Array||!GC){let t=Dt.EMPTY_NODE;return rr(n,(o,u)=>{if((0,k.gR)(n,o)&&"."!==o.substring(0,1)){const f=_n(u);(f.isLeafNode()||!f.isEmpty())&&(t=t.updateImmediateChild(o,f))}}),t.updatePriority(_n(i))}{const t=[];let o=!1;if(rr(n,(p,C)=>{if("."!==p.substring(0,1)){const D=_n(C);D.isEmpty()||(o=o||!D.getPriority().isEmpty(),t.push(new Rt(p,D)))}}),0===t.length)return Dt.EMPTY_NODE;const f=jm(t,Lm,p=>p.name,Fm);if(o){const p=jm(t,Ot.getCompare());return new Dt(f,_n(i),new ma({".priority":p},{".priority":Ot}))}return new Dt(f,_n(i),ma.Default)}}!function Ry(n){Sy=n}(_n);class Hm extends ga{constructor(i){super(),this.indexPath_=i,(0,k.vA)(!Pt(i)&&".priority"!==At(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,t){const o=this.extractChild(i.node),u=this.extractChild(t.node),f=o.compareTo(u);return 0===f?zs(i.name,t.name):f}makePost(i,t){const o=_n(i),u=Dt.EMPTY_NODE.updateChild(this.indexPath_,o);return new Rt(t,u)}maxPost(){const i=Dt.EMPTY_NODE.updateChild(this.indexPath_,zf);return new Rt(Ws,i)}toString(){return Hf(this.indexPath_,0).join("/")}}const $m=new class qC extends ga{compare(i,t){const o=i.node.compareTo(t.node);return 0===o?zs(i.name,t.name):o}isDefinedOn(i){return!0}indexedValueChanged(i,t){return!i.equals(t)}minPost(){return Rt.MIN}maxPost(){return Rt.MAX}makePost(i,t){const o=_n(i);return new Rt(t,o)}toString(){return".value"}};function Ny(n){return{type:"value",snapshotNode:n}}function yd(n,i){return{type:"child_added",snapshotNode:i,childName:n}}function mi(n,i){return{type:"child_removed",snapshotNode:i,childName:n}}function Qc(n,i,t){return{type:"child_changed",snapshotNode:i,childName:n,oldSnap:t}}class Ep{constructor(i){this.index_=i}updateChild(i,t,o,u,f,p){(0,k.vA)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=i.getImmediateChild(t);return C.getChild(u).equals(o.getChild(u))&&C.isEmpty()===o.isEmpty()||(null!=p&&(o.isEmpty()?i.hasChild(t)?p.trackChildChange(mi(t,C)):(0,k.vA)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?p.trackChildChange(yd(t,o)):p.trackChildChange(Qc(t,o,C))),i.isLeafNode()&&o.isEmpty())?i:i.updateImmediateChild(t,o).withIndex(this.index_)}updateFullNode(i,t,o){return null!=o&&(i.isLeafNode()||i.forEachChild(Ot,(u,f)=>{t.hasChild(u)||o.trackChildChange(mi(u,f))}),t.isLeafNode()||t.forEachChild(Ot,(u,f)=>{if(i.hasChild(u)){const p=i.getImmediateChild(u);p.equals(f)||o.trackChildChange(Qc(u,f,p))}else o.trackChildChange(yd(u,f))})),t.withIndex(this.index_)}updatePriority(i,t){return i.isEmpty()?Dt.EMPTY_NODE:i.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Kf{constructor(i){this.indexedFilter_=new Ep(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Kf.getStartPost_(i),this.endPost_=Kf.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,o=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return t&&o}updateChild(i,t,o,u,f,p){return this.matches(new Rt(t,o))||(o=Dt.EMPTY_NODE),this.indexedFilter_.updateChild(i,t,o,u,f,p)}updateFullNode(i,t,o){t.isLeafNode()&&(t=Dt.EMPTY_NODE);let u=t.withIndex(this.index_);u=u.updatePriority(Dt.EMPTY_NODE);const f=this;return t.forEachChild(Ot,(p,C)=>{f.matches(new Rt(p,C))||(u=u.updateImmediateChild(p,Dt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,u,o)}updatePriority(i,t){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const t=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),t)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const t=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),t)}return i.getIndex().maxPost()}}class Py{constructor(i){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=t=>{const o=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new Kf(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,t,o,u,f,p){return this.rangedFilter_.matches(new Rt(t,o))||(o=Dt.EMPTY_NODE),i.getImmediateChild(t).equals(o)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,t,o,u,f,p):this.fullLimitUpdateChild_(i,t,o,f,p)}updateFullNode(i,t,o){let u;if(t.isLeafNode()||t.isEmpty())u=Dt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let f;u=Dt.EMPTY_NODE.withIndex(this.index_),f=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;f.hasNext()&&p<this.limit_;){const C=f.getNext();if(this.withinDirectionalStart(C)){if(!this.withinDirectionalEnd(C))break;u=u.updateImmediateChild(C.name,C.node),p++}}}else{let f;u=t.withIndex(this.index_),u=u.updatePriority(Dt.EMPTY_NODE),f=this.reverse_?u.getReverseIterator(this.index_):u.getIterator(this.index_);let p=0;for(;f.hasNext();){const C=f.getNext();p<this.limit_&&this.withinDirectionalStart(C)&&this.withinDirectionalEnd(C)?p++:u=u.updateImmediateChild(C.name,Dt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,u,o)}updatePriority(i,t){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,t,o,u,f){let p;if(this.reverse_){const $=this.index_.getCompare();p=(q,we)=>$(we,q)}else p=this.index_.getCompare();const C=i;(0,k.vA)(C.numChildren()===this.limit_,"");const D=new Rt(t,o),M=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),U=this.rangedFilter_.matches(D);if(C.hasChild(t)){const $=C.getImmediateChild(t);let q=u.getChildAfterChild(this.index_,M,this.reverse_);for(;null!=q&&(q.name===t||C.hasChild(q.name));)q=u.getChildAfterChild(this.index_,q,this.reverse_);const we=null==q?1:p(q,D);if(U&&!o.isEmpty()&&we>=0)return f?.trackChildChange(Qc(t,o,$)),C.updateImmediateChild(t,o);{f?.trackChildChange(mi(t,$));const at=C.updateImmediateChild(t,Dt.EMPTY_NODE);return null!=q&&this.rangedFilter_.matches(q)?(f?.trackChildChange(yd(q.name,q.node)),at.updateImmediateChild(q.name,q.node)):at}}return o.isEmpty()?i:U&&p(M,D)>=0?(null!=f&&(f.trackChildChange(mi(M.name,M.node)),f.trackChildChange(yd(t,o))),C.updateImmediateChild(t,o).updateImmediateChild(M.name,Dt.EMPTY_NODE)):i}}class Gf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wc}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ws}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ot}copy(){const i=new Gf;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Cp(n,i,t){const o=n.copy();return o.startSet_=!0,void 0===i&&(i=null),o.indexStartValue_=i,null!=t?(o.startNameSet_=!0,o.indexStartName_=t):(o.startNameSet_=!1,o.indexStartName_=""),o}function wp(n,i,t){const o=n.copy();return o.endSet_=!0,void 0===i&&(i=null),o.indexEndValue_=i,void 0!==t?(o.endNameSet_=!0,o.indexEndName_=t):(o.endNameSet_=!1,o.indexEndName_=""),o}function Ed(n,i){const t=n.copy();return t.index_=i,t}function Po(n){const i={};if(n.isDefault())return i;let t;if(n.index_===Ot?t="$priority":n.index_===$m?t="$value":n.index_===Gs?t="$key":((0,k.vA)(n.index_ instanceof Hm,"Unrecognized index type!"),t=n.index_.toString()),i.orderBy=(0,k.As)(t),n.startSet_){const o=n.startAfterSet_?"startAfter":"startAt";i[o]=(0,k.As)(n.indexStartValue_),n.startNameSet_&&(i[o]+=","+(0,k.As)(n.indexStartName_))}if(n.endSet_){const o=n.endBeforeSet_?"endBefore":"endAt";i[o]=(0,k.As)(n.indexEndValue_),n.endNameSet_&&(i[o]+=","+(0,k.As)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?i.limitToFirst=n.limit_:i.limitToLast=n.limit_),i}function ky(n){const i={};if(n.startSet_&&(i.sp=n.indexStartValue_,n.startNameSet_&&(i.sn=n.indexStartName_),i.sin=!n.startAfterSet_),n.endSet_&&(i.ep=n.indexEndValue_,n.endNameSet_&&(i.en=n.indexEndName_),i.ein=!n.endBeforeSet_),n.limitSet_){i.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),i.vf=t}return n.index_!==Ot&&(i.i=n.index_.toString()),i}class Dp extends Gc{constructor(i,t,o,u){super(),this.repoInfo_=i,this.onDataUpdate_=t,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Hc("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,t){return void 0!==t?"tag$"+t:((0,k.vA)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,t,o,u){const f=i._path.toString();this.log_("Listen called for "+f+" "+i._queryIdentifier);const p=Dp.getListenId_(i,o),C={};this.listens_[p]=C;const D=Po(i._queryParams);this.restRequest_(f+".json",D,(M,U)=>{let $=U;if(404===M&&($=null,M=null),null===M&&this.onDataUpdate_(f,$,!1,o),(0,k.yw)(this.listens_,p)===C){let q;q=M?401===M?"permission_denied":"rest_error:"+M:"ok",u(q,null)}})}unlisten(i,t){const o=Dp.getListenId_(i,t);delete this.listens_[o]}get(i){const t=Po(i._queryParams),o=i._path.toString(),u=new k.cY;return this.restRequest_(o+".json",t,(f,p)=>{let C=p;404===f&&(C=null,f=null),null===f?(this.onDataUpdate_(o,C,!1,null),u.resolve(C)):u.reject(new Error(C))}),u.promise}refreshAuthToken(i){}restRequest_(i,t={},o){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(t.auth=u.accessToken),f&&f.token&&(t.ac=f.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,k.Am)(t);this.log_("Sending REST request for "+p);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+p+" received. status:",C.status,"response:",C.responseText);let D=null;if(C.status>=200&&C.status<300){try{D=(0,k.$L)(C.responseText)}catch{qn("Failed to parse JSON response for "+p+": "+C.responseText)}o(null,D)}else 401!==C.status&&404!==C.status&&qn("Got unsuccessful REST response for "+p+" Status: "+C.status),o(C.status);o=null}},C.open("GET",p,!0),C.send()})}}class zm{constructor(){this.rootNode_=Dt.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,t){this.rootNode_=this.rootNode_.updateChild(i,t)}}function bp(){return{value:null,children:new Map}}function Zc(n,i,t){if(Pt(i))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(i,t);else{const o=At(i);n.children.has(o)||n.children.set(o,bp()),Zc(n.children.get(o),i=tn(i),t)}}function Km(n,i){if(Pt(i))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Ot,(o,u)=>{Zc(n,new Wt(o),u)}),Km(n,i)}}if(n.children.size>0){const t=At(i);return i=tn(i),n.children.has(t)&&Km(n.children.get(t),i)&&n.children.delete(t),0===n.children.size}return!0}function Id(n,i,t){null!==n.value?t(i,n.value):function qf(n,i){n.children.forEach((t,o)=>{i(o,t)})}(n,(o,u)=>{Id(u,new Wt(i.toString()+"/"+o),t)})}class Ly{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),t=Object.assign({},i);return this.last_&&rr(this.last_,(o,u)=>{t[o]=t[o]-u}),this.last_=i,t}}class Fy{constructor(i,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ly(i);const o=1e4+2e4*Math.random();hu(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const i=this.statsListener_.get(),t={};let o=!1;rr(i,(u,f)=>{f>0&&(0,k.gR)(this.statsToReport_,u)&&(t[u]=f,o=!0)}),o&&this.server_.reportStats(t),hu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var qs=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(qs||{});function Ap(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Qf{constructor(i,t,o){this.path=i,this.affectedTree=t,this.revert=o,this.type=qs.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(Pt(this.path)){if(null!=this.affectedTree.value)return(0,k.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Wt(i));return new Qf(Ft(),t,this.revert)}}return(0,k.vA)(At(this.path)===i,"operationForChild called for unrelated child."),new Qf(tn(this.path),this.affectedTree,this.revert)}}class _a{constructor(i,t){this.source=i,this.path=t,this.type=qs.LISTEN_COMPLETE}operationForChild(i){return Pt(this.path)?new _a(this.source,Ft()):new _a(this.source,tn(this.path))}}class Xc{constructor(i,t,o){this.source=i,this.path=t,this.snap=o,this.type=qs.OVERWRITE}operationForChild(i){return Pt(this.path)?new Xc(this.source,Ft(),this.snap.getImmediateChild(i)):new Xc(this.source,tn(this.path),this.snap)}}class Jc{constructor(i,t,o){this.source=i,this.path=t,this.children=o,this.type=qs.MERGE}operationForChild(i){if(Pt(this.path)){const t=this.children.subtree(new Wt(i));return t.isEmpty()?null:t.value?new Xc(this.source,Ft(),t.value):new Jc(this.source,Ft(),t)}return(0,k.vA)(At(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Jc(this.source,tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class va{constructor(i,t,o){this.node_=i,this.fullyInitialized_=t,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(Pt(i))return this.isFullyInitialized()&&!this.filtered_;const t=At(i);return this.isCompleteForChild(t)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class ZC{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function ya(n,i,t,o,u,f){const p=o.filter(C=>C.type===t);p.sort((C,D)=>function e0(n,i,t){if(null==i.childName||null==t.childName)throw(0,k.Hk)("Should only compare child_ events.");const o=new Rt(i.childName,i.snapshotNode),u=new Rt(t.childName,t.snapshotNode);return n.index_.compare(o,u)}(n,C,D)),p.forEach(C=>{const D=function JC(n,i,t){return"value"===i.type||"child_removed"===i.type||(i.prevName=t.getPredecessorChildName(i.childName,i.snapshotNode,n.index_)),i}(n,C,f);u.forEach(M=>{M.respondsTo(C.type)&&i.push(M.createEvent(D,n.query_))})})}function Tp(n,i){return{eventCache:n,serverCache:i}}function Zf(n,i,t,o){return Tp(new va(i,t,o),n.serverCache)}function Uy(n,i,t,o){return Tp(n.eventCache,new va(i,t,o))}function Sp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function el(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ym;class rn{constructor(i,t=(()=>(Ym||(Ym=new si(wC)),Ym))()){this.value=i,this.children=t}static fromObject(i){let t=new rn(null);return rr(i,(o,u)=>{t=t.set(new Wt(o),u)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,t){if(null!=this.value&&t(this.value))return{path:Ft(),value:this.value};if(Pt(i))return null;{const o=At(i),u=this.children.get(o);if(null!==u){const f=u.findRootMostMatchingPathAndValue(tn(i),t);return null!=f?{path:mn(new Wt(o),f.path),value:f.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(Pt(i))return this;{const t=At(i),o=this.children.get(t);return null!==o?o.subtree(tn(i)):new rn(null)}}set(i,t){if(Pt(i))return new rn(t,this.children);{const o=At(i),f=(this.children.get(o)||new rn(null)).set(tn(i),t),p=this.children.insert(o,f);return new rn(this.value,p)}}remove(i){if(Pt(i))return this.children.isEmpty()?new rn(null):new rn(null,this.children);{const t=At(i),o=this.children.get(t);if(o){const u=o.remove(tn(i));let f;return f=u.isEmpty()?this.children.remove(t):this.children.insert(t,u),null===this.value&&f.isEmpty()?new rn(null):new rn(this.value,f)}return this}}get(i){if(Pt(i))return this.value;{const t=At(i),o=this.children.get(t);return o?o.get(tn(i)):null}}setTree(i,t){if(Pt(i))return t;{const o=At(i),f=(this.children.get(o)||new rn(null)).setTree(tn(i),t);let p;return p=f.isEmpty()?this.children.remove(o):this.children.insert(o,f),new rn(this.value,p)}}fold(i){return this.fold_(Ft(),i)}fold_(i,t){const o={};return this.children.inorderTraversal((u,f)=>{o[u]=f.fold_(mn(i,u),t)}),t(i,this.value,o)}findOnPath(i,t){return this.findOnPath_(i,Ft(),t)}findOnPath_(i,t,o){const u=!!this.value&&o(t,this.value);if(u)return u;if(Pt(i))return null;{const f=At(i),p=this.children.get(f);return p?p.findOnPath_(tn(i),mn(t,f),o):null}}foreachOnPath(i,t){return this.foreachOnPath_(i,Ft(),t)}foreachOnPath_(i,t,o){if(Pt(i))return this;{this.value&&o(t,this.value);const u=At(i),f=this.children.get(u);return f?f.foreachOnPath_(tn(i),mn(t,u),o):new rn(null)}}foreach(i){this.foreach_(Ft(),i)}foreach_(i,t){this.children.inorderTraversal((o,u)=>{u.foreach_(mn(i,o),t)}),this.value&&t(i,this.value)}foreachChild(i){this.children.inorderTraversal((t,o)=>{o.value&&i(t,o.value)})}}class Ys{constructor(i){this.writeTree_=i}static empty(){return new Ys(new rn(null))}}function gu(n,i,t){if(Pt(i))return new Ys(new rn(t));{const o=n.writeTree_.findRootMostValueAndPath(i);if(null!=o){const u=o.path;let f=o.value;const p=ii(u,i);return f=f.updateChild(p,t),new Ys(n.writeTree_.set(u,f))}{const u=new rn(t),f=n.writeTree_.setTree(i,u);return new Ys(f)}}}function Qm(n,i,t){let o=n;return rr(t,(u,f)=>{o=gu(o,mn(i,u),f)}),o}function By(n,i){if(Pt(i))return Ys.empty();{const t=n.writeTree_.setTree(i,new rn(null));return new Ys(t)}}function Zm(n,i){return null!=tl(n,i)}function tl(n,i){const t=n.writeTree_.findRootMostValueAndPath(i);return null!=t?n.writeTree_.get(t.path).getChild(ii(t.path,i)):null}function jy(n){const i=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Ot,(o,u)=>{i.push(new Rt(o,u))}):n.writeTree_.children.inorderTraversal((o,u)=>{null!=u.value&&i.push(new Rt(o,u.value))}),i}function mu(n,i){if(Pt(i))return n;{const t=tl(n,i);return new Ys(null!=t?new rn(t):n.writeTree_.subtree(i))}}function Xm(n){return n.writeTree_.isEmpty()}function nl(n,i){return Jm(Ft(),n.writeTree_,i)}function Jm(n,i,t){if(null!=i.value)return t.updateChild(n,i.value);{let o=null;return i.children.inorderTraversal((u,f)=>{".priority"===u?((0,k.vA)(null!==f.value,"Priority writes must always be leaf nodes"),o=f.value):t=Jm(mn(n,u),f,t)}),!t.getChild(n).isEmpty()&&null!==o&&(t=t.updateChild(mn(n,".priority"),o)),t}}function Rp(n,i){return ol(i,n)}function Mp(n,i){if(n.snap)return $i(n.path,i);for(const t in n.children)if(n.children.hasOwnProperty(t)&&$i(mn(n.path,t),i))return!0;return!1}function n0(n){return n.visible}function Np(n,i,t){let o=Ys.empty();for(let u=0;u<n.length;++u){const f=n[u];if(i(f)){const p=f.path;let C;if(f.snap)$i(t,p)?(C=ii(t,p),o=gu(o,C,f.snap)):$i(p,t)&&(C=ii(p,t),o=gu(o,Ft(),f.snap.getChild(C)));else{if(!f.children)throw(0,k.Hk)("WriteRecord should have .snap or .children");if($i(t,p))C=ii(t,p),o=Qm(o,C,f.children);else if($i(p,t))if(C=ii(p,t),Pt(C))o=Qm(o,Ft(),f.children);else{const D=(0,k.yw)(f.children,At(C));if(D){const M=D.getChild(tn(C));o=gu(o,Ft(),M)}}}}}return o}function Wy(n,i,t,o,u){if(o||u){const f=mu(n.visibleWrites,i);return!u&&Xm(f)?t:u||null!=t||Zm(f,Ft())?nl(Np(n.allWrites,function(M){return(M.visible||u)&&(!o||!~o.indexOf(M.writeId))&&($i(M.path,i)||$i(i,M.path))},i),t||Dt.EMPTY_NODE):null}{const f=tl(n.visibleWrites,i);if(null!=f)return f;{const p=mu(n.visibleWrites,i);return Xm(p)?t:null!=t||Zm(p,Ft())?nl(p,t||Dt.EMPTY_NODE):null}}}function Cd(n,i,t,o){return Wy(n.writeTree,n.treePath,i,t,o)}function _u(n,i){return function Oo(n,i,t){let o=Dt.EMPTY_NODE;const u=tl(n.visibleWrites,i);if(u)return u.isLeafNode()||u.forEachChild(Ot,(f,p)=>{o=o.updateImmediateChild(f,p)}),o;if(t){const f=mu(n.visibleWrites,i);return t.forEachChild(Ot,(p,C)=>{const D=nl(mu(f,new Wt(p)),C);o=o.updateImmediateChild(p,D)}),jy(f).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}return jy(mu(n.visibleWrites,i)).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}(n.writeTree,n.treePath,i)}function il(n,i,t,o){return function Xf(n,i,t,o,u){(0,k.vA)(o||u,"Either existingEventSnap or existingServerSnap must exist");const f=mn(i,t);if(Zm(n.visibleWrites,f))return null;{const p=mu(n.visibleWrites,f);return Xm(p)?u.getChild(t):nl(p,u.getChild(t))}}(n.writeTree,n.treePath,i,t,o)}function Ea(n,i){return function rl(n,i){return tl(n.visibleWrites,i)}(n.writeTree,mn(n.treePath,i))}function vu(n,i,t){return function Gr(n,i,t,o){const u=mn(i,t),f=tl(n.visibleWrites,u);return null!=f?f:o.isCompleteForChild(t)?nl(mu(n.visibleWrites,u),o.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,i,t)}function sl(n,i){return ol(mn(n.treePath,i),n.writeTree)}function ol(n,i){return{treePath:n,writeTree:i}}class Dd{constructor(){this.changeMap=new Map}trackChildChange(i){const t=i.type,o=i.childName;(0,k.vA)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,k.vA)(".priority"!==o,"Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const f=u.type;if("child_added"===t&&"child_removed"===f)this.changeMap.set(o,Qc(o,i.snapshotNode,u.snapshotNode));else if("child_removed"===t&&"child_added"===f)this.changeMap.delete(o);else if("child_removed"===t&&"child_changed"===f)this.changeMap.set(o,mi(o,u.oldSnap));else if("child_changed"===t&&"child_added"===f)this.changeMap.set(o,yd(o,i.snapshotNode));else{if("child_changed"!==t||"child_changed"!==f)throw(0,k.Hk)("Illegal combination of changes: "+i+" occurred after "+u);this.changeMap.set(o,Qc(o,i.snapshotNode,u.oldSnap))}}else this.changeMap.set(o,i)}getChanges(){return Array.from(this.changeMap.values())}}const e_=new class bd{getCompleteChild(i){return null}getChildAfterChild(i,t,o){return null}};class Op{constructor(i,t,o=null){this.writes_=i,this.viewCache_=t,this.optCompleteServerCache_=o}getCompleteChild(i){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(i))return t.getNode().getImmediateChild(i);{const o=null!=this.optCompleteServerCache_?new va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vu(this.writes_,i,o)}}getChildAfterChild(i,t,o){const u=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:el(this.viewCache_),f=function wd(n,i,t,o,u,f){return function Pp(n,i,t,o,u,f,p){let C;const D=mu(n.visibleWrites,i),M=tl(D,Ft());if(null!=M)C=M;else{if(null==t)return[];C=nl(D,t)}if(C=C.withIndex(p),C.isEmpty()||C.isLeafNode())return[];{const U=[],$=p.getCompare(),q=f?C.getReverseIteratorFrom(o,p):C.getIteratorFrom(o,p);let we=q.getNext();for(;we&&U.length<u;)0!==$(we,o)&&U.push(we),we=q.getNext();return U}}(n.writeTree,n.treePath,i,t,o,u,f)}(this.writes_,u,t,1,o,i);return 0===f.length?null:f[0]}}function t_(n,i,t,o,u,f){const p=i.eventCache;if(null!=Ea(o,t))return i;{let C,D;if(Pt(t))if((0,k.vA)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const M=el(i),$=_u(o,M instanceof Dt?M:Dt.EMPTY_NODE);C=n.filter.updateFullNode(i.eventCache.getNode(),$,f)}else{const M=Cd(o,el(i));C=n.filter.updateFullNode(i.eventCache.getNode(),M,f)}else{const M=At(t);if(".priority"===M){(0,k.vA)(1===pa(t),"Can't have a priority with additional path components");const U=p.getNode();D=i.serverCache.getNode();const $=il(o,t,U,D);C=null!=$?n.filter.updatePriority(U,$):p.getNode()}else{const U=tn(t);let $;if(p.isCompleteForChild(M)){D=i.serverCache.getNode();const q=il(o,t,p.getNode(),D);$=null!=q?p.getNode().getImmediateChild(M).updateChild(U,q):p.getNode().getImmediateChild(M)}else $=vu(o,M,i.serverCache);C=null!=$?n.filter.updateChild(p.getNode(),M,$,U,u,f):p.getNode()}}return Zf(i,C,p.isFullyInitialized()||Pt(t),n.filter.filtersNodes())}}function Jf(n,i,t,o,u,f,p,C){const D=i.serverCache;let M;const U=p?n.filter:n.filter.getIndexedFilter();if(Pt(t))M=U.updateFullNode(D.getNode(),o,null);else if(U.filtersNodes()&&!D.isFiltered()){const we=D.getNode().updateChild(t,o);M=U.updateFullNode(D.getNode(),we,null)}else{const we=At(t);if(!D.isCompleteForPath(t)&&pa(t)>1)return i;const Le=tn(t),xt=D.getNode().getImmediateChild(we).updateChild(Le,o);M=".priority"===we?U.updatePriority(D.getNode(),xt):U.updateChild(D.getNode(),we,xt,Le,e_,null)}const $=Uy(i,M,D.isFullyInitialized()||Pt(t),U.filtersNodes());return t_(n,$,t,u,new Op(u,$,f),C)}function xp(n,i,t,o,u,f,p){const C=i.eventCache;let D,M;const U=new Op(u,i,f);if(Pt(t))M=n.filter.updateFullNode(i.eventCache.getNode(),o,p),D=Zf(i,M,!0,n.filter.filtersNodes());else{const $=At(t);if(".priority"===$)M=n.filter.updatePriority(i.eventCache.getNode(),o),D=Zf(i,M,C.isFullyInitialized(),C.isFiltered());else{const q=tn(t),we=C.getNode().getImmediateChild($);let Le;if(Pt(q))Le=o;else{const at=U.getCompleteChild($);Le=null!=at?".priority"===Nm(q)&&at.getChild(Ey(q)).isEmpty()?at:at.updateChild(q,o):Dt.EMPTY_NODE}D=we.equals(Le)?i:Zf(i,n.filter.updateChild(C.getNode(),$,Le,q,U,p),C.isFullyInitialized(),n.filter.filtersNodes())}}return D}function kp(n,i){return n.eventCache.isCompleteForChild(i)}function s0(n,i,t){return t.foreach((o,u)=>{i=i.updateChild(o,u)}),i}function Yy(n,i,t,o,u,f,p,C){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let M,D=i;M=Pt(t)?o:new rn(null).setTree(t,o);const U=i.serverCache.getNode();return M.children.inorderTraversal(($,q)=>{if(U.hasChild($)){const Le=s0(0,i.serverCache.getNode().getImmediateChild($),q);D=Jf(n,D,new Wt($),Le,u,f,p,C)}}),M.children.inorderTraversal(($,q)=>{const we=!i.serverCache.isCompleteForChild($)&&null===q.value;if(!U.hasChild($)&&!we){const at=s0(0,i.serverCache.getNode().getImmediateChild($),q);D=Jf(n,D,new Wt($),at,u,f,p,C)}}),D}class u0{constructor(i,t){this.query_=i,this.eventRegistrations_=[];const o=this.query_._queryParams,u=new Ep(o.getIndex()),f=function Ip(n){return n.loadsAllData()?new Ep(n.getIndex()):n.hasLimit()?new Py(n):new Kf(n)}(o);this.processor_=function zy(n){return{filter:n}}(f);const p=t.serverCache,C=t.eventCache,D=u.updateFullNode(Dt.EMPTY_NODE,p.getNode(),null),M=f.updateFullNode(Dt.EMPTY_NODE,C.getNode(),null),U=new va(D,p.isFullyInitialized(),u.filtersNodes()),$=new va(M,C.isFullyInitialized(),f.filtersNodes());this.viewCache_=Tp($,U),this.eventGenerator_=new ZC(this.query_)}get query(){return this.query_}}function l0(n,i){const t=el(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Pt(i)&&!t.getImmediateChild(At(i)).isEmpty())?t.getChild(i):null}function Qy(n){return 0===n.eventRegistrations_.length}function Ad(n,i,t){const o=[];if(t){(0,k.vA)(null==i,"A cancel should cancel all event registrations.");const u=n.query._path;n.eventRegistrations_.forEach(f=>{const p=f.createCancelEvent(t,u);p&&o.push(p)})}if(i){let u=[];for(let f=0;f<n.eventRegistrations_.length;++f){const p=n.eventRegistrations_[f];if(p.matches(i)){if(i.hasAnyCallback()){u=u.concat(n.eventRegistrations_.slice(f+1));break}}else u.push(p)}n.eventRegistrations_=u}else n.eventRegistrations_=[];return o}function Lp(n,i,t,o){i.type===qs.MERGE&&null!==i.source.queryId&&((0,k.vA)(el(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.vA)(Sp(n.viewCache_),"Missing event cache, even though we have a server cache"));const u=n.viewCache_,f=function Gy(n,i,t,o,u){const f=new Dd;let p,C;if(t.type===qs.OVERWRITE){const M=t;M.source.fromUser?p=xp(n,i,M.path,M.snap,o,u,f):((0,k.vA)(M.source.fromServer,"Unknown source."),C=M.source.tagged||i.serverCache.isFiltered()&&!Pt(M.path),p=Jf(n,i,M.path,M.snap,o,u,C,f))}else if(t.type===qs.MERGE){const M=t;M.source.fromUser?p=function r0(n,i,t,o,u,f,p){let C=i;return o.foreach((D,M)=>{const U=mn(t,D);kp(i,At(U))&&(C=xp(n,C,U,M,u,f,p))}),o.foreach((D,M)=>{const U=mn(t,D);kp(i,At(U))||(C=xp(n,C,U,M,u,f,p))}),C}(n,i,M.path,M.children,o,u,f):((0,k.vA)(M.source.fromServer,"Unknown source."),C=M.source.tagged||i.serverCache.isFiltered(),p=Yy(n,i,M.path,M.children,o,u,C,f))}else if(t.type===qs.ACK_USER_WRITE){const M=t;p=M.revert?function PD(n,i,t,o,u,f){let p;if(null!=Ea(o,t))return i;{const C=new Op(o,i,u),D=i.eventCache.getNode();let M;if(Pt(t)||".priority"===At(t)){let U;if(i.serverCache.isFullyInitialized())U=Cd(o,el(i));else{const $=i.serverCache.getNode();(0,k.vA)($ instanceof Dt,"serverChildren would be complete if leaf node"),U=_u(o,$)}M=n.filter.updateFullNode(D,U,f)}else{const U=At(t);let $=vu(o,U,i.serverCache);null==$&&i.serverCache.isCompleteForChild(U)&&($=D.getImmediateChild(U)),M=null!=$?n.filter.updateChild(D,U,$,tn(t),C,f):i.eventCache.getNode().hasChild(U)?n.filter.updateChild(D,U,Dt.EMPTY_NODE,tn(t),C,f):D,M.isEmpty()&&i.serverCache.isFullyInitialized()&&(p=Cd(o,el(i)),p.isLeafNode()&&(M=n.filter.updateFullNode(M,p,f)))}return p=i.serverCache.isFullyInitialized()||null!=Ea(o,Ft()),Zf(i,M,p,n.filter.filtersNodes())}}(n,i,M.path,o,u,f):function o0(n,i,t,o,u,f,p){if(null!=Ea(u,t))return i;const C=i.serverCache.isFiltered(),D=i.serverCache;if(null!=o.value){if(Pt(t)&&D.isFullyInitialized()||D.isCompleteForPath(t))return Jf(n,i,t,D.getNode().getChild(t),u,f,C,p);if(Pt(t)){let M=new rn(null);return D.getNode().forEachChild(Gs,(U,$)=>{M=M.set(new Wt(U),$)}),Yy(n,i,t,M,u,f,C,p)}return i}{let M=new rn(null);return o.foreach((U,$)=>{const q=mn(t,U);D.isCompleteForPath(q)&&(M=M.set(U,D.getNode().getChild(q)))}),Yy(n,i,t,M,u,f,C,p)}}(n,i,M.path,M.affectedTree,o,u,f)}else{if(t.type!==qs.LISTEN_COMPLETE)throw(0,k.Hk)("Unknown operation type: "+t.type);p=function a0(n,i,t,o,u){const f=i.serverCache;return t_(n,Uy(i,f.getNode(),f.isFullyInitialized()||Pt(t),f.isFiltered()),t,o,e_,u)}(n,i,t.path,o,f)}const D=f.getChanges();return function qy(n,i,t){const o=i.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),f=Sp(n);(t.length>0||!n.eventCache.isFullyInitialized()||u&&!o.getNode().equals(f)||!o.getNode().getPriority().equals(f.getPriority()))&&t.push(Ny(Sp(i)))}}(i,p,D),{viewCache:p,changes:D}}(n.processor_,u,i,t,o);return function Ky(n,i){(0,k.vA)(i.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.vA)(i.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,f.viewCache),(0,k.vA)(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=f.viewCache,r_(n,f.changes,f.viewCache.eventCache.getNode(),null)}function r_(n,i,t,o){return function XC(n,i,t,o){const u=[],f=[];return i.forEach(p=>{"child_changed"===p.type&&n.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&f.push(function YC(n,i){return{type:"child_moved",snapshotNode:i,childName:n}}(p.childName,p.snapshotNode))}),ya(n,u,"child_removed",i,o,t),ya(n,u,"child_added",i,o,t),ya(n,u,"child_moved",f,o,t),ya(n,u,"child_changed",i,o,t),ya(n,u,"value",i,o,t),u}(n.eventGenerator_,i,t,o?[o]:n.eventRegistrations_)}let yu,Up;class i_{constructor(){this.views=new Map}}function s_(n,i,t,o){const u=i.source.queryId;if(null!==u){const f=n.views.get(u);return(0,k.vA)(null!=f,"SyncTree gave us an op for an invalid query."),Lp(f,i,t,o)}{let f=[];for(const p of n.views.values())f=f.concat(Lp(p,i,t,o));return f}}function Zy(n,i,t,o,u){const p=n.views.get(i._queryIdentifier);if(!p){let C=Cd(t,u?o:null),D=!1;C?D=!0:o instanceof Dt?(C=_u(t,o),D=!1):(C=Dt.EMPTY_NODE,D=!1);const M=Tp(new va(C,D,!1),new va(o,u,!1));return new u0(i,M)}return p}function th(n){const i=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||i.push(t);return i}function Qs(n,i){let t=null;for(const o of n.views.values())t=t||l0(o,i);return t}function p0(n,i){return i._queryParams.loadsAllData()?Td(n):n.views.get(i._queryIdentifier)}function Xy(n,i){return null!=p0(n,i)}function Eu(n){return null!=Td(n)}function Td(n){for(const i of n.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let m0=1;class a_{constructor(i){this.listenProvider_=i,this.syncPointTree_=new rn(null),this.pendingWriteTree_=function fs(){return{visibleWrites:Ys.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vp(n,i,t,o,u){return function MD(n,i,t,o,u){(0,k.vA)(o>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===u&&(u=!0),n.allWrites.push({path:i,snap:t,writeId:o,visible:u}),u&&(n.visibleWrites=gu(n.visibleWrites,i,t)),n.lastWriteId=o}(n.pendingWriteTree_,i,t,o,u),u?Nd(n,new Xc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,t)):[]}function Iu(n,i,t=!1){const o=function $y(n,i){for(let t=0;t<n.allWrites.length;t++){const o=n.allWrites[t];if(o.writeId===i)return o}return null}(n.pendingWriteTree_,i);if(function ND(n,i){const t=n.allWrites.findIndex(C=>C.writeId===i);(0,k.vA)(t>=0,"removeWrite called with nonexistent writeId.");const o=n.allWrites[t];n.allWrites.splice(t,1);let u=o.visible,f=!1,p=n.allWrites.length-1;for(;u&&p>=0;){const C=n.allWrites[p];C.visible&&(p>=t&&Mp(C,o.path)?u=!1:$i(o.path,C.path)&&(f=!0)),p--}return!!u&&(f?(function t0(n){n.visibleWrites=Np(n.allWrites,n0,Ft()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(o.snap?n.visibleWrites=By(n.visibleWrites,o.path):rr(o.children,D=>{n.visibleWrites=By(n.visibleWrites,mn(o.path,D))}),!0))}(n.pendingWriteTree_,i)){let f=new rn(null);return null!=o.snap?f=f.set(Ft(),!0):rr(o.children,p=>{f=f.set(new Wt(p),!0)}),Nd(n,new Qf(o.path,f,t))}return[]}function nh(n,i,t){return Nd(n,new Xc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,t))}function Sd(n,i,t,o,u=!1){const f=i._path,p=n.syncPointTree_.get(f);let C=[];if(p&&("default"===i._queryIdentifier||Xy(p,i))){const D=function o_(n,i,t,o){const u=i._queryIdentifier,f=[];let p=[];const C=Eu(n);if("default"===u)for(const[D,M]of n.views.entries())p=p.concat(Ad(M,t,o)),Qy(M)&&(n.views.delete(D),M.query._queryParams.loadsAllData()||f.push(M.query));else{const D=n.views.get(u);D&&(p=p.concat(Ad(D,t,o)),Qy(D)&&(n.views.delete(u),D.query._queryParams.loadsAllData()||f.push(D.query)))}return C&&!Eu(n)&&f.push(new(function eh(){return(0,k.vA)(yu,"Reference.ts has not been loaded"),yu}())(i._repo,i._path)),{removed:f,events:p}}(p,i,t,o);(function f0(n){return 0===n.views.size})(p)&&(n.syncPointTree_=n.syncPointTree_.remove(f));const M=D.removed;if(C=D.events,!u){const U=-1!==M.findIndex(q=>q._queryParams.loadsAllData()),$=n.syncPointTree_.findOnPath(f,(q,we)=>Eu(we));if(U&&!$){const q=n.syncPointTree_.subtree(f);if(!q.isEmpty()){const we=function y0(n){return n.fold((i,t,o)=>{if(t&&Eu(t))return[Td(t)];{let u=[];return t&&(u=th(t)),rr(o,(f,p)=>{u=u.concat(p)}),u}})}(q);for(let Le=0;Le<we.length;++Le){const at=we[Le],xt=at.query,Yt=jp(n,at);n.listenProvider_.startListening(ul(xt),al(n,xt),Yt.hashFn,Yt.onComplete)}}}!$&&M.length>0&&!o&&(U?n.listenProvider_.stopListening(ul(i),null):M.forEach(q=>{const we=n.queryToTagMap.get(rh(q));n.listenProvider_.stopListening(ul(q),we)}))}!function sE(n,i){for(let t=0;t<i.length;++t){const o=i[t];if(!o._queryParams.loadsAllData()){const u=rh(o),f=n.queryToTagMap.get(u);n.queryToTagMap.delete(u),n.tagToQueryMap.delete(f)}}}(n,M)}return C}function tE(n,i,t,o){const u=Hp(n,o);if(null!=u){const f=c_(u),p=f.path,C=f.queryId,D=ii(p,i);return l_(n,p,new Xc(Ap(C),D,t))}return[]}function Rd(n,i,t,o=!1){const u=i._path;let f=null,p=!1;n.syncPointTree_.foreachOnPath(u,(q,we)=>{const Le=ii(q,u);f=f||Qs(we,Le),p=p||Eu(we)});let D,C=n.syncPointTree_.get(u);C?(p=p||Eu(C),f=f||Qs(C,Ft())):(C=new i_,n.syncPointTree_=n.syncPointTree_.set(u,C)),null!=f?D=!0:(D=!1,f=Dt.EMPTY_NODE,n.syncPointTree_.subtree(u).foreachChild((we,Le)=>{const at=Qs(Le,Ft());at&&(f=f.updateImmediateChild(we,at))}));const M=Xy(C,i);if(!M&&!i._queryParams.loadsAllData()){const q=rh(i);(0,k.vA)(!n.queryToTagMap.has(q),"View does not exist, but we have a tag");const we=function d_(){return m0++}();n.queryToTagMap.set(q,we),n.tagToQueryMap.set(we,q)}let $=function h0(n,i,t,o,u,f){const p=Zy(n,i,o,u,f);return n.views.has(i._queryIdentifier)||n.views.set(i._queryIdentifier,p),function n_(n,i){n.eventRegistrations_.push(i)}(p,t),function Fp(n,i){const t=n.viewCache_.eventCache,o=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Ot,(f,p)=>{o.push(yd(f,p))}),t.isFullyInitialized()&&o.push(Ny(t.getNode())),r_(n,o,t.getNode(),i)}(p,t)}(C,i,t,Rp(n.pendingWriteTree_,u),f,D);if(!M&&!p&&!o){const q=p0(C,i);$=$.concat(function oE(n,i,t){const o=i._path,u=al(n,i),f=jp(n,t),p=n.listenProvider_.startListening(ul(i),u,f.hashFn,f.onComplete),C=n.syncPointTree_.subtree(o);if(u)(0,k.vA)(!Eu(C.value),"If we're adding a query, it shouldn't be shadowed");else{const D=C.fold((M,U,$)=>{if(!Pt(M)&&U&&Eu(U))return[Td(U).query];{let q=[];return U&&(q=q.concat(th(U).map(we=>we.query))),rr($,(we,Le)=>{q=q.concat(Le)}),q}});for(let M=0;M<D.length;++M){const U=D[M];n.listenProvider_.stopListening(ul(U),al(n,U))}}return p}(n,i,q))}return $}function Md(n,i,t){const u=n.pendingWriteTree_,f=n.syncPointTree_.findOnPath(i,(p,C)=>{const M=Qs(C,ii(p,i));if(M)return M});return Wy(u,i,f,t,!0)}function Nd(n,i){return rE(i,n.syncPointTree_,null,Rp(n.pendingWriteTree_,Ft()))}function rE(n,i,t,o){if(Pt(n.path))return iE(n,i,t,o);{const u=i.get(Ft());null==t&&null!=u&&(t=Qs(u,Ft()));let f=[];const p=At(n.path),C=n.operationForChild(p),D=i.children.get(p);if(D&&C){const M=t?t.getImmediateChild(p):null,U=sl(o,p);f=f.concat(rE(C,D,M,U))}return u&&(f=f.concat(s_(u,n,o,t))),f}}function iE(n,i,t,o){const u=i.get(Ft());null==t&&null!=u&&(t=Qs(u,Ft()));let f=[];return i.children.inorderTraversal((p,C)=>{const D=t?t.getImmediateChild(p):null,M=sl(o,p),U=n.operationForChild(p);U&&(f=f.concat(iE(U,C,D,M)))}),u&&(f=f.concat(s_(u,n,o,t))),f}function jp(n,i){const t=i.query,o=al(n,t);return{hashFn:()=>(function OD(n){return n.viewCache_.serverCache.getNode()}(i)||Dt.EMPTY_NODE).hash(),onComplete:u=>{if("ok"===u)return o?function u_(n,i,t){const o=Hp(n,t);if(o){const u=c_(o),f=u.path,p=u.queryId,C=ii(f,i);return l_(n,f,new _a(Ap(p),C))}return[]}(n,t._path,o):function v0(n,i){return Nd(n,new _a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(n,t._path);{const f=function DD(n,i){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const o=new Error(n+" at "+i._path.toString()+": "+t);return o.code=n.toUpperCase(),o}(u,t);return Sd(n,t,null,f)}}}}function al(n,i){const t=rh(i);return n.queryToTagMap.get(t)}function rh(n){return n._path.toString()+"$"+n._queryIdentifier}function Hp(n,i){return n.tagToQueryMap.get(i)}function c_(n){const i=n.indexOf("$");return(0,k.vA)(-1!==i&&i<n.length-1,"Bad queryKey."),{queryId:n.substr(i+1),path:new Wt(n.substr(0,i))}}function l_(n,i,t){const o=n.syncPointTree_.get(i);return(0,k.vA)(o,"Missing sync point for query tag that we're tracking"),s_(o,t,Rp(n.pendingWriteTree_,i),null)}function ul(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function g0(){return(0,k.vA)(Up,"Reference.ts has not been loaded"),Up}())(n._repo,n._path):n}class f_{constructor(i){this.node_=i}getImmediateChild(i){const t=this.node_.getImmediateChild(i);return new f_(t)}node(){return this.node_}}class $p{constructor(i,t){this.syncTree_=i,this.path_=t}getImmediateChild(i){const t=mn(this.path_,i);return new $p(this.syncTree_,t)}node(){return Md(this.syncTree_,this.path_)}}const aE=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},h_=function(n,i,t){return n&&"object"==typeof n?((0,k.vA)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?uE(n[".sv"],i,t):"object"==typeof n[".sv"]?E0(n[".sv"],i):void(0,k.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},uE=function(n,i,t){if("timestamp"===n)return t.timestamp;(0,k.vA)(!1,"Unexpected server value: "+n)},E0=function(n,i,t){n.hasOwnProperty("increment")||(0,k.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const o=n.increment;"number"!=typeof o&&(0,k.vA)(!1,"Unexpected increment value: "+o);const u=i.node();if((0,k.vA)(null!==u&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const p=u.getValue();return"number"!=typeof p?o:p+o},cE=function(n,i,t,o){return Wp(i,new $p(t,n),o)},p_=function(n,i,t){return Wp(n,new f_(i),t)};function Wp(n,i,t){const o=n.getPriority().val(),u=h_(o,i.getImmediateChild(".priority"),t);let f;if(n.isLeafNode()){const p=n,C=h_(p.getValue(),i,t);return C!==p.getValue()||u!==p.getPriority().val()?new vd(C,_n(u)):n}{const p=n;return f=p,u!==p.getPriority().val()&&(f=f.updatePriority(new vd(u))),p.forEachChild(Ot,(C,D)=>{const M=Wp(D,i.getImmediateChild(C),t);M!==D&&(f=f.updateImmediateChild(C,M))}),f}}class ih{constructor(i="",t=null,o={children:{},childCount:0}){this.name=i,this.parent=t,this.node=o}}function sh(n,i){let t=i instanceof Wt?i:new Wt(i),o=n,u=At(t);for(;null!==u;){const f=(0,k.yw)(o.node.children,u)||{children:{},childCount:0};o=new ih(u,o,f),t=tn(t),u=At(t)}return o}function Cu(n){return n.node.value}function zp(n,i){n.node.value=i,xo(n)}function g_(n){return n.node.childCount>0}function oh(n,i){rr(n.node.children,(t,o)=>{i(new ih(t,n,o))})}function m_(n,i,t,o){t&&!o&&i(n),oh(n,u=>{m_(u,i,!0,o)}),t&&o&&i(n)}function wu(n){return new Wt(null===n.parent?n.name:wu(n.parent)+"/"+n.name)}function xo(n){null!==n.parent&&function I0(n,i,t){const o=function lE(n){return void 0===Cu(n)&&!g_(n)}(t),u=(0,k.gR)(n.node.children,i);o&&u?(delete n.node.children[i],n.node.childCount--,xo(n)):!o&&!u&&(n.node.children[i]=t.node,n.node.childCount++,xo(n))}(n.parent,n.name,n)}const C0=/[\[\].#$\/\u0000-\u001F\u007F]/,__=/[\[\].#$\u0000-\u001F\u007F]/,Ia=10485760,Pd=function(n){return"string"==typeof n&&0!==n.length&&!C0.test(n)},fE=function(n){return"string"==typeof n&&0!==n.length&&!__.test(n)},Kp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!cd(n)||n&&"object"==typeof n&&(0,k.gR)(n,".sv")},Ca=function(n,i,t,o){o&&void 0===i||ah((0,k.dI)(n,"value"),i,t)},ah=function(n,i,t){const o=t instanceof Wt?new Cy(t,n):t;if(void 0===i)throw new Error(n+"contains undefined "+pu(o));if("function"==typeof i)throw new Error(n+"contains a function "+pu(o)+" with contents = "+i.toString());if(cd(i))throw new Error(n+"contains "+i.toString()+" "+pu(o));if("string"==typeof i&&i.length>Ia/3&&(0,k.OE)(i)>Ia)throw new Error(n+"contains a string greater than "+Ia+" utf8 bytes "+pu(o)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let u=!1,f=!1;if(rr(i,(p,C)=>{if(".value"===p)u=!0;else if(".priority"!==p&&".sv"!==p&&(f=!0,!Pd(p)))throw new Error(n+" contains an invalid key ("+p+") "+pu(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function TD(n,i){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(i),n.byteLength_+=(0,k.OE)(i),Pm(n)})(o,p),ah(n,C,o),function yp(n){const i=n.parts_.pop();n.byteLength_-=(0,k.OE)(i),n.parts_.length>0&&(n.byteLength_-=1)}(o)}),u&&f)throw new Error(n+' contains ".value" child '+pu(o)+" in addition to actual children.")}},y_=function(n,i,t,o){if(o&&void 0===i)return;const u=(0,k.dI)(n,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(u+" must be an object containing the children to replace.");const f=[];rr(i,(p,C)=>{const D=new Wt(p);if(ah(u,C,mn(t,D)),".priority"===Nm(D)&&!Kp(C))throw new Error(u+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");f.push(D)}),function(n,i){let t,o;for(t=0;t<i.length;t++){o=i[t];const f=Hf(o);for(let p=0;p<f.length;p++)if((".priority"!==f[p]||p!==f.length-1)&&!Pd(f[p]))throw new Error(n+"contains an invalid key ("+f[p]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(AD);let u=null;for(t=0;t<i.length;t++){if(o=i[t],null!==u&&$i(u,o))throw new Error(n+"contains a path "+u.toString()+" that is ancestor of another path "+o.toString());u=o}}(u,f)},E_=function(n,i,t){if(!t||void 0!==i){if(cd(i))throw new Error((0,k.dI)(n,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Kp(i))throw new Error((0,k.dI)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Rn=function(n,i,t,o){if(!(o&&void 0===t||Pd(t)))throw new Error((0,k.dI)(n,i)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Od=function(n,i,t,o){if(!(o&&void 0===t||fE(t)))throw new Error((0,k.dI)(n,i)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},D0=function(n,i,t,o){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Od(n,i,t,o)},hs=function(n,i){if(".info"===At(i))throw new Error(n+" failed = Can't modify data under /.info/")},I_=function(n,i){const t=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Pd(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fE(n)}(t))throw new Error((0,k.dI)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class b0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function uh(n,i){let t=null;for(let o=0;o<i.length;o++){const u=i[o],f=u.getPath();null!==t&&!Iy(f,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:f}),t.events.push(u)}t&&n.eventLists_.push(t)}function C_(n,i,t){uh(n,t),hE(n,o=>Iy(o,i))}function Ar(n,i,t){uh(n,t),hE(n,o=>$i(o,i)||$i(i,o))}function hE(n,i){n.recursionDepth_++;let t=!0;for(let o=0;o<n.eventLists_.length;o++){const u=n.eventLists_[o];u&&(i(u.path)?(A0(n.eventLists_[o]),n.eventLists_[o]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function A0(n){for(let i=0;i<n.events.length;i++){const t=n.events[i];if(null!==t){n.events[i]=null;const o=t.getEventRunner();fa&&nr("event: "+t.toString()),zc(o)}}}const w_="repo_interrupt",T0=25;class pE{constructor(i,t,o,u){this.repoInfo_=i,this.forceRestClient_=t,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bp(),this.transactionQueueTree_=new ih,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D_(n){const t=n.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function xd(n){return aE({timestamp:D_(n)})}function Zs(n,i,t,o,u){n.dataUpdateCount++;const f=new Wt(i);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(i,t):t;let p=[];if(u)if(o){const D=(0,k.kH)(t,M=>_n(M));p=function Bp(n,i,t,o){const u=Hp(n,o);if(u){const f=c_(u),p=f.path,C=f.queryId,D=ii(p,i),M=rn.fromObject(t);return l_(n,p,new Jc(Ap(C),D,M))}return[]}(n.serverSyncTree_,f,D,u)}else{const D=_n(t);p=tE(n.serverSyncTree_,f,D,u)}else if(o){const D=(0,k.kH)(t,M=>_n(M));p=function _0(n,i,t){const o=rn.fromObject(t);return Nd(n,new Jc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,o))}(n.serverSyncTree_,f,D)}else{const D=_n(t);p=nh(n.serverSyncTree_,f,D)}let C=f;p.length>0&&(C=cl(n,f)),Ar(n.eventQueue_,C,p)}function gE(n,i){ps(n,"connected",i),!1===i&&function R0(n){kd(n,"onDisconnectEvents");const i=xd(n),t=bp();Id(n.onDisconnect_,Ft(),(u,f)=>{const p=cE(u,f,n.serverSyncTree_,i);Zc(t,u,p)});let o=[];Id(t,Ft(),(u,f)=>{o=o.concat(nh(n.serverSyncTree_,u,f));const p=Yp(n,u);cl(n,p)}),n.onDisconnect_=bp(),Ar(n.eventQueue_,Ft(),o)}(n)}function ps(n,i,t){const o=new Wt("/.info/"+i),u=_n(t);n.infoData_.updateSnapshot(o,u);const f=nh(n.infoSyncTree_,o,u);Ar(n.eventQueue_,o,f)}function _i(n){return n.nextWriteId_++}function Gp(n,i,t,o,u){kd(n,"set",{path:i.toString(),value:t,priority:o});const f=xd(n),p=_n(t,o),C=Md(n.serverSyncTree_,i),D=p_(p,C,f),M=_i(n),U=Vp(n.serverSyncTree_,i,D,M,!0);uh(n.eventQueue_,U),n.server_.put(i.toString(),p.val(!0),(q,we)=>{const Le="ok"===q;Le||qn("set at "+i+" failed: "+q);const at=Iu(n.serverSyncTree_,M,!Le);Ar(n.eventQueue_,i,at),wa(0,u,q,we)});const $=Yp(n,i);cl(n,$),Ar(n.eventQueue_,$,[])}function M0(n,i,t){n.server_.onDisconnectCancel(i.toString(),(o,u)=>{"ok"===o&&Km(n.onDisconnect_,i),wa(0,t,o,u)})}function _E(n,i,t,o){const u=_n(t);n.server_.onDisconnectPut(i.toString(),u.val(!0),(f,p)=>{"ok"===f&&Zc(n.onDisconnect_,i,u),wa(0,o,f,p)})}function A_(n,i,t){let o;o=".info"===At(i._path)?Sd(n.infoSyncTree_,i,t):Sd(n.serverSyncTree_,i,t),C_(n.eventQueue_,i._path,o)}function T_(n){n.persistentConnection_&&n.persistentConnection_.interrupt(w_)}function kd(n,...i){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),nr(t,...i)}function wa(n,i,t,o){i&&zc(()=>{if("ok"===t)i(null);else{const u=(t||"error").toUpperCase();let f=u;o&&(f+=": "+o);const p=new Error(f);p.code=u,i(p)}})}function Ld(n,i,t){return Md(n.serverSyncTree_,i,t)||Dt.EMPTY_NODE}function qp(n,i=n.transactionQueueTree_){if(i||ll(n,i),Cu(i)){const t=CE(n,i);(0,k.vA)(t.length>0,"Sending zero length transaction queue"),t.every(u=>0===u.status)&&function yE(n,i,t){const o=t.map(M=>M.currentWriteId),u=Ld(n,i,o);let f=u;const p=u.hash();for(let M=0;M<t.length;M++){const U=t[M];(0,k.vA)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const $=ii(i,U.path);f=f.updateChild($,U.currentOutputSnapshotRaw)}const C=f.val(!0),D=i;n.server_.put(D.toString(),C,M=>{kd(n,"transaction put response",{path:D.toString(),status:M});let U=[];if("ok"===M){const $=[];for(let q=0;q<t.length;q++)t[q].status=2,U=U.concat(Iu(n.serverSyncTree_,t[q].currentWriteId)),t[q].onComplete&&$.push(()=>t[q].onComplete(null,!0,t[q].currentOutputSnapshotResolved)),t[q].unwatcher();ll(n,sh(n.transactionQueueTree_,i)),qp(n,n.transactionQueueTree_),Ar(n.eventQueue_,i,U);for(let q=0;q<$.length;q++)zc($[q])}else{if("datastale"===M)for(let $=0;$<t.length;$++)t[$].status=3===t[$].status?4:0;else{qn("transaction at "+D.toString()+" failed: "+M);for(let $=0;$<t.length;$++)t[$].status=4,t[$].abortReason=M}cl(n,i)}},p)}(n,wu(i),t)}else g_(i)&&oh(i,t=>{qp(n,t)})}function cl(n,i){const t=IE(n,i),o=wu(t);return function EE(n,i,t){if(0===i.length)return;const o=[];let u=[];const p=i.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<i.length;C++){const D=i[C],M=ii(t,D.path);let $,U=!1;if((0,k.vA)(null!==M,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)U=!0,$=D.abortReason,u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=T0)U=!0,$="maxretry",u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0));else{const q=Ld(n,D.path,p);D.currentInputSnapshot=q;const we=i[C].update(q.val());if(void 0!==we){ah("transaction failed: Data returned ",we,D.path);let Le=_n(we);"object"==typeof we&&null!=we&&(0,k.gR)(we,".priority")||(Le=Le.updatePriority(q.getPriority()));const xt=D.currentWriteId,Yt=xd(n),sn=p_(Le,q,Yt);D.currentOutputSnapshotRaw=Le,D.currentOutputSnapshotResolved=sn,D.currentWriteId=_i(n),p.splice(p.indexOf(xt),1),u=u.concat(Vp(n.serverSyncTree_,D.path,sn,D.currentWriteId,D.applyLocally)),u=u.concat(Iu(n.serverSyncTree_,xt,!0))}else U=!0,$="nodata",u=u.concat(Iu(n.serverSyncTree_,D.currentWriteId,!0))}Ar(n.eventQueue_,t,u),u=[],U&&(i[C].status=2,setTimeout(i[C].unwatcher,Math.floor(0)),i[C].onComplete&&o.push("nodata"===$?()=>i[C].onComplete(null,!1,i[C].currentInputSnapshot):()=>i[C].onComplete(new Error($),!1,null)))}ll(n,n.transactionQueueTree_);for(let C=0;C<o.length;C++)zc(o[C]);qp(n,n.transactionQueueTree_)}(n,CE(n,t),o),o}function IE(n,i){let t,o=n.transactionQueueTree_;for(t=At(i);null!==t&&void 0===Cu(o);)o=sh(o,t),t=At(i=tn(i));return o}function CE(n,i){const t=[];return S_(n,i,t),t.sort((o,u)=>o.order-u.order),t}function S_(n,i,t){const o=Cu(i);if(o)for(let u=0;u<o.length;u++)t.push(o[u]);oh(i,u=>{S_(n,u,t)})}function ll(n,i){const t=Cu(i);if(t){let o=0;for(let u=0;u<t.length;u++)2!==t[u].status&&(t[o]=t[u],o++);t.length=o,zp(i,t.length>0?t:void 0)}oh(i,o=>{ll(n,o)})}function Yp(n,i){const t=wu(IE(n,i)),o=sh(n.transactionQueueTree_,i);return function dE(n,i,t){let o=t?n:n.parent;for(;null!==o;){if(i(o))return!0;o=o.parent}}(o,u=>{Qp(n,u)}),Qp(n,o),m_(o,u=>{Qp(n,u)}),t}function Qp(n,i){const t=Cu(i);if(t){const o=[];let u=[],f=-1;for(let p=0;p<t.length;p++)3===t[p].status||(1===t[p].status?((0,k.vA)(f===p-1,"All SENT items should be at beginning of queue."),f=p,t[p].status=3,t[p].abortReason="set"):((0,k.vA)(0===t[p].status,"Unexpected transaction status in abort"),t[p].unwatcher(),u=u.concat(Iu(n.serverSyncTree_,t[p].currentWriteId,!0)),t[p].onComplete&&o.push(t[p].onComplete.bind(null,new Error("set"),!1,null))));-1===f?zp(i,void 0):t.length=f+1,Ar(n.eventQueue_,wu(i),u);for(let p=0;p<o.length;p++)zc(o[p])}}const Zp=function(n,i){const t=bE(n),o=t.namespace;return"firebase.com"===t.domain&&Hi(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==t.domain&&Hi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _m(t.host,t.secure,o,"ws"===t.scheme||"wss"===t.scheme,i,"",o!==t.subdomain),path:new Wt(t.pathString)}},bE=function(n){let i="",t="",o="",u="",f="",p=!0,C="https",D=443;if("string"==typeof n){let M=n.indexOf("//");M>=0&&(C=n.substring(0,M-1),n=n.substring(M+2));let U=n.indexOf("/");-1===U&&(U=n.length);let $=n.indexOf("?");-1===$&&($=n.length),i=n.substring(0,Math.min(U,$)),U<$&&(u=function wE(n){let i="";const t=n.split("/");for(let o=0;o<t.length;o++)if(t[o].length>0){let u=t[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}i+="/"+u}return i}(n.substring(U,$)));const q=function DE(n){const i={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const o=t.split("=");2===o.length?i[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):qn(`Invalid query segment '${t}' in query '${n}'`)}return i}(n.substring(Math.min(n.length,$)));M=i.indexOf(":"),M>=0?(p="https"===C||"wss"===C,D=parseInt(i.substring(M+1),10)):M=i.length;const we=i.slice(0,M);if("localhost"===we.toLowerCase())t="localhost";else if(we.split(".").length<=2)t=we;else{const Le=i.indexOf(".");o=i.substring(0,Le).toLowerCase(),t=i.substring(Le+1),f=o}"ns"in q&&(f=q.ns)}return{host:i,port:D,domain:t,subdomain:o,secure:p,scheme:C,pathString:u,namespace:f}},R_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",AE=function(){let n=0;const i=[];return function(t){const o=t===n;let u;n=t;const f=new Array(8);for(u=7;u>=0;u--)f[u]=R_.charAt(t%64),t=Math.floor(t/64);(0,k.vA)(0===t,"Cannot push at time == 0");let p=f.join("");if(o){for(u=11;u>=0&&63===i[u];u--)i[u]=0;i[u]++}else for(u=0;u<12;u++)i[u]=Math.floor(64*Math.random());for(u=0;u<12;u++)p+=R_.charAt(i[u]);return(0,k.vA)(20===p.length,"nextPushId: Length should be 20."),p}}();class TE{constructor(i,t,o,u){this.eventType=i,this.eventRegistration=t,this.snapshot=o,this.prevName=u}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.As)(this.snapshot.exportVal())}}class SE{constructor(i,t,o){this.eventRegistration=i,this.error=t,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class M_{constructor(i,t){this.snapshotCallback=i,this.cancelCallback=t}onValue(i,t){this.snapshotCallback.call(null,i,t)}onCancel(i){return(0,k.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class RE{constructor(i,t){this._repo=i,this._path=t}cancel(){const i=new k.cY;return M0(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){hs("OnDisconnect.remove",this._path);const i=new k.cY;return _E(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){hs("OnDisconnect.set",this._path),Ca("OnDisconnect.set",i,this._path,!1);const t=new k.cY;return _E(this._repo,this._path,i,t.wrapCallback(()=>{})),t.promise}setWithPriority(i,t){hs("OnDisconnect.setWithPriority",this._path),Ca("OnDisconnect.setWithPriority",i,this._path,!1),E_("OnDisconnect.setWithPriority",t,!1);const o=new k.cY;return function N0(n,i,t,o,u){const f=_n(t,o);n.server_.onDisconnectPut(i.toString(),f.val(!0),(p,C)=>{"ok"===p&&Zc(n.onDisconnect_,i,f),wa(0,u,p,C)})}(this._repo,this._path,i,t,o.wrapCallback(()=>{})),o.promise}update(i){hs("OnDisconnect.update",this._path),y_("OnDisconnect.update",i,this._path,!1);const t=new k.cY;return function b_(n,i,t,o){if((0,k.Im)(t))return nr("onDisconnect().update() called with empty data.  Don't do anything."),void wa(0,o,"ok",void 0);n.server_.onDisconnectMerge(i.toString(),t,(u,f)=>{"ok"===u&&rr(t,(p,C)=>{const D=_n(C);Zc(n.onDisconnect_,mn(i,p),D)}),wa(0,o,u,f)})}(this._repo,this._path,i,t.wrapCallback(()=>{})),t.promise}}class vi{constructor(i,t,o,u){this._repo=i,this._path=t,this._queryParams=o,this._orderByCalled=u}get key(){return Pt(this._path)?null:Nm(this._path)}get ref(){return new gs(this._repo,this._path)}get _queryIdentifier(){const i=ky(this._queryParams),t=hm(i);return"{}"===t?"default":t}get _queryObject(){return ky(this._queryParams)}isEqual(i){if(!((i=(0,k.Ku)(i))instanceof vi))return!1;const t=this._repo===i._repo,o=Iy(this._path,i._path);return t&&o&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jC(n){let i="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(i+="/"+encodeURIComponent(String(n.pieces_[t])));return i||"/"}(this._path)}}function Xp(n,i){if(!0===n._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function Du(n){let i=null,t=null;if(n.hasStart()&&(i=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Gs){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",u="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Wc)throw new Error(o);if("string"!=typeof i)throw new Error(u)}if(n.hasEnd()){if(n.getIndexEndName()!==Ws)throw new Error(o);if("string"!=typeof t)throw new Error(u)}}else if(n.getIndex()===Ot){if(null!=i&&!Kp(i)||null!=t&&!Kp(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.vA)(n.getIndex()instanceof Hm||n.getIndex()===$m,"unknown index type."),null!=i&&"object"==typeof i||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Jp(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class gs extends vi{constructor(i,t){super(i,t,new Gf,!1)}get parent(){const i=Ey(this._path);return null===i?null:new gs(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class dl{constructor(i,t,o){this._node=i,this.ref=t,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const t=new Wt(i),o=fl(this.ref,i);return new dl(this._node.getChild(t),o,Ot)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,u)=>i(new dl(u,fl(this.ref,o),Ot)))}hasChild(i){const t=new Wt(i);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ME(n,i){return(n=(0,k.Ku)(n))._checkNotDeleted("ref"),void 0!==i?fl(n._root,i):n._root}function NE(n,i){(n=(0,k.Ku)(n))._checkNotDeleted("refFromURL");const t=Zp(i,n._repo.repoInfo_.nodeAdmin);I_("refFromURL",t);const o=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&o.host!==n._repo.repoInfo_.host&&Hi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+n._repo.repoInfo_.host+")"),ME(n,t.path.toString())}function fl(n,i){return null===At((n=(0,k.Ku)(n))._path)?D0("child","path",i,!1):Od("child","path",i,!1),new gs(n._repo,mn(n._path,i))}function N_(n,i){n=(0,k.Ku)(n),hs("set",n._path),Ca("set",i,n._path,!1);const t=new k.cY;return Gp(n._repo,n._path,i,null,t.wrapCallback(()=>{})),t.promise}function OE(n,i){y_("update",i,n._path,!1);const t=new k.cY;return function mE(n,i,t,o){kd(n,"update",{path:i.toString(),value:t});let u=!0;const f=xd(n),p={};if(rr(t,(C,D)=>{u=!1,p[C]=cE(mn(i,C),_n(D),n.serverSyncTree_,f)}),u)nr("update() called with empty data.  Don't do anything."),wa(0,o,"ok",void 0);else{const C=_i(n),D=function eE(n,i,t,o){!function Hy(n,i,t,o){(0,k.vA)(o>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:i,children:t,writeId:o,visible:!0}),n.visibleWrites=Qm(n.visibleWrites,i,t),n.lastWriteId=o}(n.pendingWriteTree_,i,t,o);const u=rn.fromObject(t);return Nd(n,new Jc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,u))}(n.serverSyncTree_,i,p,C);uh(n.eventQueue_,D),n.server_.merge(i.toString(),t,(M,U)=>{const $="ok"===M;$||qn("update at "+i+" failed: "+M);const q=Iu(n.serverSyncTree_,C,!$),we=q.length>0?cl(n,i):i;Ar(n.eventQueue_,we,q),wa(0,o,M,U)}),rr(t,M=>{const U=Yp(n,mn(i,M));cl(n,U)}),Ar(n.eventQueue_,i,[])}}(n._repo,n._path,i,t.wrapCallback(()=>{})),t.promise}function xE(n){n=(0,k.Ku)(n);const i=new M_(()=>{}),t=new Fd(i);return function Xs(n,i,t){const o=function nE(n,i){const t=i._path;let o=null;n.syncPointTree_.foreachOnPath(t,(M,U)=>{const $=ii(M,t);o=o||Qs(U,$)});let u=n.syncPointTree_.get(t);u?o=o||Qs(u,Ft()):(u=new i_,n.syncPointTree_=n.syncPointTree_.set(t,u));const f=null!=o,p=f?new va(o,!0,!1):null;return function c0(n){return Sp(n.viewCache_)}(Zy(u,i,Rp(n.pendingWriteTree_,i._path),f?p.getNode():Dt.EMPTY_NODE,f))}(n.serverSyncTree_,i);return null!=o?Promise.resolve(o):n.server_.get(i).then(u=>{const f=_n(u).withIndex(i._queryParams.getIndex());let p;if(Rd(n.serverSyncTree_,i,t,!0),i._queryParams.loadsAllData())p=nh(n.serverSyncTree_,i._path,f);else{const C=al(n.serverSyncTree_,i);p=tE(n.serverSyncTree_,i._path,f,C)}return Ar(n.eventQueue_,i._path,p),Sd(n.serverSyncTree_,i,t,null,!0),f},u=>(kd(n,"get for query "+(0,k.As)(i)+" failed: "+u),Promise.reject(new Error(u))))}(n._repo,n,t).then(o=>new dl(o,new gs(n._repo,n._path),n._queryParams.getIndex()))}class Fd{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,t){const o=t._queryParams.getIndex();return new TE("value",this,new dl(i.snapshotNode,new gs(t._repo,t._path),o))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,t){return this.callbackContext.hasCancelCallback?new SE(this,i,t):null}matches(i){return i instanceof Fd&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class lh{constructor(i,t){this.eventType=i,this.callbackContext=t}respondsTo(i){let t="children_added"===i?"child_added":i;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(i,t){return this.callbackContext.hasCancelCallback?new SE(this,i,t):null}createEvent(i,t){(0,k.vA)(null!=i.childName,"Child events should have a childName.");const o=fl(new gs(t._repo,t._path),i.childName),u=t._queryParams.getIndex();return new TE(i.type,this,new dl(i.snapshotNode,o,u),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof lh&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Ud(n,i,t,o,u){let f;if("object"==typeof o&&(f=void 0,u=o),"function"==typeof o&&(f=o),u&&u.onlyOnce){const D=t,M=(U,$)=>{A_(n._repo,n,C),D(U,$)};M.userCallback=t.userCallback,M.context=t.context,t=M}const p=new M_(t,f||void 0),C="value"===i?new Fd(p):new lh(i,p);return function ch(n,i,t){let o;o=".info"===At(i._path)?Rd(n.infoSyncTree_,i,t):Rd(n.serverSyncTree_,i,t),C_(n.eventQueue_,i._path,o)}(n._repo,n,C),()=>A_(n._repo,n,C)}function eg(n,i,t,o){return Ud(n,"value",i,t,o)}function P_(n,i,t,o){return Ud(n,"child_added",i,t,o)}function O_(n,i,t,o){return Ud(n,"child_changed",i,t,o)}function x_(n,i,t,o){return Ud(n,"child_moved",i,t,o)}function k_(n,i,t,o){return Ud(n,"child_removed",i,t,o)}function bu(n,i,t){let o=null;const u=t?new M_(t):null;"value"===i?o=new Fd(u):i&&(o=new lh(i,u)),A_(n._repo,n,o)}class Js{}class kE extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("endAt",this._value,i._path,!0);const t=wp(i._queryParams,this._value,this._key);if(Jp(t),Du(t),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class LD extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("endBefore",this._value,i._path,!1);const t=function xy(n,i,t){let o;return o=wp(n,i,n.index_===Gs||t?t:Wc),o.endBeforeSet_=!0,o}(i._queryParams,this._value,this._key);if(Jp(t),Du(t),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class L0 extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("startAt",this._value,i._path,!0);const t=Cp(i._queryParams,this._value,this._key);if(Jp(t),Du(t),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class FE extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){Ca("startAfter",this._value,i._path,!1);const t=function Oy(n,i,t){let o;return o=Cp(n,i,n.index_===Gs||t?t:Ws),o.startAfterSet_=!0,o}(i._queryParams,this._value,this._key);if(Jp(t),Du(t),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vi(i._repo,i._path,t,i._orderByCalled)}}class Bd extends Js{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(i._repo,i._path,function Wm(n,i){const t=n.copy();return t.limitSet_=!0,t.limit_=i,t.viewFrom_="l",t}(i._queryParams,this._limit),i._orderByCalled)}}class U0 extends Js{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vi(i._repo,i._path,function SD(n,i){const t=n.copy();return t.limitSet_=!0,t.limit_=i,t.viewFrom_="r",t}(i._queryParams,this._limit),i._orderByCalled)}}class jd extends Js{constructor(i){super(),this._path=i}_apply(i){Xp(i,"orderByChild");const t=new Wt(this._path);if(Pt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new Hm(t),u=Ed(i._queryParams,o);return Du(u),new vi(i._repo,i._path,u,!0)}}class tg extends Js{_apply(i){Xp(i,"orderByKey");const t=Ed(i._queryParams,Gs);return Du(t),new vi(i._repo,i._path,t,!0)}}class yi extends Js{_apply(i){Xp(i,"orderByPriority");const t=Ed(i._queryParams,Ot);return Du(t),new vi(i._repo,i._path,t,!0)}}class UE extends Js{_apply(i){Xp(i,"orderByValue");const t=Ed(i._queryParams,$m);return Du(t),new vi(i._repo,i._path,t,!0)}}class j0 extends Js{constructor(i,t){super(),this._value=i,this._key=t}_apply(i){if(Ca("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new kE(this._value,this._key)._apply(new L0(this._value,this._key)._apply(i))}}function ms(n,...i){let t=(0,k.Ku)(n);for(const o of i)t=o._apply(t);return t}(function d0(n){(0,k.vA)(!yu,"__referenceConstructor has already been defined"),yu=n})(gs),function Jy(n){(0,k.vA)(!Up,"__referenceConstructor has already been defined"),Up=n}(gs);const rg={};function $E(n,i,t,o,u){let f=o||n.options.databaseURL;void 0===f&&(n.options.projectId||Hi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nr("Using default host for project ",n.options.projectId),f=`${n.options.projectId}-default-rtdb.firebaseio.com`);let D,M,p=Zp(f,u),C=p.repoInfo;typeof process<"u"&&process.env&&(M=process.env.FIREBASE_DATABASE_EMULATOR_HOST),M?(D=!0,f=`http://${M}?ns=${C.namespace}`,p=Zp(f,u),C=p.repoInfo):D=!p.repoInfo.secure;const U=u&&D?new Ff(Ff.OWNER):new ty(n.name,n.options,i);I_("Invalid Firebase Database URL",p),Pt(p.path)||Hi("Database URL must point to the root of a Firebase Database (not including a child path).");const $=function $0(n,i,t,o){let u=rg[i.name];u||(u={},rg[i.name]=u);let f=u[n.toURLString()];return f&&Hi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new pE(n,false,t,o),u[n.toURLString()]=f,f}(C,n,U,new TC(n.name,t));return new z0($,n)}class z0{constructor(i,t){this._repoInternal=i,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xD(n,i,t){if(n.stats_=mp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Dp(n.repoInfo_,(o,u,f,p)=>{Zs(n,o,u,f,p)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>gE(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.As)(t)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}n.persistentConnection_=new qc(n.repoInfo_,i,(o,u,f,p)=>{Zs(n,o,u,f,p)},o=>{gE(n,o)},o=>{!function S0(n,i){rr(i,(t,o)=>{ps(n,t,o)})}(n,o)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(o=>{n.server_.refreshAuthToken(o)}),n.appCheckProvider_.addTokenChangeListener(o=>{n.server_.refreshAppCheckToken(o.token)}),n.statsReporter_=function RC(n,i){const t=n.toString();return Bf[t]||(Bf[t]=i()),Bf[t]}(n.repoInfo_,()=>new Fy(n.stats_,n.server_)),n.infoData_=new zm,n.infoSyncTree_=new a_({startListening:(o,u,f,p)=>{let C=[];const D=n.infoData_.getNode(o._path);return D.isEmpty()||(C=nh(n.infoSyncTree_,o._path,D),setTimeout(()=>{p("ok")},0)),C},stopListening:()=>{}}),ps(n,"connected",!1),n.serverSyncTree_=new a_({startListening:(o,u,f,p)=>(n.server_.listen(o,f,u,(C,D)=>{const M=p(C,D);Ar(n.eventQueue_,o._path,M)}),[]),stopListening:(o,u)=>{n.server_.unlisten(o,u)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gs(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dh(n,i){const t=rg[i];(!t||t[n.key]!==n)&&Hi(`Database ${i}(${n.repoInfo_}) has already been deleted.`),T_(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&Hi("Cannot call "+i+" on a deleted database.")}}function fh(){py.IS_TRANSPORT_INITIALIZED&&qn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function WE(){fh(),Mo.forceDisallow()}function zE(){fh(),Sn.forceDisallow(),Mo.forceAllow()}function G0(n,i){jc(n,i)}const Y0={".sv":"timestamp"};class YE{constructor(i,t){this.committed=i,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qc.prototype.simpleListen=function(n,i){this.sendRequest("q",{p:n},i)},qc.prototype.echo=function(n,i){this.sendRequest("echo",{d:n},i)},function q0(n){cm(Vc.SDK_VERSION),(0,Vc._registerComponent)(new fu.uA("database",(i,{instanceIdentifier:t})=>$E(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Vc.registerVersion)(dp,"0.14.4",n),(0,Vc.registerVersion)(dp,"0.14.4","esm2017")}();const jD=new lp.Vy("@firebase/database-compat"),J0=function(n){jD.warn("FIREBASE WARNING: "+n)};class ig{constructor(i){this._delegate=i}cancel(i){(0,k.od)("OnDisconnect.cancel",0,1,arguments.length),(0,k.oD)("OnDisconnect.cancel","onComplete",i,!0);const t=this._delegate.cancel();return i&&t.then(()=>i(null),o=>i(o)),t}remove(i){(0,k.od)("OnDisconnect.remove",0,1,arguments.length),(0,k.oD)("OnDisconnect.remove","onComplete",i,!0);const t=this._delegate.remove();return i&&t.then(()=>i(null),o=>i(o)),t}set(i,t){(0,k.od)("OnDisconnect.set",1,2,arguments.length),(0,k.oD)("OnDisconnect.set","onComplete",t,!0);const o=this._delegate.set(i);return t&&o.then(()=>t(null),u=>t(u)),o}setWithPriority(i,t,o){(0,k.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.oD)("OnDisconnect.setWithPriority","onComplete",o,!0);const u=this._delegate.setWithPriority(i,t);return o&&u.then(()=>o(null),f=>o(f)),u}update(i,t){if((0,k.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const u={};for(let f=0;f<i.length;++f)u[""+f]=i[f];i=u,J0("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.oD)("OnDisconnect.update","onComplete",t,!0);const o=this._delegate.update(i);return t&&o.then(()=>t(null),u=>t(u)),o}}class ew{constructor(i,t){this.committed=i,this.snapshot=t}toJSON(){return(0,k.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Au{constructor(i,t){this._database=i,this._delegate=t}val(){return(0,k.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,k.od)("DataSnapshot.child",0,1,arguments.length),i=String(i),Od("DataSnapshot.child","path",i,!1),new Au(this._database,this._delegate.child(i))}hasChild(i){return(0,k.od)("DataSnapshot.hasChild",1,1,arguments.length),Od("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,k.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,k.od)("DataSnapshot.forEach",1,1,arguments.length),(0,k.oD)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(t=>i(new Au(this._database,t)))}hasChildren(){return(0,k.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.od)("DataSnapshot.ref",0,0,arguments.length),new kr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Tr{constructor(i,t){this.database=i,this._delegate=t}on(i,t,o,u){var f;(0,k.od)("Query.on",2,4,arguments.length),(0,k.oD)("Query.on","callback",t,!1);const p=Tr.getCancelAndContextArgs_("Query.on",o,u),C=(M,U)=>{t.call(p.context,new Au(this.database,M),U)};C.userCallback=t,C.context=p.context;const D=null===(f=p.cancel)||void 0===f?void 0:f.bind(p.context);switch(i){case"value":return eg(this._delegate,C,D),t;case"child_added":return P_(this._delegate,C,D),t;case"child_removed":return k_(this._delegate,C,D),t;case"child_changed":return O_(this._delegate,C,D),t;case"child_moved":return x_(this._delegate,C,D),t;default:throw new Error((0,k.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,t,o){if((0,k.od)("Query.off",0,3,arguments.length),function(n,i,t){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,k.oD)("Query.off","callback",t,!0),(0,k.HN)("Query.off","context",o,!0),t){const u=()=>{};u.userCallback=t,u.context=o,bu(this._delegate,i,u)}else bu(this._delegate,i)}get(){return xE(this._delegate).then(i=>new Au(this.database,i))}once(i,t,o,u){(0,k.od)("Query.once",1,4,arguments.length),(0,k.oD)("Query.once","callback",t,!0);const f=Tr.getCancelAndContextArgs_("Query.once",o,u),p=new k.cY,C=(M,U)=>{const $=new Au(this.database,M);t&&t.call(f.context,$,U),p.resolve($)};C.userCallback=t,C.context=f.context;const D=M=>{f.cancel&&f.cancel.call(f.context,M),p.reject(M)};switch(i){case"value":eg(this._delegate,C,D,{onlyOnce:!0});break;case"child_added":P_(this._delegate,C,D,{onlyOnce:!0});break;case"child_removed":k_(this._delegate,C,D,{onlyOnce:!0});break;case"child_changed":O_(this._delegate,C,D,{onlyOnce:!0});break;case"child_moved":x_(this._delegate,C,D,{onlyOnce:!0});break;default:throw new Error((0,k.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(i){return(0,k.od)("Query.limitToFirst",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function F0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Bd(n)}(i)))}limitToLast(i){return(0,k.od)("Query.limitToLast",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function V0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new U0(n)}(i)))}orderByChild(i){return(0,k.od)("Query.orderByChild",1,1,arguments.length),new Tr(this.database,ms(this._delegate,function B0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Od("orderByChild","path",n,!1),new jd(n)}(i)))}orderByKey(){return(0,k.od)("Query.orderByKey",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function ng(){return new tg}()))}orderByPriority(){return(0,k.od)("Query.orderByPriority",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function UD(){return new yi}()))}orderByValue(){return(0,k.od)("Query.orderByValue",0,0,arguments.length),new Tr(this.database,ms(this._delegate,function VE(){return new UE}()))}startAt(i=null,t){return(0,k.od)("Query.startAt",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function LE(n=null,i){return Rn("startAt","key",i,!0),new L0(n,i)}(i,t)))}startAfter(i=null,t){return(0,k.od)("Query.startAfter",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function FD(n,i){return Rn("startAfter","key",i,!0),new FE(n,i)}(i,t)))}endAt(i=null,t){return(0,k.od)("Query.endAt",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function Vd(n,i){return Rn("endAt","key",i,!0),new kE(n,i)}(i,t)))}endBefore(i=null,t){return(0,k.od)("Query.endBefore",0,2,arguments.length),new Tr(this.database,ms(this._delegate,function L_(n,i){return Rn("endBefore","key",i,!0),new LD(n,i)}(i,t)))}equalTo(i,t){return(0,k.od)("Query.equalTo",1,2,arguments.length),new Tr(this.database,ms(this._delegate,function BE(n,i){return Rn("equalTo","key",i,!0),new j0(n,i)}(i,t)))}toString(){return(0,k.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,k.od)("Query.isEqual",1,1,arguments.length),!(i instanceof Tr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,t,o){const u={cancel:void 0,context:void 0};if(t&&o)u.cancel=t,(0,k.oD)(i,"cancel",u.cancel,!0),u.context=o,(0,k.HN)(i,"context",u.context,!0);else if(t)if("object"==typeof t&&null!==t)u.context=t;else{if("function"!=typeof t)throw new Error((0,k.dI)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");u.cancel=t}return u}get ref(){return new kr(this.database,new gs(this._delegate._repo,this._delegate._path))}}class kr extends Tr{constructor(i,t){super(i,new vi(t._repo,t._path,new Gf,!1)),this.database=i,this._delegate=t}getKey(){return(0,k.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,k.od)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new kr(this.database,fl(this._delegate,i))}getParent(){(0,k.od)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new kr(this.database,i):null}getRoot(){return(0,k.od)("Reference.root",0,0,arguments.length),new kr(this.database,this._delegate.root)}set(i,t){(0,k.od)("Reference.set",1,2,arguments.length),(0,k.oD)("Reference.set","onComplete",t,!0);const o=N_(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}update(i,t){if((0,k.od)("Reference.update",1,2,arguments.length),Array.isArray(i)){const u={};for(let f=0;f<i.length;++f)u[""+f]=i[f];i=u,J0("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}hs("Reference.update",this._delegate._path),(0,k.oD)("Reference.update","onComplete",t,!0);const o=OE(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}setWithPriority(i,t,o){(0,k.od)("Reference.setWithPriority",2,3,arguments.length),(0,k.oD)("Reference.setWithPriority","onComplete",o,!0);const u=function PE(n,i,t){if(hs("setWithPriority",n._path),Ca("setWithPriority",i,n._path,!1),E_("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const o=new k.cY;return Gp(n._repo,n._path,i,t,o.wrapCallback(()=>{})),o.promise}(this._delegate,i,t);return o&&u.then(()=>o(null),f=>o(f)),u}remove(i){(0,k.od)("Reference.remove",0,1,arguments.length),(0,k.oD)("Reference.remove","onComplete",i,!0);const t=function x0(n){return hs("remove",n._path),N_(n,null)}(this._delegate);return i&&t.then(()=>i(null),o=>i(o)),t}transaction(i,t,o){(0,k.od)("Reference.transaction",1,3,arguments.length),(0,k.oD)("Reference.transaction","transactionUpdate",i,!1),(0,k.oD)("Reference.transaction","onComplete",t,!0),function(n,i,t,o){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,k.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const u=function Q0(n,i,t){var o;if(n=(0,k.Ku)(n),hs("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const u=null===(o=t?.applyLocally)||void 0===o||o,f=new k.cY,C=eg(n,()=>{});return function vE(n,i,t,o,u,f){kd(n,"transaction on "+i);const p={path:i,update:t,onComplete:o,status:null,order:CC(),applyLocally:f,retryCount:0,unwatcher:u,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=Ld(n,i,void 0);p.currentInputSnapshot=C;const D=p.update(C.val());if(void 0===D)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{ah("transaction failed: Data returned ",D,p.path),p.status=0;const M=sh(n.transactionQueueTree_,i),U=Cu(M)||[];let $;U.push(p),zp(M,U),"object"==typeof D&&null!==D&&(0,k.gR)(D,".priority")?($=(0,k.yw)(D,".priority"),(0,k.vA)(Kp($),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$=(Md(n.serverSyncTree_,i)||Dt.EMPTY_NODE).getPriority().val();const q=xd(n),we=_n(D,$),Le=p_(we,C,q);p.currentOutputSnapshotRaw=we,p.currentOutputSnapshotResolved=Le,p.currentWriteId=_i(n);const at=Vp(n.serverSyncTree_,i,Le,p.currentWriteId,p.applyLocally);Ar(n.eventQueue_,i,at),qp(n,n.transactionQueueTree_)}}(n._repo,n._path,i,(D,M,U)=>{let $=null;D?f.reject(D):($=new dl(U,new gs(n._repo,n._path),Ot),f.resolve(new YE(M,$)))},C,u),f.promise}(this._delegate,i,{applyLocally:o}).then(f=>new ew(f.committed,new Au(this.database,f.snapshot)));return t&&u.then(f=>t(null,f.committed,f.snapshot),f=>t(f,!1,null)),u}setPriority(i,t){(0,k.od)("Reference.setPriority",1,2,arguments.length),(0,k.oD)("Reference.setPriority","onComplete",t,!0);const o=function k0(n,i){n=(0,k.Ku)(n),hs("setPriority",n._path),E_("setPriority",i,!1);const t=new k.cY;return Gp(n._repo,mn(n._path,".priority"),i,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,i);return t&&o.then(()=>t(null),u=>t(u)),o}push(i,t){(0,k.od)("Reference.push",0,2,arguments.length),(0,k.oD)("Reference.push","onComplete",t,!0);const o=function O0(n,i){n=(0,k.Ku)(n),hs("push",n._path),Ca("push",i,n._path,!0);const t=D_(n._repo),o=AE(t),u=fl(n,o),f=fl(n,o);let p;return p=null!=i?N_(f,i).then(()=>f):Promise.resolve(f),u.then=p.then.bind(p),u.catch=p.then.bind(p,void 0),u}(this._delegate,i),u=o.then(p=>new kr(this.database,p));t&&u.then(()=>t(null),p=>t(p));const f=new kr(this.database,o);return f.then=u.then.bind(u),f.catch=u.catch.bind(u,void 0),f}onDisconnect(){return hs("Reference.onDisconnect",this._delegate._path),new ig(new RE(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class gh{constructor(i,t){this._delegate=i,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:WE,forceLongPolling:zE}}useEmulator(i,t,o={}){!function KE(n,i,t,o={}){(n=(0,k.Ku)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Hi("Cannot call useEmulator() after instance has already been initialized.");const u=n._repoInternal;let f;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&Hi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new Ff(Ff.OWNER);else if(o.mockUserToken){const p="string"==typeof o.mockUserToken?o.mockUserToken:(0,k.Fy)(o.mockUserToken,n.app.options.projectId);f=new Ff(p)}!function H0(n,i,t,o){n.repoInfo_=new _m(`${i}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),o&&(n.authTokenProvider_=o)}(u,i,t,f)}(this._delegate,i,t,o)}ref(i){if((0,k.od)("database.ref",0,1,arguments.length),i instanceof kr){const t=NE(this._delegate,i.toString());return new kr(this,t)}{const t=ME(this._delegate,i);return new kr(this,t)}}refFromURL(i){(0,k.od)("database.refFromURL",1,1,arguments.length);const o=NE(this._delegate,i);return new kr(this,o)}goOffline(){return(0,k.od)("database.goOffline",0,0,arguments.length),function hh(n){(n=(0,k.Ku)(n))._checkNotDeleted("goOffline"),T_(n._repo)}(this._delegate)}goOnline(){return(0,k.od)("database.goOnline",0,0,arguments.length),function ph(n){(n=(0,k.Ku)(n))._checkNotDeleted("goOnline"),function P0(n){n.persistentConnection_&&n.persistentConnection_.resume(w_)}(n._repo)}(this._delegate)}}gh.ServerValue={TIMESTAMP:function GE(){return Y0}(),increment:n=>function qE(n){return{".sv":{increment:n}}}(n)};var nw=Object.freeze({__proto__:null,initStandalone:function tw({app:n,url:i,version:t,customAuthImpl:o,namespace:u,nodeAdmin:f=!1}){cm(t);const p=new fu.Kq("auth-internal",new fu.h1("database-standalone"));return p.setComponent(new fu.uA("auth-internal",()=>o,"PRIVATE")),{instance:new gh($E(n,p,void 0,i,f),n),namespace:u}}});const rw=gh.ServerValue;!function $D(n){n.INTERNAL.registerComponent(new fu.uA("database-compat",(i,{instanceIdentifier:t})=>{const o=i.getProvider("app-compat").getImmediate(),u=i.getProvider("database").getImmediate({identifier:t});return new gh(u,o)},"PUBLIC").setServiceProps({Reference:kr,Query:Tr,Database:gh,DataSnapshot:Au,enableLogging:G0,INTERNAL:nw,ServerValue:rw}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(EC.A);var sg=P(941),ZE=P(6129);class iw extends Hr.B{constructor(i=1/0,t=1/0,o=ZE.U){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:f,_windowTime:p}=this;t||(o.push(i),!u&&o.push(f.now()+p)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:u}=this,f=u.slice();for(let p=0;p<f.length&&!i.closed;p+=o?1:2)i.next(f[p]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:u}=this,f=(u?1:2)*i;if(i<1/0&&f<o.length&&o.splice(0,o.length-f),!u){const p=t.now();let C=0;for(let D=1;D<o.length&&o[D]<=p;D+=2)C=D;C&&o.splice(0,C+1)}}}function XE(n,i,t){let o,u=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:i=1/0,refCount:u=!1,scheduler:t}=n):o=n??1/0,(0,up.u)({connector:()=>new iw(o,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function Hd(n,i){return(0,Ps.T)(i)?(0,dn.n)(()=>n,i):(0,dn.n)(()=>n)}var F_=P(6745);P(2214);const B_=new Map,sI={activated:!1,tokenObservers:[]},ow={initialized:!1,enabled:!1};function Vn(n){return B_.get(n)||Object.assign({},sI)}function ag(){return ow}const ug="https://content-firebaseappcheck.googleapis.com/v1",cw="exchangeDebugToken",j_={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class dw{constructor(i,t,o,u,f){if(this.operation=i,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=u,this.upperBound=f,this.pending=null,this.nextErrorWaitInterval=u,u>f)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(i){var t=this;return(0,ji.A)(function*(){t.stop();try{t.pending=new k.cY,yield function fw(n){return new Promise(i=>{setTimeout(i,n)})}(t.getNextRun(i)),t.pending.resolve(),yield t.pending.promise,t.pending=new k.cY,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(i){if(i)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const lr=new k.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function cg(n){if(!Vn(n).activated)throw lr.create("use-before-activation",{appName:n.name})}function dg(n,i){return _h.apply(this,arguments)}function _h(){return(_h=(0,ji.A)(function*({url:n,body:i},t){const o={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const $=yield u.getHeartbeatsHeader();$&&(o["X-Firebase-Client"]=$)}const f={method:"POST",body:JSON.stringify(i),headers:o};let p,C;try{p=yield fetch(n,f)}catch($){throw lr.create("fetch-network-error",{originalErrorMessage:$?.message})}if(200!==p.status)throw lr.create("fetch-status-error",{httpStatus:p.status});try{C=yield p.json()}catch($){throw lr.create("fetch-parse-error",{originalErrorMessage:$?.message})}const D=C.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const M=1e3*Number(D[1]),U=Date.now();return{token:C.token,expireTimeMillis:U+M,issuedAtTimeMillis:U}})).apply(this,arguments)}function Tu(n,i){const{projectId:t,appId:o,apiKey:u}=n.options;return{url:`${ug}/projects/${t}/apps/${o}:${cw}?key=${u}`,body:{debug_token:i}}}const aI="firebase-app-check-database",mw=1,fg="firebase-app-check-store";let Wd=null;function gg(){return(gg=(0,ji.A)(function*(n,i){const o=(yield function uI(){return Wd||(Wd=new Promise((n,i)=>{try{const t=indexedDB.open(aI,mw);t.onsuccess=o=>{n(o.target.result)},t.onerror=o=>{var u;i(lr.create("storage-open",{originalErrorMessage:null===(u=o.target.error)||void 0===u?void 0:u.message}))},t.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(fg,{keyPath:"compositeKey"})}}catch(t){i(lr.create("storage-open",{originalErrorMessage:t?.message}))}}),Wd)}()).transaction(fg,"readwrite"),f=o.objectStore(fg).put({compositeKey:n,value:i});return new Promise((p,C)=>{f.onsuccess=D=>{p()},o.onerror=D=>{var M;C(lr.create("storage-set",{originalErrorMessage:null===(M=D.target.error)||void 0===M?void 0:M.message}))}})})).apply(this,arguments)}const vh=new lp.Vy("@firebase/app-check");function z_(n,i){return(0,k.zW)()?function lI(n,i){return function pg(n,i){return gg.apply(this,arguments)}(function $_(n){return`${n.options.appId}-${n.name}`}(n),i)}(n,i).catch(t=>{vh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function _g(){return ag().enabled}function K_(){return G_.apply(this,arguments)}function G_(){return(G_=(0,ji.A)(function*(){const n=ag();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yw={error:"UNKNOWN_ERROR"};function Ew(n){return k.K3.encodeString(JSON.stringify(n),!1)}function vg(n){return q_.apply(this,arguments)}function q_(){return(q_=(0,ji.A)(function*(n,i=!1){const t=n.app;cg(t);const o=Vn(t);let f,u=o.token;if(u&&!zd(u)&&(o.token=void 0,u=void 0),!u){const D=yield o.cachedTokenPromise;D&&(zd(D)?u=D:yield z_(t,void 0))}if(!i&&u&&zd(u))return{token:u.token};let C,p=!1;if(_g()){o.exchangeTokenPromise||(o.exchangeTokenPromise=dg(Tu(t,yield K_()),n.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),p=!0);const D=yield o.exchangeTokenPromise;return yield z_(t,D),o.token=D,{token:D.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),p=!0),u=yield Vn(t).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?vh.warn(D.message):vh.error(D),f=D}return u?f?C=zd(u)?{token:u.token,internalError:f}:Kd(f):(C={token:u.token},o.token=u,yield z_(t,u)):C=Kd(f),p&&function mI(n,i){const t=Vn(n).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=i.error?o.error(i.error):o.next(i)}catch{}}(t,C),C})).apply(this,arguments)}function pI(n){return Y_.apply(this,arguments)}function Y_(){return(Y_=(0,ji.A)(function*(n){const i=n.app;cg(i);const{provider:t}=Vn(i);if(_g()){const o=yield K_(),{token:u}=yield dg(Tu(i,o),n.heartbeatServiceProvider);return{token:u}}{const{token:o}=yield t.getToken();return{token:o}}})).apply(this,arguments)}function Z_(n,i){const t=Vn(n),o=t.tokenObservers.filter(u=>u.next!==i);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=o}function gI(n){const{app:i}=n,t=Vn(i);let o=t.tokenRefresher;o||(o=function Iw(n){const{app:i}=n;return new dw((0,ji.A)(function*(){let o;if(o=Vn(i).token?yield vg(n,!0):yield vg(n),o.error)throw o.error;if(o.internalError)throw o.internalError}),()=>!0,()=>{const t=Vn(i);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},j_.RETRIAL_MIN_WAIT,j_.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=o),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function zd(n){return n.expireTimeMillis-Date.now()>0}function Kd(n){return{token:Ew(yw),error:n}}class _I{constructor(i,t){this.app=i,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:i}=Vn(this.app);for(const t of i)Z_(this.app,t.next);return Promise.resolve()}}const Eh="app-check-internal";!function Rw(){(0,Vc._registerComponent)(new fu.uA("app-check",n=>function vI(n,i){return new _I(n,i)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,i,t)=>{n.getProvider(Eh).initialize()})),(0,Vc._registerComponent)(new fu.uA(Eh,n=>function yI(n){return{getToken:i=>vg(n,i),getLimitedUseToken:()=>pI(n),addTokenListener:i=>function Q_(n,i,t,o){const{app:u}=n,f=Vn(u);if(f.tokenObservers=[...f.tokenObservers,{next:t,error:o,type:i}],f.token&&zd(f.token)){const C=f.token;Promise.resolve().then(()=>{t({token:C.token}),gI(n)}).catch(()=>{})}f.cachedTokenPromise.then(()=>gI(n))}(n,"INTERNAL",i),removeTokenListener:i=>Z_(n.app,i)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vc.registerVersion)("@firebase/app-check","0.8.0")}();class ev{constructor(){return(0,gi.CA)("app-check")}}typeof window<"u"&&window;var nv=P(7935);const Dg=new _.nKC("angularfire2.auth.use-emulator"),bg=new _.nKC("angularfire2.auth.settings"),OI=new _.nKC("angularfire2.auth.tenant-id"),xI=new _.nKC("angularfire2.auth.langugage-code"),kI=new _.nKC("angularfire2.auth.use-device-language"),LI=new _.nKC("angularfire.auth.persistence"),rv=(n,i,t,o,u,f,p,C)=>(0,Bi.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const D=i.runOutsideAngular(()=>n.auth());if(t&&D.useEmulator(...t),o&&(D.tenantId=o),D.languageCode=u,f&&D.useDeviceLanguage(),p)for(const[M,U]of Object.entries(p))D.settings[M]=U;return C&&D.setPersistence(C),D},[t,o,u,f,p,C]);let Ag=(()=>{class n{constructor(t,o,u,f,p,C,D,M,U,$,q,we){const Le=new Hr.B,at=(0,it.of)(void 0).pipe((0,sg.Q)(p.outsideAngular),(0,dn.n)(()=>f.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6922)))),(0,ht.T)(()=>(0,Bi.iB)(t,f,o)),(0,ht.T)(xt=>rv(xt,f,C,M,U,$,D,q)),XE({bufferSize:1,refCount:!1}));if(Oa(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{at.pipe(is()).subscribe();const Yt=at.pipe((0,dn.n)(Jt=>Jt.getRedirectResult().then(Lr=>Lr,()=>null)),gi.U0,XE({bufferSize:1,refCount:!1})),sn=at.pipe((0,dn.n)(Jt=>new Pr.c(Lr=>({unsubscribe:f.runOutsideAngular(()=>Jt.onAuthStateChanged(Su=>Lr.next(Su),Su=>Lr.error(Su),()=>Lr.complete()))})))),dr=at.pipe((0,dn.n)(Jt=>new Pr.c(Lr=>({unsubscribe:f.runOutsideAngular(()=>Jt.onIdTokenChanged(Su=>Lr.next(Su),Su=>Lr.error(Su),()=>Lr.complete()))}))));this.authState=Yt.pipe(Hd(sn),(0,F_._)(p.outsideAngular),(0,sg.Q)(p.insideAngular)),this.user=Yt.pipe(Hd(dr),(0,F_._)(p.outsideAngular),(0,sg.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,dn.n)(Jt=>Jt?(0,Fn.H)(Jt.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe((0,dn.n)(Jt=>Jt?(0,Fn.H)(Jt.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,om.h)(Yt,Le,this.authState.pipe(ei(Jt=>!Jt))).pipe((0,ht.T)(Jt=>Jt?.user?Jt:null),(0,F_._)(p.outsideAngular),(0,sg.Q)(p.insideAngular))}return(0,Bi.Gt)(this,at,f,{spy:{apply:(xt,Yt,sn)=>{(xt.startsWith("signIn")||xt.startsWith("createUser"))&&sn.then(dr=>Le.next(dr))}}})}}return n.\u0275fac=function(t){return new(t||n)(_.KVO(Bi.rx),_.KVO(Bi.uP,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(gi.u0),_.KVO(Dg,8),_.KVO(bg,8),_.KVO(OI,8),_.KVO(xI,8),_.KVO(kI,8),_.KVO(LI,8),_.KVO(ev,8))},n.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iv(n){return null==n}function UI(n){return"function"==typeof n.set}function sv(n,i){return UI(i)?i:n.ref(i)}function ov(n,i){if(function Lw(n){return"string"==typeof n}(n))return i.stringCase();if(UI(n))return i.firebaseCase();if(function FI(n){return"function"==typeof n.exportVal}(n))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ih(n,i,t="on",o=ap.E){return new Pr.c(u=>{let f=null;return f=n[t](i,(p,C)=>{o.schedule(()=>{u.next({snapshot:p,prevKey:C})}),"once"===t&&o.schedule(()=>u.complete())},p=>{o.schedule(()=>u.error(p))}),"on"===t?{unsubscribe(){null!=f&&n.off(i,f)}}:{unsubscribe(){}}}).pipe((0,ht.T)(u=>{const{snapshot:f,prevKey:p}=u;let C=null;return f.exists()&&(C=f.key),{type:i,payload:f,prevKey:p,key:C}}),(0,up.u)())}function BI(n,i){const t=n.length;for(let o=0;o<t;o++)if(n[o].payload.key===i)return o;return-1}function qd(n,i){const{payload:t,prevKey:o,key:u}=i,f=BI(n,u),p=function oi(n,i){if(iv(i))return 0;{const t=BI(n,i);return-1===t?n.length:t+1}}(n,o);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let C=null;i.payload.forEach(D=>{const M={payload:D,type:"value",prevKey:C,key:D.key};return C=D.key,n=[...n,M],!1})}return n;case"child_added":if(f>-1){const C=n[f-1];(C&&C.key||null)!==o&&(n=n.filter(D=>D.payload.key!==t.key)).splice(p,0,i)}else{if(null==o)return[i,...n];(n=n.slice()).splice(p,0,i)}return n;case"child_removed":return n.filter(C=>C.payload.key!==t.key);case"child_changed":return n.map(C=>C.payload.key===u?i:C);case"child_moved":if(f>-1){const C=n.splice(f,1)[0];return(n=n.slice()).splice(p,0,C),n}return n;default:return n}}function jI(n){return(iv(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function HI(n,i,t){return function VI(n,i,t){return Ih(n,"value","once",t).pipe((0,dn.n)(o=>{const u=[(0,it.of)(o)];return i.forEach(f=>u.push(Ih(n,f,"on",t))),(0,om.h)(...u).pipe(ss(qd,[]))}),(0,cp.F)())}(n,i=jI(i),t)}function Fw(n,i,t){const o=(i=jI(i)).map(u=>Ih(n,u,"on",t));return(0,om.h)(...o)}function Uw(n,i){return function(o,u){return ov(o,{stringCase:()=>n.child(o)[i](u),firebaseCase:()=>o[i](u),snapshotCase:()=>o.ref[i](u)})}}function cb(n){return function(t){return t?ov(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function Yd(n,i){return function(){return Ih(n,"value","on",i)}}const uv=new _.nKC("angularfire2.realtimeDatabaseURL"),Bw=new _.nKC("angularfire2.database.use-emulator");let cv=(()=>{class n{constructor(t,o,u,f,p,C,D,M,U,$,q,we,Le,at,xt){this.schedulers=C;const Yt=D,sn=(0,Bi.iB)(t,p,o);M&&rv(sn,p,U,q,we,Le,$,at),this.database=(0,Bi.BM)(`${sn.name}.database.${u}`,"AngularFireDatabase",sn.name,()=>{const dr=p.runOutsideAngular(()=>sn.database(u||void 0));return Yt&&dr.useEmulator(...Yt),dr},[Yt])}list(t,o){const u=this.schedulers.ngZone.runOutsideAngular(()=>sv(this.database,t));let f=u;return o&&(f=o(u)),function lb(n,i){const t=i.schedulers.outsideAngular,o=i.schedulers.ngZone.run(()=>n.ref);return{query:n,update:Uw(o,"update"),set:Uw(o,"set"),push:u=>o.push(u),remove:cb(o),snapshotChanges:u=>HI(n,u,t).pipe(gi.U0),stateChanges:u=>Fw(n,u,t).pipe(gi.U0),auditTrail:u=>function ub(n,i,t){return function av(n,i,t){return function $I(n,i){return Ih(n,"value","on",i).pipe((0,ht.T)(t=>{let o;return t.payload.forEach(u=>(o=u.key,!1)),{data:t,lastKeyToLoad:o}}))}(n,t).pipe(function Ro(...n){const i=(0,Li.ms)(n);return(0,er.N)((t,o)=>{const u=n.length,f=new Array(u);let p=n.map(()=>!1),C=!1;for(let D=0;D<u;D++)(0,Ls.Tg)(n[D]).subscribe((0,jt._)(o,M=>{f[D]=M,!C&&!p[D]&&(p[D]=!0,(C=p.every(Xr.D))&&(p=null))},Xo.l));t.subscribe((0,jt._)(o,D=>{if(C){const M=[D,...f];o.next(i?i(...M):M)}}))})}(i),(0,ht.T)(([u,f])=>{const p=u.lastKeyToLoad,C=f.map(D=>D.key);return{actions:f,lastKeyToLoad:p,loadedKeys:C}}),function ud(n){return(0,er.N)((i,t)=>{let o=!1,u=0;i.subscribe((0,jt._)(t,f=>(o||(o=!n(f,u++)))&&t.next(f)))})}(u=>-1===u.loadedKeys.indexOf(u.lastKeyToLoad)),(0,ht.T)(u=>u.actions))}(n,Fw(n,i).pipe(ss((u,f)=>[...u,f],[])),t)}(n,u,t).pipe(gi.U0),valueChanges:(u,f)=>HI(n,u,t).pipe((0,ht.T)(C=>C.map(D=>f&&f.idField?Object.assign(Object.assign({},D.payload.val()),{[f.idField]:D.key}):D.payload.val())),gi.U0)}}(f,this)}object(t){return function Vw(n,i){return{query:n,snapshotChanges:()=>Yd(n,i.schedulers.outsideAngular)().pipe(gi.U0),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Yd(n,i.schedulers.outsideAngular)().pipe(gi.U0,(0,ht.T)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>sv(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(_.KVO(Bi.rx),_.KVO(Bi.uP,8),_.KVO(uv,8),_.KVO(_.Agw),_.KVO(_.SKi),_.KVO(gi.u0),_.KVO(Bw,8),_.KVO(Ag,8),_.KVO(Dg,8),_.KVO(bg,8),_.KVO(OI,8),_.KVO(xI,8),_.KVO(kI,8),_.KVO(LI,8),_.KVO(ev,8))},n.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jw=(()=>{class n{constructor(){nv.A.registerVersion("angularfire",gi.xv.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=_.$C({type:n}),n.\u0275inj=_.G2t({providers:[cv]}),n})();const Hw_firebaseConfig={apiKey:"AIzaSyCS_LkrMcqZxatrXc7HFiHf4cK4QzriT3M",authDomain:"smartgrow-4c523.firebaseapp.com",databaseURL:"https://smartgrow-4c523-default-rtdb.europe-west1.firebasedatabase.app",projectId:"smartgrow-4c523",storageBucket:"smartgrow-4c523.firebasestorage.app",messagingSenderId:"539246249781",appId:"1:539246249781:web:548be1e89823843ad3ee7c"};let $w=(()=>{class n{constructor(t){this.db=t}getSensorData(){return this.db.object("/").valueChanges()}static{this.\u0275fac=function(o){return new(o||n)(_.KVO(cv))}}static{this.\u0275prov=_.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lv(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Humidit\xe9 : ",t.sensorData.humidite," %")}}function WI(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Humidit\xe9 du sol : ",t.sensorData.humidite_sol," %")}}function Ww(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Temp\xe9rature : ",t.sensorData.temperature," \xb0C")}}function Tg(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI("Luminosit\xe9 : ",t.sensorData.luminosite," Lux")}}function dv(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de l'humidit\xe9 : ",_.i5U(2,1,t.sensorData.humidite_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}function db(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de la temp\xe9rature : ",_.i5U(2,1,t.sensorData.temperature_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}function zI(n,i){if(1&n&&(_.j41(0,"p"),_.EFF(1),_.nI1(2,"date"),_.k0s()),2&n){const t=_.XpG();_.R7$(1),_.SpI(" Heure de la luminosit\xe9 : ",_.i5U(2,1,t.sensorData.luminosite_time,"dd/MM/yyyy HH:mm:ss"),"\n")}}let zw=(()=>{class n{constructor(t){this.sensorDataService=t,this.sensorData={},this.title="smartgrow"}ngOnInit(){this.sensorDataService.getSensorData().subscribe(t=>{console.log(t),this.sensorData=t},t=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es : ",t)})}static{this.\u0275fac=function(o){return new(o||n)(_.rXU($w))}}static{this.\u0275cmp=_.VBU({type:n,selectors:[["app-root"]],decls:9,vars:7,consts:[[4,"ngIf"]],template:function(o,u){1&o&&(_.j41(0,"h1"),_.EFF(1,"SmartGrow - Surveillance des Capteurs"),_.k0s(),_.DNE(2,lv,2,1,"p",0),_.DNE(3,WI,2,1,"p",0),_.DNE(4,Ww,2,1,"p",0),_.DNE(5,Tg,2,1,"p",0),_.DNE(6,dv,3,4,"p",0),_.DNE(7,db,3,4,"p",0),_.DNE(8,zI,3,4,"p",0)),2&o&&(_.R7$(2),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite_sol),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.temperature),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.luminosite),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.humidite_time),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.temperature_time),_.R7$(1),_.Y8G("ngIf",null==u.sensorData?null:u.sensorData.luminosite_time))},dependencies:[Fo,On],styles:[".container[_ngcontent-%COMP%]{text-align:center;padding:20px}h1[_ngcontent-%COMP%]{color:#4caf50}h2[_ngcontent-%COMP%]{font-size:1.5em}p[_ngcontent-%COMP%]{color:#999}"]})}}return n})(),KI=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=_.$C({type:n,bootstrap:[zw]})}static{this.\u0275inj=_.G2t({imports:[Ji,im,Bi.bf.initializeApp(Hw_firebaseConfig),jw]})}}return n})();Ln().bootstrapModule(KI).catch(n=>console.error(n))},4412:(Ze,ye,P)=>{P.d(ye,{t:()=>Z});var _=P(1413);class Z extends _.B{constructor(ee){super(),this._value=ee}get value(){return this.getValue()}_subscribe(ee){const re=super._subscribe(ee);return!re.closed&&ee.next(this._value),re}getValue(){const{hasError:ee,thrownError:re,_value:fe}=this;if(ee)throw re;return this._throwIfClosed(),fe}next(ee){super.next(this._value=ee)}}},1985:(Ze,ye,P)=>{P.d(ye,{c:()=>Te});var _=P(7707),Z=P(8359),O=P(3494),ee=P(1203),re=P(1026),fe=P(8071),pe=P(9786);let Te=(()=>{class Q{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Be=new Q;return Be.source=this,Be.operator=Ce,Be}subscribe(Ce,Be,Ae){const Fe=function j(Q){return Q&&Q instanceof _.vU||function L(Q){return Q&&(0,fe.T)(Q.next)&&(0,fe.T)(Q.error)&&(0,fe.T)(Q.complete)}(Q)&&(0,Z.Uv)(Q)}(Ce)?Ce:new _.Ms(Ce,Be,Ae);return(0,pe.Y)(()=>{const{operator:Me,source:nt}=this;Fe.add(Me?Me.call(Fe,nt):nt?this._subscribe(Fe):this._trySubscribe(Fe))}),Fe}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Be){Ce.error(Be)}}forEach(Ce,Be){return new(Be=de(Be))((Ae,Fe)=>{const Me=new _.Ms({next:nt=>{try{Ce(nt)}catch(Xe){Fe(Xe),Me.unsubscribe()}},error:Fe,complete:Ae});this.subscribe(Me)})}_subscribe(Ce){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ce)}[O.s](){return this}pipe(...Ce){return(0,ee.m)(Ce)(this)}toPromise(Ce){return new(Ce=de(Ce))((Be,Ae)=>{let Fe;this.subscribe(Me=>Fe=Me,Me=>Ae(Me),()=>Be(Fe))})}}return Q.create=Ne=>new Q(Ne),Q})();function de(Q){var Ne;return null!==(Ne=Q??re.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Ze,ye,P)=>{P.d(ye,{B:()=>pe});var _=P(1985),Z=P(8359);const ee=(0,P(1853).L)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=P(7908),fe=P(9786);let pe=(()=>{class de extends _.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new Te(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new ee}next(j){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,fe.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:Ne,observers:Ce}=this;return Q||Ne?Z.Kn:(this.currentObservers=null,Ce.push(j),new Z.yU(()=>{this.currentObservers=null,(0,re.o)(Ce,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:Ne,isStopped:Ce}=this;Q?j.error(Ne):Ce&&j.complete()}asObservable(){const j=new _.c;return j.source=this,j}}return de.create=(L,j)=>new Te(L,j),de})();class Te extends pe{constructor(L,j){super(),this.destination=L,this.source=j}next(L){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,L)}error(L){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,L)}complete(){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===j||j.call(L)}_subscribe(L){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(L))&&void 0!==Q?Q:Z.Kn}}},7707:(Ze,ye,P)=>{P.d(ye,{Ms:()=>Ae,vU:()=>Q});var _=P(8071),Z=P(8359),O=P(1026),ee=P(5334),re=P(5343);const fe=de("C",void 0,void 0);function de(ne,ge,te){return{kind:ne,value:ge,error:te}}var L=P(9270),j=P(9786);class Q extends Z.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,Z.Uv)(ge)&&ge.add(this)):this.destination=Xe}static create(ge,te,ve){return new Ae(ge,te,ve)}next(ge){this.isStopped?nt(function Te(ne){return de("N",ne,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?nt(function pe(ne){return de("E",void 0,ne)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?nt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Ce(ne,ge){return Ne.call(ne,ge)}class Be{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:te}=this;if(te.next)try{te.next(ge)}catch(ve){Fe(ve)}}error(ge){const{partialObserver:te}=this;if(te.error)try{te.error(ge)}catch(ve){Fe(ve)}else Fe(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(te){Fe(te)}}}class Ae extends Q{constructor(ge,te,ve){let Re;if(super(),(0,_.T)(ge)||!ge)Re={next:ge??void 0,error:te??void 0,complete:ve??void 0};else{let Ue;this&&O.$.useDeprecatedNextContext?(Ue=Object.create(ge),Ue.unsubscribe=()=>this.unsubscribe(),Re={next:ge.next&&Ce(ge.next,Ue),error:ge.error&&Ce(ge.error,Ue),complete:ge.complete&&Ce(ge.complete,Ue)}):Re=ge}this.destination=new Be(Re)}}function Fe(ne){O.$.useDeprecatedSynchronousErrorHandling?(0,j.l)(ne):(0,ee.m)(ne)}function nt(ne,ge){const{onStoppedNotification:te}=O.$;te&&L.f.setTimeout(()=>te(ne,ge))}const Xe={closed:!0,next:re.l,error:function Me(ne){throw ne},complete:re.l}},8359:(Ze,ye,P)=>{P.d(ye,{Kn:()=>fe,yU:()=>re,Uv:()=>pe});var _=P(8071);const O=(0,P(1853).L)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,Ne)=>`${Ne+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ee=P(7908);class re{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ce of j)Ce.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,_.T)(Q))try{Q()}catch(Ce){L=Ce instanceof O?Ce.errors:[Ce]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Ce of Ne)try{Te(Ce)}catch(Be){L=L??[],Be instanceof O?L=[...L,...Be.errors]:L.push(Be)}}if(L)throw new O(L)}}add(L){var j;if(L&&L!==this)if(this.closed)Te(L);else{if(L instanceof re){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(L)}}_hasParent(L){const{_parentage:j}=this;return j===L||Array.isArray(j)&&j.includes(L)}_addParent(L){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(L),j):j?[j,L]:L}_removeParent(L){const{_parentage:j}=this;j===L?this._parentage=null:Array.isArray(j)&&(0,ee.o)(j,L)}remove(L){const{_finalizers:j}=this;j&&(0,ee.o)(j,L),L instanceof re&&L._removeParent(this)}}re.EMPTY=(()=>{const de=new re;return de.closed=!0,de})();const fe=re.EMPTY;function pe(de){return de instanceof re||de&&"closed"in de&&(0,_.T)(de.remove)&&(0,_.T)(de.add)&&(0,_.T)(de.unsubscribe)}function Te(de){(0,_.T)(de)?de():de.unsubscribe()}},1026:(Ze,ye,P)=>{P.d(ye,{$:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Ze,ye,P)=>{P.d(ye,{w:()=>Z});const Z=new(P(1985).c)(re=>re.complete())},8455:(Ze,ye,P)=>{P.d(ye,{H:()=>ge});var _=P(8750),Z=P(941),O=P(6745),fe=P(1985),Te=P(4761),de=P(8071),L=P(5225);function Q(te,ve){if(!te)throw new Error("Iterable cannot be null");return new fe.c(Re=>{(0,L.N)(Re,ve,()=>{const Ue=te[Symbol.asyncIterator]();(0,L.N)(Re,ve,()=>{Ue.next().then(ae=>{ae.done?Re.complete():Re.next(ae.value)})},0,!0)})})}var Ne=P(5055),Ce=P(9858),Be=P(7441),Ae=P(5397),Fe=P(7953),Me=P(591),nt=P(5196);function ge(te,ve){return ve?function ne(te,ve){if(null!=te){if((0,Ne.l)(te))return function ee(te,ve){return(0,_.Tg)(te).pipe((0,O._)(ve),(0,Z.Q)(ve))}(te,ve);if((0,Be.X)(te))return function pe(te,ve){return new fe.c(Re=>{let Ue=0;return ve.schedule(function(){Ue===te.length?Re.complete():(Re.next(te[Ue++]),Re.closed||this.schedule())})})}(te,ve);if((0,Ce.y)(te))return function re(te,ve){return(0,_.Tg)(te).pipe((0,O._)(ve),(0,Z.Q)(ve))}(te,ve);if((0,Fe.T)(te))return Q(te,ve);if((0,Ae.x)(te))return function j(te,ve){return new fe.c(Re=>{let Ue;return(0,L.N)(Re,ve,()=>{Ue=te[Te.l](),(0,L.N)(Re,ve,()=>{let ae,st;try{({value:ae,done:st}=Ue.next())}catch(Ct){return void Re.error(Ct)}st?Re.complete():Re.next(ae)},0,!0)}),()=>(0,de.T)(Ue?.return)&&Ue.return()})}(te,ve);if((0,nt.U)(te))return function Xe(te,ve){return Q((0,nt.C)(te),ve)}(te,ve)}throw(0,Me.L)(te)}(te,ve):(0,_.Tg)(te)}},8750:(Ze,ye,P)=>{P.d(ye,{Tg:()=>Ne});var _=P(1635),Z=P(7441),O=P(9858),ee=P(1985),re=P(5055),fe=P(7953),pe=P(591),Te=P(5397),de=P(5196),L=P(8071),j=P(5334),Q=P(3494);function Ne(ne){if(ne instanceof ee.c)return ne;if(null!=ne){if((0,re.l)(ne))return function Ce(ne){return new ee.c(ge=>{const te=ne[Q.s]();if((0,L.T)(te.subscribe))return te.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,Z.X)(ne))return function Be(ne){return new ee.c(ge=>{for(let te=0;te<ne.length&&!ge.closed;te++)ge.next(ne[te]);ge.complete()})}(ne);if((0,O.y)(ne))return function Ae(ne){return new ee.c(ge=>{ne.then(te=>{ge.closed||(ge.next(te),ge.complete())},te=>ge.error(te)).then(null,j.m)})}(ne);if((0,fe.T)(ne))return Me(ne);if((0,Te.x)(ne))return function Fe(ne){return new ee.c(ge=>{for(const te of ne)if(ge.next(te),ge.closed)return;ge.complete()})}(ne);if((0,de.U)(ne))return function nt(ne){return Me((0,de.C)(ne))}(ne)}throw(0,pe.L)(ne)}function Me(ne){return new ee.c(ge=>{(function Xe(ne,ge){var te,ve,Re,Ue;return(0,_.sH)(this,void 0,void 0,function*(){try{for(te=(0,_.xN)(ne);!(ve=yield te.next()).done;)if(ge.next(ve.value),ge.closed)return}catch(ae){Re={error:ae}}finally{try{ve&&!ve.done&&(Ue=te.return)&&(yield Ue.call(te))}finally{if(Re)throw Re.error}}ge.complete()})})(ne,ge).catch(te=>ge.error(te))})}},7786:(Ze,ye,P)=>{P.d(ye,{h:()=>fe});var _=P(6365),Z=P(8750),O=P(983),ee=P(3794),re=P(8455);function fe(...pe){const Te=(0,ee.lI)(pe),de=(0,ee.R0)(pe,1/0),L=pe;return L.length?1===L.length?(0,Z.Tg)(L[0]):(0,_.U)(de)((0,re.H)(L,Te)):O.w}},7673:(Ze,ye,P)=>{P.d(ye,{of:()=>O});var _=P(3794),Z=P(8455);function O(...ee){const re=(0,_.lI)(ee);return(0,Z.H)(ee,re)}},4360:(Ze,ye,P)=>{P.d(ye,{_:()=>Z});var _=P(7707);function Z(ee,re,fe,pe,Te){return new O(ee,re,fe,pe,Te)}class O extends _.vU{constructor(re,fe,pe,Te,de,L){super(re),this.onFinalize=de,this.shouldUnsubscribe=L,this._next=fe?function(j){try{fe(j)}catch(Q){re.error(Q)}}:super._next,this._error=Te?function(j){try{Te(j)}catch(Q){re.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(j){re.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},3294:(Ze,ye,P)=>{P.d(ye,{F:()=>ee});var _=P(3669),Z=P(9974),O=P(4360);function ee(fe,pe=_.D){return fe=fe??re,(0,Z.N)((Te,de)=>{let L,j=!0;Te.subscribe((0,O._)(de,Q=>{const Ne=pe(Q);(j||!fe(L,Ne))&&(j=!1,L=Ne,de.next(Q))}))})}function re(fe,pe){return fe===pe}},6354:(Ze,ye,P)=>{P.d(ye,{T:()=>O});var _=P(9974),Z=P(4360);function O(ee,re){return(0,_.N)((fe,pe)=>{let Te=0;fe.subscribe((0,Z._)(pe,de=>{pe.next(ee.call(re,de,Te++))}))})}},6365:(Ze,ye,P)=>{P.d(ye,{U:()=>O});var _=P(1397),Z=P(3669);function O(ee=1/0){return(0,_.Z)(Z.D,ee)}},1397:(Ze,ye,P)=>{P.d(ye,{Z:()=>Te});var _=P(6354),Z=P(8750),O=P(9974),ee=P(5225),re=P(4360),pe=P(8071);function Te(de,L,j=1/0){return(0,pe.T)(L)?Te((Q,Ne)=>(0,_.T)((Ce,Be)=>L(Q,Ce,Ne,Be))((0,Z.Tg)(de(Q,Ne))),j):("number"==typeof L&&(j=L),(0,O.N)((Q,Ne)=>function fe(de,L,j,Q,Ne,Ce,Be,Ae){const Fe=[];let Me=0,nt=0,Xe=!1;const ne=()=>{Xe&&!Fe.length&&!Me&&L.complete()},ge=ve=>Me<Q?te(ve):Fe.push(ve),te=ve=>{Ce&&L.next(ve),Me++;let Re=!1;(0,Z.Tg)(j(ve,nt++)).subscribe((0,re._)(L,Ue=>{Ne?.(Ue),Ce?ge(Ue):L.next(Ue)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Me--;Fe.length&&Me<Q;){const Ue=Fe.shift();Be?(0,ee.N)(L,Be,()=>te(Ue)):te(Ue)}ne()}catch(Ue){L.error(Ue)}}))};return de.subscribe((0,re._)(L,ge,()=>{Xe=!0,ne()})),()=>{Ae?.()}}(Q,Ne,de,j)))}},941:(Ze,ye,P)=>{P.d(ye,{Q:()=>ee});var _=P(5225),Z=P(9974),O=P(4360);function ee(re,fe=0){return(0,Z.N)((pe,Te)=>{pe.subscribe((0,O._)(Te,de=>(0,_.N)(Te,re,()=>Te.next(de),fe),()=>(0,_.N)(Te,re,()=>Te.complete(),fe),de=>(0,_.N)(Te,re,()=>Te.error(de),fe)))})}},7647:(Ze,ye,P)=>{P.d(ye,{u:()=>re});var _=P(8750),Z=P(1413),O=P(7707),ee=P(9974);function re(pe={}){const{connector:Te=(()=>new Z.B),resetOnError:de=!0,resetOnComplete:L=!0,resetOnRefCountZero:j=!0}=pe;return Q=>{let Ne,Ce,Be,Ae=0,Fe=!1,Me=!1;const nt=()=>{Ce?.unsubscribe(),Ce=void 0},Xe=()=>{nt(),Ne=Be=void 0,Fe=Me=!1},ne=()=>{const ge=Ne;Xe(),ge?.unsubscribe()};return(0,ee.N)((ge,te)=>{Ae++,!Me&&!Fe&&nt();const ve=Be=Be??Te();te.add(()=>{Ae--,0===Ae&&!Me&&!Fe&&(Ce=fe(ne,j))}),ve.subscribe(te),!Ne&&Ae>0&&(Ne=new O.Ms({next:Re=>ve.next(Re),error:Re=>{Me=!0,nt(),Ce=fe(Xe,de,Re),ve.error(Re)},complete:()=>{Fe=!0,nt(),Ce=fe(Xe,L),ve.complete()}}),(0,_.Tg)(ge).subscribe(Ne))})(Q)}}function fe(pe,Te,...de){if(!0===Te)return void pe();if(!1===Te)return;const L=new O.Ms({next:()=>{L.unsubscribe(),pe()}});return(0,_.Tg)(Te(...de)).subscribe(L)}},6745:(Ze,ye,P)=>{P.d(ye,{_:()=>Z});var _=P(9974);function Z(O,ee=0){return(0,_.N)((re,fe)=>{fe.add(O.schedule(()=>re.subscribe(fe),ee))})}},5558:(Ze,ye,P)=>{P.d(ye,{n:()=>ee});var _=P(8750),Z=P(9974),O=P(4360);function ee(re,fe){return(0,Z.N)((pe,Te)=>{let de=null,L=0,j=!1;const Q=()=>j&&!de&&Te.complete();pe.subscribe((0,O._)(Te,Ne=>{de?.unsubscribe();let Ce=0;const Be=L++;(0,_.Tg)(re(Ne,Be)).subscribe(de=(0,O._)(Te,Ae=>Te.next(fe?fe(Ne,Ae,Be,Ce++):Ae),()=>{de=null,Q()}))},()=>{j=!0,Q()}))})}},8141:(Ze,ye,P)=>{P.d(ye,{M:()=>re});var _=P(8071),Z=P(9974),O=P(4360),ee=P(3669);function re(fe,pe,Te){const de=(0,_.T)(fe)||pe||Te?{next:fe,error:pe,complete:Te}:fe;return de?(0,Z.N)((L,j)=>{var Q;null===(Q=de.subscribe)||void 0===Q||Q.call(de);let Ne=!0;L.subscribe((0,O._)(j,Ce=>{var Be;null===(Be=de.next)||void 0===Be||Be.call(de,Ce),j.next(Ce)},()=>{var Ce;Ne=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),j.complete()},Ce=>{var Be;Ne=!1,null===(Be=de.error)||void 0===Be||Be.call(de,Ce),j.error(Ce)},()=>{var Ce,Be;Ne&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(Be=de.finalize)||void 0===Be||Be.call(de)}))}):ee.D}},6780:(Ze,ye,P)=>{P.d(ye,{R:()=>re});var _=P(8359);class Z extends _.yU{constructor(pe,Te){super()}schedule(pe,Te=0){return this}}const O={setInterval(fe,pe,...Te){const{delegate:de}=O;return de?.setInterval?de.setInterval(fe,pe,...Te):setInterval(fe,pe,...Te)},clearInterval(fe){const{delegate:pe}=O;return(pe?.clearInterval||clearInterval)(fe)},delegate:void 0};var ee=P(7908);class re extends Z{constructor(pe,Te){super(pe,Te),this.scheduler=pe,this.work=Te,this.pending=!1}schedule(pe,Te=0){var de;if(this.closed)return this;this.state=pe;const L=this.id,j=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(j,L,Te)),this.pending=!0,this.delay=Te,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,Te),this}requestAsyncId(pe,Te,de=0){return O.setInterval(pe.flush.bind(pe,this),de)}recycleAsyncId(pe,Te,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Te;null!=Te&&O.clearInterval(Te)}execute(pe,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(pe,Te);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Te){let L,de=!1;try{this.work(pe)}catch(j){de=!0,L=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Te}=this,{actions:de}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.o)(de,this),null!=pe&&(this.id=this.recycleAsyncId(Te,pe,null)),this.delay=null,super.unsubscribe()}}}},9687:(Ze,ye,P)=>{P.d(ye,{q:()=>O});var _=P(6129);class Z{constructor(re,fe=Z.now){this.schedulerActionCtor=re,this.now=fe}schedule(re,fe=0,pe){return new this.schedulerActionCtor(this,re).schedule(pe,fe)}}Z.now=_.U.now;class O extends Z{constructor(re,fe=Z.now){super(re,fe),this.actions=[],this._active=!1}flush(re){const{actions:fe}=this;if(this._active)return void fe.push(re);let pe;this._active=!0;do{if(pe=re.execute(re.state,re.delay))break}while(re=fe.shift());if(this._active=!1,pe){for(;re=fe.shift();)re.unsubscribe();throw pe}}}},3236:(Ze,ye,P)=>{P.d(ye,{E:()=>O});var _=P(6780);const O=new(P(9687).q)(_.R)},6129:(Ze,ye,P)=>{P.d(ye,{U:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},9270:(Ze,ye,P)=>{P.d(ye,{f:()=>_});const _={setTimeout(Z,O,...ee){const{delegate:re}=_;return re?.setTimeout?re.setTimeout(Z,O,...ee):setTimeout(Z,O,...ee)},clearTimeout(Z){const{delegate:O}=_;return(O?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},4761:(Ze,ye,P)=>{P.d(ye,{l:()=>Z});const Z=function _(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ze,ye,P)=>{P.d(ye,{s:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(Ze,ye,P)=>{P.d(ye,{R0:()=>fe,ms:()=>ee,lI:()=>re});var _=P(8071);function O(pe){return pe[pe.length-1]}function ee(pe){return(0,_.T)(O(pe))?pe.pop():void 0}function re(pe){return function Z(pe){return pe&&(0,_.T)(pe.schedule)}(O(pe))?pe.pop():void 0}function fe(pe,Te){return"number"==typeof O(pe)?pe.pop():Te}},7908:(Ze,ye,P)=>{function _(Z,O){if(Z){const ee=Z.indexOf(O);0<=ee&&Z.splice(ee,1)}}P.d(ye,{o:()=>_})},1853:(Ze,ye,P)=>{function _(Z){const ee=Z(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}P.d(ye,{L:()=>_})},9786:(Ze,ye,P)=>{P.d(ye,{Y:()=>O,l:()=>ee});var _=P(1026);let Z=null;function O(re){if(_.$.useDeprecatedSynchronousErrorHandling){const fe=!Z;if(fe&&(Z={errorThrown:!1,error:null}),re(),fe){const{errorThrown:pe,error:Te}=Z;if(Z=null,pe)throw Te}}else re()}function ee(re){_.$.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=re)}},5225:(Ze,ye,P)=>{function _(Z,O,ee,re=0,fe=!1){const pe=O.schedule(function(){ee(),fe?Z.add(this.schedule(null,re)):this.unsubscribe()},re);if(Z.add(pe),!fe)return pe}P.d(ye,{N:()=>_})},3669:(Ze,ye,P)=>{function _(Z){return Z}P.d(ye,{D:()=>_})},7441:(Ze,ye,P)=>{P.d(ye,{X:()=>_});const _=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},7953:(Ze,ye,P)=>{P.d(ye,{T:()=>Z});var _=P(8071);function Z(O){return Symbol.asyncIterator&&(0,_.T)(O?.[Symbol.asyncIterator])}},8071:(Ze,ye,P)=>{function _(Z){return"function"==typeof Z}P.d(ye,{T:()=>_})},5055:(Ze,ye,P)=>{P.d(ye,{l:()=>O});var _=P(3494),Z=P(8071);function O(ee){return(0,Z.T)(ee[_.s])}},5397:(Ze,ye,P)=>{P.d(ye,{x:()=>O});var _=P(4761),Z=P(8071);function O(ee){return(0,Z.T)(ee?.[_.l])}},9858:(Ze,ye,P)=>{P.d(ye,{y:()=>Z});var _=P(8071);function Z(O){return(0,_.T)(O?.then)}},5196:(Ze,ye,P)=>{P.d(ye,{C:()=>O,U:()=>ee});var _=P(1635),Z=P(8071);function O(re){return(0,_.AQ)(this,arguments,function*(){const pe=re.getReader();try{for(;;){const{value:Te,done:de}=yield(0,_.N3)(pe.read());if(de)return yield(0,_.N3)(void 0);yield yield(0,_.N3)(Te)}}finally{pe.releaseLock()}})}function ee(re){return(0,Z.T)(re?.getReader)}},9974:(Ze,ye,P)=>{P.d(ye,{N:()=>O,S:()=>Z});var _=P(8071);function Z(ee){return(0,_.T)(ee?.lift)}function O(ee){return re=>{if(Z(re))return re.lift(function(fe){try{return ee(fe,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Ze,ye,P)=>{function _(){}P.d(ye,{l:()=>_})},1203:(Ze,ye,P)=>{P.d(ye,{F:()=>Z,m:()=>O});var _=P(3669);function Z(...ee){return O(ee)}function O(ee){return 0===ee.length?_.D:1===ee.length?ee[0]:function(fe){return ee.reduce((pe,Te)=>Te(pe),fe)}}},5334:(Ze,ye,P)=>{P.d(ye,{m:()=>O});var _=P(1026),Z=P(9270);function O(ee){Z.f.setTimeout(()=>{const{onUnhandledError:re}=_.$;if(!re)throw ee;re(ee)})}},591:(Ze,ye,P)=>{function _(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{L:()=>_})},7705:(Ze,ye,P)=>{P.d(ye,{$C:()=>Ma,$GK:()=>tt,$K3:()=>gb,Agw:()=>lm,BIS:()=>Bc,BMQ:()=>Cd,C4Q:()=>Ig,Co$:()=>aI,DNE:()=>a_,EFF:()=>cl,EJ8:()=>Na,FsC:()=>Fu,G2t:()=>Ut,GFd:()=>$y,H3F:()=>pb,H5H:()=>L_,H8p:()=>Bi,HJs:()=>mT,Hbi:()=>rT,JZv:()=>Vt,KH2:()=>Bd,KVO:()=>Lt,L39:()=>pT,LfX:()=>dt,MKu:()=>iD,NEm:()=>OA,NYb:()=>RA,O8t:()=>Mh,OA$:()=>co,Ocv:()=>iA,Ol2:()=>lI,PLl:()=>cm,QTQ:()=>xm,Ql9:()=>aA,QuC:()=>qi,R7$:()=>Dy,RxE:()=>ay,SKi:()=>Sn,SpI:()=>ll,TL$:()=>Mv,Tbb:()=>Q,VBU:()=>$n,Vns:()=>Tu,WHO:()=>yb,WQX:()=>ft,XpG:()=>uE,Xx1:()=>zl,Y8G:()=>u_,Z63:()=>od,_9s:()=>gp,_q3:()=>rD,aKT:()=>dd,aNF:()=>dI,bIt:()=>d_,bkB:()=>ds,c1b:()=>tv,czy:()=>au,e01:()=>Eb,fpN:()=>nT,gRc:()=>HA,gXe:()=>Ge,giA:()=>Ib,hnV:()=>hb,i5U:()=>X_,iLQ:()=>Zw,j41:()=>Bp,jDH:()=>We,jNT:()=>ul,k0s:()=>Rd,kS0:()=>bc,kdw:()=>Kl,lsd:()=>iv,mGM:()=>kw,mq5:()=>LE,n$t:()=>gC,nI1:()=>CI,nKC:()=>qe,naY:()=>jA,nrm:()=>Md,o8S:()=>Sg,oH4:()=>bb,plB:()=>av,rXU:()=>pd,sFG:()=>sy,sZ2:()=>am,uvJ:()=>Ro,w6W:()=>mw,wOt:()=>ne,wni:()=>FI,xGo:()=>jl,xe9:()=>GI,xvI:()=>vm,zZn:()=>Ks,zcH:()=>ha,zjR:()=>sE});var _=P(1413),Z=P(8359),O=P(1985),ee=P(7786),re=P(4412),fe=P(7673),pe=P(7647),Te=P(5558),de=P(3294);function L(e){for(let r in e)if(e[r]===L)return r;throw Error("Could not find renamed property on target object.")}function Q(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Q).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const r=e.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ne(e,r){return null==e||""===e?null===r?"":r:null==r||""===r?e:e+" "+r}const Ce=L({__forward_ref__:L});function Be(e){return e.__forward_ref__=Be,e.toString=function(){return Q(this())},e}function Ae(e){return Fe(e)?e():e}function Fe(e){return"function"==typeof e&&e.hasOwnProperty(Ce)&&e.__forward_ref__===Be}function Me(e){return e&&!!e.\u0275providers}const Xe="https://g.co/ng/security#xss";class ne extends Error{constructor(r,s){super(function ge(e,r){return`NG0${Math.abs(e)}${r?": "+r:""}`}(r,s)),this.code=r}}function te(e){return"string"==typeof e?e:null==e?"":String(e)}function st(e,r){throw new ne(-201,!1)}function Ee(e,r){null==e&&function ue(e,r,s,a){throw new Error(`ASSERTION ERROR: ${e}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,e,null,"!=")}function We(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ut(e){return{providers:e.providers||[],imports:e.imports||[]}}function ir(e){return an(e,fn)||an(e,Ki)}function dt(e){return null!==ir(e)}function an(e,r){return e.hasOwnProperty(r)?e[r]:null}function Mn(e){return e&&(e.hasOwnProperty(Sr)||e.hasOwnProperty(ko))?e[Sr]:null}const fn=L({\u0275prov:L}),Sr=L({\u0275inj:L}),Ki=L({ngInjectableDef:L}),ko=L({ngInjectorDef:L});var tt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(tt||{});let wt;function Kt(e){const r=wt;return wt=e,r}function nn(e,r,s){const a=ir(e);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&tt.Optional?null:void 0!==r?r:void st(Q(e))}const Vt=globalThis;class qe{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=We({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const un={},Yr="__NG_DI_FLAG__",or="ngTempTokenPath",F=/\n/gm,_e="__source";let ie;function rt(e){const r=ie;return ie=e,r}function Mt(e,r=tt.Default){if(void 0===ie)throw new ne(-203,!1);return null===ie?nn(e,void 0,r):ie.get(e,r&tt.Optional?null:void 0,r)}function Lt(e,r=tt.Default){return(function lt(){return wt}()||Mt)(Ae(e),r)}function ft(e,r=tt.Default){return Lt(e,Tt(r))}function Tt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Hn(e){const r=[];for(let s=0;s<e.length;s++){const a=Ae(e[s]);if(Array.isArray(a)){if(0===a.length)throw new ne(900,!1);let c,d=tt.Default;for(let g=0;g<a.length;g++){const y=a[g],I=bi(y);"number"==typeof I?-1===I?c=y.token:d|=I:c=y}r.push(Lt(c,d))}else r.push(Lt(a))}return r}function gr(e,r){return e[Yr]=r,e.prototype[Yr]=r,e}function bi(e){return e[Yr]}function X(e){return{toString:e}.toString()}var Se=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Se||{}),Ge=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ge||{});const Je={},je=[],Nt=L({\u0275cmp:L}),En=L({\u0275dir:L}),hn=L({\u0275pipe:L}),ui=L({\u0275mod:L}),mr=L({\u0275fac:L}),Ai=L({__NG_ELEMENT_ID__:L}),Ru=L({__NG_ENV_ID__:L});function Da(e,r,s){let a=e.length;for(;;){const c=e.indexOf(r,s);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=r.length;if(c+d===a||e.charCodeAt(c+d)<=32)return c}s=c+1}}function ba(e,r,s){let a=0;for(;a<s.length;){const c=s[a];if("number"==typeof c){if(0!==c)break;a++;const d=s[a++],g=s[a++],y=s[a++];e.setAttribute(r,g,y,d)}else{const d=c,g=s[++a];Aa(d)?e.setProperty(r,d,g):e.setAttribute(r,d,g),a++}}return a}function Fr(e){return 3===e||4===e||6===e}function Aa(e){return 64===e.charCodeAt(0)}function Es(e,r){if(null!==r&&0!==r.length)if(null===e||0===e.length)e=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?s=c:0===s||Mu(e,s,c,null,-1===s||2===s?r[++a]:null)}}return e}function Mu(e,r,s,a,c){let d=0,g=e.length;if(-1===r)g=-1;else for(;d<e.length;){const y=e[d++];if("number"==typeof y){if(y===r){g=-1;break}if(y>r){g=d-1;break}}}for(;d<e.length;){const y=e[d];if("number"==typeof y)break;if(y===s){if(null===a)return void(null!==c&&(e[d+1]=c));if(a===e[d+1])return void(e[d+2]=c)}d++,null!==a&&d++,null!==c&&d++}-1!==g&&(e.splice(g,0,r),d=g+1),e.splice(d++,0,s),null!==a&&e.splice(d++,0,a),null!==c&&e.splice(d++,0,c)}const pn="ng-template";function Fo(e,r,s){let a=0,c=!0;for(;a<e.length;){let d=e[a++];if("string"==typeof d&&c){const g=e[a++];if(s&&"class"===d&&-1!==Da(g.toLowerCase(),r,0))return!0}else{if(1===d){for(;a<e.length&&"string"==typeof(d=e[a++]);)if(d.toLowerCase()===r)return!0;return!1}"number"==typeof d&&(c=!1)}}return!1}function Zd(e){return 4===e.type&&e.value!==pn}function Xd(e,r,s){return r===(4!==e.type||s?e.value:pn)}function Ta(e,r,s){let a=4;const c=e.attrs||[],d=function Is(e){for(let r=0;r<e.length;r++)if(Fr(e[r]))return r;return e.length}(c);let g=!1;for(let y=0;y<r.length;y++){const I=r[y];if("number"!=typeof I){if(!g)if(4&a){if(a=2|1&a,""!==I&&!Xd(e,I,s)||""===I&&1===r.length){if(Yn(a))return!1;g=!0}}else{const A=8&a?I:r[++y];if(8&a&&null!==e.attrs){if(!Fo(e.attrs,A,s)){if(Yn(a))return!1;g=!0}continue}const x=pl(8&a?"class":I,c,Zd(e),s);if(-1===x){if(Yn(a))return!1;g=!0;continue}if(""!==A){let W;W=x>d?"":c[x+1].toLowerCase();const Y=8&a?W:null;if(Y&&-1!==Da(Y,A,0)||2&a&&A!==W){if(Yn(a))return!1;g=!0}}}}else{if(!g&&!Yn(a)&&!Yn(I))return!1;if(g&&Yn(I))continue;g=!1,a=I|1&a}}return Yn(a)||g}function Yn(e){return 0==(1&e)}function pl(e,r,s,a){if(null===r)return-1;let c=0;if(a||!s){let d=!1;for(;c<r.length;){const g=r[c];if(g===e)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let y=r[++c];for(;"string"==typeof y;)y=r[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function Jd(e,r){let s=e.indexOf(4);if(s>-1)for(s++;s<e.length;){const a=e[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,e)}function Nu(e,r,s=!1){for(let a=0;a<r.length;a++)if(Ta(e,r[a],s))return!0;return!1}function Pu(e,r){return e?":not("+r.trim()+")":r}function gl(e){let r=e[0],s=1,a=2,c="",d=!1;for(;s<e.length;){let g=e[s];if("string"==typeof g)if(2&a){const y=e[++s];c+="["+g+(y.length>0?'="'+y+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Yn(g)&&(r+=Pu(d,c),c=""),a=g,d=d||!Yn(a);s++}return""!==c&&(r+=Pu(d,c)),r}function $n(e){return X(()=>{const r=ef(e),s={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Se.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ge.Emulated,styles:e.styles||je,_:null,schemas:e.schemas||null,tView:null,id:""};Uu(s);const a=e.dependencies;return s.directiveDefs=Cs(a,!1),s.pipeDefs=Cs(a,!0),s.id=function Vu(e){let r=0;const s=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of s)r=Math.imul(31,r)+c.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(s),s})}function Ra(e){return bt(e)||Wn(e)}function ku(e){return null!==e}function Ma(e){return X(()=>({type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function no(e,r){if(null==e)return Je;const s={};for(const a in e)if(e.hasOwnProperty(a)){let c=e[a],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),s[c]=a,r&&(r[c]=d)}return s}function Fu(e){return X(()=>{const r=ef(e);return Uu(r),r})}function Na(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function bt(e){return e[Nt]||null}function Wn(e){return e[En]||null}function On(e){return e[hn]||null}function qi(e){const r=bt(e)||Wn(e)||On(e);return null!==r&&r.standalone}function _r(e,r){const s=e[ui]||null;if(!s&&!0===r)throw new Error(`Type ${Q(e)} does not have '\u0275mod' property.`);return s}function ef(e){const r={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:e.inputs||Je,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:no(e.inputs,r),outputs:no(e.outputs)}}function Uu(e){e.features?.forEach(r=>r(e))}function Cs(e,r){if(!e)return null;const s=r?On:Ra;return()=>("function"==typeof e?e():e).map(a=>s(a)).filter(ku)}const cn=0,ke=1,mt=2,$t=3,Rr=4,ro=5,ar=6,Yi=7,ln=8,Qi=9,Qr=10,et=11,Pa=12,Oa=13,Ti=14,Dn=15,io=16,vr=17,yr=18,Br=19,ml=20,Zr=21,Si=22,Zi=23,ci=24,St=25,Uo=1,li=2,Mr=7,Ri=9,xn=11;function ur(e){return Array.isArray(e)&&"object"==typeof e[Uo]}function Zn(e){return Array.isArray(e)&&!0===e[Uo]}function ju(e){return 0!=(4&e.flags)}function Xn(e){return e.componentOffset>-1}function ws(e){return 1==(1&e.flags)}function Er(e){return!!e.template}function Xi(e){return 0!=(512&e[mt])}function Ni(e,r){return e.hasOwnProperty(mr)?e[mr]:null}let In=null,so=!1;function zn(e){const r=In;return In=e,r}const Yu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function El(e){if(!bs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Qu(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function sf(e){e.dirty=!0,function Ho(e){if(void 0===e.liveConsumerNode)return;const r=so;so=!0;try{for(const s of e.liveConsumerNode)s.dirty||sf(s)}finally{so=r}}(e),e.consumerMarkedDirty?.(e)}function kn(e){return e&&(e.nextProducerIndex=0),zn(e)}function La(e,r){if(zn(r),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(bs(e))for(let s=e.nextProducerIndex;s<e.producerNode.length;s++)ao(e.producerNode[s],e.producerIndexOfThis[s]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Qu(e){Pi(e);for(let r=0;r<e.producerNode.length;r++){const s=e.producerNode[r],a=e.producerLastReadVersion[r];if(a!==s.version||(El(s),a!==s.version))return!0}return!1}function Zu(e){if(Pi(e),bs(e))for(let r=0;r<e.producerNode.length;r++)ao(e.producerNode[r],e.producerIndexOfThis[r]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ao(e,r){if(function Fa(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Pi(e),1===e.liveConsumerNode.length)for(let a=0;a<e.producerNode.length;a++)ao(e.producerNode[a],e.producerIndexOfThis[a]);const s=e.liveConsumerNode.length-1;if(e.liveConsumerNode[r]=e.liveConsumerNode[s],e.liveConsumerIndexOfThis[r]=e.liveConsumerIndexOfThis[s],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,r<e.liveConsumerNode.length){const a=e.liveConsumerIndexOfThis[r],c=e.liveConsumerNode[r];Pi(c),c.producerIndexOfThis[a]=r}}function bs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Pi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ju=null;function Mh(e){const r=zn(null);try{return e()}finally{zn(r)}}const Dl=()=>{},Ha=(()=>({...Yu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Dl}))();class bl{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function co(){return Al}function Al(e){return e.type.prototype.ngOnChanges&&(e.setInput=Oi),As}function As(){const e=rc(this),r=e?.current;if(r){const s=e.previous;if(s===Je)e.previous=r;else for(let a in r)s[a]=r[a];e.current=null,this.ngOnChanges(r)}}function Oi(e,r,s,a){const c=this.declaredInputs[s],d=rc(e)||function ic(e,r){return e[Ts]=r}(e,{previous:Je,current:null}),g=d.current||(d.current={}),y=d.previous,I=y[c];g[c]=new bl(I&&I.currentValue,r,y===Je),e[a]=r}co.ngInherit=!0;const Ts="__ngSimpleChanges__";function rc(e){return e[Ts]||null}const fi=function(e,r,s){};function Bt(e){for(;Array.isArray(e);)e=e[cn];return e}function Ir(e,r){return Bt(r[e.index])}function oc(e,r){return e.data[r]}function Nr(e,r){const s=r[e];return ur(s)?s:s[cn]}function Ns(e,r){return null==r?null:e[r]}function $a(e){e[vr]=0}function ac(e){1024&e[mt]||(e[mt]|=1024,Qt(e,1))}function Ph(e){1024&e[mt]&&(e[mt]&=-1025,Qt(e,-1))}function Qt(e,r){let s=e[$t];if(null===s)return;s[ro]+=r;let a=s;for(s=s[$t];null!==s&&(1===r&&1===a[ro]||-1===r&&0===a[ro]);)s[ro]+=r,a=s,s=s[$t]}const ut={lFrame:Fn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ho(){return ut.bindingsEnabled}function Ie(){return ut.lFrame.lView}function _t(){return ut.lFrame.tView}function bn(){let e=fc();for(;null!==e&&64===e.type;)e=e.parent;return e}function fc(){return ut.lFrame.currentTNode}function Cr(e,r){const s=ut.lFrame;s.currentTNode=e,s.isParent=r}function pc(){return ut.lFrame.isParent}function Ko(){return ut.lFrame.bindingIndex++}function kh(e,r){const s=ut.lFrame;s.bindingIndex=s.bindingRootIndex=e,Ol(r)}function Ol(e){ut.lFrame.currentDirectiveIndex=e}function pf(){return ut.lFrame.currentQueryIndex}function Ga(e){ut.lFrame.currentQueryIndex=e}function Lh(e){const r=e[ke];return 2===r.type?r.declTNode:1===r.type?e[ar]:null}function Pr(e,r,s){if(s&tt.SkipSelf){let c=r,d=e;for(;!(c=c.parent,null!==c||s&tt.Host||(c=Lh(d),null===c||(d=d[Ti],10&c.type))););if(null===c)return!1;r=c,e=d}const a=ut.lFrame=po();return a.currentTNode=r,a.lView=e,!0}function Ps(e){const r=po(),s=e[ke];ut.lFrame=r,r.currentTNode=s.firstChild,r.lView=e,r.tView=s,r.contextLView=e,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function po(){const e=ut.lFrame,r=null===e?null:e.child;return null===r?Fn(e):r}function Fn(e){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=r),r}function it(){const e=ut.lFrame;return ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wr=it;function go(){const e=it();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Kn(){return ut.lFrame.selectedIndex}function ki(e){ut.lFrame.selectedIndex=e}function Ht(){const e=ut.lFrame;return oc(e.tView,e.selectedIndex)}let Li=!0;function mo(){return Li}function jt(e){Li=e}function Os(e,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=e.data[s].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:y,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:S}=d;g&&(e.contentHooks??=[]).push(-s,g),y&&((e.contentHooks??=[]).push(s,y),(e.contentCheckHooks??=[]).push(s,y)),I&&(e.viewHooks??=[]).push(-s,I),A&&((e.viewHooks??=[]).push(s,A),(e.viewCheckHooks??=[]).push(s,A)),null!=S&&(e.destroyHooks??=[]).push(s,S)}}function qa(e,r,s){ks(e,r,3,s)}function xs(e,r,s,a){(3&e[mt])===s&&ks(e,r,s,a)}function Ll(e,r){let s=e[mt];(3&s)===r&&(s&=8191,s+=1,e[mt]=s)}function ks(e,r,s,a){const d=a??-1,g=r.length-1;let y=0;for(let I=void 0!==a?65535&e[vr]:0;I<g;I++)if("number"==typeof r[I+1]){if(y=r[I],null!=a&&y>=a)break}else r[I]<0&&(e[vr]+=65536),(y<d||-1==d)&&(yc(e,s,r,I),e[vr]=(4294901760&e[vr])+I+2),I++}function es(e,r){fi(4,e,r);const s=zn(null);try{r.call(e)}finally{zn(s),fi(5,e,r)}}function yc(e,r,s,a){const c=s[a]<0,d=s[a+1],y=e[c?-s[a]:s[a]];c?e[mt]>>13<e[vr]>>16&&(3&e[mt])===r&&(e[mt]+=8192,es(y,d)):es(y,d)}const Jr=-1;class Ls{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Hr(e){return e!==Jr}function dn(e){return 32767&e}function Zo(e,r){let s=function rs(e){return e>>16}(e),a=r;for(;s>0;)a=a[Ti],s--;return a}let ei=!0;function Cn(e){const r=ei;return ei=e,r}const Vl=255,Qa=5;let is=0;const tr={};function $r(e,r){const s=ss(e,r);if(-1!==s)return s;const a=r[ke];a.firstCreatePass&&(e.injectorIndex=r.length,_o(a.data,e),_o(r,null),_o(a.blueprint,null));const c=os(e,r),d=e.injectorIndex;if(Hr(c)){const g=dn(c),y=Zo(c,r),I=y[ke].data;for(let A=0;A<8;A++)r[d+A]=y[g+A]|I[g+A]}return r[d+8]=c,d}function _o(e,r){e.push(0,0,0,0,0,0,0,0,r)}function ss(e,r){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===r[e.injectorIndex+8]?-1:e.injectorIndex}function os(e,r){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let s=0,a=null,c=r;for(;null!==c;){if(a=Dc(c),null===a)return Jr;if(s++,c=c[Ti],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return Jr}function vo(e,r,s){!function Tn(e,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ai)&&(a=s[Ai]),null==a&&(a=s[Ai]=is++);const c=a&Vl;r.data[e+(c>>Qa)]|=1<<c}(e,r,s)}function Fs(e,r,s){if(s&tt.Optional||void 0!==e)return e;st()}function Xo(e,r,s,a){if(s&tt.Optional&&void 0===a&&(a=null),!(s&(tt.Self|tt.Host))){const c=e[Qi],d=Kt(void 0);try{return c?c.get(r,a,s&tt.Optional):nn(r,a,s&tt.Optional)}finally{Kt(d)}}return Fs(a,0,s)}function Bl(e,r,s,a=tt.Default,c){if(null!==e){if(2048&r[mt]&&!(a&tt.Self)){const g=function Hl(e,r,s,a,c){let d=e,g=r;for(;null!==d&&null!==g&&2048&g[mt]&&!(512&g[mt]);){const y=gt(d,g,s,a|tt.Self,tr);if(y!==tr)return y;let I=d.parent;if(!I){const A=g[ml];if(A){const S=A.get(s,tr,a);if(S!==tr)return S}I=Dc(g),g=g[Ti]}d=I}return c}(e,r,s,a,tr);if(g!==tr)return g}const d=gt(e,r,s,a,tr);if(d!==tr)return d}return Xo(r,s,a,c)}function gt(e,r,s,a,c){const d=function as(e){if("string"==typeof e)return e.charCodeAt(0)||0;const r=e.hasOwnProperty(Ai)?e[Ai]:void 0;return"number"==typeof r?r>=0?r&Vl:Vs:r}(s);if("function"==typeof d){if(!Pr(r,e,a))return a&tt.Host?Fs(c,0,a):Xo(r,s,a,c);try{let g;if(g=d(a),null!=g||a&tt.Optional)return g;st()}finally{wr()}}else if("number"==typeof d){let g=null,y=ss(e,r),I=Jr,A=a&tt.Host?r[Dn][ar]:null;for((-1===y||a&tt.SkipSelf)&&(I=-1===y?os(e,r):r[y+8],I!==Jr&&ti(a,!1)?(g=r[ke],y=dn(I),r=Zo(I,r)):y=-1);-1!==y;){const S=r[ke];if(Cc(d,y,S.data)){const x=Xa(y,r,s,g,a,A);if(x!==tr)return x}I=r[y+8],I!==Jr&&ti(a,r[ke].data[y+8]===A)&&Cc(d,y,r)?(g=S,y=dn(I),r=Zo(I,r)):y=-1}}return c}function Xa(e,r,s,a,c,d){const g=r[ke],y=g.data[e+8],S=Ja(y,g,s,null==a?Xn(y)&&ei:a!=g&&0!=(3&y.type),c&tt.Host&&d===y);return null!==S?Wr(r,g,S,y):tr}function Ja(e,r,s,a,c){const d=e.providerIndexes,g=r.data,y=1048575&d,I=e.directiveStart,S=d>>20,W=c?y+S:e.directiveEnd;for(let Y=a?y:y+S;Y<W;Y++){const me=g[Y];if(Y<I&&s===me||Y>=I&&me.type===s)return Y}if(c){const Y=g[I];if(Y&&Er(Y)&&Y.type===s)return I}return null}function Wr(e,r,s,a){let c=e[s];const d=r.data;if(function Ya(e){return e instanceof Ls}(c)){const g=c;g.resolving&&function Re(e,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${e}`:"";throw new ne(-200,`Circular dependency in DI detected for ${e}${s}`)}(function ve(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():te(e)}(d[s]));const y=Cn(g.canSeeViewProviders);g.resolving=!0;const A=g.injectImpl?Kt(g.injectImpl):null;Pr(e,a,tt.Default);try{c=e[s]=g.factory(void 0,d,e,a),r.firstCreatePass&&s>=a.directiveStart&&function vc(e,r,s){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:d}=r.type.prototype;if(a){const g=Al(r);(s.preOrderHooks??=[]).push(e,g),(s.preOrderCheckHooks??=[]).push(e,g)}c&&(s.preOrderHooks??=[]).push(0-e,c),d&&((s.preOrderHooks??=[]).push(e,d),(s.preOrderCheckHooks??=[]).push(e,d))}(s,d[s],r)}finally{null!==A&&Kt(A),Cn(y),g.resolving=!1,wr()}}return c}function Cc(e,r,s){return!!(s[r+(e>>Qa)]&1<<e)}function ti(e,r){return!(e&tt.Self||e&tt.Host&&r)}class Zt{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Bl(this._tNode,this._lView,r,Tt(a),s)}}function Vs(){return new Zt(bn(),Ie())}function jl(e){return X(()=>{const r=e.prototype.constructor,s=r[mr]||wc(r),a=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==a;){const d=c[mr]||wc(c);if(d&&d!==s)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function wc(e){return Fe(e)?()=>{const r=wc(Ae(e));return r&&r()}:Ni(e)}function Dc(e){const r=e[ke],s=r.type;return 2===s?r.declTNode:1===s?e[ar]:null}function bc(e){return function Za(e,r){if("class"===r)return e.classes;if("style"===r)return e.styles;const s=e.attrs;if(s){const a=s.length;let c=0;for(;c<a;){const d=s[c];if(Fr(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<a&&"string"==typeof s[c];)c++;else{if(d===r)return s[c+1];c+=2}}}return null}(bn(),e)}const E="__parameters__";function H(e,r,s){return X(()=>{const a=function N(e){return function(...s){if(e){const a=e(...s);for(const c in a)this[c]=a[c]}}}(r);function c(...d){if(this instanceof c)return a.apply(this,d),this;const g=new c(...d);return y.annotation=g,y;function y(I,A,S){const x=I.hasOwnProperty(E)?I[E]:Object.defineProperty(I,E,{value:[]})[E];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(g),I}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}function tu(e,r){e.forEach(s=>Array.isArray(s)?tu(s,r):r(s))}function Pg(e,r,s){r>=e.length?e.push(s):e.splice(r,0,s)}function Eo(e,r){return r>=e.length-1?e.pop():e.splice(r,1)[0]}const zl=gr(H("Optional"),8),Kl=gr(H("SkipSelf"),4);function oa(e){return 128==(128&e.flags)}var au=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(au||{});const bf=new Map;let Pc=0;const Tf="__ngContext__";function Gn(e,r){ur(r)?(e[Tf]=r[Br],function Af(e){bf.set(e[Br],e)}(r)):e[Tf]=r}let K;function De(e,r){return K(e,r)}function He(e){const r=e[$t];return Zn(r)?r[$t]:r}function ri(e){return Sf(e[Pa])}function Ao(e){return Sf(e[Rr])}function Sf(e){for(;null!==e&&!Zn(e);)e=e[Rr];return e}function To(e,r,s,a,c){if(null!=a){let d,g=!1;Zn(a)?d=a:ur(a)&&(g=!0,a=a[cn]);const y=Bt(a);0===e&&null!==s?null==c?Cv(r,s,y):Lc(r,s,y,c||null,!0):1===e&&null!==s?Lc(r,s,y,c||null,!0):2===e?function Xh(e,r,s){const a=Zh(e,r);a&&function eC(e,r,s,a){e.removeChild(r,s,a)}(e,a,r,s)}(r,y,g):3===e&&r.destroyNode(y),null!=d&&function nC(e,r,s,a,c){const d=s[Mr];d!==Bt(s)&&To(r,e,a,d,c);for(let y=xn;y<s.length;y++){const I=s[y];Fc(I[ke],I,e,r,a,d)}}(r,e,d,s,c)}}function kc(e,r,s){return e.createElement(r,s)}function vv(e,r){const s=e[Ri],a=s.indexOf(r);Ph(r),s.splice(a,1)}function Yh(e,r){if(e.length<=xn)return;const s=xn+r,a=e[s];if(a){const c=a[io];null!==c&&c!==e&&vv(c,a),r>0&&(e[s-1][Rr]=a[Rr]);const d=Eo(e,xn+r);!function cu(e,r){Fc(e,r,r[et],2,null,null),r[cn]=null,r[ar]=null}(a[ke],a);const g=d[yr];null!==g&&g.detachView(d[ke]),a[$t]=null,a[Rr]=null,a[mt]&=-129}return a}function yv(e,r){if(!(256&r[mt])){const s=r[et];r[Zi]&&Zu(r[Zi]),r[ci]&&Zu(r[ci]),s.destroyNode&&Fc(e,r,s,3,null,null),function Hg(e){let r=e[Pa];if(!r)return Wg(e[ke],e);for(;r;){let s=null;if(ur(r))s=r[Pa];else{const a=r[xn];a&&(s=a)}if(!s){for(;r&&!r[Rr]&&r!==e;)ur(r)&&Wg(r[ke],r),r=r[$t];null===r&&(r=e),ur(r)&&Wg(r[ke],r),s=r&&r[Rr]}r=s}}(r)}}function Wg(e,r){if(!(256&r[mt])){r[mt]&=-129,r[mt]|=256,function Qh(e,r){let s;if(null!=e&&null!=(s=e.destroyHooks))for(let a=0;a<s.length;a+=2){const c=r[s[a]];if(!(c instanceof Ls)){const d=s[a+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const y=c[d[g]],I=d[g+1];fi(4,y,I);try{I.call(y)}finally{fi(5,y,I)}}else{fi(4,c,d);try{d.call(c)}finally{fi(5,c,d)}}}}}(e,r),function Ev(e,r){const s=e.cleanup,a=r[Yi];if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const g=s[d+3];g>=0?a[g]():a[-g].unsubscribe(),d+=2}else s[d].call(a[s[d+1]]);null!==a&&(r[Yi]=null);const c=r[Zr];if(null!==c){r[Zr]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(e,r),1===r[ke].type&&r[et].destroy();const s=r[io];if(null!==s&&Zn(r[$t])){s!==r[$t]&&vv(s,r);const a=r[yr];null!==a&&a.detachView(e)}!function Bg(e){bf.delete(e[Br])}(r)}}function lu(e,r,s){return function Iv(e,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[cn];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:d}=e.data[a.directiveStart+c];if(d===Ge.None||d===Ge.Emulated)return null}return Ir(a,s)}}(e,r.parent,s)}function Lc(e,r,s,a,c){e.insertBefore(r,s,a,c)}function Cv(e,r,s){e.appendChild(r,s)}function wv(e,r,s,a,c){null!==a?Lc(e,r,s,a,c):Cv(e,r,s)}function Zh(e,r){return e.parentNode(r)}let td,tp,np,bv=function zg(e,r,s){return 40&e.type?Ir(e,s):null};function ca(e,r,s,a){const c=lu(e,a,r),d=r[et],y=function Dv(e,r,s){return bv(e,r,s)}(a.parent||r[ar],a,r);if(null!=c)if(Array.isArray(s))for(let I=0;I<s.length;I++)wv(d,c,s[I],y,!1);else wv(d,c,s,y,!1);void 0!==td&&td(d,a,r,s,c)}function nd(e,r){if(null!==r){const s=r.type;if(3&s)return Ir(r,e);if(4&s)return Gg(-1,e[r.index]);if(8&s){const a=r.child;if(null!==a)return nd(e,a);{const c=e[r.index];return Zn(c)?Gg(-1,c):Bt(c)}}if(32&s)return De(r,e)()||Bt(e[r.index]);{const a=Av(e,r);return null!==a?Array.isArray(a)?a[0]:nd(He(e[Dn]),a):nd(e,r.next)}}return null}function Av(e,r){return null!==r?e[Dn][ar].projection[r.projection]:null}function Gg(e,r){const s=xn+e+1;if(s<r.length){const a=r[s],c=a[ke].firstChild;if(null!==c)return nd(a,c)}return r[Mr]}function qg(e,r,s,a,c,d,g){for(;null!=s;){const y=a[s.index],I=s.type;if(g&&0===r&&(y&&Gn(Bt(y),a),s.flags|=2),32!=(32&s.flags))if(8&I)qg(e,r,s.child,a,c,d,!1),To(r,e,c,y,d);else if(32&I){const A=De(s,a);let S;for(;S=A();)To(r,e,c,S,d);To(r,e,c,y,d)}else 16&I?Sv(e,r,a,s,c,d):To(r,e,c,y,d);s=g?s.projectionNext:s.next}}function Fc(e,r,s,a,c,d){qg(s,a,e.firstChild,r,c,d,!1)}function Sv(e,r,s,a,c,d){const g=s[Dn],I=g[ar].projection[a.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)To(r,e,c,I[A],d);else{let A=I;const S=g[$t];oa(a)&&(A.flags|=128),qg(e,r,A,S,c,d,!0)}}function Mf(e,r,s){""===s?e.removeAttribute(r,"class"):e.setAttribute(r,"class",s)}function Rv(e,r,s){const{mergedAttrs:a,classes:c,styles:d}=s;null!==a&&ba(e,r,a),null!==c&&Mf(e,r,c),null!==d&&function iC(e,r,s){e.setAttribute(r,"style",s)}(e,r,d)}function Mv(e){tp=e}function Ov(e){return function Qg(){if(void 0===np&&(np=null,Vt.trustedTypes))try{np=Vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return np}()?.createScriptURL(e)||e}class Zg{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xe})`}}function la(e){return e instanceof Zg?e.changingThisBreaksApplicationSecurity:e}function du(e,r){const s=function xv(e){return e instanceof Zg&&e.getTypeName()||null}(e);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see ${Xe})`)}return s===r}const kv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Uc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Uc||{});function Wv(e){const r=sp();return r?r.sanitize(Uc.URL,e)||"":du(e,"URL")?la(e):function em(e){return(e=String(e)).match(kv)?e:"unsafe:"+e}(te(e))}function zv(e){const r=sp();if(r)return Ov(r.sanitize(Uc.RESOURCE_URL,e)||"");if(du(e,"ResourceURL"))return Ov(la(e));throw new ne(904,!1)}function gC(e,r,s){return function vD(e,r){return"src"===r&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===r&&("base"===e||"link"===e)?zv:Wv}(r,s)(e)}function sp(){const e=Ie();return e&&e[Qr].sanitizer}const od=new qe("ENVIRONMENT_INITIALIZER"),Gv=new qe("INJECTOR",-1),qv=new qe("INJECTOR_DEF_TYPES");class im{get(r,s=un){if(s===un){const a=new Error(`NullInjectorError: No provider for ${Q(r)}!`);throw a.name="NullInjectorError",a}return s}}function mC(...e){return{\u0275providers:Qv(0,e),\u0275fromNgModule:!0}}function Qv(e,...r){const s=[],a=new Set;let c;const d=g=>{s.push(g)};return tu(r,g=>{const y=g;op(y,d,[],a)&&(c||=[],c.push(y))}),void 0!==c&&Zv(c,d),s}function Zv(e,r){for(let s=0;s<e.length;s++){const{ngModule:a,providers:c}=e[s];sm(c,d=>{r(d,a)})}}function op(e,r,s,a){if(!(e=Ae(e)))return!1;let c=null,d=Mn(e);const g=!d&&bt(e);if(d||g){if(g&&!g.standalone)return!1;c=e}else{const I=e.ngModule;if(d=Mn(I),!d)return!1;c=I}const y=a.has(c);if(g){if(y)return!1;if(a.add(c),g.dependencies){const I="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const A of I)op(A,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!y){let A;a.add(c);try{tu(d.imports,S=>{op(S,r,s,a)&&(A||=[],A.push(S))})}finally{}void 0!==A&&Zv(A,r)}if(!y){const A=Ni(c)||(()=>new c);r({provide:c,useFactory:A,deps:je},c),r({provide:qv,useValue:c,multi:!0},c),r({provide:od,useValue:()=>Lt(c),multi:!0},c)}const I=d.providers;if(null!=I&&!y){const A=e;sm(I,S=>{r(S,A)})}}}return c!==e&&void 0!==e.providers}function sm(e,r){for(let s of e)Me(s)&&(s=s.\u0275providers),Array.isArray(s)?sm(s,r):r(s)}const ED=L({provide:String,useValue:L});function Xv(e){return null!==e&&"object"==typeof e&&ED in e}function ad(e){return"function"==typeof e}const Bi=new qe("Set Injector scope."),ap={},om={};let up;function cp(){return void 0===up&&(up=new im),up}class Ro{}class ud extends Ro{get destroyed(){return this._destroyed}constructor(r,s,a,c){super(),this.parent=s,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,dp(r,g=>this.processProvider(g)),this.records.set(Gv,ji(void 0,this)),c.has("environment")&&this.records.set(Ro,ji(void 0,this));const d=this.records.get(Bi);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(qv.multi,je,tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const s=rt(this),a=Kt(void 0);try{return r()}finally{rt(s),Kt(a)}}get(r,s=un,a=tt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(Ru))return r[Ru](this);a=Tt(a);const d=rt(this),g=Kt(void 0);try{if(!(a&tt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const A=function lp(e){return"function"==typeof e||"object"==typeof e&&e instanceof qe}(r)&&ir(r);I=A&&this.injectableDefInScope(A)?ji(gi(r),ap):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&tt.Self?cp():this.parent).get(r,s=a&tt.Optional&&s===un?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[or]=y[or]||[]).unshift(Q(r)),d)throw y;return function Lo(e,r,s,a){const c=e[or];throw r[_e]&&c.unshift(r[_e]),e.message=function he(e,r,s,a=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=Q(r);if(Array.isArray(r))c=r.map(Q).join(" -> ");else if("object"==typeof r){let d=[];for(let g in r)if(r.hasOwnProperty(g)){let y=r[g];d.push(g+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}c=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${c}]: ${e.replace(F,"\n  ")}`}("\n"+e.message,c,s,a),e.ngTokenPath=c,e[or]=null,e}(y,r,"R3InjectorError",this.source)}throw y}finally{Kt(g),rt(d)}}resolveInjectorInitializers(){const r=rt(this),s=Kt(void 0);try{const c=this.get(od.multi,je,tt.Self);for(const d of c)d()}finally{rt(r),Kt(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Q(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ne(205,!1)}processProvider(r){let s=ad(r=Ae(r))?r:Ae(r&&r.provide);const a=function EC(e){return Xv(e)?ji(void 0,e.useValue):ji(function fu(e,r,s){let a;if(ad(e)){const c=Ae(e);return Ni(c)||gi(c)}if(Xv(e))a=()=>Ae(e.useValue);else if(function yC(e){return!(!e||!e.useFactory)}(e))a=()=>e.useFactory(...Hn(e.deps||[]));else if(function vC(e){return!(!e||!e.useExisting)}(e))a=()=>Lt(Ae(e.useExisting));else{const c=Ae(e&&(e.useClass||e.provide));if(!function Vc(e){return!!e.deps}(e))return Ni(c)||gi(c);a=()=>new c(...Hn(e.deps))}return a}(e),ap)}(r);if(ad(r)||!0!==r.multi)this.records.get(s);else{let c=this.records.get(s);c||(c=ji(void 0,ap,!0),c.factory=()=>Hn(c.multi),this.records.set(s,c)),s=r,c.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===ap&&(s.value=om,s.value=s.factory()),"object"==typeof s.value&&s.value&&function k(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Ae(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){const s=this._onDestroyHooks.indexOf(r);-1!==s&&this._onDestroyHooks.splice(s,1)}}function gi(e){const r=ir(e),s=null!==r?r.factory:Ni(e);if(null!==s)return s;if(e instanceof qe)throw new ne(204,!1);if(e instanceof Function)return function CD(e){const r=e.length;if(r>0)throw function nu(e,r){const s=[];for(let a=0;a<e;a++)s.push(r);return s}(r,"?"),new ne(204,!1);const s=function wn(e){return e&&(e[fn]||e[Ki])||null}(e);return null!==s?()=>s.factory(e):()=>new e}(e);throw new ne(204,!1)}function ji(e,r,s=!1){return{factory:e,value:r,multi:s?[]:void 0}}function dp(e,r){for(const s of e)Array.isArray(s)?dp(s,r):s&&Me(s)?dp(s.\u0275providers,r):r(s)}const am=new qe("AppId",{providedIn:"root",factory:()=>um}),um="ng",cm=new qe("Platform Initializer"),lm=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bc=new qe("CSP nonce",{providedIn:"root",factory:()=>function id(){if(void 0!==tp)return tp;if(typeof document<"u")return document;throw new ne(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ld=(e,r,s)=>null;function rr(e,r,s=!1){return ld(e,r,s)}class TC{}class ty{}class ny{resolveComponentFactory(r){throw function Ff(e){const r=Error(`No component factory found for ${Q(e)}.`);return r.ngComponent=e,r}(r)}}let Vf=(()=>{class e{static{this.NULL=new ny}}return e})();function ry(){return Kc(bn(),Ie())}function Kc(e,r){return new dd(Ir(e,r))}let dd=(()=>{class e{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=ry}}return e})();function iy(e){return e instanceof dd?e.nativeElement:e}class gp{}let sy=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function oy(){const e=Ie(),s=Nr(bn().index,e);return(ur(s)?s:e)[et]}()}}return e})(),_m=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>null})}}return e})();class ay{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const vm=new ay("16.2.12"),ym={};function Im(e,r=null,s=null,a){const c=dy(e,r,s,a);return c.resolveInjectorInitializers(),c}function dy(e,r=null,s=null,a,c=new Set){const d=[s||je,mC(e)];return a=a||("object"==typeof e?void 0:Q(e)),new ud(d,r||cp(),a||null,c)}let Ks=(()=>{class e{static{this.THROW_IF_NOT_FOUND=un}static{this.NULL=new im}static create(s,a){if(Array.isArray(s))return Im({name:""},a,s,"");{const c=s.name??"";return Im({name:c},s.parent,s.providers,c)}}static{this.\u0275prov=We({token:e,providedIn:"any",factory:()=>Lt(Gv)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Cm(e){return e.ngOriginalError}class ha{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Cm(r);for(;s&&Cm(s);)s=Cm(s);return s||null}}function Mo(e){return r=>{setTimeout(e,void 0,r)}}const ds=class LC extends _.B{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let c=r,d=s||(()=>null),g=a;if(r&&"object"==typeof r){const I=r;c=I.next?.bind(I),d=I.error?.bind(I),g=I.complete?.bind(I)}this.__isAsync&&(d=Mo(d),c&&(c=Mo(c)),g&&(g=Mo(g)));const y=super.subscribe({next:c,error:d,complete:g});return r instanceof Z.yU&&r.add(y),y}};function hy(...e){}class Sn{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ds(!1),this.onMicrotaskEmpty=new ds(!1),this.onStable=new ds(!1),this.onError=new ds(!1),typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function FC(){const e="function"==typeof Vt.requestAnimationFrame;let r=Vt[e?"requestAnimationFrame":"setTimeout"],s=Vt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&s){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function VC(e){const r=()=>{!function UC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Vt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,bm(e),e.isCheckStableRunning=!0,Dm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),bm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,c,d,g,y)=>{if(function my(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(y))return s.invokeTask(c,d,g,y);try{return _p(e),s.invokeTask(c,d,g,y)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&r(),Am(e)}},onInvoke:(s,a,c,d,g,y,I)=>{try{return _p(e),s.invoke(c,d,g,y,I)}finally{e.shouldCoalesceRunChangeDetection&&r(),Am(e)}},onHasTask:(s,a,c,d)=>{s.hasTask(c,d),a===c&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,bm(e),Dm(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,c,d)=>(s.handleError(c,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sn.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(Sn.isInAngularZone())throw new ne(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,r,py,hy,hy);try{return d.runTask(g,s,a)}finally{d.cancelTask(g)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const py={};function Dm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function bm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _p(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Am(e){e._nesting--,Dm(e)}class BC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ds,this.onMicrotaskEmpty=new ds,this.onStable=new ds,this.onError=new ds}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,c){return r.apply(s,a)}}const Tm=new qe("",{providedIn:"root",factory:gy});function gy(){const e=ft(Sn);let r=!0;const s=new O.c(c=>{r=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{c.next(r),c.complete()})}),a=new O.c(c=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(r=!0,c.next(!0))})})});const g=e.onUnstable.subscribe(()=>{Sn.assertInAngularZone(),r&&(r=!1,e.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});return(0,ee.h)(s,a.pipe((0,pe.u)()))}function No(e){return e instanceof Function?e():e}let Wt=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ft(e){for(;e;){e[mt]|=64;const r=He(e);if(Xi(e)&&!r)return e;e=r}return null}const tn=new qe("",{providedIn:"root",factory:()=>!1});let yp=null;function Pm(e,r){return e[r]??wy()}function pu(e,r){const s=wy();s.producerNode?.length&&(e[r]=yp,s.lView=e,yp=hd())}const Om={...Yu,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ft(e.lView)},lView:null};function hd(){return Object.create(Om)}function wy(){return yp??=hd(),yp}const Et={};function Dy(e){by(_t(),Ie(),Kn()+e,!1)}function by(e,r,s,a){if(!a)if(3==(3&r[mt])){const d=e.preOrderCheckHooks;null!==d&&qa(r,d,s)}else{const d=e.preOrderHooks;null!==d&&xs(r,d,0,s)}ki(s)}function pd(e,r=tt.Default){const s=Ie();return null===s?Lt(e,r):Bl(bn(),s,Ae(e),r)}function xm(){throw new Error("invalid")}function Rt(e,r,s,a,c,d,g,y,I,A,S){const x=r.blueprint.slice();return x[cn]=c,x[mt]=140|a,(null!==A||e&&2048&e[mt])&&(x[mt]|=2048),$a(x),x[$t]=x[Ti]=e,x[ln]=s,x[Qr]=g||e&&e[Qr],x[et]=y||e&&e[et],x[Qi]=I||e&&e[Qi]||null,x[ar]=d,x[Br]=function xr(){return Pc++}(),x[Si]=S,x[ml]=A,x[Dn]=2==r.type?e[Dn]:x,x}function ga(e,r,s,a,c){let d=e.data[r];if(null===d)d=function gd(e,r,s,a,c){const d=fc(),g=pc(),I=e.data[r]=function Sy(e,r,s,a,c,d){let g=r?r.injectorIndex:-1,y=0;return function Ji(){return null!==ut.skipHydrationRootTNode}()&&(y|=128),{type:s,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,s,r,a,c);return null===e.firstChild&&(e.firstChild=I),null!==d&&(g?null==d.child&&null!==I.parent&&(d.child=I):null===d.next&&(d.next=I,I.prev=d)),I}(e,r,s,a,c),function hf(){return ut.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=s,d.value=a,d.attrs=c;const g=function hc(){const e=ut.lFrame,r=e.currentTNode;return e.isParent?r:r.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Cr(d,!0),d}function md(e,r,s,a){if(0===s)return-1;const c=r.length;for(let d=0;d<s;d++)r.push(a),e.blueprint.push(a),e.data.push(null);return c}function Gs(e,r,s,a,c){const d=Pm(r,Zi),g=Kn(),y=2&a;try{ki(-1),y&&r.length>St&&by(e,r,St,!1),fi(y?2:0,c);const A=y?d:null,S=kn(A);try{null!==A&&(A.dirty=!1),s(a,c)}finally{La(A,S)}}finally{y&&null===r[Zi]&&pu(r,Zi),ki(g),fi(y?3:1,c)}}function _d(e,r,s){if(ju(r)){const a=zn(null);try{const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const y=e.data[g];y.contentQueries&&y.contentQueries(1,s[g],g)}}finally{zn(a)}}}function Wi(e,r,s){ho()&&(function Dt(e,r,s,a){const c=s.directiveStart,d=s.directiveEnd;Xn(s)&&function yd(e,r,s){const a=Ir(r,e),c=si(s);let g=16;s.signals?g=4096:s.onPush&&(g=64);const y=Ip(e,Rt(e,c,null,g,a,r,null,e[Qr].rendererFactory.createRenderer(a,s),null,null,null));e[r.index]=y}(r,s,e.data[c+s.componentOffset]),e.firstCreatePass||$r(s,r),Gn(a,r);const g=s.initialInputs;for(let y=c;y<d;y++){const I=e.data[y],A=Wr(r,e,y,s);Gn(A,r),null!==g&&YC(0,y-c,A,I,0,g),Er(I)&&(Nr(s.index,r)[ln]=Wr(r,e,y,s))}}(e,r,s,Ir(s,r)),64==(64&s.flags)&&My(e,r,s))}function km(e,r,s=Ir){const a=r.localNames;if(null!==a){let c=r.index+1;for(let d=0;d<a.length;d+=2){const g=a[d+1],y=-1===g?s(r,e):e[g];e[c++]=y}}}function si(e){const r=e.tView;return null===r||r.incompleteFirstPass?e.tView=Lm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):r}function Lm(e,r,s,a,c,d,g,y,I,A,S){const x=St+a,W=x+c,Y=function Fm(e,r){const s=[];for(let a=0;a<r;a++)s.push(a<e?null:Et);return s}(x,W),me="function"==typeof A?A():A;return Y[ke]={type:e,blueprint:Y,template:s,queries:null,viewQuery:y,declTNode:r,data:Y.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:W,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:I,consts:me,incompleteFirstPass:!1,ssrId:S}}let Vm=e=>null;function Bm(e,r,s,a){for(let c in e)if(e.hasOwnProperty(c)){s=null===s?{}:s;const d=e[c];null===a?Ry(s,r,c,d):a.hasOwnProperty(c)&&Ry(s,r,a[c],d)}return s}function Ry(e,r,s,a){e.hasOwnProperty(s)?e[s].push(r,a):e[s]=[r,a]}function $f(e,r,s,a){if(ho()){const c=null===a?null:{"":-1},d=function GC(e,r){const s=e.directiveRegistry;let a=null,c=null;if(s)for(let d=0;d<s.length;d++){const g=s[d];if(Nu(r,g.selectors,!1))if(a||(a=[]),Er(g))if(null!==g.findHostDirectiveDefs){const y=[];c=c||new Map,g.findHostDirectiveDefs(g,y,c),a.unshift(...y,g),_n(e,r,y.length)}else a.unshift(g),_n(e,r,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,a,c),a.push(g)}return null===a?null:[a,c]}(e,s);let g,y;null===d?g=y=null:[g,y]=d,null!==g&&Yc(e,r,s,g,c,y),c&&function Hm(e,r,s){if(r){const a=e.localNames=[];for(let c=0;c<r.length;c+=2){const d=s[r[c+1]];if(null==d)throw new ne(-301,!1);a.push(r[c],d)}}}(s,a,c)}s.mergedAttrs=Es(s.mergedAttrs,s.attrs)}function Yc(e,r,s,a,c,d){for(let A=0;A<a.length;A++)vo($r(s,r),e,a[A].type);!function $m(e,r,s){e.flags|=1,e.directiveStart=r,e.directiveEnd=r+s,e.providerIndexes=r}(s,e.data.length,a.length);for(let A=0;A<a.length;A++){const S=a[A];S.providersResolver&&S.providersResolver(S)}let g=!1,y=!1,I=md(e,r,a.length,null);for(let A=0;A<a.length;A++){const S=a[A];s.mergedAttrs=Es(s.mergedAttrs,S.hostAttrs),Ny(e,s,r,I,S),qC(I,S,c),null!==S.contentQueries&&(s.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(s.flags|=64);const x=S.type.prototype;!g&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(s.index),g=!0),!y&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(s.index),y=!0),I++}!function $C(e,r,s){const c=r.directiveEnd,d=e.data,g=r.attrs,y=[];let I=null,A=null;for(let S=r.directiveStart;S<c;S++){const x=d[S],W=s?s.get(x):null,me=W?W.outputs:null;I=Bm(x.inputs,S,I,W?W.inputs:null),A=Bm(x.outputs,S,A,me);const Pe=null===I||null===g||Zd(r)?null:Kf(I,S,g);y.push(Pe)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=8),I.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=y,r.inputs=I,r.outputs=A}(e,s,d)}function My(e,r,s){const a=s.directiveStart,c=s.directiveEnd,d=s.index,g=function Pl(){return ut.lFrame.currentDirectiveIndex}();try{ki(d);for(let y=a;y<c;y++){const I=e.data[y],A=r[y];Ol(y),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&zf(I,A)}}finally{ki(-1),Ol(g)}}function zf(e,r){null!==e.hostBindings&&e.hostBindings(1,r)}function _n(e,r,s){r.componentOffset=s,(e.components??=[]).push(r.index)}function qC(e,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=e;Er(r)&&(s[""]=e)}}function Ny(e,r,s,a,c){e.data[a]=c;const d=c.factory||(c.factory=Ni(c.type)),g=new Ls(d,Er(c),pd);e.blueprint[a]=g,s[a]=g,function ma(e,r,s,a,c){const d=c.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const y=~r.index;(function Wf(e){let r=e.length;for(;r>0;){const s=e[--r];if("number"==typeof s&&s<0)return s}return 0})(g)!=y&&g.push(y),g.push(s,a,d)}}(e,r,a,md(e,s,c.hostVars,Et),c)}function mi(e,r,s,a,c,d){const g=Ir(e,r);!function Qc(e,r,s,a,c,d,g){if(null==d)e.removeAttribute(r,c,s);else{const y=null==g?te(d):g(d,a||"",c);e.setAttribute(r,c,y,s)}}(r[et],g,d,e.value,s,a,c)}function YC(e,r,s,a,c,d){const g=d[r];if(null!==g)for(let y=0;y<g.length;)Ep(a,s,g[y++],g[y++],g[y++])}function Ep(e,r,s,a,c){const d=zn(null);try{const g=e.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(r,c)),null!==e.setInput?e.setInput(r,c,s,a):r[a]=c}finally{zn(d)}}function Kf(e,r,s){let a=null,c=0;for(;c<s.length;){const d=s[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===a&&(a=[]);const g=e[d];for(let y=0;y<g.length;y+=2)if(g[y]===r){a.push(d,g[y+1],s[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Py(e,r,s,a){return[e,!0,!1,r,null,0,a,s,null,null,null]}function Gf(e,r){const s=e.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a+1];if(-1!==d){const g=e.data[d];Ga(s[a]),g.contentQueries(2,r[d],d)}}}function Ip(e,r){return e[Pa]?e[Oa][Rr]=r:e[Pa]=r,e[Oa]=r,r}function Wm(e,r,s){Ga(0);const a=zn(null);try{r(e,s)}finally{zn(a)}}function Cp(e){return e[Yi]||(e[Yi]=[])}function Oy(e){return e.cleanup||(e.cleanup=[])}function xy(e,r){const s=e[Qi],a=s?s.get(ha,null):null;a&&a.handleError(r)}function Ed(e,r,s,a,c){for(let d=0;d<s.length;){const g=s[d++],y=s[d++];Ep(e.data[g],r[g],a,y,c)}}function Po(e,r,s){const a=function Rs(e,r){return Bt(r[e])}(r,e);!function aa(e,r,s){e.setValue(r,s)}(e[et],a,s)}function ky(e,r){const s=Nr(r,e),a=s[ke];!function Dp(e,r){for(let s=r.length;s<e.blueprint.length;s++)r.push(e.blueprint[s])}(a,s);const c=s[cn];null!==c&&null===s[Si]&&(s[Si]=rr(c,s[Qi])),zm(a,s,s[ln])}function zm(e,r,s){Ps(r);try{const a=e.viewQuery;null!==a&&Wm(1,a,s);const c=e.template;null!==c&&Gs(e,r,c,1,s),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Gf(e,r),e.staticViewQueries&&Wm(2,e.viewQuery,s);const d=e.components;null!==d&&function bp(e,r){for(let s=0;s<r.length;s++)ky(e,r[s])}(r,d)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{r[mt]&=-5,go()}}let Zc=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(s,a,c){const d=typeof Zone>"u"?null:Zone.current,g=function wl(e,r,s){const a=Object.create(Ha);s&&(a.consumerAllowSignalWrites=!0),a.fn=e,a.schedule=r;const c=g=>{a.cleanupFn=g};return a.ref={notify:()=>sf(a),run:()=>{if(a.dirty=!1,a.hasRun&&!Qu(a))return;a.hasRun=!0;const g=kn(a);try{a.cleanupFn(),a.cleanupFn=Dl,a.fn(c)}finally{La(a,g)}},cleanup:()=>a.cleanupFn()},a.ref}(s,A=>{this.all.has(A)&&this.queue.set(A,d)},c);let y;this.all.add(g),g.notify();const I=()=>{g.cleanup(),y?.(),this.all.delete(g),this.queue.delete(g)};return y=a?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[s,a]of this.queue)this.queue.delete(s),a?a.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=We({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Id(e,r,s){let a=s?e.styles:null,c=s?e.classes:null,d=0;if(null!==r)for(let g=0;g<r.length;g++){const y=r[g];"number"==typeof y?d=y:1==d?c=Ne(c,y):2==d&&(a=Ne(a,y+": "+r[++g]+";"))}s?e.styles=a:e.stylesWithoutHost=a,s?e.classes=c:e.classesWithoutHost=c}function qf(e,r,s,a,c=!1){for(;null!==s;){const d=r[s.index];null!==d&&a.push(Bt(d)),Zn(d)&&Ly(d,a);const g=s.type;if(8&g)qf(e,r,s.child,a);else if(32&g){const y=De(s,r);let I;for(;I=y();)a.push(I)}else if(16&g){const y=Av(r,s);if(Array.isArray(y))a.push(...y);else{const I=He(r[Dn]);qf(I[ke],I,y,a,!0)}}s=c?s.projectionNext:s.next}return a}function Ly(e,r){for(let s=xn;s<e.length;s++){const a=e[s],c=a[ke].firstChild;null!==c&&qf(a[ke],a,c,r)}e[Mr]!==e[cn]&&r.push(e[Mr])}function Yf(e,r,s,a=!0){const c=r[Qr],d=c.rendererFactory,g=c.afterRenderEventManager;d.begin?.(),g?.begin();try{Fy(e,r,e.template,s)}catch(I){throw a&&xy(r,I),I}finally{d.end?.(),c.effectManager?.flush(),g?.end()}}function Fy(e,r,s,a){const c=r[mt];if(256!=(256&c)){r[Qr].effectManager?.flush(),Ps(r);try{$a(r),function mc(e){return ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==s&&Gs(e,r,s,2,a);const g=3==(3&c);if(g){const A=e.preOrderCheckHooks;null!==A&&qa(r,A,null)}else{const A=e.preOrderHooks;null!==A&&xs(r,A,0,null),Ll(r,0)}if(function Gm(e){for(let r=ri(e);null!==r;r=Ao(r)){if(!r[li])continue;const s=r[Ri];for(let a=0;a<s.length;a++){ac(s[a])}}}(r),qs(r,2),null!==e.contentQueries&&Gf(e,r),g){const A=e.contentCheckHooks;null!==A&&qa(r,A)}else{const A=e.contentHooks;null!==A&&xs(r,A,1),Ll(r,1)}!function qc(e,r){const s=e.hostBindingOpCodes;if(null===s)return;const a=Pm(r,ci);try{for(let c=0;c<s.length;c++){const d=s[c];if(d<0)ki(~d);else{const g=d,y=s[++c],I=s[++c];kh(y,g),a.dirty=!1;const A=kn(a);try{I(2,r[g])}finally{La(a,A)}}}}finally{null===r[ci]&&pu(r,ci),ki(-1)}}(e,r);const y=e.components;null!==y&&Qf(r,y,0);const I=e.viewQuery;if(null!==I&&Wm(2,I,a),g){const A=e.viewCheckHooks;null!==A&&qa(r,A)}else{const A=e.viewHooks;null!==A&&xs(r,A,2),Ll(r,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r[mt]&=-73,Ph(r)}finally{go()}}}function qs(e,r){for(let s=ri(e);null!==s;s=Ao(s))for(let a=xn;a<s.length;a++)Ap(s[a],r)}function qm(e,r,s){Ap(Nr(r,e),s)}function Ap(e,r){if(!function cf(e){return 128==(128&e[mt])}(e))return;const s=e[ke],a=e[mt];if(80&a&&0===r||1024&a||2===r)Fy(s,e,s.template,e[ln]);else if(e[ro]>0){qs(e,1);const c=s.components;null!==c&&Qf(e,c,1)}}function Qf(e,r,s){for(let a=0;a<r.length;a++)qm(e,r[a],s)}class _a{get rootNodes(){const r=this._lView,s=r[ke];return qf(s,r,s.firstChild,[])}constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(r){this._lView[ln]=r}get destroyed(){return 256==(256&this._lView[mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[$t];if(Zn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Yh(r,a),Eo(s,a))}this._attachedToViewContainer=!1}yv(this._lView[ke],this._lView)}onDestroy(r){!function lf(e,r){if(256==(256&e[mt]))throw new ne(911,!1);null===e[Zr]&&(e[Zr]=[]),e[Zr].push(r)}(this._lView,r)}markForCheck(){Ft(this._cdRefInjectingView||this._lView)}detach(){this._lView[mt]&=-129}reattach(){this._lView[mt]|=128}detectChanges(){Yf(this._lView[ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qh(e,r){Fc(e,r,r[et],2,null,null)}(this._lView[ke],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=r}}class Xc extends _a{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Yf(r[ke],r,r[ln],!1)}checkNoChanges(){}get context(){return null}}class Jc extends Vf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=bt(r);return new ya(s,this.ngModule)}}function va(e){const r=[];for(let s in e)e.hasOwnProperty(s)&&r.push({propName:e[s],templateName:s});return r}class XC{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){a=Tt(a);const c=this.injector.get(r,ym,a);return c!==ym||s===ym?c:this.parentInjector.get(r,s,a)}}class ya extends ty{get inputs(){const r=this.componentDef,s=r.inputTransforms,a=va(r.inputs);if(null!==s)for(const c of a)s.hasOwnProperty(c.propName)&&(c.transform=s[c.propName]);return a}get outputs(){return va(this.componentDef.outputs)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Ur(e){return e.map(gl).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,a,c){let d=(c=c||this.ngModule)instanceof Ro?c:c?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const g=d?new XC(r,d):r,y=g.get(gp,null);if(null===y)throw new ne(407,!1);const x={rendererFactory:y,sanitizer:g.get(_m,null),effectManager:g.get(Zc,null),afterRenderEventManager:g.get(Wt,null)},W=y.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",me=a?function Um(e,r,s,a){const d=a.get(tn,!1)||s===Ge.ShadowDom,g=e.selectRootElement(r,d);return function HC(e){Vm(e)}(g),g}(W,a,this.componentDef.encapsulation,g):kc(W,Y,function ZC(e){const r=e.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),ot=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let be=null;null!==me&&(be=rr(me,g,!0));const It=Lm(0,null,null,1,0,null,null,null,null,null,null),kt=Rt(null,It,null,ot,null,null,x,W,g,null,be);let on,vs;Ps(kt);try{const hl=this.componentDef;let Rg,oD=null;hl.findHostDirectiveDefs?(Rg=[],oD=new Map,hl.findHostDirectiveDefs(hl,Rg,oD),Rg.push(hl)):Rg=[hl];const _T=function e0(e,r){const s=e[ke],a=St;return e[a]=r,ga(s,a,2,"#host",null)}(kt,me),vT=function Tp(e,r,s,a,c,d,g){const y=c[ke];!function Zf(e,r,s,a){for(const c of e)r.mergedAttrs=Es(r.mergedAttrs,c.hostAttrs);null!==r.mergedAttrs&&(Id(r,r.mergedAttrs,!0),null!==s&&Rv(a,s,r))}(a,e,r,g);let I=null;null!==r&&(I=rr(r,c[Qi]));const A=d.rendererFactory.createRenderer(r,s);let S=16;s.signals?S=4096:s.onPush&&(S=64);const x=Rt(c,si(s),null,S,c[e.index],e,d,A,null,null,I);return y.firstCreatePass&&_n(y,e,a.length-1),Ip(c,x),c[e.index]=x}(_T,me,hl,Rg,kt,x,W);vs=oc(It,St),me&&function Sp(e,r,s,a){if(a)ba(e,s,["ng-version",vm.full]);else{const{attrs:c,classes:d}=function Ou(e){const r=[],s=[];let a=1,c=2;for(;a<e.length;){let d=e[a];if("string"==typeof d)2===c?""!==d&&r.push(d,e[++a]):8===c&&s.push(d);else{if(!Yn(c))break;c=d}a++}return{attrs:r,classes:s}}(r.selectors[0]);c&&ba(e,s,c),d&&d.length>0&&Mf(e,s,d.join(" "))}}(W,hl,me,a),void 0!==s&&function el(e,r,s){const a=e.projection=[];for(let c=0;c<r.length;c++){const d=s[c];a.push(null!=d?Array.from(d):null)}}(vs,this.ngContentSelectors,s),on=function Uy(e,r,s,a,c,d){const g=bn(),y=c[ke],I=Ir(g,c);Yc(y,c,g,s,null,a);for(let S=0;S<s.length;S++)Gn(Wr(c,y,g.directiveStart+S,g),c);My(y,c,g),I&&Gn(I,c);const A=Wr(c,y,g.directiveStart+g.componentOffset,g);if(e[ln]=c[ln]=A,null!==d)for(const S of d)S(A,r);return _d(y,g,e),A}(vT,hl,Rg,oD,kt,[Ym]),zm(It,kt,null)}finally{go()}return new JC(this.componentType,on,Kc(vs,kt),kt,vs)}}class JC extends TC{constructor(r,s,a,c,d){super(),this.location=a,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new Xc(c),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;const d=this._rootLView;Ed(d[ke],d,c,r,s),this.previousInputValues.set(r,s),Ft(Nr(this._tNode.index,d))}}get injector(){return new Zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Ym(){const e=bn();Os(Ie()[ke],e)}function $y(e){const r=e.inputConfig,s={};for(const a in r)if(r.hasOwnProperty(a)){const c=r[a];Array.isArray(c)&&c[2]&&(s[a]=c[2])}e.inputTransforms=s}function Mp(e){return!!Np(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Np(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Gr(e,r,s){return!Object.is(e[r],s)&&(e[r]=s,!0)}function Cd(e,r,s,a){const c=Ie();return Gr(c,Ko(),r)&&(_t(),mi(Ht(),c,e,r,s,a)),Cd}function a_(e,r,s,a,c,d,g,y){const I=Ie(),A=_t(),S=e+St,x=A.firstCreatePass?function m0(e,r,s,a,c,d,g,y,I){const A=r.consts,S=ga(r,e,4,g||null,Ns(A,y));$f(r,s,S,Ns(A,I)),Os(r,S);const x=S.tView=Lm(2,S,a,c,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,A,null);return null!==r.queries&&(r.queries.template(r,S),x.queries=r.queries.embeddedTView(S)),S}(S,A,I,r,s,a,c,d,g):A.data[S];Cr(x,!1);const W=Vp(A,I,x,e);mo()&&ca(A,I,W,x),Gn(W,I),Ip(I,I[S]=Py(W,I,W,x)),ws(x)&&Wi(A,I,x),null!=g&&km(I,x,y)}let Vp=function eE(e,r,s,a){return jt(!0),r[et].createComment("")};function u_(e,r,s){const a=Ie();return Gr(a,Ko(),r)&&function Ot(e,r,s,a,c,d,g,y){const I=Ir(r,s);let S,A=r.inputs;!y&&null!=A&&(S=A[a])?(Ed(e,s,S,a,c),Xn(r)&&function zC(e,r){const s=Nr(r,e);16&s[mt]||(s[mt]|=64)}(s,r.index)):3&r.type&&(a=function WC(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(a),c=null!=g?g(c,r.value||"",a):c,d.setProperty(I,a,c))}(_t(),Ht(),a,e,r,a[et],s,!1),u_}function Sd(e,r,s,a,c){const g=c?"class":"style";Ed(e,s,r.inputs[g],g,a)}function Bp(e,r,s,a){const c=Ie(),d=_t(),g=St+e,y=c[et],I=d.firstCreatePass?function tE(e,r,s,a,c,d){const g=r.consts,I=ga(r,e,2,a,Ns(g,c));return $f(r,s,I,Ns(g,d)),null!==I.attrs&&Id(I,I.attrs,!1),null!==I.mergedAttrs&&Id(I,I.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,I),I}(g,d,c,r,s,a):d.data[g],A=nE(d,c,I,y,r,e);c[g]=A;const S=ws(I);return Cr(I,!0),Rv(y,A,I),32!=(32&I.flags)&&mo()&&ca(d,c,A,I),0===function Ln(){return ut.lFrame.elementDepthCount}()&&Gn(A,c),function Ml(){ut.lFrame.elementDepthCount++}(),S&&(Wi(d,c,I),_d(d,I,c)),null!==a&&km(c,I),Bp}function Rd(){let e=bn();pc()?function gc(){ut.lFrame.isParent=!1}():(e=e.parent,Cr(e,!1));const r=e;(function za(e){return ut.skipHydrationRootTNode===e})(r)&&function zo(){ut.skipHydrationRootTNode=null}(),function Jn(){ut.lFrame.elementDepthCount--}();const s=_t();return s.firstCreatePass&&(Os(s,e),ju(e)&&s.queries.elementEnd(e)),null!=r.classesWithoutHost&&function Fl(e){return 0!=(8&e.flags)}(r)&&Sd(s,r,Ie(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function er(e){return 0!=(16&e.flags)}(r)&&Sd(s,r,Ie(),r.stylesWithoutHost,!1),Rd}function Md(e,r,s,a){return Bp(e,r,s,a),Rd(),Md}let nE=(e,r,s,a,c,d)=>(jt(!0),kc(a,c,function Qo(){return ut.lFrame.currentNamespace}()));function ul(e){return!!e&&"function"==typeof e.then}function sE(e){return!!e&&"function"==typeof e.subscribe}function d_(e,r,s,a){const c=Ie(),d=_t(),g=bn();return function $p(e,r,s,a,c,d,g){const y=ws(a),A=e.firstCreatePass&&Oy(e),S=r[ln],x=Cp(r);let W=!0;if(3&a.type||g){const Pe=Ir(a,r),$e=g?g(Pe):Pe,ot=x.length,be=g?kt=>g(Bt(kt[a.index])):a.index;let It=null;if(!g&&y&&(It=function f_(e,r,s,a){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===s&&c[d+1]===a){const y=r[Yi],I=c[d+2];return y.length>I?y[I]:null}"string"==typeof g&&(d+=2)}return null}(e,r,c,a.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=d,It.__ngLastListenerFn__=d,W=!1;else{d=h_(a,r,S,d,!1);const kt=s.listen($e,c,d);x.push(d,kt),A&&A.push(c,be,ot,ot+1)}}else d=h_(a,r,S,d,!1);const Y=a.outputs;let me;if(W&&null!==Y&&(me=Y[c])){const Pe=me.length;if(Pe)for(let $e=0;$e<Pe;$e+=2){const on=r[me[$e]][me[$e+1]].subscribe(d),vs=x.length;x.push(d,on),A&&A.push(c,a.index,vs,-(vs+1))}}}(d,c,c[et],g,e,r,a),d_}function aE(e,r,s,a){try{return fi(6,r,s),!1!==s(a)}catch(c){return xy(e,c),!1}finally{fi(7,r,s)}}function h_(e,r,s,a,c){return function d(g){if(g===Function)return a;Ft(e.componentOffset>-1?Nr(e.index,r):r);let I=aE(r,s,a,g),A=d.__ngNextListenerFn__;for(;A;)I=aE(r,s,A,g)&&I,A=A.__ngNextListenerFn__;return c&&!1===I&&g.preventDefault(),I}}function uE(e=1){return function Yo(e){return(ut.lFrame.contextLView=function _c(e,r){for(;e>0;)r=r[Ti],e--;return r}(e,ut.lFrame.contextLView))[ln]}(e)}function cl(e,r=""){const s=Ie(),a=_t(),c=e+St,d=a.firstCreatePass?ga(a,c,1,r,null):a.data[c],g=EE(a,s,d,r,e);s[c]=g,mo()&&ca(a,s,g,d),Cr(d,!1)}let EE=(e,r,s,a,c)=>(jt(!0),function ls(e,r){return e.createText(r)}(r[et],a));function ll(e,r,s){const a=Ie(),c=function il(e,r,s,a){return Gr(e,Ko(),s)?r+te(s)+a:Et}(a,e,r,s);return c!==Et&&Po(a,Kn(),c),ll}const bu=void 0;var kE=["en",[["a","p"],["AM","PM"],bu],[["AM","PM"],bu,bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bu,"{1} 'at' {0}",bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Js(e){const s=Math.floor(Math.abs(e)),a=e.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Vd={};function L_(e){const r=function F0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let s=FE(r);if(s)return s;const a=r.split("-")[0];if(s=FE(a),s)return s;if("en"===a)return kE;throw new ne(701,!1)}function LE(e){return L_(e)[Bd.PluralCase]}function FE(e){return e in Vd||(Vd[e]=Vt.ng&&Vt.ng.common&&Vt.ng.common.locales&&Vt.ng.common.locales[e]),Vd[e]}var Bd=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Bd||{});const jd="en-US";let UE=jd;class Tu{}class aI{}function mw(e,r){return new hg(e,r??null,[])}class hg extends Tu{constructor(r,s,a){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jc(this);const c=_r(r);this._bootstrapComponents=No(c.bootstrap),this._r3Injector=dy(r,s,[{provide:Tu,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver},...a],Q(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Wd extends aI{constructor(r){super(),this.moduleType=r}create(r){return new hg(this.moduleType,r,[])}}class cI extends Tu{constructor(r){super(),this.componentFactoryResolver=new Jc(this),this.instance=null;const s=new ud([...r.providers,{provide:Tu,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver}],r.parent||cp(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function lI(e,r,s=null){return new cI({providers:e,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}let _w=(()=>{class e{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const a=Qv(0,s.type),c=a.length>0?lI([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,c)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=We({token:e,providedIn:"environment",factory:()=>new e(Lt(Ro))})}}return e})();function dI(e){e.getStandaloneInjector=r=>r.get(_w).getOrCreateStandaloneInjector(e)}function vI(e,r,s,a,c,d,g){const y=r+s;return function rl(e,r,s,a){const c=Gr(e,r,s);return Gr(e,r+1,a)||c}(e,y,c,d)?function Oo(e,r,s){return e[r]=s}(e,y+2,g?a.call(g,c,d):a(c,d)):function Kd(e,r){const s=e[r];return s===Et?void 0:s}(e,y+2)}function CI(e,r){const s=_t();let a;const c=e+St;s.firstCreatePass?(a=function Cw(e,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(e===a.name)return a}}(r,s.pipeRegistry),s.data[c]=a,a.onDestroy&&(s.destroyHooks??=[]).push(c,a.onDestroy)):a=s.data[c];const d=a.factory||(a.factory=Ni(a.type)),y=Kt(pd);try{const I=Cn(!1),A=d();return Cn(I),function _0(e,r,s,a){s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),r[s]=a}(s,Ie(),c,A),A}finally{Kt(y)}}function X_(e,r,s,a){const c=e+St,d=Ie(),g=function hi(e,r){return e[r]}(d,c);return function yh(e,r){return e[ke].data[r].pure}(d,c)?vI(d,function An(){const e=ut.lFrame;let r=e.bindingRootIndex;return-1===r&&(r=e.bindingRootIndex=e.tView.bindingStartIndex),r}(),r,g.transform,s,a,g):g.transform(s,a)}function Dw(){return this._results[Symbol.iterator]()}class Eg{get changes(){return this._changes||(this._changes=new ds)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Eg.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Dw)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const c=function zr(e){return e.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function eu(e,r,s){if(e.length!==r.length)return!1;for(let a=0;a<e.length;a++){let c=e[a],d=r[a];if(s&&(c=s(c),d=s(d)),d!==c)return!1}return!0}(a._results,c,s))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function bI(e,r,s,a=!0){const c=r[ke];if(function Rf(e,r,s,a){const c=xn+a,d=s.length;a>0&&(s[c-1][Rr]=r),a<d-xn?(r[Rr]=s[c],Pg(s,xn+a,r)):(s.push(r),r[Rr]=null),r[$t]=s;const g=r[io];null!==g&&s!==g&&function $g(e,r){const s=e[Ri];r[Dn]!==r[$t][$t][Dn]&&(e[li]=!0),null===s?e[Ri]=[r]:s.push(r)}(g,r);const y=r[yr];null!==y&&y.insertView(e),r[mt]|=128}(c,r,e,s),a){const d=Gg(s,e),g=r[et],y=Zh(g,e[Mr]);null!==y&&function ua(e,r,s,a,c,d){a[cn]=c,a[ar]=r,Fc(e,a,s,1,c,d)}(c,e[ar],g,r,y,d)}}let Ig=(()=>{class e{static{this.__NG_ELEMENT_ID__=nb}}return e})();const Tw=Ig,tb=class extends Tw{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,a){const c=function DI(e,r,s,a){const c=r.tView,y=Rt(e,c,s,4096&e[mt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);y[io]=e[r.index];const A=e[yr];return null!==A&&(y[yr]=A.createEmbeddedView(c)),zm(c,y,s),y}(this._declarationLView,this._declarationTContainer,r,{injector:s,hydrationInfo:a});return new _a(c)}};function nb(){return Gd(bn(),Ie())}function Gd(e,r){return 4&e.type?new tb(r,e,Kc(e,r)):null}let tv=(()=>{class e{static{this.__NG_ELEMENT_ID__=Mw}}return e})();function Mw(){return Nw(bn(),Ie())}const sb=tv,SI=class extends sb{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Kc(this._hostTNode,this._hostLView)}get injector(){return new Zt(this._hostTNode,this._hostLView)}get parentInjector(){const r=os(this._hostTNode,this._hostLView);if(Hr(r)){const s=Zo(r,this._hostLView),a=dn(r);return new Zt(s[ke].data[a+8],s)}return new Zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=RI(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(r,s,a){let c,d;"number"==typeof a?c=a:null!=a&&(c=a.index,d=a.injector);const y=r.createEmbeddedViewImpl(s||{},d,null);return this.insertImpl(y,c,false),y}createComponent(r,s,a,c,d){const g=r&&!function br(e){return"function"==typeof e}(r);let y;if(g)y=s;else{const Pe=s||{};y=Pe.index,a=Pe.injector,c=Pe.projectableNodes,d=Pe.environmentInjector||Pe.ngModuleRef}const I=g?r:new ya(bt(r)),A=a||this.parentInjector;if(!d&&null==I.ngModule){const $e=(g?A:this.parentInjector).get(Ro,null);$e&&(d=$e)}bt(I.componentType??{});const Y=I.create(A,c,null,d);return this.insertImpl(Y.hostView,y,false),Y}insert(r,s){return this.insertImpl(r,s,!1)}insertImpl(r,s,a){const c=r._lView;if(function Ms(e){return Zn(e[$t])}(c)){const I=this.indexOf(r);if(-1!==I)this.detach(I);else{const A=c[$t],S=new SI(A,A[ar],A[$t]);S.detach(S.indexOf(r))}}const g=this._adjustIndex(s),y=this._lContainer;return bI(y,c,g,!a),r.attachToViewContainerRef(),Pg(MI(y),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=RI(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Yh(this._lContainer,s);a&&(Eo(MI(this._lContainer),s),yv(a[ke],a))}detach(r){const s=this._adjustIndex(r,-1),a=Yh(this._lContainer,s);return a&&null!=Eo(MI(this._lContainer),s)?new _a(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function RI(e){return e[8]}function MI(e){return e[8]||(e[8]=[])}function Nw(e,r){let s;const a=r[e.index];return Zn(a)?s=a:(s=Py(a,r,null,e),r[e.index]=s,Ip(r,s)),Ow(s,r,e,a),new SI(s,e,r)}let Ow=function xw(e,r,s,a){if(e[Mr])return;let c;c=8&s.type?Bt(a):function Pw(e,r){const s=e[et],a=s.createComment(""),c=Ir(r,e);return Lc(s,Zh(s,c),a,function tC(e,r){return e.nextSibling(r)}(s,c),!1),a}(r,s),e[Mr]=c};class NI{constructor(r){this.queryList=r,this.matches=null}clone(){return new NI(this.queryList)}setDirty(){this.queryList.setDirty()}}class nv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,c=[];for(let d=0;d<a;d++){const g=s.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new nv(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==VI(r,s).matches&&this.queries[s].setDirty()}}class PI{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Dg{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const c=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,c);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Dg(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class bg{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new bg(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const d=a[c];this.matchTNodeWithReadOption(r,s,OI(s,d)),this.matchTNodeWithReadOption(r,s,Ja(s,r,d,!1,!1))}else a===Ig?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ja(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===dd||c===tv||c===Ig&&4&s.type)this.addMatch(s.index,-2);else{const d=Ja(s,r,c,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function OI(e,r){const s=e.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function kI(e,r,s,a){return-1===s?function xI(e,r){return 11&e.type?Kc(e,r):4&e.type?Gd(e,r):null}(r,e):-2===s?function LI(e,r,s){return s===dd?Kc(r,e):s===Ig?Gd(r,e):s===tv?Nw(r,e):void 0}(e,r,a):Wr(e,e[ke],s,r)}function rv(e,r,s,a){const c=r[yr].queries[a];if(null===c.matches){const d=e.data,g=s.matches,y=[];for(let I=0;I<g.length;I+=2){const A=g[I];y.push(A<0?null:kI(r,d[A],g[I+1],s.metadata.read))}c.matches=y}return c.matches}function Ag(e,r,s,a){const c=e.queries.getByIndex(s),d=c.matches;if(null!==d){const g=rv(e,r,c,s);for(let y=0;y<d.length;y+=2){const I=d[y];if(I>0)a.push(g[y/2]);else{const A=d[y+1],S=r[-I];for(let x=xn;x<S.length;x++){const W=S[x];W[io]===W[$t]&&Ag(W[ke],W,A,a)}if(null!==S[Ri]){const x=S[Ri];for(let W=0;W<x.length;W++){const Y=x[W];Ag(Y[ke],Y,A,a)}}}}}return a}function kw(e){const r=Ie(),s=_t(),a=pf();Ga(a+1);const c=VI(s,a);if(e.dirty&&function fo(e){return 4==(4&e[mt])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)e.reset([]);else{const d=c.crossesNgTemplate?Ag(s,r,a,[]):rv(s,r,c,a);e.reset(d,iy),e.notifyOnChanges()}return!0}return!1}function FI(e,r,s,a){const c=_t();if(c.firstCreatePass){const d=bn();(function ov(e,r,s){null===e.queries&&(e.queries=new Dg),e.queries.track(new bg(r,s))})(c,new PI(r,s,a),d.index),function Ih(e,r){const s=e.contentQueries||(e.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(e.queries.length-1,r)}(c,e),2==(2&s)&&(c.staticContentQueries=!0)}!function sv(e,r,s){const a=new Eg(4==(4&s));(function vd(e,r,s,a){const c=Cp(r);c.push(s),e.firstCreatePass&&Oy(e).push(a,c.length-1)})(e,r,a,a.destroy),null===r[yr]&&(r[yr]=new nv),r[yr].queries.push(new NI(a))}(c,Ie(),s)}function iv(){return function UI(e,r){return e[yr].queries[r].queryList}(Ie(),pf())}function VI(e,r){return e.queries.getByIndex(r)}function av(e){return!!_r(e)}const hb=new qe("Application Initializer");let Kw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a}),this.appInits=ft(hb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const c of this.appInits){const d=c();if(ul(d))s.push(d);else if(sE(d)){const g=new Promise((y,I)=>{d.subscribe({complete:y,error:I})});s.push(g)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{a()}).catch(c=>{this.reject(c)}),0===s.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pb=(()=>{class e{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const GI=new qe("LocaleId",{providedIn:"root",factory:()=>ft(GI,tt.Optional|tt.SkipSelf)||function rA(){return typeof $localize<"u"&&$localize.locale||jd}()}),iA=new qe("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let gb=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new re.t(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class oA{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let aA=(()=>{class e{compileModuleSync(s){return new Wd(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=No(_r(s).declarations).reduce((g,y)=>{const I=bt(y);return I&&g.push(new ya(I)),g},[]);return new oA(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const yb=new qe(""),Eb=new qe("");let Yw,RA=(()=>{class e{constructor(s,a,c){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yw||(function MA(e){Yw=e}(c),c.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,c){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:c})}whenStable(s,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,c){return[]}static{this.\u0275fac=function(a){return new(a||e)(Lt(Sn),Lt(Ib),Lt(Eb))}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac})}}return e})(),Ib=(()=>{class e{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Yw?.findTestabilityInTree(this,s,a)??null}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Qd=null;const Cb=new qe("AllowMultipleToken"),Qw=new qe("PlatformDestroyListeners"),Zw=new qe("appBootstrapListener");class OA{constructor(r,s){this.name=r,this.token=s}}function bb(e,r,s=[]){const a=`Platform: ${r}`,c=new qe(a);return(d=[])=>{let g=Xw();if(!g||g.injector.get(Cb,!1)){const y=[...s,...d,{provide:c,useValue:!0}];e?e(y):function xA(e){if(Qd&&!Qd.get(Cb,!1))throw new ne(400,!1);(function wb(){!function Ba(e){Ju=e}(()=>{throw new ne(600,!1)})})(),Qd=e;const r=e.get(Tb);(function Db(e){e.get(cm,null)?.forEach(s=>s())})(e)}(function Ab(e=[],r){return Ks.create({name:r,providers:[{provide:Bi,useValue:"platform"},{provide:Qw,useValue:new Set([()=>Qd=null])},...e]})}(y,a))}return function LA(e){const r=Xw();if(!r)throw new ne(401,!1);return r}()}}function Xw(){return Qd?.get(Tb)??null}let Tb=(()=>{class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const c=function FA(e="zone.js",r){return"noop"===e?new BC:"zone.js"===e?new Sn(r):e}(a?.ngZone,function Sb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return c.run(()=>{const d=function uI(e,r,s){return new hg(e,r,s)}(s.moduleType,this.injector,function Ob(e){return[{provide:Sn,useFactory:e},{provide:od,multi:!0,useFactory:()=>{const r=ft(VA,{optional:!0});return()=>r.initialize()}},{provide:Pb,useFactory:UA},{provide:Tm,useFactory:gy}]}(()=>c)),g=d.injector.get(ha,null);return c.runOutsideAngular(()=>{const y=c.onError.subscribe({next:I=>{g.handleError(I)}});d.onDestroy(()=>{YI(this._modules,d),y.unsubscribe()})}),function Rb(e,r,s){try{const a=s();return ul(a)?a.catch(c=>{throw r.runOutsideAngular(()=>e.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>e.handleError(a)),a}}(g,c,()=>{const y=d.injector.get(Kw);return y.runInitializers(),y.donePromise.then(()=>(function VE(e){Ee(e,"Expected localeId to be defined"),"string"==typeof e&&(UE=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(GI,jd)||jd),this._moduleDoBootstrap(d),d))})})}bootstrapModule(s,a=[]){const c=Mb({},a);return function NA(e,r,s){const a=new Wd(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(s){const a=s.injector.get(Sg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new ne(-403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ne(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(Qw,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||e)(Lt(Ks))}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Mb(e,r){return Array.isArray(r)?r.reduce(Mb,e):{...e,...r}}let Sg=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ft(Pb),this.zoneIsStable=ft(Tm),this.componentTypes=[],this.components=[],this.isStable=ft(gb).hasPendingTasks.pipe((0,Te.n)(s=>s?(0,fe.of)(!1):this.zoneIsStable),(0,de.F)(),(0,pe.u)()),this._injector=ft(Ro)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const c=s instanceof ty;if(!this._injector.get(Kw).done)throw!c&&qi(s),new ne(405,!1);let g;g=c?s:this._injector.get(Vf).resolveComponentFactory(s),this.componentTypes.push(g.componentType);const y=function PA(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Tu),A=g.create(Ks.NULL,[],a||g.selector,y),S=A.location.nativeElement,x=A.injector.get(yb,null);return x?.registerApplication(S),A.onDestroy(()=>{this.detachView(A.hostView),YI(this.components,A),x?.unregisterApplication(S)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new ne(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;YI(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const a=this._injector.get(Zw,[]);a.push(...this._bootstrapListeners),a.forEach(c=>c(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>YI(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ne(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YI(e,r){const s=e.indexOf(r);s>-1&&e.splice(s,1)}const Pb=new qe("",{providedIn:"root",factory:()=>ft(ha).handleError.bind(void 0)});function UA(){const e=ft(Sn),r=ft(ha);return s=>e.runOutsideAngular(()=>r.handleError(s))}let VA=(()=>{class e{constructor(){this.zone=ft(Sn),this.applicationRef=ft(Sg)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||e)}}static{this.\u0275prov=We({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jA(){return!1}let HA=(()=>{class e{static{this.__NG_ELEMENT_ID__=$A}}return e})();function $A(e){return function WA(e,r,s){if(Xn(e)&&!s){const a=Nr(e.index,r);return new _a(a,a)}return 47&e.type?new _a(r[Dn],r):null}(bn(),Ie(),16==(16&e))}class Ub{constructor(){}supports(r){return Mp(r)}create(r){return new YA(r)}}const qA=(e,r)=>r;class YA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||qA}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,c=0,d=null;for(;s||a;){const g=!a||s&&s.currentIndex<Bb(a,c,d)?s:a,y=Bb(g,c,d),I=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(s=s._next,null==g.previousIndex)c++;else{d||(d=[]);const A=y-c,S=I-c;if(A!=S){for(let W=0;W<A;W++){const Y=W<d.length?d[W]:d[W]=0,me=Y+W;S<=me&&me<A&&(d[W]=Y+1)}d[g.previousIndex]=S-A}}y!==I&&r(g,y,I)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Mp(r))throw new ne(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,d,g,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let y=0;y<this.length;y++)d=r[y],g=this._trackByFn(y,d),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,d,g,y)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,g,y),a=!0),s=s._next}else c=0,function n0(e,r){if(Array.isArray(e))for(let s=0;s<e.length;s++)r(e[s]);else{const s=e[Symbol.iterator]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,y=>{g=this._trackByFn(c,y),null!==s&&Object.is(s.trackById,g)?(a&&(s=this._verifyReinsertion(s,y,g,c)),Object.is(s.item,y)||this._addIdentityChange(s,y)):(s=this._mismatch(s,y,g,c),a=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,c){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,c)):r=this._addAfter(new QA(s,a),d,c),r}_verifyReinsertion(r,s,a,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,d=r._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const c=null===s?this._itHead:s._next;return r._next=c,r._prev=s,null===c?this._itTail=r:c._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Vb),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class QA{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Vb{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new ZA,this.map.set(s,a)),a.add(r)}get(r,s){const c=this.map.get(r);return c?c.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(e,r,s){const a=e.previousIndex;if(null===a)return a;let c=0;return s&&a<s.length&&(c=s[a]),a+r+c}class jb{constructor(){}supports(r){return r instanceof Map||Np(r)}create(){return new XA}}class XA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Np(r)))throw new ne(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(c,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,s);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const a=new JA(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class JA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hb(){return new rD([new Ub])}let rD=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:Hb})}constructor(s){this.factories=s}static create(s,a){if(null!=a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||Hb()),deps:[[e,new Kl,new zl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(null!=a)return a;throw new ne(901,!1)}}return e})();function $b(){return new iD([new jb])}let iD=(()=>{class e{static{this.\u0275prov=We({token:e,providedIn:"root",factory:$b})}constructor(s){this.factories=s}static create(s,a){if(a){const c=a.factories.slice();s=s.concat(c)}return new e(s)}static extend(s){return{provide:e,useFactory:a=>e.create(s,a||$b()),deps:[[e,new Kl,new zl]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new ne(901,!1)}}return e})();const nT=bb(null,"core",[]);let rT=(()=>{class e{constructor(s){}static{this.\u0275fac=function(a){return new(a||e)(Lt(Sg))}}static{this.\u0275mod=Ma({type:e})}static{this.\u0275inj=Ut({})}}return e})();function pT(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function mT(e){const r=bt(e);if(!r)return null;const s=new ya(r);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},3345:(Ze,ye,P)=>{P.d(ye,{A:()=>Be});var _=P(1076),Z=P(1362),O=P(7852),ee=P(8041);class re{constructor(Fe,Me){this._delegate=Fe,this.firebase=Me,(0,O._addComponent)(Fe,new Z.uA("app-compat",()=>this,"PUBLIC")),this.container=Fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Fe){this._delegate.automaticDataCollectionEnabled=Fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Fe=>{this._delegate.checkDestroyed(),Fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Fe,Me=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(Fe);return!Xe.isInitialized()&&"EXPLICIT"===(null===(nt=Xe.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:Me})}_removeServiceInstance(Fe,Me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Fe).clearInstance(Me)}_addComponent(Fe){(0,O._addComponent)(this._delegate,Fe)}_addOrOverwriteComponent(Fe){(0,O._addOrOverwriteComponent)(this._delegate,Fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new _.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function de(){const Ae=function Te(Ae){const Fe={},Me={__esModule:!0,initializeApp:function ne(Re,Ue={}){const ae=O.initializeApp(Re,Ue);if((0,_.gR)(Fe,ae.name))return Fe[ae.name];const st=new Ae(ae,Me);return Fe[ae.name]=st,st},app:Xe,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function te(Re){const Ue=Re.name,ae=Ue.replace("-compat","");if(O._registerComponent(Re)&&"PUBLIC"===Re.type){const st=(Ct=Xe())=>{if("function"!=typeof Ct[ae])throw pe.create("invalid-app-argument",{appName:Ue});return Ct[ae]()};void 0!==Re.serviceProps&&(0,_.zw)(st,Re.serviceProps),Me[ae]=st,Ae.prototype[ae]=function(...Ct){return this._getService.bind(this,Ue).apply(this,Re.multipleInstances?Ct:[])}}return"PUBLIC"===Re.type?Me[ae]:null},removeApp:function nt(Re){delete Fe[Re]},useAsService:function ve(Re,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:O}};function Xe(Re){if(!(0,_.gR)(Fe,Re=Re||O._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:Re});return Fe[Re]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function ge(){return Object.keys(Fe).map(Re=>Fe[Re])}}),Xe.App=Ae,Me}(re);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Fe(Me){(0,_.zw)(Ae,Me)},createSubscribe:_.tD,ErrorFactory:_.FA,deepExtend:_.zw}),Ae}(),j=new ee.Vy("@firebase/app-compat");if((0,_.Bd)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=L;!function Ce(Ae){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Ae)}()},7852:(Ze,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>ee.g,SDK_VERSION:()=>ai,_DEFAULT_ENTRY_NAME:()=>tt,_addComponent:()=>nn,_addOrOverwriteComponent:()=>hr,_apps:()=>lt,_clearComponents:()=>qe,_components:()=>Kt,_getProvider:()=>jn,_registerComponent:()=>Vt,_removeServiceInstance:()=>eo,deleteApp:()=>qr,getApp:()=>sr,getApps:()=>Gi,initializeApp:()=>to,onLog:()=>Di,registerVersion:()=>Pn,setLogLevel:()=>un});var _=P(467),Z=P(1362),O=P(8041),ee=P(1076);const re=(he,X)=>X.some(Se=>he instanceof Se);let fe,pe;const L=new WeakMap,j=new WeakMap,Q=new WeakMap,Ne=new WeakMap,Ce=new WeakMap;let Fe={get(he,X,Se){if(he instanceof IDBTransaction){if("done"===X)return j.get(he);if("objectStoreNames"===X)return he.objectStoreNames||Q.get(he);if("store"===X)return Se.objectStoreNames[1]?void 0:Se.objectStore(Se.objectStoreNames[0])}return ne(he[X])},set:(he,X,Se)=>(he[X]=Se,!0),has:(he,X)=>he instanceof IDBTransaction&&("done"===X||"store"===X)||X in he};function Xe(he){return"function"==typeof he?function nt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...X){return he.apply(ge(this),X),ne(L.get(this))}:function(...X){return ne(he.apply(ge(this),X))}:function(X,...Se){const Ge=he.call(ge(this),X,...Se);return Q.set(Ge,X.sort?X.sort():[X]),ne(Ge)}}(he):(he instanceof IDBTransaction&&function Ae(he){if(j.has(he))return;const X=new Promise((Se,Ge)=>{const Je=()=>{he.removeEventListener("complete",je),he.removeEventListener("error",Nt),he.removeEventListener("abort",Nt)},je=()=>{Se(),Je()},Nt=()=>{Ge(he.error||new DOMException("AbortError","AbortError")),Je()};he.addEventListener("complete",je),he.addEventListener("error",Nt),he.addEventListener("abort",Nt)});j.set(he,X)}(he),re(he,function Te(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Fe):he)}function ne(he){if(he instanceof IDBRequest)return function Be(he){const X=new Promise((Se,Ge)=>{const Je=()=>{he.removeEventListener("success",je),he.removeEventListener("error",Nt)},je=()=>{Se(ne(he.result)),Je()},Nt=()=>{Ge(he.error),Je()};he.addEventListener("success",je),he.addEventListener("error",Nt)});return X.then(Se=>{Se instanceof IDBCursor&&L.set(Se,he)}).catch(()=>{}),Ce.set(X,he),X}(he);if(Ne.has(he))return Ne.get(he);const X=Xe(he);return X!==he&&(Ne.set(he,X),Ce.set(X,he)),X}const ge=he=>Ce.get(he),Re=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],ae=new Map;function st(he,X){if(!(he instanceof IDBDatabase)||X in he||"string"!=typeof X)return;if(ae.get(X))return ae.get(X);const Se=X.replace(/FromIndex$/,""),Ge=X!==Se,Je=Ue.includes(Se);if(!(Se in(Ge?IDBIndex:IDBObjectStore).prototype)||!Je&&!Re.includes(Se))return;const je=function(){var Nt=(0,_.A)(function*(En,...hn){const ui=this.transaction(En,Je?"readwrite":"readonly");let mr=ui.store;return Ge&&(mr=mr.index(hn.shift())),(yield Promise.all([mr[Se](...hn),Je&&ui.done]))[0]});return function(hn){return Nt.apply(this,arguments)}}();return ae.set(X,je),je}!function Me(he){Fe=he(Fe)}(he=>({...he,get:(X,Se,Ge)=>st(X,Se)||he.get(X,Se,Ge),has:(X,Se)=>!!st(X,Se)||he.has(X,Se)}));class Ct{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Se=>{if(function Bn(he){const X=he.getComponent();return"VERSION"===X?.type}(Se)){const Ge=Se.getImmediate();return`${Ge.library}/${Ge.version}`}return null}).filter(Se=>Se).join(" ")}}const fr="@firebase/app",vn=new O.Vy("@firebase/app"),tt="[DEFAULT]",wt={[fr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lt=new Map,Kt=new Map;function nn(he,X){try{he.container.addComponent(X)}catch(Se){vn.debug(`Component ${X.name} failed to register with FirebaseApp ${he.name}`,Se)}}function hr(he,X){he.container.addOrOverwriteComponent(X)}function Vt(he){const X=he.name;if(Kt.has(X))return vn.debug(`There were multiple attempts to register component ${X}.`),!1;Kt.set(X,he);for(const Se of lt.values())nn(Se,he);return!0}function jn(he,X){const Se=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Se&&Se.triggerHeartbeat(),he.container.getProvider(X)}function eo(he,X,Se=tt){jn(he,X).clearInstance(Se)}function qe(){Kt.clear()}const yt=new ee.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class wi{constructor(X,Se,Ge){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Se),this._name=Se.name,this._automaticDataCollectionEnabled=Se.automaticDataCollectionEnabled,this._container=Ge,this.container.addComponent(new Z.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}const ai="9.23.0";function to(he,X={}){let Se=he;"object"!=typeof X&&(X={name:X});const Ge=Object.assign({name:tt,automaticDataCollectionEnabled:!1},X),Je=Ge.name;if("string"!=typeof Je||!Je)throw yt.create("bad-app-name",{appName:String(Je)});if(Se||(Se=(0,ee.T9)()),!Se)throw yt.create("no-options");const je=lt.get(Je);if(je){if((0,ee.bD)(Se,je.options)&&(0,ee.bD)(Ge,je.config))return je;throw yt.create("duplicate-app",{appName:Je})}const Nt=new Z.h1(Je);for(const hn of Kt.values())Nt.addComponent(hn);const En=new wi(Se,Ge,Nt);return lt.set(Je,En),En}function sr(he=tt){const X=lt.get(he);if(!X&&he===tt&&(0,ee.T9)())return to();if(!X)throw yt.create("no-app",{appName:he});return X}function Gi(){return Array.from(lt.values())}function qr(he){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,_.A)(function*(he){const X=he.name;lt.has(X)&&(lt.delete(X),yield Promise.all(he.container.getProviders().map(Se=>Se.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Pn(he,X,Se){var Ge;let Je=null!==(Ge=wt[he])&&void 0!==Ge?Ge:he;Se&&(Je+=`-${Se}`);const je=Je.match(/\s|\//),Nt=X.match(/\s|\//);if(je||Nt){const En=[`Unable to register library "${Je}" with version "${X}":`];return je&&En.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),je&&Nt&&En.push("and"),Nt&&En.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void vn.warn(En.join(" "))}Vt(new Z.uA(`${Je}-version`,()=>({library:Je,version:X}),"VERSION"))}function Di(he,X){if(null!==he&&"function"!=typeof he)throw yt.create("invalid-log-argument");(0,O.Ey)(he,X)}function un(he){(0,O.He)(he)}const Yr="firebase-heartbeat-database",or=1,V="firebase-heartbeat-store";let F=null;function z(){return F||(F=function te(he,X,{blocked:Se,upgrade:Ge,blocking:Je,terminated:je}={}){const Nt=indexedDB.open(he,X),En=ne(Nt);return Ge&&Nt.addEventListener("upgradeneeded",hn=>{Ge(ne(Nt.result),hn.oldVersion,hn.newVersion,ne(Nt.transaction),hn)}),Se&&Nt.addEventListener("blocked",hn=>Se(hn.oldVersion,hn.newVersion,hn)),En.then(hn=>{je&&hn.addEventListener("close",()=>je()),Je&&hn.addEventListener("versionchange",ui=>Je(ui.oldVersion,ui.newVersion,ui))}).catch(()=>{}),En}(Yr,or,{upgrade:(he,X)=>{0===X&&he.createObjectStore(V)}}).catch(he=>{throw yt.create("idb-open",{originalErrorMessage:he.message})})),F}function ie(){return(ie=(0,_.A)(function*(he){try{return yield(yield z()).transaction(V).objectStore(V).get(Mt(he))}catch(X){if(X instanceof ee.g)vn.warn(X.message);else{const Se=yt.create("idb-get",{originalErrorMessage:X?.message});vn.warn(Se.message)}}})).apply(this,arguments)}function ze(he,X){return rt.apply(this,arguments)}function rt(){return(rt=(0,_.A)(function*(he,X){try{const Ge=(yield z()).transaction(V,"readwrite");yield Ge.objectStore(V).put(X,Mt(he)),yield Ge.done}catch(Se){if(Se instanceof ee.g)vn.warn(Se.message);else{const Ge=yt.create("idb-set",{originalErrorMessage:Se?.message});vn.warn(Ge.message)}}})).apply(this,arguments)}function Mt(he){return`${he.name}!${he.options.appId}`}class ft{constructor(X){this.container=X,this._heartbeatsCache=null;const Se=this.container.getProvider("app").getImmediate();this._storage=new gr(Se),this._heartbeatsCachePromise=this._storage.read().then(Ge=>(this._heartbeatsCache=Ge,Ge))}triggerHeartbeat(){var X=this;return(0,_.A)(function*(){const Ge=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=Tt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Je&&!X._heartbeatsCache.heartbeats.some(je=>je.date===Je))return X._heartbeatsCache.heartbeats.push({date:Je,agent:Ge}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(je=>{const Nt=new Date(je.date).valueOf();return Date.now()-Nt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,_.A)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const Se=Tt(),{heartbeatsToSend:Ge,unsentEntries:Je}=function Hn(he,X=1024){const Se=[];let Ge=he.slice();for(const Je of he){const je=Se.find(Nt=>Nt.agent===Je.agent);if(je){if(je.dates.push(Je.date),bi(Se)>X){je.dates.pop();break}}else if(Se.push({agent:Je.agent,dates:[Je.date]}),bi(Se)>X){Se.pop();break}Ge=Ge.slice(1)}return{heartbeatsToSend:Se,unsentEntries:Ge}}(X._heartbeatsCache.heartbeats),je=(0,ee.Uj)(JSON.stringify({version:2,heartbeats:Ge}));return X._heartbeatsCache.lastSentHeartbeatDate=Se,Je.length>0?(X._heartbeatsCache.heartbeats=Je,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),je})()}}function Tt(){return(new Date).toISOString().substring(0,10)}class gr{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,_.A)(function*(){return!!(0,ee.zW)()&&(0,ee.eX)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,_.A)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function _e(he){return ie.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var Se=this;return(0,_.A)(function*(){var Ge;if(yield Se._canUseIndexedDBPromise){const je=yield Se.read();return ze(Se.app,{lastSentHeartbeatDate:null!==(Ge=X.lastSentHeartbeatDate)&&void 0!==Ge?Ge:je.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Se=this;return(0,_.A)(function*(){var Ge;if(yield Se._canUseIndexedDBPromise){const je=yield Se.read();return ze(Se.app,{lastSentHeartbeatDate:null!==(Ge=X.lastSentHeartbeatDate)&&void 0!==Ge?Ge:je.lastSentHeartbeatDate,heartbeats:[...je.heartbeats,...X.heartbeats]})}})()}}function bi(he){return(0,ee.Uj)(JSON.stringify({version:2,heartbeats:he})).length}!function Lo(he){Vt(new Z.uA("platform-logger",X=>new Ct(X),"PRIVATE")),Vt(new Z.uA("heartbeat",X=>new ft(X),"PRIVATE")),Pn(fr,"0.9.13",he),Pn(fr,"0.9.13","esm2017"),Pn("fire-js","")}("")},1362:(Ze,ye,P)=>{P.d(ye,{Kq:()=>re,h1:()=>Te,uA:()=>O});var _=P(467),Z=P(1076);class O{constructor(L,j,Q){this.name=L,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const ee="[DEFAULT]";class re{constructor(L,j){this.name=L,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const j=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(j)){const Q=new Z.cY;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ne=this.getOrInitializeService({instanceIdentifier:j});Ne&&Q.resolve(Ne)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(L){var j;const Q=this.normalizeInstanceIdentifier(L?.identifier),Ne=null!==(j=L?.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ne)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ce){if(Ne)return null;throw Ce}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function pe(de){return"EAGER"===de.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:ee})}catch{}for(const[j,Q]of this.instancesDeferred.entries()){const Ne=this.normalizeInstanceIdentifier(j);try{const Ce=this.getOrInitializeService({instanceIdentifier:Ne});Q.resolve(Ce)}catch{}}}}clearInstance(L=ee){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,_.A)(function*(){const j=Array.from(L.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=ee){return this.instances.has(L)}getOptions(L=ee){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:j={}}=L,Q=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ne=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Ce,Be]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ce)&&Be.resolve(Ne);return Ne}onInit(L,j){var Q;const Ne=this.normalizeInstanceIdentifier(j),Ce=null!==(Q=this.onInitCallbacks.get(Ne))&&void 0!==Q?Q:new Set;Ce.add(L),this.onInitCallbacks.set(Ne,Ce);const Be=this.instances.get(Ne);return Be&&L(Be,Ne),()=>{Ce.delete(L)}}invokeOnInitCallbacks(L,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const Ne of Q)try{Ne(L,j)}catch{}}getOrInitializeService({instanceIdentifier:L,options:j={}}){let Q=this.instances.get(L);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(de=L,de===ee?void 0:de),options:j}),this.instances.set(L,Q),this.instancesOptions.set(L,j),this.invokeOnInitCallbacks(Q,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Q)}catch{}var de;return Q||null}normalizeInstanceIdentifier(L=ee){return this.component?this.component.multipleInstances?L:ee:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const j=this.getProvider(L.name);if(j.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);j.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const j=new re(L,this);return this.providers.set(L,j),j}getProviders(){return Array.from(this.providers.values())}}},8041:(Ze,ye,P)=>{P.d(ye,{$b:()=>Z,Ey:()=>de,He:()=>Te,Vy:()=>pe});const _=[];var Z=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(Z||{});const O={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ee=Z.INFO,re={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},fe=(L,j,...Q)=>{if(j<L.logLevel)return;const Ne=(new Date).toISOString(),Ce=re[j];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ce](`[${Ne}]  ${L.name}:`,...Q)};class pe{constructor(j){this.name=j,this._logLevel=ee,this._logHandler=fe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Z))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...j),this._logHandler(this,Z.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...j),this._logHandler(this,Z.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...j),this._logHandler(this,Z.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...j),this._logHandler(this,Z.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...j),this._logHandler(this,Z.ERROR,...j)}}function Te(L){_.forEach(j=>{j.setLogLevel(L)})}function de(L,j){for(const Q of _){let Ne=null;j&&j.level&&(Ne=O[j.level]),Q.userLogHandler=null===L?null:(Ce,Be,...Ae)=>{const Fe=Ae.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Be>=(Ne??Ce.logLevel)&&L({level:Z[Be].toLowerCase(),message:Fe,args:Ae,type:Ce.name})}}}},2214:(Ze,ye,P)=>{P.d(ye,{Dk:()=>_.getApps,Sx:()=>_.getApp});var _=P(7852);(0,_.registerVersion)("firebase","9.23.0","app")},7935:(Ze,ye,P)=>{P.d(ye,{A:()=>_.A});var _=P(3345);_.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Ze,ye,P)=>{var _=P(467),Z=P(3345),O=P(1076),ee=P(7852),re=P(1635),fe=P(8041),pe=P(1362);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Be=function Ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ae=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Fe=new O.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new fe.Vy("@firebase/auth");function ne(m,...l){nt.logLevel<=fe.$b.ERROR&&nt.error(`Auth (${ee.SDK_VERSION}): ${m}`,...l)}function ge(m,...l){throw Ue(m,...l)}function te(m,...l){return Ue(m,...l)}function ve(m,l,h){const v=Object.assign(Object.assign({},Ae()),{[l]:h});return new O.FA("auth","Firebase",v).create(l,{appName:m.name})}function Re(m,l,h){if(!(l instanceof h))throw h.name!==l.constructor.name&&ge(m,"argument-error"),ve(m,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(m,...l){if("string"!=typeof m){const h=l[0],v=[...l.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(h,...v)}return Fe.create(m,...l)}function ae(m,l,...h){if(!m)throw Ue(l,...h)}function st(m){const l="INTERNAL ASSERTION FAILED: "+m;throw ne(l),new Error(l)}function Ct(m,l){m||st(l)}function Bn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function fr(){return"http:"===Ei()||"https:"===Ei()}function Ei(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ii{constructor(l,h){this.shortDelay=l,this.longDelay=h,Ct(h>l,"Short delay should be less than long delay!"),this.isMobile=(0,O.jZ)()||(0,O.lV)()}get(){return function vn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(fr()||(0,O.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zi(m,l){Ct(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return l?`${h}${l.startsWith("/")?l.slice(1):l}`:h}class Ci{static initialize(l,h,v){this.fetchImpl=l,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void st("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void st("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void st("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const se={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},le=new Ii(3e4,6e4);function J(m,l){return m.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:m.tenantId}):l}function oe(m,l,h,v){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,_.A)(function*(m,l,h,v,b={}){return ue(m,b,(0,_.A)(function*(){let R={},B={};v&&("GET"===l?B=v:R={body:JSON.stringify(v)});const K=(0,O.Am)(Object.assign({key:m.config.apiKey},B)).slice(1),De=yield m._getAdditionalHeaders();return De["Content-Type"]="application/json",m.languageCode&&(De["X-Firebase-Locale"]=m.languageCode),Ci.fetch()(We(m,m.config.apiHost,h,K),Object.assign({method:l,headers:De,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ue(m,l,h){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,_.A)(function*(m,l,h){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},se),l);try{const b=new qt(m),R=yield Promise.race([h(),b.promise]);b.clearNetworkTimeout();const B=yield R.json();if("needConfirmation"in B)throw Ut(m,"account-exists-with-different-credential",B);if(R.ok&&!("errorMessage"in B))return B;{const K=R.ok?B.errorMessage:B.error.message,[De,Oe]=K.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===De)throw Ut(m,"credential-already-in-use",B);if("EMAIL_EXISTS"===De)throw Ut(m,"email-already-in-use",B);if("USER_DISABLED"===De)throw Ut(m,"user-disabled",B);const He=v[De]||De.toLowerCase().replace(/[_\s]+/g,"-");if(Oe)throw ve(m,He,Oe);ge(m,He)}}catch(b){if(b instanceof O.g)throw b;ge(m,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function vt(m,l,h,v){return zt.apply(this,arguments)}function zt(){return(zt=(0,_.A)(function*(m,l,h,v,b={}){const R=yield oe(m,l,h,v,b);return"mfaPendingCredential"in R&&ge(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function We(m,l,h,v){const b=`${l}${h}?${v}`;return m.config.emulator?zi(m.config,b):`${m.config.apiScheme}://${b}`}class qt{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(te(this.auth,"network-request-failed")),le.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ut(m,l,h){const v={appName:m.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const b=te(m,l,v);return b.customData._tokenResponse=h,b}function dt(){return(dt=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function wn(){return(wn=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function fn(){return(fn=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Sr(m){if(m)try{const l=new Date(Number(m));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function tt(){return(tt=(0,_.A)(function*(m,l=!1){const h=(0,O.Ku)(m),v=yield h.getIdToken(l),b=lt(v);ae(b&&b.exp&&b.auth_time&&b.iat,h.auth,"internal-error");const R="object"==typeof b.firebase?b.firebase:void 0,B=R?.sign_in_provider;return{claims:b,token:v,authTime:Sr(wt(b.auth_time)),issuedAtTime:Sr(wt(b.iat)),expirationTime:Sr(wt(b.exp)),signInProvider:B||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(m){return 1e3*Number(m)}function lt(m){const[l,h,v]=m.split(".");if(void 0===l||void 0===h||void 0===v)return ne("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.u)(h);return b?JSON.parse(b):(ne("Failed to decode base64 JWT payload"),null)}catch(b){return ne("Caught error parsing JWT payload as JSON",b?.toString()),null}}function nn(m,l){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.A)(function*(m,l,h=!1){if(h)return l;try{return yield l}catch(v){throw v instanceof O.g&&function Vt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}class jn{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var h;if(l){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const b=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(l=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(l);this.timerId=setTimeout((0,_.A)(function*(){yield h.iteration()}),v)}iteration(){var l=this;return(0,_.A)(function*(){try{yield l.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&l.schedule(!0))}l.schedule()})()}}class eo{constructor(l,h){this.createdAt=l,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qe(m){return pr.apply(this,arguments)}function pr(){return pr=(0,_.A)(function*(m){var l;const h=m.auth,v=yield m.getIdToken(),b=yield nn(m,function Mn(m,l){return fn.apply(this,arguments)}(h,{idToken:v}));ae(b?.users.length,h,"internal-error");const R=b.users[0];m._notifyReloadListener(R);const B=null!==(l=R.providerUserInfo)&&void 0!==l&&l.length?function to(m){return m.map(l=>{var{providerId:h}=l,v=(0,re.Tt)(l,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(R.providerUserInfo):[],K=function ai(m,l){return[...m.filter(v=>!l.some(b=>b.providerId===v.providerId)),...l]}(m.providerData,B),He=!!m.isAnonymous&&!(m.email&&R.passwordHash||K?.length),Ke={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:K,metadata:new eo(R.createdAt,R.lastLoginAt),isAnonymous:He};Object.assign(m,Ke)}),pr.apply(this,arguments)}function wi(){return(wi=(0,_.A)(function*(m){const l=(0,O.Ku)(m);yield qe(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function Gi(){return(Gi=(0,_.A)(function*(m,l){const h=yield ue(m,{},(0,_.A)(function*(){const v=(0,O.Am)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:b,apiKey:R}=m.config,B=We(m,b,"/v1/token",`key=${R}`),K=yield m._getAdditionalHeaders();return K["Content-Type"]="application/x-www-form-urlencoded",Ci.fetch()(B,{method:"POST",headers:K,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class qr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){ae(l.idToken,"internal-error"),ae(typeof l.idToken<"u","internal-error"),ae(typeof l.refreshToken<"u","internal-error");const h="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function Kt(m){const l=lt(m);return ae(l,"internal-error"),ae(typeof l.exp<"u","internal-error"),ae(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,h)}getToken(l,h=!1){var v=this;return(0,_.A)(function*(){return ae(!v.accessToken||v.refreshToken,l,"user-token-expired"),h||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(l,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,h){var v=this;return(0,_.A)(function*(){const{accessToken:b,refreshToken:R,expiresIn:B}=yield function sr(m,l){return Gi.apply(this,arguments)}(l,h);v.updateTokensAndExpiration(b,R,Number(B))})()}updateTokensAndExpiration(l,h,v){this.refreshToken=h||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(l,h){const{refreshToken:v,accessToken:b,expirationTime:R}=h,B=new qr;return v&&(ae("string"==typeof v,"internal-error",{appName:l}),B.refreshToken=v),b&&(ae("string"==typeof b,"internal-error",{appName:l}),B.accessToken=b),R&&(ae("number"==typeof R,"internal-error",{appName:l}),B.expirationTime=R),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new qr,this.toJSON())}_performRefresh(){return st("not implemented")}}function Nn(m,l){ae("string"==typeof m||typeof m>"u","internal-error",{appName:l})}class Pn{constructor(l){var{uid:h,auth:v,stsTokenManager:b}=l,R=(0,re.Tt)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new eo(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(l){var h=this;return(0,_.A)(function*(){const v=yield nn(h,h.stsTokenManager.getToken(h.auth,l));return ae(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(l){return function ko(m){return tt.apply(this,arguments)}(this,l)}reload(){return function yt(m){return wi.apply(this,arguments)}(this)}_assign(l){this!==l&&(ae(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(h=>Object.assign({},h)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const h=new Pn(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(l){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,h=!1){var v=this;return(0,_.A)(function*(){let b=!1;l.idToken&&l.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(l),b=!0),h&&(yield qe(v)),yield v.auth._persistUserIfCurrent(v),b&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var l=this;return(0,_.A)(function*(){const h=yield l.getIdToken();return yield nn(l,function ir(m,l){return dt.apply(this,arguments)}(l.auth,{idToken:h})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,h){var v,b,R,B,K,De,Oe,He;const Ke=null!==(v=h.displayName)&&void 0!==v?v:void 0,gn=null!==(b=h.email)&&void 0!==b?b:void 0,ri=null!==(R=h.phoneNumber)&&void 0!==R?R:void 0,Ao=null!==(B=h.photoURL)&&void 0!==B?B:void 0,Sf=null!==(K=h.tenantId)&&void 0!==K?K:void 0,To=null!==(De=h._redirectEventId)&&void 0!==De?De:void 0,ls=null!==(Oe=h.createdAt)&&void 0!==Oe?Oe:void 0,aa=null!==(He=h.lastLoginAt)&&void 0!==He?He:void 0,{uid:xc,emailVerified:kc,isAnonymous:cu,providerData:ua,stsTokenManager:qh}=h;ae(xc&&qh,l,"internal-error");const Hg=qr.fromJSON(this.name,qh);ae("string"==typeof xc,l,"internal-error"),Nn(Ke,l.name),Nn(gn,l.name),ae("boolean"==typeof kc,l,"internal-error"),ae("boolean"==typeof cu,l,"internal-error"),Nn(ri,l.name),Nn(Ao,l.name),Nn(Sf,l.name),Nn(To,l.name),Nn(ls,l.name),Nn(aa,l.name);const Rf=new Pn({uid:xc,auth:l,email:gn,emailVerified:kc,displayName:Ke,isAnonymous:cu,photoURL:Ao,phoneNumber:ri,tenantId:Sf,stsTokenManager:Hg,createdAt:ls,lastLoginAt:aa});return ua&&Array.isArray(ua)&&(Rf.providerData=ua.map($g=>Object.assign({},$g))),To&&(Rf._redirectEventId=To),Rf}static _fromIdTokenResponse(l,h,v=!1){return(0,_.A)(function*(){const b=new qr;b.updateFromServerResponse(h);const R=new Pn({uid:h.localId,auth:l,stsTokenManager:b,isAnonymous:v});return yield qe(R),R})()}}const Di=new Map;function un(m){Ct(m instanceof Function,"Expected a class definition");let l=Di.get(m);return l?(Ct(l instanceof m,"Instance stored in cache mismatched with class"),l):(l=new m,Di.set(m,l),l)}const or=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.A)(function*(){return!0})()}_set(h,v){var b=this;return(0,_.A)(function*(){b.storage[h]=v})()}_get(h){var v=this;return(0,_.A)(function*(){const b=v.storage[h];return void 0===b?null:b})()}_remove(h){var v=this;return(0,_.A)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return m.type="NONE",m})();function V(m,l,h){return`firebase:${m}:${l}:${h}`}class F{constructor(l,h,v){this.persistence=l,this.auth=h,this.userKey=v;const{config:b,name:R}=this.auth;this.fullUserKey=V(this.userKey,b.apiKey,R),this.fullPersistenceKey=V("persistence",b.apiKey,R),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,_.A)(function*(){const h=yield l.persistence._get(l.fullUserKey);return h?Pn._fromJSON(l.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var h=this;return(0,_.A)(function*(){if(h.persistence===l)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=l,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,h,v="authUser"){return(0,_.A)(function*(){if(!h.length)return new F(un(or),l,v);const b=(yield Promise.all(h.map(function(){var Oe=(0,_.A)(function*(He){if(yield He._isAvailable())return He});return function(He){return Oe.apply(this,arguments)}}()))).filter(Oe=>Oe);let R=b[0]||un(or);const B=V(v,l.config.apiKey,l.name);let K=null;for(const Oe of h)try{const He=yield Oe._get(B);if(He){const Ke=Pn._fromJSON(l,He);Oe!==R&&(K=Ke),R=Oe;break}}catch{}const De=b.filter(Oe=>Oe._shouldAllowMigration);return R._shouldAllowMigration&&De.length?(R=De[0],K&&(yield R._set(B,K.toJSON())),yield Promise.all(h.map(function(){var Oe=(0,_.A)(function*(He){if(He!==R)try{yield He._remove(B)}catch{}});return function(He){return Oe.apply(this,arguments)}}())),new F(R,l,v)):new F(R,l,v)})()}}function z(m){const l=m.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(rt(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(_e(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Lt(l))return"Blackberry";if(yn(l))return"Webos";if(ie(l))return"Safari";if((l.includes("chrome/")||ze(l))&&!l.includes("edge/"))return"Chrome";if(Mt(l))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function _e(m=(0,O.ZQ)()){return/firefox\//i.test(m)}function ie(m=(0,O.ZQ)()){const l=m.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function ze(m=(0,O.ZQ)()){return/crios\//i.test(m)}function rt(m=(0,O.ZQ)()){return/iemobile/i.test(m)}function Mt(m=(0,O.ZQ)()){return/android/i.test(m)}function Lt(m=(0,O.ZQ)()){return/blackberry/i.test(m)}function yn(m=(0,O.ZQ)()){return/webos/i.test(m)}function ft(m=(0,O.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function bi(m=(0,O.ZQ)()){return ft(m)||Mt(m)||yn(m)||Lt(m)||/windows phone/i.test(m)||rt(m)}function he(m,l=[]){let h;switch(m){case"Browser":h=z((0,O.ZQ)());break;case"Worker":h=`${z((0,O.ZQ)())}-${m}`;break;default:h=m}const v=l.length?l.join(","):"FirebaseCore-web";return`${h}/JsCore/${ee.SDK_VERSION}/${v}`}function Se(){return(Se=(0,_.A)(function*(m){return(yield oe(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ge(m,l){return Je.apply(this,arguments)}function Je(){return(Je=(0,_.A)(function*(m,l){return oe(m,"GET","/v2/recaptchaConfig",J(m,l))})).apply(this,arguments)}function je(m){return void 0!==m&&void 0!==m.getResponse}function Nt(m){return void 0!==m&&void 0!==m.enterprise}class En{constructor(l){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.emailPasswordEnabled=l.recaptchaEnforcementState.some(h=>"EMAIL_PASSWORD_PROVIDER"===h.provider&&"OFF"!==h.enforcementState)}}function ui(m){return new Promise((l,h)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=l,v.onerror=b=>{const R=te("internal-error");R.customData=b,h(R)},v.type="text/javascript",v.charset="UTF-8",function hn(){var m,l;return null!==(l=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==l?l:document}().appendChild(v)})}function mr(m){return`__${m}${Math.floor(1e6*Math.random())}`}class ba{constructor(l){this.type="recaptcha-enterprise",this.auth=pn(l)}verify(l="verify",h=!1){var v=this;return(0,_.A)(function*(){function R(){return R=(0,_.A)(function*(K){if(!h){if(null==K.tenantId&&null!=K._agentRecaptchaConfig)return K._agentRecaptchaConfig.siteKey;if(null!=K.tenantId&&void 0!==K._tenantRecaptchaConfigs[K.tenantId])return K._tenantRecaptchaConfigs[K.tenantId].siteKey}return new Promise(function(){var De=(0,_.A)(function*(Oe,He){Ge(K,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ke=>{if(void 0!==Ke.recaptchaKey){const gn=new En(Ke);return null==K.tenantId?K._agentRecaptchaConfig=gn:K._tenantRecaptchaConfigs[K.tenantId]=gn,Oe(gn.siteKey)}He(new Error("recaptcha Enterprise site key undefined"))}).catch(Ke=>{He(Ke)})});return function(Oe,He){return De.apply(this,arguments)}}())}),R.apply(this,arguments)}function B(K,De,Oe){const He=window.grecaptcha;Nt(He)?He.enterprise.ready(()=>{He.enterprise.execute(K,{action:l}).then(Ke=>{De(Ke)}).catch(()=>{De("NO_RECAPTCHA")})}):Oe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((K,De)=>{(function b(K){return R.apply(this,arguments)})(v.auth).then(Oe=>{if(!h&&Nt(window.grecaptcha))B(Oe,K,De);else{if(typeof window>"u")return void De(new Error("RecaptchaVerifier is only supported in browser"));ui("https://www.google.com/recaptcha/enterprise.js?render="+Oe).then(()=>{B(Oe,K,De)}).catch(He=>{De(He)})}}).catch(Oe=>{De(Oe)})})})()}}function Fr(m,l,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,_.A)(function*(m,l,h,v=!1){const b=new ba(m);let R;try{R=yield b.verify(h)}catch{R=yield b.verify(h,!0)}const B=Object.assign({},l);return Object.assign(B,v?{captchaResp:R}:{captchaResponse:R}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Es{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,h){const v=R=>new Promise((B,K)=>{try{B(l(R))}catch(De){K(De)}});v.onAbort=h,this.queue.push(v);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(l){var h=this;return(0,_.A)(function*(){if(h.auth.currentUser===l)return;const v=[];try{for(const b of h.queue)yield b(l),b.onAbort&&v.push(b.onAbort)}catch(b){v.reverse();for(const R of v)try{R()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class Mu{constructor(l,h,v,b){this.app=l,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=v,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fo(this),this.idTokenSubscription=new Fo(this),this.beforeStateQueue=new Es(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(l,h){var v=this;return h&&(this._popupRedirectResolver=un(h)),this._initializationPromise=this.queue((0,_.A)(function*(){var b,R;if(!v._deleted&&(v.persistenceManager=yield F.create(v,l),!v._deleted)){if(null!==(b=v._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(R=v.currentUser)||void 0===R?void 0:R.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,_.A)(function*(){if(l._deleted)return;const h=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||h){if(l.currentUser&&h&&l.currentUser.uid===h.uid)return l._currentUser._assign(h),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(h,!0)}})()}initializeCurrentUser(l){var h=this;return(0,_.A)(function*(){var v;const b=yield h.assertedPersistence.getCurrentUser();let R=b,B=!1;if(l&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const K=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,De=R?._redirectEventId,Oe=yield h.tryRedirectSignIn(l);(!K||K===De)&&Oe?.user&&(R=Oe.user,B=!0)}if(!R)return h.directlySetCurrentUser(null);if(!R._redirectEventId){if(B)try{yield h.beforeStateQueue.runMiddleware(R)}catch(K){R=b,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(K))}return R?h.reloadAndSetCurrentUserOrClear(R):h.directlySetCurrentUser(null)}return ae(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===R._redirectEventId?h.directlySetCurrentUser(R):h.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(l){var h=this;return(0,_.A)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,l,!0)}catch{yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(l){var h=this;return(0,_.A)(function*(){try{yield qe(l)}catch(v){if("auth/network-request-failed"!==v?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ys(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var l=this;return(0,_.A)(function*(){l._deleted=!0})()}updateCurrentUser(l){var h=this;return(0,_.A)(function*(){const v=l?(0,O.Ku)(l):null;return v&&ae(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(l,h=!1){var v=this;return(0,_.A)(function*(){if(!v._deleted)return l&&ae(v.tenantId===l.tenantId,v,"tenant-id-mismatch"),h||(yield v.beforeStateQueue.runMiddleware(l)),v.queue((0,_.A)(function*(){yield v.directlySetCurrentUser(l),v.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,_.A)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var h=this;return this.queue((0,_.A)(function*(){yield h.assertedPersistence.setPersistence(un(l))}))}initializeRecaptchaConfig(){var l=this;return(0,_.A)(function*(){const h=yield Ge(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new En(h);null==l.tenantId?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,v.emailPasswordEnabled&&new ba(l).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new O.FA("auth","Firebase",l())}onAuthStateChanged(l,h,v){return this.registerStateListener(this.authStateSubscription,l,h,v)}beforeAuthStateChanged(l,h){return this.beforeStateQueue.pushCallback(l,h)}onIdTokenChanged(l,h,v){return this.registerStateListener(this.idTokenSubscription,l,h,v)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,h){var v=this;return(0,_.A)(function*(){const b=yield v.getOrInitRedirectPersistenceManager(h);return null===l?b.removeCurrentUser():b.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var h=this;return(0,_.A)(function*(){if(!h.redirectPersistenceManager){const v=l&&un(l)||h._popupRedirectResolver;ae(v,h,"argument-error"),h.redirectPersistenceManager=yield F.create(h,[un(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(l){var h=this;return(0,_.A)(function*(){var v,b;return h._isInitialized&&(yield h.queue((0,_.A)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===l?h._currentUser:(null===(b=h.redirectUser)||void 0===b?void 0:b._redirectEventId)===l?h.redirectUser:null})()}_persistUserIfCurrent(l){var h=this;return(0,_.A)(function*(){if(l===h.currentUser)return h.queue((0,_.A)(function*(){return h.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,h,v,b){if(this._deleted)return()=>{};const R="function"==typeof h?h:h.next.bind(h),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(B,this,"internal-error"),B.then(()=>R(this.currentUser)),"function"==typeof h?l.addObserver(h,v,b):l.addObserver(h)}directlySetCurrentUser(l){var h=this;return(0,_.A)(function*(){h.currentUser&&h.currentUser!==l&&h._currentUser._stopProactiveRefresh(),l&&h.isProactiveRefreshEnabled&&l._startProactiveRefresh(),h.currentUser=l,l?yield h.assertedPersistence.setCurrentUser(l):yield h.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,_.A)(function*(){var h;const v={"X-Client-Version":l.clientVersion};l.app.options.appId&&(v["X-Firebase-gmpid"]=l.app.options.appId);const b=yield null===(h=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();b&&(v["X-Firebase-Client"]=b);const R=yield l._getAppCheckToken();return R&&(v["X-Firebase-AppCheck"]=R),v})()}_getAppCheckToken(){var l=this;return(0,_.A)(function*(){var h;const v=yield null===(h=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return v?.error&&function Xe(m,...l){nt.logLevel<=fe.$b.WARN&&nt.warn(`Auth (${ee.SDK_VERSION}): ${m}`,...l)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function pn(m){return(0,O.Ku)(m)}class Fo{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,O.tD)(h=>this.observer=h)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Yn(m){const l=m.indexOf(":");return l<0?"":m.substr(0,l+1)}function Nu(m){if(!m)return null;const l=Number(m);return isNaN(l)?null:l}class Is{constructor(l,h){this.providerId=l,this.signInMethod=h}toJSON(){return st("not implemented")}_getIdTokenResponse(l){return st("not implemented")}_linkToIdToken(l,h){return st("not implemented")}_getReauthenticationResolver(l){return st("not implemented")}}function Jd(m,l){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:resetPassword",J(m,l))})).apply(this,arguments)}function Pu(m,l){return gl.apply(this,arguments)}function gl(){return(gl=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ou(){return(Ou=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",J(m,l))})).apply(this,arguments)}function $n(m,l){return xu.apply(this,arguments)}function xu(){return(xu=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPassword",J(m,l))})).apply(this,arguments)}function Ra(m,l){return ku.apply(this,arguments)}function ku(){return(ku=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:sendOobCode",J(m,l))})).apply(this,arguments)}function Lu(){return(Lu=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function no(m,l){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function Na(m,l){return bt.apply(this,arguments)}function bt(){return(bt=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function On(){return(On=(0,_.A)(function*(m,l){return Ra(m,l)})).apply(this,arguments)}function _r(){return(_r=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,l))})).apply(this,arguments)}function Uu(){return(Uu=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithEmailLink",J(m,l))})).apply(this,arguments)}class Cs extends Is{constructor(l,h,v,b=null){super("password",v),this._email=l,this._password=h,this._tenantId=b}static _fromEmailAndPassword(l,h){return new Cs(l,h,"password")}static _fromEmailAndCode(l,h,v=null){return new Cs(l,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(l){var h=this;return(0,_.A)(function*(){var v;switch(h.signInMethod){case"password":const b={returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=l._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const R=yield Fr(l,b,"signInWithPassword");return $n(l,R)}return $n(l,b).catch(function(){var R=(0,_.A)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const K=yield Fr(l,b,"signInWithPassword");return $n(l,K)}return Promise.reject(B)});return function(B){return R.apply(this,arguments)}}());case"emailLink":return function qi(m,l){return _r.apply(this,arguments)}(l,{email:h._email,oobCode:h._password});default:ge(l,"internal-error")}})()}_linkToIdToken(l,h){var v=this;return(0,_.A)(function*(){switch(v.signInMethod){case"password":return Pu(l,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ef(m,l){return Uu.apply(this,arguments)}(l,{idToken:h,email:v._email,oobCode:v._password});default:ge(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Vr(m,l){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithIdp",J(m,l))})).apply(this,arguments)}class ke extends Is{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const h=new ke(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(h.idToken=l.idToken),l.accessToken&&(h.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(h.nonce=l.nonce),l.pendingToken&&(h.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(h.accessToken=l.oauthToken,h.secret=l.oauthTokenSecret):ge("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:b}=h,R=(0,re.Tt)(h,["providerId","signInMethod"]);if(!v||!b)return null;const B=new ke(v,b);return B.idToken=R.idToken||void 0,B.accessToken=R.accessToken||void 0,B.secret=R.secret,B.nonce=R.nonce,B.pendingToken=R.pendingToken||null,B}_getIdTokenResponse(l){return Vr(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Vr(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Vr(l,h)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),l.postBody=(0,O.Am)(h)}return l}}function $t(){return($t=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:sendVerificationCode",J(m,l))})).apply(this,arguments)}function ro(){return(ro=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,l))})).apply(this,arguments)}function Yi(){return(Yi=(0,_.A)(function*(m,l){const h=yield vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,l));if(h.temporaryProof)throw Ut(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const ln={USER_NOT_FOUND:"user-not-found"};function Qr(){return(Qr=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithPhoneNumber",J(m,Object.assign(Object.assign({},l),{operation:"REAUTH"})),ln)})).apply(this,arguments)}class et extends Is{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,h){return new et({verificationId:l,verificationCode:h})}static _fromTokenResponse(l,h){return new et({phoneNumber:l,temporaryProof:h})}_getIdTokenResponse(l){return function Rr(m,l){return ro.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,h){return function ar(m,l){return Yi.apply(this,arguments)}(l,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Qi(m,l){return Qr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:h,verificationId:v,verificationCode:b}=this.params;return l&&h?{temporaryProof:l,phoneNumber:h}:{sessionInfo:v,code:b}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:h,verificationCode:v,phoneNumber:b,temporaryProof:R}=l;return v||h||b||R?new et({verificationId:h,verificationCode:v,phoneNumber:b,temporaryProof:R}):null}}class Ti{constructor(l){var h,v,b,R,B,K;const De=(0,O.I9)((0,O.hp)(l)),Oe=null!==(h=De.apiKey)&&void 0!==h?h:null,He=null!==(v=De.oobCode)&&void 0!==v?v:null,Ke=function Pa(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=De.mode)&&void 0!==b?b:null);ae(Oe&&He&&Ke,"argument-error"),this.apiKey=Oe,this.operation=Ke,this.code=He,this.continueUrl=null!==(R=De.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(B=De.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(K=De.tenantId)&&void 0!==K?K:null}static parseLink(l){const h=function Oa(m){const l=(0,O.I9)((0,O.hp)(m)).link,h=l?(0,O.I9)((0,O.hp)(l)).deep_link_id:null,v=(0,O.I9)((0,O.hp)(m)).deep_link_id;return(v?(0,O.I9)((0,O.hp)(v)).link:null)||v||h||l||m}(l);try{return new Ti(h)}catch{return null}}}let io=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,v){return Cs._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const b=Ti.parseLink(v);return ae(b,"argument-error"),Cs._fromEmailAndCode(h,b.code,b.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class vr{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class yr extends vr{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Br extends yr{static credentialFromJSON(l){const h="string"==typeof l?JSON.parse(l):l;return ae("providerId"in h&&"signInMethod"in h,"argument-error"),ke._fromParams(h)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return ae(l.idToken||l.accessToken,"argument-error"),ke._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Br.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Br.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:b,pendingToken:R,nonce:B,providerId:K}=l;if(!v&&!b&&!h&&!R||!K)return null;try{return new Br(K)._credential({idToken:h,accessToken:v,nonce:B,pendingToken:R})}catch{return null}}}let ml=(()=>{class m extends yr{constructor(){super("facebook.com")}static credential(h){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Zr=(()=>{class m extends yr{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:b}=h;if(!v&&!b)return null;try{return m.credential(v,b)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Si=(()=>{class m extends yr{constructor(){super("github.com")}static credential(h){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ci extends Is{constructor(l,h){super(l,l),this.pendingToken=h}_getIdTokenResponse(l){return Vr(l,this.buildRequest())}_linkToIdToken(l,h){const v=this.buildRequest();return v.idToken=h,Vr(l,v)}_getReauthenticationResolver(l){const h=this.buildRequest();return h.autoCreate=!1,Vr(l,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const h="string"==typeof l?JSON.parse(l):l,{providerId:v,signInMethod:b,pendingToken:R}=h;return v&&b&&R&&v===b?new ci(v,R):null}static _create(l,h){return new ci(l,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bu extends vr{constructor(l){ae(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Bu.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Bu.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const h=ci.fromJSON(l);return ae(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:h,providerId:v}=l;if(!h||!v)return null;try{return ci._create(v,h)}catch{return null}}}let Uo=(()=>{class m extends yr{constructor(){super("twitter.com")}static credential(h,v){return ke._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:b}=h;if(!v||!b)return null;try{return m.credential(v,b)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function li(m,l){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signUp",J(m,l))})).apply(this,arguments)}class Qn{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,h,v,b=!1){return(0,_.A)(function*(){const R=yield Pn._fromIdTokenResponse(l,v,b),B=Ri(v);return new Qn({user:R,providerId:B,_tokenResponse:v,operationType:h})})()}static _forOperation(l,h,v){return(0,_.A)(function*(){yield l._updateTokensIfNecessary(v,!0);const b=Ri(v);return new Qn({user:l,providerId:b,_tokenResponse:v,operationType:h})})()}}function Ri(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function xn(){return(xn=(0,_.A)(function*(m){var l;const h=pn(m);if(yield h._initializationPromise,null!==(l=h.currentUser)&&void 0!==l&&l.isAnonymous)return new Qn({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield li(h,{returnSecureToken:!0}),b=yield Qn._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(b.user),b})).apply(this,arguments)}class xa extends O.g{constructor(l,h,v,b){var R;super(h.code,h.message),this.operationType=v,this.user=b,Object.setPrototypeOf(this,xa.prototype),this.customData={appName:l.name,tenantId:null!==(R=l.tenantId)&&void 0!==R?R:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(l,h,v,b){return new xa(l,h,v,b)}}function ur(m,l,h,v){return("reauthenticate"===l?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?xa._fromErrorAndOperation(m,R,l,v):R})}function Zn(m){return new Set(m.map(({providerId:l})=>l).filter(l=>!!l))}function Xn(){return Xn=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m);yield Xi(!0,h,l);const{providerUserInfo:v}=yield function an(m,l){return wn.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[l]}),b=Zn(v||[]);return h.providerData=h.providerData.filter(R=>b.has(R.providerId)),b.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Xn.apply(this,arguments)}function ws(m,l){return Er.apply(this,arguments)}function Er(){return(Er=(0,_.A)(function*(m,l,h=!1){const v=yield nn(m,l._linkToIdToken(m.auth,yield m.getIdToken()),h);return Qn._forOperation(m,"link",v)})).apply(this,arguments)}function Xi(m,l,h){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,_.A)(function*(m,l,h){yield qe(l);const b=!1===m?"provider-already-linked":"no-such-provider";ae(Zn(l.providerData).has(h)===m,l.auth,b)})).apply(this,arguments)}function tf(m,l){return $u.apply(this,arguments)}function $u(){return($u=(0,_.A)(function*(m,l,h=!1){const{auth:v}=m,b="reauthenticate";try{const R=yield nn(m,ur(v,b,l,m),h);ae(R.idToken,v,"internal-error");const B=lt(R.idToken);ae(B,v,"internal-error");const{sub:K}=B;return ae(m.uid===K,v,"user-mismatch"),Qn._forOperation(m,b,R)}catch(R){throw"auth/user-not-found"===R?.code&&ge(v,"user-mismatch"),R}})).apply(this,arguments)}function Wu(m,l){return zu.apply(this,arguments)}function zu(){return(zu=(0,_.A)(function*(m,l,h=!1){const v="signIn",b=yield ur(m,v,l),R=yield Qn._fromIdTokenResponse(m,v,b);return h||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Ku(m,l){return _l.apply(this,arguments)}function _l(){return(_l=(0,_.A)(function*(m,l){return Wu(pn(m),l)})).apply(this,arguments)}function Dh(m,l){return en.apply(this,arguments)}function en(){return(en=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m);return yield Xi(!1,h,l.providerId),ws(h,l)})).apply(this,arguments)}function bh(m,l){return nf.apply(this,arguments)}function nf(){return(nf=(0,_.A)(function*(m,l){return tf((0,O.Ku)(m),l)})).apply(this,arguments)}function rf(){return(rf=(0,_.A)(function*(m,l){return vt(m,"POST","/v1/accounts:signInWithCustomToken",J(m,l))})).apply(this,arguments)}function Mi(){return Mi=(0,_.A)(function*(m,l){const h=pn(m),v=yield function Mg(m,l){return rf.apply(this,arguments)}(h,{token:l,returnSecureToken:!0}),b=yield Qn._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(b.user),b}),Mi.apply(this,arguments)}class Gu{constructor(l,h){this.factorId=l,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(l,h){return"phoneInfo"in h?ka._fromServerResponse(l,h):"totpInfo"in h?qu._fromServerResponse(l,h):ge(l,"internal-error")}}class ka extends Gu{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,h){return new ka(h)}}class qu extends Gu{constructor(l){super("totp",l)}static _fromServerResponse(l,h){return new qu(h)}}function Ds(m,l,h){var v;ae((null===(v=h.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),ae(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),l.continueUrl=h.url,l.dynamicLinkDomain=h.dynamicLinkDomain,l.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ae(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),l.iOSBundleId=h.iOS.bundleId),h.android&&(ae(h.android.packageName.length>0,m,"missing-android-pkg-name"),l.androidInstallApp=h.android.installApp,l.androidMinimumVersionCode=h.android.minimumVersion,l.androidPackageName=h.android.packageName)}function Bo(){return Bo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield Fr(b,R,"getOobCode",!0);h&&Ds(b,B,h),yield no(b,B)}else h&&Ds(b,R,h),yield no(b,R).catch(function(){var B=(0,_.A)(function*(K){if("auth/missing-recaptcha-token"!==K.code)return Promise.reject(K);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const De=yield Fr(b,R,"getOobCode",!0);h&&Ds(b,De,h),yield no(b,De)}});return function(K){return B.apply(this,arguments)}}())}),Bo.apply(this,arguments)}function Ni(){return(Ni=(0,_.A)(function*(m,l,h){yield Jd((0,O.Ku)(m),{oobCode:l,newPassword:h})})).apply(this,arguments)}function jr(){return jr=(0,_.A)(function*(m,l){yield function Ur(m,l){return Ou.apply(this,arguments)}((0,O.Ku)(m),{oobCode:l})}),jr.apply(this,arguments)}function yl(m,l){return In.apply(this,arguments)}function In(){return(In=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m),v=yield Jd(h,{oobCode:l}),b=v.requestType;switch(ae(b,h,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(v.mfaInfo,h,"internal-error");default:ae(v.email,h,"internal-error")}let R=null;return v.mfaInfo&&(R=Gu._fromServerResponse(pn(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:R},operation:b}})).apply(this,arguments)}function zn(){return(zn=(0,_.A)(function*(m,l){const{data:h}=yield yl((0,O.Ku)(m),l);return h.email})).apply(this,arguments)}function jo(){return jo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={returnSecureToken:!0,email:l,password:h,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Oe=yield Fr(b,R,"signUpPassword");B=li(b,Oe)}else B=li(b,R).catch(function(){var Oe=(0,_.A)(function*(He){if("auth/missing-recaptcha-token"===He.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ke=yield Fr(b,R,"signUpPassword");return li(b,Ke)}return Promise.reject(He)});return function(He){return Oe.apply(this,arguments)}}());const K=yield B.catch(Oe=>Promise.reject(Oe)),De=yield Qn._fromIdTokenResponse(b,"signIn",K);return yield b._updateCurrentUser(De.user),De}),jo.apply(this,arguments)}function oo(){return oo=(0,_.A)(function*(m,l,h){var v;const b=pn(m),R={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};function B(K,De){ae(De.handleCodeInApp,b,"argument-error"),De&&Ds(b,K,De)}if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const K=yield Fr(b,R,"getOobCode",!0);B(K,h),yield Na(b,K)}else B(R,h),yield Na(b,R).catch(function(){var K=(0,_.A)(function*(De){if("auth/missing-recaptcha-token"!==De.code)return Promise.reject(De);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Oe=yield Fr(b,R,"getOobCode",!0);B(Oe,h),yield Na(b,Oe)}});return function(De){return K.apply(this,arguments)}}())}),oo.apply(this,arguments)}function La(){return(La=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),b=io.credentialWithLink(l,h||Bn());return ae(b._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Ku(v,b)})).apply(this,arguments)}function Zu(){return(Zu=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:createAuthUri",J(m,l))})).apply(this,arguments)}function ao(){return ao=(0,_.A)(function*(m,l){const v={identifier:l,continueUri:fr()?Bn():"http://localhost"},{signinMethods:b}=yield function Qu(m,l){return Zu.apply(this,arguments)}((0,O.Ku)(m),v);return b||[]}),ao.apply(this,arguments)}function Pi(){return Pi=(0,_.A)(function*(m,l){const h=(0,O.Ku)(m),b={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};l&&Ds(h.auth,b,l);const{email:R}=yield function Ma(m,l){return Lu.apply(this,arguments)}(h.auth,b);R!==m.email&&(yield m.reload())}),Pi.apply(this,arguments)}function Ua(){return Ua=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:l};h&&Ds(v.auth,R,h);const{email:B}=yield function Wn(m,l){return On.apply(this,arguments)}(v.auth,R);B!==m.email&&(yield m.reload())}),Ua.apply(this,arguments)}function af(){return(af=(0,_.A)(function*(m,l){return oe(m,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Va(){return Va=(0,_.A)(function*(m,{displayName:l,photoURL:h}){if(void 0===l&&void 0===h)return;const v=(0,O.Ku)(m),R={idToken:yield v.getIdToken(),displayName:l,photoUrl:h,returnSecureToken:!0},B=yield nn(v,function Th(m,l){return af.apply(this,arguments)}(v.auth,R));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const K=v.providerData.find(({providerId:De})=>"password"===De);K&&(K.displayName=v.displayName,K.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Va.apply(this,arguments)}function ec(m,l,h){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,_.A)(function*(m,l,h){const{auth:v}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};l&&(R.email=l),h&&(R.password=h);const B=yield nn(m,Pu(v,R));yield m._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class uo{constructor(l,h,v={}){this.isNewUser=l,this.providerId=h,this.profile=v}}class ja extends uo{constructor(l,h,v,b){super(l,h,v),this.username=b}}class Il extends uo{constructor(l,h){super(l,"facebook.com",h)}}class Cl extends ja{constructor(l,h){super(l,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class $o extends uo{constructor(l,h){super(l,"google.com",h)}}class Wo extends ja{constructor(l,h,v){super(l,"twitter.com",h,v)}}function uf(m){const{user:l,_tokenResponse:h}=m;return l.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function tc(m){var l,h;if(!m)return null;const{providerId:v}=m,b=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&m?.idToken){const B=null===(h=null===(l=lt(m.idToken))||void 0===l?void 0:l.firebase)||void 0===h?void 0:h.sign_in_provider;if(B)return new uo(R,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new Il(R,b);case"github.com":return new Cl(R,b);case"google.com":return new $o(R,b);case"twitter.com":return new Wo(R,b,m.screenName||null);case"custom":case"anonymous":return new uo(R,null);default:return new uo(R,v,b)}}(h)}class Oi{constructor(l,h,v){this.type=l,this.credential=h,this.auth=v}static _fromIdtoken(l,h){return new Oi("enroll",l,h)}static _fromMfaPendingCredential(l){return new Oi("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var h,v;if(l?.multiFactorSession){if(null!==(h=l.multiFactorSession)&&void 0!==h&&h.pendingCredential)return Oi._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(v=l.multiFactorSession)&&void 0!==v&&v.idToken)return Oi._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Ts{constructor(l,h,v){this.session=l,this.hints=h,this.signInResolver=v}static _fromError(l,h){const v=pn(l),b=h.customData._serverResponse,R=(b.mfaInfo||[]).map(K=>Gu._fromServerResponse(v,K));ae(b.mfaPendingCredential,v,"internal-error");const B=Oi._fromMfaPendingCredential(b.mfaPendingCredential);return new Ts(B,R,function(){var K=(0,_.A)(function*(De){const Oe=yield De._process(v,B);delete b.mfaInfo,delete b.mfaPendingCredential;const He=Object.assign(Object.assign({},b),{idToken:Oe.idToken,refreshToken:Oe.refreshToken});switch(h.operationType){case"signIn":const Ke=yield Qn._fromIdTokenResponse(v,h.operationType,He);return yield v._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return ae(h.user,v,"internal-error"),Qn._forOperation(h.user,h.operationType,He);default:ge(v,"internal-error")}});return function(De){return K.apply(this,arguments)}}())}resolveSignIn(l){var h=this;return(0,_.A)(function*(){return h.signInResolver(l)})()}}class Ss{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>Gu._fromServerResponse(l.auth,v)))})}static _fromUser(l){return new Ss(l)}getSession(){var l=this;return(0,_.A)(function*(){return Oi._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,h){var v=this;return(0,_.A)(function*(){const b=l,R=yield v.getSession(),B=yield nn(v.user,b._process(v.user.auth,R,h));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(l){var h=this;return(0,_.A)(function*(){const v="string"==typeof l?l:l.uid,b=yield h.user.getIdToken();try{const R=yield nn(h.user,function Sl(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:withdraw",J(m,l))}(h.user.auth,{idToken:b,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:B})=>B!==v),yield h.user._updateTokensIfNecessary(R),yield h.user.reload()}catch(R){throw R}})()}}const Bt=new WeakMap,Rs="__sak";class Ir{constructor(l,h){this.storageRetriever=l,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,h){return this.storage.setItem(l,JSON.stringify(h)),Promise.resolve()}_get(l){const h=this.storage.getItem(l);return Promise.resolve(h?JSON.parse(h):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const fo=(()=>{class m extends Ir{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Rl(){const m=(0,O.ZQ)();return ie(m)||ft(m)}()&&function Lo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bi(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const b=this.storage.getItem(v),R=this.localCache[v];b!==R&&h(v,R,b)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((K,De,Oe)=>{this.notifyListeners(K,Oe)});const b=h.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const K=this.storage.getItem(b);if(h.newValue!==K)null!==h.newValue?this.storage.setItem(b,h.newValue):this.storage.removeItem(b);else if(this.localCache[b]===h.newValue&&!v)return}const R=()=>{const K=this.storage.getItem(b);!v&&this.localCache[b]===K||this.notifyListeners(b,K)},B=this.storage.getItem(b);!function gr(){return(0,O.lT)()&&10===document.documentMode}()||B===h.newValue||h.newValue===h.oldValue?R():setTimeout(R,10)}notifyListeners(h,v){this.localCache[h]=v;const b=this.listeners[h];if(b)for(const R of Array.from(b))R(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var b=()=>super._set,R=this;return(0,_.A)(function*(){yield b().call(R,h,v),R.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,b=this;return(0,_.A)(function*(){const R=yield v().call(b,h);return b.localCache[h]=JSON.stringify(R),R})()}_remove(h){var v=()=>super._remove,b=this;return(0,_.A)(function*(){yield v().call(b,h),delete b.localCache[h]})()}}return m.type="LOCAL",m})(),Ms=(()=>{class m extends Ir{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return m.type="SESSION",m})();let $a=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(R=>R.isListeningto(h));if(v)return v;const b=new m(h);return this.receivers.push(b),b}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,_.A)(function*(){const b=h,{eventId:R,eventType:B,data:K}=b.data,De=v.handlersMap[B];if(!De?.size)return;b.ports[0].postMessage({status:"ack",eventId:R,eventType:B});const Oe=Array.from(De).map(function(){var Ke=(0,_.A)(function*(gn){return gn(b.origin,K)});return function(gn){return Ke.apply(this,arguments)}}()),He=yield function Ns(m){return Promise.all(m.map(function(){var l=(0,_.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return l.apply(this,arguments)}}()))}(Oe);b.ports[0].postMessage({status:"done",eventId:R,eventType:B,response:He})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function ac(m="",l=10){let h="";for(let v=0;v<l;v++)h+=Math.floor(10*Math.random());return m+h}class Ph{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,h,v=50){var b=this;return(0,_.A)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let B,K;return new Promise((De,Oe)=>{const He=ac("",20);R.port1.start();const Ke=setTimeout(()=>{Oe(new Error("unsupported_event"))},v);K={messageChannel:R,onMessage(gn){const ri=gn;if(ri.data.eventId===He)switch(ri.data.status){case"ack":clearTimeout(Ke),B=setTimeout(()=>{Oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),De(ri.data.response);break;default:clearTimeout(Ke),clearTimeout(B),Oe(new Error("invalid_response"))}}},b.handlers.add(K),R.port1.addEventListener("message",K.onMessage),b.target.postMessage({eventType:l,eventId:He,data:h},[R.port2])}).finally(()=>{K&&b.removeMessageHandler(K)})})()}}function Qt(){return window}function uc(){return typeof Qt().WorkerGlobalScope<"u"&&"function"==typeof Qt().importScripts}function Wa(){return(Wa=(0,_.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",ho="firebaseLocalStorage",Ji="fbase_key";class za{constructor(l){this.request=l}toPromise(){return new Promise((l,h)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function Ka(m,l){return m.transaction([ho],l?"readwrite":"readonly").objectStore(ho)}function lc(){const m=indexedDB.open(Ml,1);return new Promise((l,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(ho,{keyPath:Ji})}catch(b){h(b)}}),m.addEventListener("success",(0,_.A)(function*(){const v=m.result;v.objectStoreNames.contains(ho)?l(v):(v.close(),yield function Oh(){const m=indexedDB.deleteDatabase(Ml);return new za(m).toPromise()}(),l(yield lc()))}))})}function zo(m,l,h){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,_.A)(function*(m,l,h){const v=Ka(m,!0).put({[Ji]:l,value:h});return new za(v).toPromise()})).apply(this,arguments)}function dc(){return(dc=(0,_.A)(function*(m,l){const h=Ka(m,!1).get(l),v=yield new za(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Nl(m,l){const h=Ka(m,!0).delete(l);return new za(h).toPromise()}const Cr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,_.A)(function*(){return h.db||(h.db=yield lc()),h.db})()}_withRetries(h){var v=this;return(0,_.A)(function*(){let b=0;for(;;)try{const R=yield v._openDb();return yield h(R)}catch(R){if(b++>3)throw R;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,_.A)(function*(){return uc()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,_.A)(function*(){h.receiver=$a._getInstance(function Ln(){return uc()?self:null}()),h.receiver._subscribe("keyChanged",function(){var v=(0,_.A)(function*(b,R){return{keyProcessed:(yield h._poll()).includes(R.key)}});return function(b,R){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,_.A)(function*(b,R){return["keyChanged"]});return function(b,R){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,_.A)(function*(){var v,b;if(h.activeServiceWorker=yield function ut(){return Wa.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ph(h.activeServiceWorker);const R=yield h.sender._send("ping",{},800);R&&null!==(v=R[0])&&void 0!==v&&v.fulfilled&&null!==(b=R[0])&&void 0!==b&&b.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,_.A)(function*(){if(v.sender&&v.activeServiceWorker&&function cc(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,_.A)(function*(){try{if(!indexedDB)return!1;const h=yield lc();return yield zo(h,Rs,"1"),yield Nl(h,Rs),!0}catch{}return!1})()}_withPendingWrite(h){var v=this;return(0,_.A)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var b=this;return(0,_.A)(function*(){return b._withPendingWrite((0,_.A)(function*(){return yield b._withRetries(R=>zo(R,h,v)),b.localCache[h]=v,b.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,_.A)(function*(){const b=yield v._withRetries(R=>function _t(m,l){return dc.apply(this,arguments)}(R,h));return v.localCache[h]=b,b})()}_remove(h){var v=this;return(0,_.A)(function*(){return v._withPendingWrite((0,_.A)(function*(){return yield v._withRetries(b=>Nl(b,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,_.A)(function*(){const v=yield h._withRetries(B=>{const K=Ka(B,!1).getAll();return new za(K).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const b=[],R=new Set;for(const{fbase_key:B,value:K}of v)R.add(B),JSON.stringify(h.localCache[B])!==JSON.stringify(K)&&(h.notifyListeners(B,K),b.push(B));for(const B of Object.keys(h.localCache))h.localCache[B]&&!R.has(B)&&(h.notifyListeners(B,null),b.push(B));return b})()}notifyListeners(h,v){this.localCache[h]=v;const b=this.listeners[h];if(b)for(const R of Array.from(b))R(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,_.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),An=1e12;class xi{constructor(l){this.auth=l,this.counter=An,this._widgets=new Map}render(l,h){const v=this.counter;return this._widgets.set(v,new mc(l,this.auth.name,h||{})),this.counter++,v}reset(l){var h;const v=l||An;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(l){var h;return(null===(h=this._widgets.get(l||An))||void 0===h?void 0:h.getResponse())||""}execute(l){var h=this;return(0,_.A)(function*(){var v;return null===(v=h._widgets.get(l||An))||void 0===v||v.execute(),""})()}}class mc{constructor(l,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof l?document.getElementById(l):l;ae(b,"argument-error",{appName:h}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ko(m){const l=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)l.push(h.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":h}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const pi=mr("rcb"),hf=new Ii(3e4,6e4);class kh{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=Qt().grecaptcha)||void 0===l||!l.render)}load(l,h=""){return ae(function Pl(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),l,"argument-error"),this.shouldResolveImmediately(h)&&je(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((v,b)=>{const R=Qt().setTimeout(()=>{b(te(l,"network-request-failed"))},hf.get());Qt()[pi]=()=>{Qt().clearTimeout(R),delete Qt()[pi];const K=Qt().grecaptcha;if(!K||!je(K))return void b(te(l,"internal-error"));const De=K.render;K.render=(Oe,He)=>{const Ke=De(Oe,He);return this.counter++,Ke},this.hostLanguage=h,v(K)},ui(`https://www.google.com/recaptcha/api.js??${(0,O.Am)({onload:pi,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(R),b(te(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var h;return!(null===(h=Qt().grecaptcha)||void 0===h||!h.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ol{load(l){return(0,_.A)(function*(){return new xi(l)})()}clearedOneInstance(){}}const qo="recaptcha",pf={theme:"light",type:"image"};class Ga{constructor(l,h=Object.assign({},pf),v){this.parameters=h,this.type=qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(v),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof l?document.getElementById(l):l;ae(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ol:new kh,this.validateStartingState()}verify(){var l=this;return(0,_.A)(function*(){l.assertNotDestroyed();const h=yield l.render(),v=l.getAssertedRecaptcha();return v.getResponse(h)||new Promise(R=>{const B=K=>{K&&(l.tokenChangeListeners.delete(B),R(K))};l.tokenChangeListeners.add(B),l.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof l)l(h);else if("string"==typeof l){const v=Qt()[l];"function"==typeof v&&v(h)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,_.A)(function*(){if(yield l.init(),!l.widgetId){let h=l.container;if(!l.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}l.widgetId=l.getAssertedRecaptcha().render(h,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,_.A)(function*(){ae(fr()&&!uc(),l.auth,"internal-error"),yield function Lh(){let m=null;return new Promise(l=>{"complete"!==document.readyState?(m=()=>l(),window.addEventListener("load",m)):l()}).catch(l=>{throw m&&window.removeEventListener("load",m),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const h=yield function X(m){return Se.apply(this,arguments)}(l.auth);ae(h,l.auth,"internal-error"),l.parameters.sitekey=h})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pr{constructor(l,h){this.verificationId=l,this.onConfirmation=h}confirm(l){const h=et._fromVerification(this.verificationId,l);return this.onConfirmation(h)}}function po(){return(po=(0,_.A)(function*(m,l,h){const v=pn(m),b=yield Yo(v,l,(0,O.Ku)(h));return new Pr(b,R=>Ku(v,R))})).apply(this,arguments)}function it(){return(it=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);yield Xi(!1,v,"phone");const b=yield Yo(v.auth,l,(0,O.Ku)(h));return new Pr(b,R=>Dh(v,R))})).apply(this,arguments)}function go(){return(go=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m),b=yield Yo(v.auth,l,(0,O.Ku)(h));return new Pr(b,R=>bh(v,R))})).apply(this,arguments)}function Yo(m,l,h){return _c.apply(this,arguments)}function _c(){return _c=(0,_.A)(function*(m,l,h){var v;const b=yield h.verify();try{let R;if(ae("string"==typeof b,m,"argument-error"),ae(h.type===qo,m,"argument-error"),R="string"==typeof l?{phoneNumber:l}:l,"session"in R){const B=R.session;if("phoneNumber"in R)return ae("enroll"===B.type,m,"internal-error"),(yield function ic(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:start",J(m,l))}(m,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ae("signin"===B.type,m,"internal-error");const K=(null===(v=R.multiFactorHint)||void 0===v?void 0:v.uid)||R.multiFactorUid;return ae(K,m,"missing-multi-factor-info"),(yield function pc(m,l){return oe(m,"POST","/v2/accounts/mfaSignIn:start",J(m,l))}(m,{mfaPendingCredential:B.credential,mfaEnrollmentId:K,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function mt(m,l){return $t.apply(this,arguments)}(m,{phoneNumber:R.phoneNumber,recaptchaToken:b});return B}}finally{h._reset()}}),_c.apply(this,arguments)}function ki(){return(ki=(0,_.A)(function*(m,l){yield ws((0,O.Ku)(m),l)})).apply(this,arguments)}let Ht=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=pn(h)}verifyPhoneNumber(h,v){return Yo(this.auth,h,(0,O.Ku)(v))}static credential(h,v){return et._fromVerification(h,v)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:b}=h;return v&&b?et._fromTokenResponse(v,b):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Xr(m,l){return l?un(l):(ae(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class ht extends Is{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Vr(l,this._buildIdpRequest())}_linkToIdToken(l,h){return Vr(l,this._buildIdpRequest(h))}_getReauthenticationResolver(l){return Vr(l,this._buildIdpRequest())}_buildIdpRequest(l){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(h.idToken=l),h}}function xl(m){return Wu(m.auth,new ht(m),m.bypassAuthState)}function kl(m){const{auth:l,user:h}=m;return ae(h,l,"internal-error"),tf(h,new ht(m),m.bypassAuthState)}function Qo(m){return Li.apply(this,arguments)}function Li(){return(Li=(0,_.A)(function*(m){const{auth:l,user:h}=m;return ae(h,l,"internal-error"),ws(h,new ht(m),m.bypassAuthState)})).apply(this,arguments)}class mo{constructor(l,h,v,b,R=!1){this.auth=l,this.resolver=v,this.user=b,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var l=this;return new Promise(function(){var h=(0,_.A)(function*(v,b){l.pendingPromise={resolve:v,reject:b};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(R){l.reject(R)}});return function(v,b){return h.apply(this,arguments)}}())}onAuthEvent(l){var h=this;return(0,_.A)(function*(){const{urlResponse:v,sessionId:b,postBody:R,tenantId:B,error:K,type:De}=l;if(K)return void h.reject(K);const Oe={auth:h.auth,requestUri:v,sessionId:b,tenantId:B||void 0,postBody:R||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(De)(Oe))}catch(He){h.reject(He)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return Qo;case"reauthViaPopup":case"reauthViaRedirect":return kl;default:ge(this.auth,"internal-error")}}resolve(l){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Ct(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jt=new Ii(2e3,1e4);function Os(){return(Os=(0,_.A)(function*(m,l,h){const v=pn(m);Re(m,l,vr);const b=Xr(v,h);return new es(v,"signInViaPopup",l,b).executeNotNull()})).apply(this,arguments)}function xs(){return(xs=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr);const b=Xr(v.auth,h);return new es(v.auth,"reauthViaPopup",l,b,v).executeNotNull()})).apply(this,arguments)}function ks(){return(ks=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr);const b=Xr(v.auth,h);return new es(v.auth,"linkViaPopup",l,b,v).executeNotNull()})).apply(this,arguments)}let es=(()=>{class m extends mo{constructor(h,v,b,R,B){super(h,v,R,B),this.provider=b,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,_.A)(function*(){const v=yield h.execute();return ae(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,_.A)(function*(){Ct(1===h.filter.length,"Popup operations only handle one event");const v=ac();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(b=>{h.reject(b)}),h.resolver._isIframeWebStorageSupported(h.auth,b=>{b||h.reject(te(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(te(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,b;this.pollId=null!==(b=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(te(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,jt.get())};h()}}return m.currentPopupAction=null,m})();const yc="pendingRedirect",Jr=new Map;class Ls extends mo{constructor(l,h,v=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var l=()=>super.execute,h=this;return(0,_.A)(function*(){let v=Jr.get(h.auth._key());if(!v){try{const R=(yield function Ya(m,l){return gf.apply(this,arguments)}(h.resolver,h.auth))?yield l().call(h):null;v=()=>Promise.resolve(R)}catch(b){v=()=>Promise.reject(b)}Jr.set(h.auth._key(),v)}return h.bypassAuthState||Jr.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(l){var h=()=>super.onAuthEvent,v=this;return(0,_.A)(function*(){if("signInViaRedirect"===l.type)return h().call(v,l);if("unknown"!==l.type){if(l.eventId){const b=yield v.auth._redirectUserForId(l.eventId);if(b)return v.user=b,h().call(v,l);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,_.A)(function*(){})()}cleanUp(){}}function gf(){return(gf=(0,_.A)(function*(m,l){const h=Ec(l),v=Ul(m);if(!(yield v._isAvailable()))return!1;const b="true"===(yield v._get(h));return yield v._remove(h),b})).apply(this,arguments)}function ts(m,l){return ns.apply(this,arguments)}function ns(){return(ns=(0,_.A)(function*(m,l){return Ul(m)._set(Ec(l),"true")})).apply(this,arguments)}function er(m,l){Jr.set(m._key(),l)}function Ul(m){return un(m._redirectPersistence)}function Ec(m){return V(yc,m.config.apiKey,m.name)}function Hr(m,l,h){return function dn(m,l,h){return rs.apply(this,arguments)}(m,l,h)}function rs(){return(rs=(0,_.A)(function*(m,l,h){const v=pn(m);Re(m,l,vr),yield v._initializationPromise;const b=Xr(v,h);return yield ts(b,v),b._openRedirect(v,l,"signInViaRedirect")})).apply(this,arguments)}function Zo(m,l,h){return function ei(m,l,h){return Cn.apply(this,arguments)}(m,l,h)}function Cn(){return(Cn=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr),yield v.auth._initializationPromise;const b=Xr(v.auth,h);yield ts(b,v.auth);const R=yield _o(v);return b._openRedirect(v.auth,l,"reauthViaRedirect",R)})).apply(this,arguments)}function Ic(m,l,h){return function Vl(m,l,h){return Qa.apply(this,arguments)}(m,l,h)}function Qa(){return(Qa=(0,_.A)(function*(m,l,h){const v=(0,O.Ku)(m);Re(v.auth,l,vr),yield v.auth._initializationPromise;const b=Xr(v.auth,h);yield Xi(!1,v,l.providerId),yield ts(b,v.auth);const R=yield _o(v);return b._openRedirect(v.auth,l,"linkViaRedirect",R)})).apply(this,arguments)}function tr(){return(tr=(0,_.A)(function*(m,l){return yield pn(m)._initializationPromise,Tn(m,l,!1)})).apply(this,arguments)}function Tn(m,l){return $r.apply(this,arguments)}function $r(){return($r=(0,_.A)(function*(m,l,h=!1){const v=pn(m),b=Xr(v,l),B=yield new Ls(v,b,h).execute();return B&&!h&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,l)),B})).apply(this,arguments)}function _o(m){return ss.apply(this,arguments)}function ss(){return(ss=(0,_.A)(function*(m){const l=ac(`${m.uid}:::`);return m._redirectEventId=l,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),l})).apply(this,arguments)}class vo{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(l,v)&&(h=!0,this.sendToConsumer(l,v),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Xo(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fs(m);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=l,h=!0)),h}sendToConsumer(l,h){var v;if(l.error&&!Fs(l)){const b=(null===(v=l.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(te(this.auth,b))}else h.onAuthEvent(l)}isEventForConsumer(l,h){const v=null===h.eventId||!!l.eventId&&l.eventId===h.eventId;return h.filter.includes(l.type)&&v}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(l))}saveEventToCache(l){this.cachedEventUids.add(Za(l)),this.lastProcessedEventTime=Date.now()}}function Za(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(l=>l).join("-")}function Fs({type:m,error:l}){return"unknown"===m&&"auth/no-auth-event"===l?.code}function Bl(m){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.A)(function*(m,l={}){return oe(m,"GET","/v1/projects",l)})).apply(this,arguments)}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ja=/^https?/;function as(){return(as=(0,_.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:l}=yield Bl(m);for(const h of l)try{if(Cc(h))return}catch{}ge(m,"unauthorized-domain")})).apply(this,arguments)}function Cc(m){const l=Bn(),{protocol:h,hostname:v}=new URL(l);if(m.startsWith("chrome-extension://")){const B=new URL(m);return""===B.hostname&&""===v?"chrome-extension:"===h&&m.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===h&&B.hostname===v}if(!Ja.test(h))return!1;if(Xa.test(m))return v===m;const b=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(v)}const ti=new Ii(3e4,6e4);function Us(){const m=Qt().___jsl;if(m?.H)for(const l of Object.keys(m.H))if(m.H[l].r=m.H[l].r||[],m.H[l].L=m.H[l].L||[],m.H[l].r=[...m.H[l].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let Zt=null;const jl=new Ii(5e3,15e3),wc="__/auth/iframe",Hl="emulator/auth/iframe",Dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yo(m){const l=m.config;ae(l.authDomain,m,"auth-domain-config-required");const h=l.emulator?zi(l,Hl):`https://${m.config.authDomain}/${wc}`,v={apiKey:l.apiKey,appName:m.name,v:ee.SDK_VERSION},b=bc.get(m.config.apiHost);b&&(v.eid=b);const R=m._getFrameworks();return R.length&&(v.fw=R.join(",")),`${h}?${(0,O.Am)(v).slice(1)}`}function w(){return w=(0,_.A)(function*(m){const l=yield function Vs(m){return Zt=Zt||function us(m){return new Promise((l,h)=>{var v,b,R;function B(){Us(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Us(),h(te(m,"network-request-failed"))},timeout:ti.get()})}if(null!==(b=null===(v=Qt().gapi)||void 0===v?void 0:v.iframes)&&void 0!==b&&b.Iframe)l(gapi.iframes.getContext());else{if(null===(R=Qt().gapi)||void 0===R||!R.load){const K=mr("iframefcb");return Qt()[K]=()=>{gapi.load?B():h(te(m,"network-request-failed"))},ui(`https://apis.google.com/js/api.js?onload=${K}`).catch(De=>h(De))}B()}}).catch(l=>{throw Zt=null,l})}(m),Zt}(m),h=Qt().gapi;return ae(h,m,"internal-error"),l.open({where:document.body,url:yo(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dc,dontclear:!0},v=>new Promise(function(){var b=(0,_.A)(function*(R,B){yield v.restyle({setHideOnLeave:!1});const K=te(m,"network-request-failed"),De=Qt().setTimeout(()=>{B(K)},jl.get());function Oe(){Qt().clearTimeout(De),R(v)}v.ping(Oe).then(Oe,()=>{B(K)})});return function(R,B){return b.apply(this,arguments)}}()))}),w.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ve{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pt="__/auth/handler",ct="emulator/auth/handler",cr=encodeURIComponent("fac");function Xt(m,l,h,v,b,R){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,_.A)(function*(m,l,h,v,b,R){ae(m.config.authDomain,m,"auth-domain-config-required"),ae(m.config.apiKey,m,"invalid-api-key");const B={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:v,v:ee.SDK_VERSION,eventId:b};if(l instanceof vr){l.setDefaultLanguage(m.languageCode),B.providerId=l.providerId||"",(0,O.Im)(l.getCustomParameters())||(B.customParameters=JSON.stringify(l.getCustomParameters()));for(const[He,Ke]of Object.entries(R||{}))B[He]=Ke}if(l instanceof yr){const He=l.getScopes().filter(Ke=>""!==Ke);He.length>0&&(B.scopes=He.join(","))}m.tenantId&&(B.tid=m.tenantId);const K=B;for(const He of Object.keys(K))void 0===K[He]&&delete K[He];const De=yield m._getAppCheckToken(),Oe=De?`#${cr}=${encodeURIComponent(De)}`:"";return`${function Ac({config:m}){return m.emulator?zi(m,ct):`https://${m.authDomain}/${pt}`}(m)}?${(0,O.Am)(K).slice(1)}${Oe}`})).apply(this,arguments)}const Gt="webStorageSupport",br=class Dr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_openPopup(l,h,v,b){var R=this;return(0,_.A)(function*(){var B;Ct(null===(B=R.eventManagers[l._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const K=yield Xt(l,h,v,Bn(),b);return function xe(m,l,h,v=500,b=600){const R=Math.max((window.screen.availHeight-b)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let K="";const De=Object.assign(Object.assign({},T),{width:v.toString(),height:b.toString(),top:R,left:B}),Oe=(0,O.ZQ)().toLowerCase();h&&(K=ze(Oe)?"_blank":h),_e(Oe)&&(l=l||"http://localhost",De.scrollbars="yes");const He=Object.entries(De).reduce((gn,[ri,Ao])=>`${gn}${ri}=${Ao},`,"");if(function Hn(m=(0,O.ZQ)()){var l;return ft(m)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(Oe)&&"_self"!==K)return function Ye(m,l){const h=document.createElement("a");h.href=m,h.target=l;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(l||"",K),new Ve(null);const Ke=window.open(l||"",K,He);ae(Ke,m,"popup-blocked");try{Ke.focus()}catch{}return new Ve(Ke)}(l,K,ac())})()}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R._originValidation(l),function lf(m){Qt().location.href=m}(yield Xt(l,h,v,Bn(),b)),new Promise(()=>{})})()}_initialize(l){const h=l._key();if(this.eventManagers[h]){const{manager:b,promise:R}=this.eventManagers[h];return b?Promise.resolve(b):(Ct(R,"If manager is not set, promise should be"),R)}const v=this.initAndGetManager(l);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(l){var h=this;return(0,_.A)(function*(){const v=yield function E(m){return w.apply(this,arguments)}(l),b=new vo(l);return v.register("authEvent",R=>(ae(R?.authEvent,l,"invalid-auth-event"),{status:b.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[l._key()]={manager:b},h.iframes[l._key()]=v,b})()}_isIframeWebStorageSupported(l,h){this.iframes[l._key()].send(Gt,{type:Gt},b=>{var R;const B=null===(R=b?.[0])||void 0===R?void 0:R[Gt];void 0!==B&&h(!!B),ge(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Wr(m){return as.apply(this,arguments)}(l)),this.originValidationPromises[h]}get _shouldInitProactively(){return bi()||ie()||ft()}};class eu{constructor(l){this.factorId=l}_process(l,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(l,h.credential,v);case"signin":return this._finalizeSignIn(l,h.credential);default:return st("unexpected MultiFactorSessionType")}}}class zr extends eu{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new zr(l)}_finalizeEnroll(l,h,v){return function sc(m,l){return oe(m,"POST","/v2/accounts/mfaEnrollment:finalize",J(m,l))}(l,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,h){return function gc(m,l){return oe(m,"POST","/v2/accounts/mfaSignIn:finalize",J(m,l))}(l,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tu=(()=>{class m{constructor(){}static assertion(h){return zr._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Og="@firebase/auth";class hv{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var h=this;return(0,_.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const h=this.auth.onIdTokenChanged(v=>{l(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,h),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const h=this.internalListeners.get(l);h&&(this.internalListeners.delete(l),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Io(){return window}(0,O.XA)("authIdTokenMaxAge"),function mf(m){(0,ee._registerComponent)(new pe.uA("auth",(l,{options:h})=>{const v=l.getProvider("app").getImmediate(),b=l.getProvider("heartbeat"),R=l.getProvider("app-check-internal"),{apiKey:B,authDomain:K}=v.options;ae(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const De={apiKey:B,authDomain:K,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(m)},Oe=new Mu(v,b,R,De);return function Xd(m,l){const h=l?.persistence||[],v=(Array.isArray(h)?h:[h]).map(un);l?.errorMap&&m._updateErrorMap(l.errorMap),m._initializeWithPersistence(v,l?.popupRedirectResolver)}(Oe,h),Oe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,h,v)=>{l.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new pe.uA("auth-internal",l=>{const h=pn(l.getProvider("auth").getImmediate());return new hv(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Og,"0.23.2",function ni(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,ee.registerVersion)(Og,"0.23.2","esm2017")}("Browser");function ta(){return ta=(0,_.A)(function*(m,l,h){var v;const{BuildInfo:b}=Io();Ct(l.sessionId,"AuthEvent did not contain a session ID");const R=yield function kg(m){return Gl.apply(this,arguments)}(l.sessionId),B={};return ft()?B.ibi=b.packageName:Mt()?B.apn=b.packageName:ge(m,"operation-not-supported-in-this-environment"),b.displayName&&(B.appDisplayName=b.displayName),B.sessionId=R,Xt(m,h,l.type,void 0,null!==(v=l.eventId)&&void 0!==v?v:void 0,B)}),ta.apply(this,arguments)}function na(){return(na=(0,_.A)(function*(m){const{BuildInfo:l}=Io(),h={};ft()?h.iosBundleId=l.packageName:Mt()?h.androidPackageName=l.packageName:ge(m,"operation-not-supported-in-this-environment"),yield Bl(m,h)})).apply(this,arguments)}function ru(){return(ru=(0,_.A)(function*(m,l,h){const{cordova:v}=Io();let b=()=>{};try{yield new Promise((R,B)=>{let K=null;function De(){var Ke;R();const gn=null===(Ke=v.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof gn&&gn(),"function"==typeof h?.close&&h.close()}function Oe(){K||(K=window.setTimeout(()=>{B(te(m,"redirect-cancelled-by-user"))},2e3))}function He(){"visible"===document?.visibilityState&&Oe()}l.addPassiveListener(De),document.addEventListener("resume",Oe,!1),Mt()&&document.addEventListener("visibilitychange",He,!1),b=()=>{l.removePassiveListener(De),document.removeEventListener("resume",Oe,!1),document.removeEventListener("visibilitychange",He,!1),K&&window.clearTimeout(K)}})}finally{b()}})).apply(this,arguments)}function Gl(){return(Gl=(0,_.A)(function*(m){const l=function ql(m){if(Ct(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(m);const l=new ArrayBuffer(m.length),h=new Uint8Array(l);for(let v=0;v<m.length;v++)h[v]=m.charCodeAt(v);return h}(m),h=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(h)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Bh extends vo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(l)),super.onEvent(l)}initialized(){var l=this;return(0,_.A)(function*(){yield l.initPromise})()}}function wo(m){return Do.apply(this,arguments)}function Do(){return(Do=(0,_.A)(function*(m){const l=yield ra()._get(cs(m));return l&&(yield ra()._remove(cs(m))),l})).apply(this,arguments)}function Bs(){const m=[];for(let h=0;h<20;h++){const v=Math.floor(62*Math.random());m.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return m.join("")}function ra(){return un(fo)}function cs(m){return V("authEvent",m.config.apiKey,m.name)}function ia(m){if(!m?.includes("?"))return{};const[l,...h]=m.split("?");return(0,O.I9)(h.join("?"))}const Hh=class Ql{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_initialize(l){var h=this;return(0,_.A)(function*(){const v=l._key();let b=h.eventManagers.get(v);return b||(b=new Bh(l),h.eventManagers.set(v,b),h.attachCallbackListeners(l,b)),b})()}_openPopup(l){ge(l,"operation-not-supported-in-this-environment")}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){!function Kl(m){var l,h,v,b,R,B,K,De,Oe,He;const Ke=Io();ae("function"==typeof(null===(l=Ke?.universalLinks)||void 0===l?void 0:l.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ae(typeof(null===(h=Ke?.BuildInfo)||void 0===h?void 0:h.packageName)<"u",m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ae("function"==typeof(null===(R=null===(b=null===(v=Ke?.cordova)||void 0===v?void 0:v.plugins)||void 0===b?void 0:b.browsertab)||void 0===R?void 0:R.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(De=null===(K=null===(B=Ke?.cordova)||void 0===B?void 0:B.plugins)||void 0===K?void 0:K.browsertab)||void 0===De?void 0:De.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ae("function"==typeof(null===(He=null===(Oe=Ke?.cordova)||void 0===Oe?void 0:Oe.InAppBrowser)||void 0===He?void 0:He.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const B=yield R._initialize(l);yield B.initialized(),B.resetRedirect(),function Fl(){Jr.clear()}(),yield R._originValidation(l);const K=function vf(m,l,h=null){return{type:l,eventId:h,urlResponse:null,sessionId:Bs(),postBody:null,tenantId:m.tenantId,error:te(m,"no-auth-event")}}(l,v,b);yield function Lg(m,l){return ra()._set(cs(m),l)}(l,K);const De=yield function Wl(m,l,h){return ta.apply(this,arguments)}(l,K,h),Oe=yield function Vh(m){const{cordova:l}=Io();return new Promise(h=>{l.plugins.browsertab.isAvailable(v=>{let b=null;v?l.plugins.browsertab.openUrl(m):b=l.InAppBrowser.open(m,function Tt(m=(0,O.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(b)})})}(De);return function zl(m,l,h){return ru.apply(this,arguments)}(l,B,Oe)})()}_isIframeWebStorageSupported(l,h){throw new Error("Method not implemented.")}_originValidation(l){const h=l._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Tc(m){return na.apply(this,arguments)}(l)),this.originValidationPromises[h]}attachCallbackListeners(l,h){const{universalLinks:v,handleOpenURL:b,BuildInfo:R}=Io(),B=setTimeout((0,_.A)(function*(){yield wo(l),h.onEvent($h())}),500),K=function(){var He=(0,_.A)(function*(Ke){clearTimeout(B);const gn=yield wo(l);let ri=null;gn&&Ke?.url&&(ri=function Sc(m,l){var h,v;const b=function iu(m){const l=ia(m),h=l.link?decodeURIComponent(l.link):void 0,v=ia(h).link,b=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return ia(b).link||b||v||h||m}(l);if(b.includes("/__/auth/callback")){const R=ia(b),B=R.firebaseError?function Yl(m){try{return JSON.parse(m)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,K=null===(v=null===(h=B?.code)||void 0===h?void 0:h.split("auth/"))||void 0===v?void 0:v[1],De=K?te(K):null;return De?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:De,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:b,postBody:null}}return null}(gn,Ke.url)),h.onEvent(ri||$h())});return function(gn){return He.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,K);const De=b,Oe=`${R.packageName.toLowerCase()}://`;Io().handleOpenURL=function(){var He=(0,_.A)(function*(Ke){if(Ke.toLowerCase().startsWith(Oe)&&K({url:Ke}),"function"==typeof De)try{De(Ke)}catch(gn){console.error(gn)}});return function(Ke){return He.apply(this,arguments)}}()}};function $h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:te("no-auth-event")}}function Rc(){var m;return(null===(m=self?.location)||void 0===m?void 0:m.protocol)||null}function Zl(m=(0,O.ZQ)()){return!("file:"!==Rc()&&"ionic:"!==Rc()&&"capacitor:"!==Rc()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vg(){try{const m=self.localStorage,l=ac();if(m)return m.setItem(l,"1"),m.removeItem(l),!function JI(m=(0,O.ZQ)()){return function Kh(){return(0,O.lT)()&&11===document?.documentMode}()||function Mc(m=(0,O.ZQ)()){return/Edge\/\d+/.test(m)}(m)}()||(0,O.zW)()}catch{return su()&&(0,O.zW)()}return!1}function su(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yf(){return(function Fg(){return"http:"===Rc()||"https:"===Rc()}()||(0,O.sr)()||Zl())&&!function Ug(){return(0,O.lV)()||(0,O.Ll)()}()&&Vg()&&!su()}function Ef(){return Zl()&&typeof document<"u"}function Kr(){return(Kr=(0,_.A)(function*(){return!!Ef()&&new Promise(m=>{const l=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),m(!0)})})})).apply(this,arguments)}const Or={LOCAL:"local",NONE:"none",SESSION:"session"},sa=ae,Cf="persistence";function Nc(m){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,_.A)(function*(m){yield m._initializationPromise;const l=ou(),h=V(Cf,m.config.apiKey,m.name);l&&l.setItem(h,m._getPersistence())})).apply(this,arguments)}function ou(){var m;try{return(null===(m=function js(){return typeof window<"u"?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch{return null}}const au=ae;class Hs{constructor(){this.browserResolver=un(br),this.cordovaResolver=un(Hh),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Tn,this._overrideRedirectResult=er}_initialize(l){var h=this;return(0,_.A)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(l,h,v,b)})()}_openRedirect(l,h,v,b){var R=this;return(0,_.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(l,h,v,b)})()}_isIframeWebStorageSupported(l,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,h)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return Ef()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return au(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,_.A)(function*(){if(l.underlyingResolver)return;const h=yield function If(){return Kr.apply(this,arguments)}();l.underlyingResolver=h?l.cordovaResolver:l.browserResolver})()}}function Jl(m){return m.unwrap()}function Df(m){return Pc(m)}function Pc(m){const{_tokenResponse:l}=m instanceof O.g?m.customData:m;if(!l)return null;if(!(m instanceof O.g)&&"temporaryProof"in l&&"phoneNumber"in l)return Ht.credentialFromResult(m);const h=l.providerId;if(!h||h===de.PASSWORD)return null;let v;switch(h){case de.GOOGLE:v=Zr;break;case de.FACEBOOK:v=ml;break;case de.GITHUB:v=Si;break;case de.TWITTER:v=Uo;break;default:const{oauthIdToken:b,oauthAccessToken:R,oauthTokenSecret:B,pendingToken:K,nonce:De}=l;return R||B||b||K?K?h.startsWith("saml.")?ci._create(h,K):ke._fromParams({providerId:h,signInMethod:h,pendingToken:K,idToken:b,accessToken:R}):new Br(h).credential({idToken:b,accessToken:R,rawNonce:De}):null}return m instanceof O.g?v.credentialFromError(m):v.credentialFromResult(m)}function xr(m,l){return l.catch(h=>{throw h instanceof O.g&&function bf(m,l){var h;const v=null===(h=l.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new Bg(m,function rc(m,l){var h;const v=(0,O.Ku)(m),b=l;return ae(l.customData.operationType,v,"argument-error"),ae(null===(h=b.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),Ts._fromError(v,b)}(m,l));else if(v){const b=Pc(l),R=l;b&&(R.credential=b,R.tenantId=v.tenantId||void 0,R.email=v.email||void 0,R.phoneNumber=v.phoneNumber||void 0)}}(m,h),h}).then(h=>{const b=h.user;return{operationType:h.operationType,credential:Df(h),additionalUserInfo:uf(h),user:$s.getOrCreate(b)}})}function Af(m,l){return bo.apply(this,arguments)}function bo(){return(bo=(0,_.A)(function*(m,l){const h=yield l;return{verificationId:h.verificationId,confirm:v=>xr(m,h.confirm(v))}})).apply(this,arguments)}class Bg{constructor(l,h){this.resolver=h,this.auth=function wf(m){return m.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return xr(Jl(this.auth),this.resolver.resolveSignIn(l))}}class $s{constructor(l){this._delegate=l,this.multiFactor=function lo(m){const l=(0,O.Ku)(m);return Bt.has(l)||Bt.set(l,Ss._fromUser(l)),Bt.get(l)}(l)}static getOrCreate(l){return $s.USER_MAP.has(l)||$s.USER_MAP.set(l,new $s(l)),$s.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,Dh(h._delegate,l))})()}linkWithPhoneNumber(l,h){var v=this;return(0,_.A)(function*(){return Af(v.auth,function Fn(m,l,h){return it.apply(this,arguments)}(v._delegate,l,h))})()}linkWithPopup(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,function Ll(m,l,h){return ks.apply(this,arguments)}(h._delegate,l,Hs))})()}linkWithRedirect(l){var h=this;return(0,_.A)(function*(){return yield Nc(pn(h.auth)),Ic(h._delegate,l,Hs)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var h=this;return(0,_.A)(function*(){return xr(h.auth,bh(h._delegate,l))})()}reauthenticateWithPhoneNumber(l,h){return Af(this.auth,function wr(m,l,h){return go.apply(this,arguments)}(this._delegate,l,h))}reauthenticateWithPopup(l){return xr(this.auth,function qa(m,l,h){return xs.apply(this,arguments)}(this._delegate,l,Hs))}reauthenticateWithRedirect(l){var h=this;return(0,_.A)(function*(){return yield Nc(pn(h.auth)),Zo(h._delegate,l,Hs)})()}sendEmailVerification(l){return function bs(m,l){return Pi.apply(this,arguments)}(this._delegate,l)}unlink(l){var h=this;return(0,_.A)(function*(){return yield function ju(m,l){return Xn.apply(this,arguments)}(h._delegate,l),h})()}updateEmail(l){return function Rh(m,l){return ec((0,O.Ku)(m),l,null)}(this._delegate,l)}updatePassword(l){return function Ju(m,l){return ec((0,O.Ku)(m),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Kn(m,l){return ki.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Sh(m,l){return Va.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,h){return function Fa(m,l,h){return Ua.apply(this,arguments)}(this._delegate,l,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$s.USER_MAP=new WeakMap;const Un=ae;let Oc=(()=>{class m{constructor(h,v){if(this.app=h,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=h.options;Un(b,"invalid-api-key",{appName:h.name}),Un(b,"invalid-api-key",{appName:h.name});const R=typeof window<"u"?Hs:void 0;this._delegate=v.initialize({options:{persistence:Tf(b,h.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$s.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,v){!function Ta(m,l,h){const v=pn(m);ae(v._canInitEmulator,v,"emulator-config-failed"),ae(/^https?:\/\//.test(l),v,"invalid-emulator-scheme");const b=!!h?.disableWarnings,R=Yn(l),{host:B,port:K}=function pl(m){const l=Yn(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(l.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(v);if(b){const R=b[1];return{host:R,port:Nu(v.substr(R.length+1))}}{const[R,B]=v.split(":");return{host:R,port:Nu(B)}}}(l);v.config.emulator={url:`${R}//${B}${null===K?"":`:${K}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:K,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function wh(){function m(){const l=document.createElement("p"),h=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,v)}applyActionCode(h){return function di(m,l){return jr.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return yl(this._delegate,h)}confirmPasswordReset(h,v){return function Ah(m,l,h){return Ni.apply(this,arguments)}(this._delegate,h,v)}createUserWithEmailAndPassword(h,v){var b=this;return(0,_.A)(function*(){return xr(b._delegate,function Yu(m,l,h){return jo.apply(this,arguments)}(b._delegate,h,v))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Xu(m,l){return ao.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function sf(m,l){const h=Ti.parseLink(l);return"EMAIL_SIGNIN"===h?.operation}(0,h)}getRedirectResult(){var h=this;return(0,_.A)(function*(){Un(yf(),h._delegate,"operation-not-supported-in-this-environment");const v=yield function is(m,l){return tr.apply(this,arguments)}(h._delegate,Hs);return v?xr(h._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Wh(m,l){pn(m)._logFramework(l)}(this._delegate,h)}onAuthStateChanged(h,v,b){const{next:R,error:B,complete:K}=ed(h,v,b);return this._delegate.onAuthStateChanged(R,B,K)}onIdTokenChanged(h,v,b){const{next:R,error:B,complete:K}=ed(h,v,b);return this._delegate.onIdTokenChanged(R,B,K)}sendSignInLinkToEmail(h,v){return function Ho(m,l,h){return oo.apply(this,arguments)}(this._delegate,h,v)}sendPasswordResetEmail(h,v){return function Ng(m,l,h){return Bo.apply(this,arguments)}(this._delegate,h,v||void 0)}setPersistence(h){var v=this;return(0,_.A)(function*(){let b;switch(function Ui(m,l){sa(Object.values(Or).includes(l),m,"invalid-persistence-type"),(0,O.lV)()?sa(l!==Or.SESSION,m,"unsupported-persistence-type"):(0,O.Ll)()?sa(l===Or.NONE,m,"unsupported-persistence-type"):su()?sa(l===Or.NONE||l===Or.LOCAL&&(0,O.zW)(),m,"unsupported-persistence-type"):sa(l===Or.NONE||Vg(),m,"unsupported-persistence-type")}(v._delegate,h),h){case Or.SESSION:b=Ms;break;case Or.LOCAL:b=(yield un(Cr)._isAvailable())?Cr:fo;break;case Or.NONE:b=or;break;default:return ge("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return xr(this._delegate,function Vo(m){return xn.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return xr(this._delegate,Ku(this._delegate,h))}signInWithCustomToken(h){return xr(this._delegate,function vl(m,l){return Mi.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,v){return xr(this._delegate,function El(m,l,h){return Ku((0,O.Ku)(m),io.credential(l,h))}(this._delegate,h,v))}signInWithEmailLink(h,v){return xr(this._delegate,function kn(m,l,h){return La.apply(this,arguments)}(this._delegate,h,v))}signInWithPhoneNumber(h,v){return Af(this._delegate,function Ps(m,l,h){return po.apply(this,arguments)}(this._delegate,h,v))}signInWithPopup(h){var v=this;return(0,_.A)(function*(){return Un(yf(),v._delegate,"operation-not-supported-in-this-environment"),xr(v._delegate,function vc(m,l,h){return Os.apply(this,arguments)}(v._delegate,h,Hs))})()}signInWithRedirect(h){var v=this;return(0,_.A)(function*(){return Un(yf(),v._delegate,"operation-not-supported-in-this-environment"),yield Nc(v._delegate),Hr(v._delegate,h,Hs)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function so(m,l){return zn.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=Or,m})();function ed(m,l,h){let v=m;"function"!=typeof m&&({next:v,error:l,complete:h}=m);const b=v;return{next:B=>b(B&&$s.getOrCreate(B)),error:l,complete:h}}function Tf(m,l){const h=function oa(m,l){const h=ou();if(!h)return[];const v=V(Cf,m,l);switch(h.getItem(v)){case Or.NONE:return[or];case Or.LOCAL:return[Cr,Ms];case Or.SESSION:return[Ms];default:return[]}}(m,l);if(typeof self<"u"&&!h.includes(Cr)&&h.push(Cr),typeof window<"u")for(const v of[fo,Ms])h.includes(v)||h.push(v);return h.includes(or)||h.push(or),h}class Gn{constructor(){this.providerId="phone",this._delegate=new Ht(Jl(Z.A.auth()))}static credential(l,h){return Ht.credential(l,h)}verifyPhoneNumber(l,h){return this._delegate.verifyPhoneNumber(l,h)}unwrap(){return this._delegate}}Gn.PHONE_SIGN_IN_METHOD=Ht.PHONE_SIGN_IN_METHOD,Gn.PROVIDER_ID=Ht.PROVIDER_ID;const uu=ae;class Gh{constructor(l,h,v=Z.A.app()){var b;uu(null===(b=v.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Ga(l,h,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _v(m){m.INTERNAL.registerComponent(new pe.uA("auth-compat",l=>{const h=l.getProvider("app-compat").getImmediate(),v=l.getProvider("auth");return new Oc(h,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:io,FacebookAuthProvider:ml,GithubAuthProvider:Si,GoogleAuthProvider:Zr,OAuthProvider:Br,SAMLAuthProvider:Bu,PhoneAuthProvider:Gn,PhoneMultiFactorGenerator:tu,RecaptchaVerifier:Gh,TwitterAuthProvider:Uo,Auth:Oc,AuthCredential:Is,Error:O.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.4.2")}(Z.A)},467:(Ze,ye,P)=>{function _(O,ee,re,fe,pe,Te,de){try{var L=O[Te](de),j=L.value}catch(Q){return void re(Q)}L.done?ee(j):Promise.resolve(j).then(fe,pe)}function Z(O){return function(){var ee=this,re=arguments;return new Promise(function(fe,pe){var Te=O.apply(ee,re);function de(j){_(Te,fe,pe,de,L,"next",j)}function L(j){_(Te,fe,pe,de,L,"throw",j)}de(void 0)})}}P.d(ye,{A:()=>Z})},1635:(Ze,ye,P)=>{function ee(se,le){var J={};for(var oe in se)Object.prototype.hasOwnProperty.call(se,oe)&&le.indexOf(oe)<0&&(J[oe]=se[oe]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Ee=0;for(oe=Object.getOwnPropertySymbols(se);Ee<oe.length;Ee++)le.indexOf(oe[Ee])<0&&Object.prototype.propertyIsEnumerable.call(se,oe[Ee])&&(J[oe[Ee]]=se[oe[Ee]])}return J}function Q(se,le,J,oe){return new(J||(J=Promise))(function(ue,Qe){function vt(qt){try{We(oe.next(qt))}catch(Ut){Qe(Ut)}}function zt(qt){try{We(oe.throw(qt))}catch(Ut){Qe(Ut)}}function We(qt){qt.done?ue(qt.value):function Ee(ue){return ue instanceof J?ue:new J(function(Qe){Qe(ue)})}(qt.value).then(vt,zt)}We((oe=oe.apply(se,le||[])).next())})}function ne(se){return this instanceof ne?(this.v=se,this):new ne(se)}function ge(se,le,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,oe=J.apply(se,le||[]),ue=[];return Ee=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),vt("next"),vt("throw"),vt("return",function Qe(dt){return function(an){return Promise.resolve(an).then(dt,Ut)}}),Ee[Symbol.asyncIterator]=function(){return this},Ee;function vt(dt,an){oe[dt]&&(Ee[dt]=function(wn){return new Promise(function(Mn,fn){ue.push([dt,wn,Mn,fn])>1||zt(dt,wn)})},an&&(Ee[dt]=an(Ee[dt])))}function zt(dt,an){try{!function We(dt){dt.value instanceof ne?Promise.resolve(dt.value.v).then(qt,Ut):ir(ue[0][2],dt)}(oe[dt](an))}catch(wn){ir(ue[0][3],wn)}}function qt(dt){zt("next",dt)}function Ut(dt){zt("throw",dt)}function ir(dt,an){dt(an),ue.shift(),ue.length&&zt(ue[0][0],ue[0][1])}}function ve(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,le=se[Symbol.asyncIterator];return le?le.call(se):(se=function Ae(se){var le="function"==typeof Symbol&&Symbol.iterator,J=le&&se[le],oe=0;if(J)return J.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&oe>=se.length&&(se=void 0),{value:se&&se[oe++],done:!se}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),J={},oe("next"),oe("throw"),oe("return"),J[Symbol.asyncIterator]=function(){return this},J);function oe(ue){J[ue]=se[ue]&&function(Qe){return new Promise(function(vt,zt){!function Ee(ue,Qe,vt,zt){Promise.resolve(zt).then(function(We){ue({value:We,done:vt})},Qe)}(vt,zt,(Qe=se[ue](Qe)).done,Qe.value)})}}}P.d(ye,{AQ:()=>ge,N3:()=>ne,Tt:()=>ee,sH:()=>Q,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError}},Ze=>{Ze(Ze.s=4419)}]);